[0mCHECKING: 3[0m
Name: 'George Bush speech',  VNum: [    3], RNum: [    0]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP 
wait 1 sec
switch %random.16%
  case 1
    wait 1
    say He pursued biological, chemical, and nucular weapons.
  break
  case 2
    wait 3 sec
    say Bring them on!
  break
  case 3
    wait 3
    say Of course I know Osama Bin Ladin attacked us. I know that!
  break
  case 4
    wait 3
    say Prescription drugs will be an ingrinable part of the Medicare plan.
  break
  case 5
    wait 3
    say Teach a child to read and he or her will be able to pass a literacy test.
  break
  case 6
    wait 3
    say Too many good docs are getting out of the business. Too many OB/GYN's aren't able to practice their love with women all across the country. 
  break
  case 7
    wait 3
    say Free societies are hopeful societies. And free societies will be allies against these hateful few who have no conscience, who kill at the whim of a hat.
  break
  case 8
    wait 3
    say Our enemies are innovative and resourceful, and so are we. They never stop thinking about new ways to harm our country and our people, and neither do we. 
  break
  case 9
    wait 3
    say The illiteracy level of our children are appalling.
  break
  case 10
    wait 3
    say See, free nations are peaceful nations. Free nations don't attack each other. Free nations don't develop weapons of mass destruction.
  break
  case 11
    wait 3
    say That's just the nature of democracy. Sometimes pure politics enters into the rhetoric.
  break
  case 12
    wait 3
    say I'm the master of low expectations.
  break
  case 13
    wait 3
    say We need an energy bill that encourages consumption.
  break
  case 14
    wait 3
    say They misunderestimated me.
  break
  case 15
    wait 3
    say They want the federal government controlling Social Security like it's some kind of federal program.
  break
  case 16
    wait 3
    say It's clearly a budget. It's got a lot of numbers in it.
  break
done

>[0;00m
[0mCHECKING: 4[0m

Name: 'John Kerry Speech',  VNum: [    4], RNum: [    1]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP 
wait 1 sec
switch %random.12%
  case 1
    wait 1
    say Being lectured by the president on fiscal responsibility is a little bit like Tony Soprano talking to me about law and order in this country. 
  break
  case 2
    wait 3 sec
    say I actually did vote for the 87 billion before I voted against it.
  break
  case 3
    wait 3
    say I have a plan!
  break
  case 4
    wait 3
    say There is not a right or wrong here. There was a correctness in the president's judgment about timing. But that does not mean there was an incorrectness in the judgment other people made about timing. 
  break
  case 5
    wait 3
    say This president always makes decisions late after things have happened that could have been different had the president made a different decision earlier.
  break
  case 6
    wait 3
    say I know something about aircraft carriers for real.
  break
  case 7
    wait 3
    say I remember Christmas of 1968 sitting on a gunboat in Cambodia. I remember what it was like to be shot at by Vietnamese and Khmer Rouge and Cambodians, and have the President of the United States telling the American people that I was not there; the troops were not in Cambodia. I have
that memory which is seared -- seared -- in me.
  break
  case 8
    wait 3
    say This isn't going to be some kind of, you know, we're-like-them-they're-like-us-wishy-washy-mealy-mouth-you-can't-tell-the-difference deal. This is going to be something where we're giving America a real choice. 
  break
  case 9
    wait 3
    say If you have a breach that, by everybody's standard, at least in the United States, those of us in the House and Senate, and the president, join together and make a judgment, this is indeed a material breach, and then others -- some of them can't we should be able to do what Adlai Stevenson did on behalf of the administration, Kennedy administration, and sit in front of the Security Council and say, 'Here is the evidence. It's time for all of you to put up. We need to all do this
together.' And that's what I think the resolution that was passed suggests.
  break
  case 10
    wait 3
    say The test I was talking about is a test of legitimacy -- not just in the globe, but elsewhere.
  break
  case 11
    wait 3
    say I don't own an SUV.  The family has it. I don't have it.
  break
  case 12
    wait 3
    say I'm the master of low expectations.
  break
done

>[0;00m
[0mCHECKING: 5[0m

Name: 'Darth Vader Speech',  VNum: [    5], RNum: [    2]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
wait 10 sec
switch %random.4%
  case 1
    wait 10 sec
    say Impressive.
  break
  case 2
    wait 20 sec
    say Most impressive.
  break
  case 3
    wait 20 sec
    say Your skills are no match for the power of the dark side!!
  break
  case 4
    wait 20 sec
    say Santa is a TRUE master of the force!
  break
done

>[0;00m
[0mCHECKING: 11[0m

Name: 'new trigger',  VNum: [   11], RNum: [    3]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
* No Script

>[0;00m
[0mCHECKING: 41[0m

Name: 'waving a claw',  VNum: [   41], RNum: [    4]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 4, Arg list: None
Commands:
%echo% %self.name.toupper% waves a claw at you.

>[0;00m
[0mCHECKING: 52[0m

Name: 'kenku mimic proc',  VNum: [   52], RNum: [    5]
Trigger Intended Assignment: Mobiles
Trigger Type: Speech , Numeric Arg: 1, Arg list: *
Commands:
if %actor.is_pc% 
  if (%self.master% == %actor%)
    %echo% The kenku mimics its summoner, squawking, '%speech%'
  end
end

>[0;00m
[0mCHECKING: 61[0m

Name: 'mob poison gas proc',  VNum: [   61], RNum: [    6]
Trigger Intended Assignment: Mobiles
Trigger Type: Fight , Numeric Arg: 100, Arg list: None
Commands:
if ! %poisoned%
  %echoaround% %actor% %self.name% envelops %actor.name% in a cloud of poisonous gas.
  %send% %actor% You are overcome by poisonous gas from the %self.name%.
  dg_affect %actor% poison on 8
  set poisoned 1
  global poisoned
end

>[0;00m
[0mCHECKING: 100[0m

Name: 'Obj Command 100 - portal to Midgaard',  VNum: [  100], RNum: [    7]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 7, Arg list: en
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
if %cmd.mudcommand% == enter && portal /= %arg%
  %send% %actor% You enter the portal.
  %echoaround% %actor% %actor.name% bravely enters the portal.
  %teleport% %actor% 3001
  %force% %actor% look
  %echoaround% %actor% %actor.name% just stepped through a portal.
else
  %send% %actor% %cmd% what?!
end

>[0;00m
[0mCHECKING: 101[0m

Name: 'Room Command - portal to Midgaard',  VNum: [  101], RNum: [    8]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: en
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
if %cmd.mudcommand% == enter && portal /= %arg%
  %send% %actor% You enter the portal.
  %echoaround% %actor% %actor.name% bravely enters the portal.
  %teleport% %actor% 3001
  %force% %actor% look
  %echoaround% %actor% %actor.name% just stepped through a portal.
else
  %send% %actor% enter what?!
end

>[0;00m
[0mCHECKING: 102[0m

Name: 'Mob Command - portal to Midgaard',  VNum: [  102], RNum: [    9]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: en
Commands:
if %cmd.mudcommand% == enter && portal /= %arg%
  %send% %actor% You enter the portal.
  %echoaround% %actor% %actor.name% bravely enters the portal.
  %teleport% %actor% 3001
  %force% %actor% look
  %echoaround% %actor% %actor.name% just stepped through a portal.
else
  %send% %actor% enter what?!
end

>[0;00m
[0mCHECKING: 103[0m

Name: 'Mob Greet Newbie Guide - 196',  VNum: [  103], RNum: [   10]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
By Austinpowers
if %actor.is_pc%
  if %actor.level% <= 3
    wait 1 sec
    bow
    wait 1 sec
say May I suggest you visit the newbie zones listed under Destinations by typing "look at destinations".
wait 3 sec
say Or by typing "look at instructions". This will help you greatly on your travels.
  end
  if %actor.level% >= 30
    wait 1 sec
    bow %actor.name%
  end
end

>[0;00m
[0mCHECKING: 104[0m

Name: 'dg_cast fireball',  VNum: [  104], RNum: [   11]
Trigger Intended Assignment: Mobiles
Trigger Type: Fight , Numeric Arg: 100, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
* Only cast the spell every 30 seconds.
if %already_cast%
  wait 30 s
  unset already_cast
else
  dg_cast 'fireball' %actor.name%
  set already_cast 1
  * By globalling the variable it can be accessed by other triggers or when
  * this trigger fires a second time.
  global already_cast
end

>[0;00m
[0mCHECKING: 105[0m

Name: 'Mob Greet Hannibal - 140',  VNum: [  105], RNum: [   12]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
* Shopkeeper greets players based on male/female/neutral.
if %actor.is_pc%
  wait 1 sec
  if %actor.sex% == male
    say Good day sir, what would you like? 
  elseif %actor.sex% == female
    wait 1 sec
    say Good day maam, what can I get you?
  else
    say What do you want?
  end
end

>[0;00m
[0mCHECKING: 106[0m

Name: 'Mob Greet Carpenter - 197',  VNum: [  106], RNum: [   13]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  wait 1 sec
  if %actor.sex% == male
    say Can't you see the place is under repairs?
    wait 1 sec
    say Don't worry, the inn will be open again soon.
  elseif %actor.sex% == female
    wait 1 sec
    say Come to work, have you?
    wait 1 sec
    wink %actor.name%
  else
    frown %actor.name%
  end
end

>[0;00m
[0mCHECKING: 107[0m

Name: 'Mob Greet Shiro - 103',  VNum: [  107], RNum: [   14]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  wait 1 sec
  say I sell the finest weapons in all the realm. See for yourself.
end

>[0;00m
[0mCHECKING: 108[0m

Name: 'Mob Greet Rhian - 104',  VNum: [  108], RNum: [   15]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  wait 3 sec
  if %actor.sex% == male
    smile %actor.name%
  elseif %actor.sex% == female
    wait 1 sec
    frown %actor.name%
  else
    say I hate your kind.
  end
end

>[0;00m
[0mCHECKING: 109[0m

Name: 'Mob Greet Sarge - 109',  VNum: [  109], RNum: [   16]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  look %actor.name%
  wait 1 sec
  if %actor.sex% == male
    say See anything you like?
  elseif %actor.sex% == female
    wait 1
    gaze %actor.name%
    wait 1
    say What can I get you pretty lady?
  else
    say What do you want?
  end
end

>[0;00m
[0mCHECKING: 110[0m

Name: 'Mob Greet Logan - 110',  VNum: [  110], RNum: [   17]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  wait 1 sec
  grin %actor.name%
  wait 1 sec
  if %actor.sex% == male
    say Look at this fine vest.
    wait 1 sec
    emote holds up a gaudy red vest.
    wait 1 sec
    say this would wear well on you.
  elseif %actor.sex% == female
    say for you my young lady, I have a fine silk shirt.
  else
    say What do you want?
  end
end

>[0;00m
[0mCHECKING: 111[0m

Name: 'Mob Greet Branwen - 111',  VNum: [  111], RNum: [   18]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  wait 1 sec
  if %actor.sex% == male
    say if it's made from leather, I have it.
  elseif %actor.sex% == female
    wait 1 sec
    say the finest leather in the realms is what I sell.
  else
    say What do you want?
  end
end

>[0;00m
[0mCHECKING: 112[0m

Name: 'Mob Greet Morgan - 184',  VNum: [  112], RNum: [   19]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 33, Arg list: None
Commands:
if %actor.is_pc%
  wait 1 sec
  sigh
  wait 1 sec
  if %actor.sex% == male
    say need a drink. I sure do
    wait 1 sec
    emote downs a shot of whisky.
  elseif %actor.sex% == female
    wait 1 sec
    say can I get you a drink.
    wait 1 sec
    ogle %actor.name%
  else
    say What do you want?
  end
end

>[0;00m
[0mCHECKING: 113[0m

Name: 'Mob Greet Ingrid - 182',  VNum: [  113], RNum: [   20]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  wait 1 sec
  cackle %actor.name%
  wait 1 sec
  if %actor.sex% == male
    say ahhh, doesn't that smell good.
  elseif %actor.sex% == female
    wait 1 sec
    say what can I get you, my pretty.
  else
    say what would you like?
  end
end

>[0;00m
[0mCHECKING: 114[0m

Name: 'Mob Greet Corwin - 110',  VNum: [  114], RNum: [   21]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  wait 1 sec
  emote frowns at a large stack of mail.
end

>[0;00m
[0mCHECKING: 115[0m

Name: 'Mob Greet Banker - 119',  VNum: [  115], RNum: [   22]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  wait 1 sec
  emote puts all his money in the safe when he notices you eyeing it.
end

>[0;00m
[0mCHECKING: 116[0m

Name: 'Mob Greet Hazel - 109',  VNum: [  116], RNum: [   23]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  wait 1 sec
  chuckle
  wait 1 sec
  if %actor.sex% == male
    say thirsty?
  elseif %actor.sex% == female
    wait 1 sec
    say I sell pure water, no worry about contaminants from me.
  else
    say need some water?
  end
end

>[0;00m
[0mCHECKING: 117[0m

Name: 'Mob Greet Carla - 158',  VNum: [  117], RNum: [   24]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  wait 1 sec
  emote steps away from her sewing machine.
  wait 1 sec
  if %actor.sex% == male
    say anything I can help you with sir?
  elseif %actor.sex% == female
    wait 1 sec
    say I could make something nice for a woman like you.
  else
    say need some clothes?
  end
end

>[0;00m
[0mCHECKING: 118[0m

Name: 'Mob Greet Ian - 101',  VNum: [  118], RNum: [   25]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  wait 1 sec
  if %actor.sex% == male
    say I make furs for the common man, because that is what I am.
  elseif %actor.sex% == female
    wait 1 sec
    say a fine fur coat would suit you well.
  else
    say need some fur?
  end
end

>[0;00m
[0mCHECKING: 119[0m

Name: 'Mob Greet Liam - 119',  VNum: [  119], RNum: [   26]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  wait 1 sec
  if %actor.sex% == male
    say Take your time, i've got all day.
  elseif %actor.sex% == female
    wait 1 sec
    say you aren't really an adventurer are you?
    wait 1 sec
    say who woulda thought a woman adventuring.
  else
    say need some supplies?
  end
end

>[0;00m
[0mCHECKING: 120[0m

Name: 'Mob Greet Baker - 187',  VNum: [  120], RNum: [   27]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  wait 1 sec
  say best bread in town.
  wait 1 sec      
  if %actor.sex% == male
    emote slams some dough down onto the counter.
  elseif %actor.sex% == female
    wait 1 sec
    say I'm hiring if you can cook.
  else
    say need some food?
  end
end

>[0;00m
[0mCHECKING: 121[0m

Name: 'Mob Greet Butcher - 199',  VNum: [  121], RNum: [   28]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  wait 1 sec
  grin
  wait 1 sec
  say I can butcher anything.
  wait 1 sec
  if %actor.sex% == male
    emote splatters some blood on you as he hacks at some meat.
  elseif %actor.sex% == female
    wait 1 sec
    say sorry about the mess mam.
  else
    emote rubs his bloody hands on his apron.
  end
end

>[0;00m
[0mCHECKING: 122[0m

Name: 'Mob Greet Rowan - 111',  VNum: [  122], RNum: [   29]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  wait 1 sec
  smile
  wait 1 sec
  say see anything you would like.
  wait 1 sec
  if %actor.sex% == male
    emote watches you carefully.
  elseif %actor.sex% == female
    wait 1 sec
    say isn't this diamond beautiful.
  else
    emote points you to the display cases.
  end
end

>[0;00m
[0mCHECKING: 123[0m

Name: 'Mob Greet Fiona - 124',  VNum: [  123], RNum: [   30]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  wait 1 sec
  glare
  wait 1 sec
  if %actor.sex% == male
    say much better food here than the baker or butcher sells.
    wait 1 sec
    whisper %actor.name% I hear the butcher's meat is tainted.
  elseif %actor.sex% == female
    wait 1 sec
    say hungry?
  else
    say hungry?
  end
end

>[0;00m
[0mCHECKING: 124[0m

Name: 'Mob Greet Lugdach - 106',  VNum: [  124], RNum: [   31]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  wait 1 sec
  if %actor.sex% == male
    say Aye! What can I getcha!
  elseif %actor.sex% == female
    wait 1 sec
    say What's a fine lass like you doing here?
  else
    emote need a boat?
  end
end

>[0;00m
[0mCHECKING: 125[0m

Name: 'Mob Greet Healer - 186',  VNum: [  125], RNum: [   32]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  wait 1 sec
  smile %actor.name%
  wait 1 sec
  if %actor.sex% == male
    say What aid do you need?
  elseif %actor.sex% == female
    wait 1 sec
    say Can I help you miss?
  else
    say What do you want?
  end
end

>[0;00m
[0mCHECKING: 126[0m

Name: 'Mob Greet Sareth - 185',  VNum: [  126], RNum: [   33]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  wait 1 sec
  bow
  wait 1 sec
  if %actor.sex% == male
    say Are you in need of a scroll?
  elseif %actor.sex% == female
    wait 1 sec
    say I have many types of scrolls
  else
    say What do you want?
  end
end

>[0;00m
[0mCHECKING: 127[0m

Name: 'Mob Act - 156 speaker greet',  VNum: [  127], RNum: [   34]
Trigger Intended Assignment: Mobiles
Trigger Type: Act , Numeric Arg: 0, Arg list: has entered the game.
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
* Num Arg 0 means the argument has to match exactly. So trig will only fire off:
* "has entered game." and not "has" or "entered" etc. (that would be num arg 1).
* Figure out what vnum the mob is in so we can use zoneecho.
*NOTE: We now have a room-login trig. HELP TRIGEDIT-ROOM-LOGIN
eval inroom %self.room%
%zoneecho% %inroom.vnum% %self.name% shouts, 'Welcome, %actor.name%!'

>[0;00m
[0mCHECKING: 128[0m

Name: 'Mob Act - 156 speaker goodbye',  VNum: [  128], RNum: [   35]
Trigger Intended Assignment: Mobiles
Trigger Type: Act , Numeric Arg: 0, Arg list: has left the game.
Commands:
eval inroom %self.room%
%zoneecho% %inroom.vnum% %self.name% shouts, 'Farewell, %actor.name%!'

>[0;00m
[0mCHECKING: 129[0m

Name: 'Mob Greet Beggar - 165',  VNum: [  129], RNum: [   36]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
if %actor.is_pc%
  wait 1 sec
  say Money for the poor?
end

>[0;00m
[0mCHECKING: 130[0m

Name: 'Mob Bribe Beggar - 165',  VNum: [  130], RNum: [   37]
Trigger Intended Assignment: Mobiles
Trigger Type: Bribe , Numeric Arg: 1, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
wait 1 sec
if %actor.sex% == MALE
  say Thank you, kind sir.
elseif %actor.sex% == FEMALE
  say Thank you, ma'am.
else
  emote looks you over trying to determine your sex.
  say Thank you.....
end

>[0;00m
[0mCHECKING: 131[0m

Name: 'Room Command 365 - Jump',  VNum: [  131], RNum: [   38]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: jump
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
wait 1 sec
%send% %actor% You jump from the window ledge to certain death.
%echoaround% %actor% %actor.name% decides to test fate and takes a dive out the window.
%teleport% %actor% 292
wait 1 sec
%echoaround% %actor% %actor.name% falls from above screaming %actor.hisher% lungs out. %actor.heshe% hits the ground with a loud thump.
%force% %actor% look
%send% %actor% You strike the ground hard but somehow manage to survive the impact.
* Damage the player all of their hitpoints. They will recover.
set stunned %actor.hitp%
%damage% %actor% %stunned%

>[0;00m
[0mCHECKING: 132[0m

Name: 'dg_cast by level',  VNum: [  132], RNum: [   39]
Trigger Intended Assignment: Mobiles
Trigger Type: Fight , Numeric Arg: 10, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
switch %actor.level%
  case 1
    case 2
    case 3
    dg_cast 'magic missile' %actor%
  break
  case 5
    dg_cast 'chill touch' %actor%
  break
  case 6
    dg_cast 'burning hands' %actor%
  break
  case 7
    dg_cast 'shocking grasp' %actor%
  break
  case 8
  case 9
    dg_cast 'lightning bolt' %actor%
  break
  case 10
    dg_cast 'blindness' %actor%
  break
  case 11
    dg_cast 'color spray' %actor%
  break
  case 12
    dg_cast 'lightning bolt' %actor%
  break
  case 13
    dg_cast 'energy drain' %actor%
  break
  case 14
    dg_cast 'curse' %actor%
  break
  case 15
    dg_cast 'poison' %actor%
  break
  case 16
    if %actor.align% > 0
      dg_cast 'dispel good' %actor%
    else
      dg_cast 'dispel evil' %actor%
    end
  break
  case 17
    dg_cast 'call lightning' %actor%
  break
  case 18
    case 19
    dg_cast 'harm' %actor%
  break
  * Level 20 and above gets fireball!
  default
    dg_cast 'fireball' %actor%
  break
done

>[0;00m
[0mCHECKING: 133[0m

Name: 'Warrior Guildguard - 127',  VNum: [  133], RNum: [   40]
Trigger Intended Assignment: Mobiles
Trigger Type: Leave , Numeric Arg: 100, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
* Replaces the guildguard special procedure.
* Check the direction the player must go to enter the guild.
if %direction% == up
  * Stop them if they are not the appropriate class.
  if %actor.class% != warrior
    return 0
    %send% %actor% The guard humiliates you, and blocks your way.
    %echoaround% %actor% The guard humiliates %actor.name%, and blocks %actor.hisher% way.
  end
end

>[0;00m
[0mCHECKING: 134[0m

Name: 'Mage Guildguard - 173',  VNum: [  134], RNum: [   41]
Trigger Intended Assignment: Mobiles
Trigger Type: Leave , Numeric Arg: 100, Arg list: None
Commands:
* Check the direction the player must go to enter the guild.
if %direction% == up
  * Stop them if they are not the appropriate class.
  if %actor.class% != magic user
    return 0
    %send% %actor% The guard humiliates you, and blocks your way.
    %echoaround% %actor% The guard humiliates %actor.name%, and blocks %actor.hisher% way.
  end
end

>[0;00m
[0mCHECKING: 135[0m

Name: 'Cleric Guildguard - 174',  VNum: [  135], RNum: [   42]
Trigger Intended Assignment: Mobiles
Trigger Type: Leave , Numeric Arg: 100, Arg list: None
Commands:
* Check the direction the player must go to enter the guild.
if %direction% == up
  * Stop them if they are not the appropriate class.
  if %actor.class% != cleric
    return 0
    %send% %actor% The guard humiliates you, and blocks your way.
    %echoaround% %actor% The guard humiliates %actor.name%, and blocks %actor.hisher% way.
  end
end

>[0;00m
[0mCHECKING: 136[0m

Name: 'Thief Guildguard - 177',  VNum: [  136], RNum: [   43]
Trigger Intended Assignment: Mobiles
Trigger Type: Leave , Numeric Arg: 100, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
* This replaces stock guildguard spcial procedure that stops non-class members.
if %direction% == up
  * Let the guildmaster pass to pawn players items. T137.
  if %actor.vnum% == 122
    halt
  end
  * Stop them if they are not the appropriate class.
  if %actor.class% != thief
    return 0
    * Just send the block message to players.
    if %actor.is_pc%
      %send% %actor% The guard humiliates you, and blocks your way.
      %echoaround% %actor% The guard humiliates %actor.name%, and blocks %actor.hisher% way.
    end
  end
end

>[0;00m
[0mCHECKING: 137[0m

Name: 'Thief Guildmaster Steals - M122',  VNum: [  137], RNum: [   44]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 5, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
* Idea taken from cheesymud.com
* Thief guildmaster steals from players who idle in his guild. Then pawns the
* item in the shop downstairs so player has to buy their equipment back :-P
* Random trigs have no actors so pick one and make sure it is a player.
set actor %random.char%
if %actor.is_pc%
  * Pick the first item in the actors inventory.
  eval item %actor.inventory%
  * I'll be nice and not steal containers or mail.
  if %item.type% == CONTAINER || %item.vnum% <= 1
    halt
  end
  * If they have an item let the master thief steal it.
  eval item_to_steal %%actor.inventory(%item.vnum%)%%
  if %item_to_steal%
    * Give some hints that the guildmaster is not to be trusted.
    %echo% %self.name% examines %item.shortdesc%.
    wait 2 sec
    * Purge the actors object and load it to the master thief.
    eval stolen %item_to_steal.vnum%
    eval name %item_to_steal.name%
    %load% obj %stolen%
    %purge% %item_to_steal% 
    wait 2 sec
    * Lets go sell it to Morgan using its first keyword.
    down
    sell %name.car%
    wait 2 sec
    wink Morgan
    wait 2 sec
    up
  else
    emote grumbles unhappily.
  end
end

>[0;00m
[0mCHECKING: 138[0m

Name: 'Questmaster Greet - 3',  VNum: [  138], RNum: [   45]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
* By Rumble of The Builder Academy    builderacademy.net 9091 
* Part of a timed quest to kill a mob or find an object. Trigs 138-144. 
* A simple automated quest so only let players earn up to 50 questpoints.
if %actor.is_pc% && %actor.questpoints% < 50 
  wait 2 sec 
  * Check to see if they are not on a zone 1 quest. 
  if !%actor.varexists(on_quest_zone_1)% 
    say Welcome %actor.name%, are you interested in a simple quest? 
  else 
    *get the values from the player variable 
    extract day 1 %actor.on_quest_zone_1% 
    extract hour 2 %actor.on_quest_zone_1% 
    * Set  this value to the number of mud hours in a mud day 
    set HOURS_IN_DAY 24 
    * Compare the values to the current time 
    * (Your hours per day and days per year vary on each mud.) 
    * (You may also want to check for 'time.year') 
    eval current_ticks (%time.day%/%HOURS_IN_DAY%)+%time.hour% 
    eval start_ticks (%day%/%HOURS_IN_DAY%)+%hour% 
    *find out the time difference in ticks 
    eval ticks_passed %current_ticks%-%start_ticks% 
    *check if 10 ticks (~10 mins) have passed 
    if %ticks_passed% > 10 
      rdelete on_quest_zone_1 %actor.id% 
      say Welcome %actor.name%, are you interested in a simple quest? 
    else 
      say How is your quest going %actor.name%, do you have a quest token or the quest mobs head for me? 
    end 
  end 
end

>[0;00m
[0mCHECKING: 139[0m

Name: 'Questmaster Quest Assignment - 3',  VNum: [  139], RNum: [   46]
Trigger Intended Assignment: Mobiles
Trigger Type: Speech , Numeric Arg: 1, Arg list: *
Commands:
* By Rumble of The Builder Academy    builderacademy.net 9091 
* Part of a timed quest to kill a mob or find an object. Trigs 138-144. 
if %actor.varexists(on_quest_zone_1)% 
  *get the values from the player variable 
  extract day 1 %actor.on_quest_zone_1% 
  extract hour 2 %actor.on_quest_zone_1% 
  * Set  this value to the number of mud hours in a mud day 
  set HOURS_IN_DAY 24 
  * Compare the values to the current time 
  * (Your hours per day and days per year vary on each mud.) 
  * (You may also want to check for 'time.year') 
  eval current_ticks (%time.day%/%HOURS_IN_DAY%)+%time.hour% 
  eval start_ticks (%day%/%HOURS_IN_DAY%)+%hour% 
  *find out the time difference in ticks 
  eval ticks_passed %current_ticks%-%start_ticks% 
  *check if 10 ticks (~10 mins) have passed 
  if %ticks_passed% > 10 
    rdelete on_quest_zone_1 %actor.id% 
  else 
    halt 
  end 
end 
if %actor.questpoints% > 50 
  halt 
end 
* This loop goes through the entire string of words the actor says. .car is the
* word and .cdr is the remaining string. 
eval word %speech.car% 
eval rest %speech.cdr% 
while %word% 
  * Check to see if the word is yes or an abbreviation of yes. 
  if yes /= %word% 
    say Very well %actor.name%. Would you like to find an object or hunt a mobile? 
    halt 
  end 
  * Pick a room from 100 to 365. 
  eval loadroom 99 + %random.265%  
  if mobile /= %word% || hunt /= %word% 
    * Load the mob in the random room picked above. 
    %at% %loadroom% %load% m 15 
    say Go kill the quest mob and bring me its head %actor.name%. You only have 10 minutes! 
    * Load an object on the player that counts down from 10 minutes. 
    %load% obj 16 %actor% inv 
    %send% %actor% %self.name% gives you the quest timer. 
    %echoaround% %actor% %self.name% gives %actor.name% the quest timer. 
    set on_quest_zone_1 %time.day% %time.hour% 
    remote on_quest_zone_1 %actor.id% 
    halt 
  elseif object /= %word% || find /= %word% 
    say Go find the quest token and return it to me. You only have 10 minutes %actor.name%! 
    %load% o 15 
    %at% %loadroom% drop quest_token_zone_1 
    %load% obj 16 %actor% inv 
    %send% %actor% %self.name% gives you the quest timer. 
    %echoaround% %actor% %self.name% gives %actor.name% the quest timer. 
    set on_quest_zone_1 %time.day% %time.hour% 
    remote on_quest_zone_1 %actor.id% 
    halt 
  end 
  * End of the loop we need to take the next word in the string and save the 
  * remainder for the next pass. 
  eval word %rest.car% 
  eval rest %rest.cdr% 
done

>[0;00m
[0mCHECKING: 140[0m

Name: 'Quest Timer - 16',  VNum: [  140], RNum: [   47]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 7, Arg list: l
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
* Part of a timed quest to kill a mob or find an object. Trigs 138-144.
* Let a player see how much time they have left.
if %cmd.mudcommand% == look && timer /= %arg%
  %send% %actor% You have %self.timer% minutes remaining.
  * Let the look timer command still go through so they look at it.
  return 0
else
  return 0
end

>[0;00m
[0mCHECKING: 141[0m

Name: 'Quest 10 min Purge - 15, 16, 17',  VNum: [  141], RNum: [   48]
Trigger Intended Assignment: Objects
Trigger Type: Timer , Numeric Arg: 100, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
* Part of a timed quest to kill a mob or find an object. Trigs 138-144.
* Attached to quest objects 15-17. Purges itself 10 minutes after loading if 
* player does not finish the quest.
* Make sure timer is being carried by a player.
if %self.carried_by%
  set actor %self.carried_by%
  if %actor.is_pc%
    %send% %actor% Your quest time has run out. Try again.
    * Delete the on quest variable so they can try again.
    rdelete on_quest_zone_1 %actor.id%   
  end
end
* Purge the timer.
%purge% %self%

>[0;00m
[0mCHECKING: 142[0m

Name: 'Quest Timer Random - 16',  VNum: [  142], RNum: [   49]
Trigger Intended Assignment: Objects
Trigger Type: Random , Numeric Arg: 10, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
* Part of a timed quest to kill a mob or find an object. Trigs 138-144.
* If timer is being carried by a player, warn them every 2 minutes.
if %self.carried_by%
  set actor %self.carried_by%
  if %actor.is_pc%
    %send% %actor% You have %self.timer% minutes remaining.
  end
end

>[0;00m
[0mCHECKING: 143[0m

Name: 'Questmaster Receive - 3',  VNum: [  143], RNum: [   50]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
* Part of a timed quest to kill a mob or find an object. Trigs 138-144.
* Check if they are on the quest.
if !%actor.varexists(on_quest_zone_1)%
  say You are not even on a quest %actor.name%.
  * Stop the trig and prevent the item from being given to the mob.
  halt
end
*
wait 1 sec
* If they had the head or the token.
if %object.vnum% == 15 || %object.vnum% == 17
  rdelete on_quest_zone_1 %actor.id%   
  say Well done, %actor.name%.
  * Give them 50 gold and experience. Delete the on quest variable and purge.
  nop %actor.exp(50)%
  nop %actor.gold(50)%
  %purge% %object%
  * Reward them with 1 questpoint. Cheap I know but these quests are not hard.
  nop %actor.questpoints(1)%
  say you have earned 50 gold, 50 xp, 1 questpoint %actor.name%.
else
  say I don't want that!
  * Don't accept the object to prevent overloading the mob with junk.
  return 0.
end

>[0;00m
[0mCHECKING: 144[0m

Name: 'Quest Mob Loads Head - 15',  VNum: [  144], RNum: [   51]
Trigger Intended Assignment: Mobiles
Trigger Type: Load , Numeric Arg: 100, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
* Part of a timed quest to kill a mob or find an object. Trigs 138-144.
* This is a load instead of a death trig because I want the head to purge 10 
* minutes after loading.
%load% obj 17

>[0;00m
[0mCHECKING: 145[0m

Name: 'Dove - 193',  VNum: [  145], RNum: [   52]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 5, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
* Allows you to create multiple random actions.
* Numeric Arg of 5 fires about every 4 minutes. HELP RANDOM-TIMING
* %random.#% must match the highest txt# below.
eval number %random.5%
set txt1 pecks at your feet.
set txt2 coo's lightly.
set txt3 bobs its head as if to the beat of a drum.
set txt4 takes flight and lands a few feet away.
set txt5 deposits a liquidy black and white substance on your foot.
* set txt# .... add more here.
eval string %%txt%number%%%
emote %string%

>[0;00m
[0mCHECKING: 146[0m

Name: 'Apprentice healer - 201',  VNum: [  146], RNum: [   53]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 20, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
* This is required because a random trig does not have an actor.
set actor %random.char%
* only continue if an actor is defined.
if %actor%
  * If they have lost more than half their hitpoints heal them.
  if %actor.hitp% < %actor.maxhitp% / 2 
    wait 1 sec
    tell %actor.name% You are injured, let me help.
    wait 2 sec
    %echoaround% %actor% %self.name% lays %self.hisher% hands on %actor.name%'s wounds and bows %actor.hisher% head in concentration.
    %send% %actor% %self.name% lays %self.hisher% hands on your wounds and bows %actor.hisher% head in concentration.
    dg_cast 'heal' %actor%
  end
end

>[0;00m
[0mCHECKING: 147[0m

Name: 'Black Magi Spell - 144',  VNum: [  147], RNum: [   54]
Trigger Intended Assignment: Mobiles
Trigger Type: Fight , Numeric Arg: 10, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
if %actor.level% > 10
  say you are a fool %actor.name%.
  dg_cast 'color spray' %actor%
end

>[0;00m
[0mCHECKING: 148[0m

Name: 'Mouse Emote - 194',  VNum: [  148], RNum: [   55]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 5, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
eval number %random.4%
set txt1 scurries away quickly.
set txt2 stands up on its hind legs and sniffs the air.
set txt3 chews on some trash.
set txt4 squeaks and shakes some water and rain out of its fur.
eval string %%txt%number%%%
emote %string%

>[0;00m
[0mCHECKING: 149[0m

Name: 'Cat Emote - 139',  VNum: [  149], RNum: [   56]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 10, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
eval number %random.4%
set txt1 hisses at you.
set txt2 purrs happily as it brushes up against your leg.
set txt3 plays with something it has already killed.
set txt4 swishes its tail back and forth as it eyes some prey.
eval string %%txt%number%%%
emote %string%

>[0;00m
[0mCHECKING: 150[0m

Name: 'Dog Emote - 192',  VNum: [  150], RNum: [   57]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 10, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
eval number %random.4%
set txt1 sniffs at you friendlily.
set txt2 whimpers for some attention.
set txt3 growls menacingly at your feet.
set txt4 watches your every movement suspiciously.
eval string %%txt%number%%%
emote %string%

>[0;00m
[0mCHECKING: 151[0m

Name: 'Townsman Emote - 170',  VNum: [  151], RNum: [   58]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 10, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
eval number %random.4%
set txt1 mumbles something about the weather.
set txt2 looks up at the sky warily.
set txt3 seems to have forgotten where he was headed.
set txt4 acknowledges you with a nod as he passes.
eval string %%txt%number%%%
emote %string%

>[0;00m
[0mCHECKING: 152[0m

Name: 'Angel Receives Treats - 207',  VNum: [  152], RNum: [   59]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091 
* A simple receive trig if you give the dog food she will eat it. If you give 
* her dog treats she will follow you. Everything else she drops. 
if %object.type% == FOOD 
  wait 1 sec 
  emote swallows %object.shortdesc% without even chewing. 
  wait 1 sec 
  emote looks up at %actor.name%, hoping for some more. 
  if %object.vnum% == 164 
    wait 1 sec 
    mfollow %actor%  
  end 
  if %object.vnum% == 172
    halt
  end
  %purge% %object% 
else 
  wait 1 s 
  drop %object.name.car% 
end 

>[0;00m
[0mCHECKING: 153[0m

Name: 'Angel Follows Masters Commands - 207',  VNum: [  153], RNum: [   60]
Trigger Intended Assignment: Mobiles
Trigger Type: Speech , Numeric Arg: 1, Arg list: *
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
if %self.master% == %actor%
  wait 1 sec
  switch %speech.car%
    case sit
      sit
      wait 3 sec
      stand
    break
    case speak
      emote barks sharply.
    break
    case down
      sit
      emote lies down.  
      wait 3 sec
      stand
    break
    case shake
      emote puts a paw up to be shook.
    break
    case kill
      if %speech.cdr.id% && %self.room% == %speech.cdr.room%
        emote growls at %speech.cdr.name% menacingly.
        mkill %speech.cdr%
      else
        emote looks around for someone to attack.  
      end
    break
    case rollover
      emote drops to the ground and rolls over a few times.
    break
    case walk
      emote stands up on her hind legs and staggers around in circles
    break
    case crawl
      emote drops down to the ground and crawls towards %actor.name%.
    break
    case jump
      emote jumps up into the air.
    break
    case chase
      if %speech.cdr% == your tail
        emote looks back at %self.hisher% tail angrily and attacks it, running in tight little circles.
      end
    break
    case highfive
      emote jumps up and gives %actor.name% a highfive.
    break
    default
      * nothing is going to happen
    break
  done
end

>[0;00m
[0mCHECKING: 154[0m

Name: 'rubber chicken squeeze - 172',  VNum: [  154], RNum: [   61]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: sq
Commands:
if squeeze /= %cmd% && chicken /= %arg%
  %send% %actor% You squeeze on the chicken and it squeaks annoying, how fun!
  %echoaround% %actor% %actor.name% squeezes the life out of %actor.hisher% rubber chicken making a racket with its squeaking.
  %asound% A loud and annoying squeaking sound can be heard close by.
else
  %send% %actor% What would you like to squeeze?
  return 0
end

>[0;00m
[0mCHECKING: 155[0m

Name: 'Check for treats - 207',  VNum: [  155], RNum: [   62]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
* My dog is looking if people have some beggin strips.
if %actor.has_item(164)%
  wait 1 sec
  %send% %actor% %self.name% sits down and stands up on %self.hisher% hind legs, then starts whining pitifully staring at you.
  %echoaround% %actor% %self.name% sits down and stands up on %self.hisher% hind legs, then starts whining pitifully staring at %actor.name%.
  * Or if they have her rubber chicken.
elseif %actor.has_item(172)%
  wait 1 sec
  emote sniffs %actor.name%.
  wait 1 sec
  growl %actor.name%
  %send% %actor% %self.name% tries to get at something you are carrying.
  %echoaround% %actor% %self.name% tries to get at something %actor.name% is carrying.
end

>[0;00m
[0mCHECKING: 156[0m

Name: 'Angel plays with chicken - 207',  VNum: [  156], RNum: [   63]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
if %self.has_item(172)%
  growl chicken
  squeeze chicken
end

>[0;00m
[0mCHECKING: 157[0m

Name: '10 sided die roll - 173',  VNum: [  157], RNum: [   64]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 7, Arg list: roll
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
if dice /= %arg% || die /= %arg%
  %send% %actor% You throw the ten sided die on the ground.
  %echoaround% %actor% %actor.name% throws %actor.hisher% ten sided die on the ground.
  set total %random.10%
  %echo% The die came up as [%total%].
else
  return 0
end

>[0;00m
[0mCHECKING: 158[0m

Name: 'Bell Toll - 101',  VNum: [  158], RNum: [   65]
Trigger Intended Assignment: Rooms
Trigger Type: Command UNDEFINED , Numeric Arg: 100, Arg list: pull
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
if rope /= %arg%
  %echoaround% %actor% %actor.name% struggles as %actor.heshe% pulls on the rope.
  %send% %actor% You pull the rope putting all your weight into it. It slowly gives.
  %zoneecho% %self.vnum% The bell tolls.
else
  %echo% I don't see what you want to "pull". The rope perhaps?
end

>[0;00m
[0mCHECKING: 159[0m

Name: 'Cancer Stick Smoking - 176',  VNum: [  159], RNum: [   66]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: light
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
* put your objects alias here, /= will match abbreviations of it.
if cigarette /= %arg% || cancer /= %arg% || stick /= %arg%
  %send% %actor% You light up %self.shortdesc%.
  %echoaround% %actor% %actor.name% lights up a %self.shortdesc%.
  * use as many puffs and as much time between puffs as you want.
  while %puffs% < 4
    wait 10 sec
    %send% %actor% You take a puff off of %self.shortdesc%.
    %echoaround% %actor% %actor.name% takes a puff of smoke off of %actor.hisher% %self.shortdesc%.
    eval puffs %puffs% + 1
  done
  %send% %actor% You take a final puff and put the %self.shortdesc% out.
  %echoaround% %actor% %actor.name% takes a final puff and puts %actor.hisher% %self.shortdesc% out.
  %purge% %self%
else
  %send% %actor% What would you like to %cmd%?
end

>[0;00m
[0mCHECKING: 160[0m

Name: 'Puppy plays - 191',  VNum: [  160], RNum: [   67]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
if %actor.vnum% == 207
  wait 1 sec 
  emote growls playfully at %actor.name%, crouching down into a mock attack position.
elseif %actor.is_pc%
  wait 1 sec
  if %actor.dex% < 8
    %send% %actor% %self.name% runs under your feet causing you to fall flat on your face.
    %echoaround% %actor% %self.name% runs under %actor.name%'s feet and trips %actor.himher%.
  elseif %actor.cha% < 8
    %send% %actor% %self.name% sniffs your leg and begins to urinate on you.
    %echoaround% %actor% %self.name% sniffs %actor.name%'s leg and proceeds to urinate on %actor.himher%.
  end
end

>[0;00m
[0mCHECKING: 161[0m

Name: 'Annoying Kid - 117',  VNum: [  161], RNum: [   68]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 5, Arg list: None
Commands:
eval max %random.4%
set  txt[1] I know you are, but what am I?
set  txt[2] Does your parents know you are out in public?
set  txt[3] And I thought I knew ugly.
set  txt[4] I'm going to tell my father on you.
set  speech %%txt[%max%]%%
eval speech %speech%
say %speech%

>[0;00m
[0mCHECKING: 162[0m

Name: 'Picking Mushrooms',  VNum: [  162], RNum: [   69]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: pi
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
* Make sure the command matches MUD command pick, check for any abbrev of mushrooms.
if %cmd.mudcommand% == pick && mushrooms /= %arg%
  %load% obj 1300 %actor% inv
  %send% %actor% You pick a mushroom off the floor.
  %echoaround% %actor% %actor.name% Picks a mushroom off the floor.
else
  * return 0, otherwise players would not be able to pick locks in the same room.
  return 0
  %send% %actor% Pick What?
end

>[0;00m
[0mCHECKING: 163[0m

Name: 'Room Heals - 101',  VNum: [  163], RNum: [   70]
Trigger Intended Assignment: Rooms
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
* This is required because a random trig does not have an actor.
set actor %random.char%
* only continue if an actor is defined.
if %actor.is_pc%
  * check if they are hurt.
  if %actor.hitp% < %actor.maxhitp% 
    * heal them their level in hitpoints.
    %damage% %actor% -%actor.level%
  end
end

>[0;00m
[0mCHECKING: 164[0m

Name: 'Beggin Strips - 164',  VNum: [  164], RNum: [   71]
Trigger Intended Assignment: Objects
Trigger Type: Consume , Numeric Arg: 100, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
%send% %actor% You gag in disgust at the foul taste of the dog treats.
%echoaround% %actor% %actor.name% gags in disgust at the foul taste of the dog treats.
return 0
%purge% %self%

>[0;00m
[0mCHECKING: 165[0m

Name: 'Thief - 129, 183',  VNum: [  165], RNum: [   72]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 10, Arg list: None
Commands:
set actor %random.char%
if %actor%
  if %actor.is_pc% && %actor.gold%
    %send% %actor% You discover that %self.name% has %self.hisher% hands in your wallet.
    %echoaround% %actor% %self.name% tries to steal gold from %actor.name%.
    eval coins %actor.gold% * %random.10% / 100
    nop %actor.gold(-%coins%)%
    nop %self.gold(%coins%)%
  end
end

>[0;00m
[0mCHECKING: 166[0m

Name: 'Cast spells on Greet - M135',  VNum: [  166], RNum: [   73]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 10, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
* Cast a random spell on players that enter. But, only if they are not already
* affected and only 10 percent of the time.
switch %random.12%
  case 1
    if %actor.affect(blind)%
      dg_cast 'cure blind' %actor%
    end
  break
  case 2
    if !%actor.affect(invis)%
      dg_cast 'invisibility' %actor%
    end
  break
  case 3
    if !%actor.affect(det-align)%
      dg_cast 'detect align' %actor%
    end
  break
  case 4
    if !%actor.affect(det-magic)%
      dg_cast 'detect magic' %actor%
    end
  break
  case 5
    if !%actor.affect(sense-life)%
      dg_cast 'sense life' %actor%
    end
  break
  case 6
    if !%actor.affect(watwalk)%
      dg_cast 'waterwalk' %actor%
    end
  break
  case 7
    if !%actor.affect(sanct)%
      dg_cast 'sanctuary' %actor%
    end
  break
  case 8
    if %actor.affect(curse)%
      dg_cast 'remove curse' %actor%
    end
  break
  case 9
    if !%actor.affect(infra)%
      dg_cast 'infravision' %actor%
    end
  break
  case 10
    if %actor.affect(poison)%
      dg_cast 'cure poison' %actor%
    end
  break
  case 11
    if !%actor.affect(bless)%
      dg_cast 'bless' %actor%
    end
  break
  case 12
    if !%actor.affect(prot-evil)%
      dg_cast 'protection from evil' %actor%
    end
  break
  default
    say whoops!
  break
done

>[0;00m
[0mCHECKING: 167[0m

Name: 'Mob Questshop Example',  VNum: [  167], RNum: [   74]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: *
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
* A questshop that uses questpoints!
if %cmd.mudcommand% == list
  *
  %send% %actor%  ##   Available   Item                                Cost in Questpoints
  %send% %actor% -------------------------------------------------------------------------
  %send% %actor%   1)  Unlimited   War's Blood                                         100
  %send% %actor%   2)  Unlimited   shadow stealer                                      100
  %send% %actor%   3)  Unlimited   the staff of spellfire                              100
  *
elseif %cmd.mudcommand% == buy
  if War /= %arg% || Blood /= %arg% || %arg% == 1
    set quest_item 21
    set quest_item_cost 100
  elseif shadow /= %arg% || stealer /= %arg% || %arg% == 2
    set quest_item 22
    set quest_item_cost 100
  elseif staff /= %arg% || spellfire /= %arg% || %arg% == 3
    set quest_item 23
    set quest_item_cost 100
  else
    tell %actor.name% What would you like to buy?
    halt
  end
  *
  if %actor.questpoints% < %quest_item_cost% 
    tell %actor.name% You don't have enough questpoints for that.
  else
    %load% obj %quest_item% %actor% inv
    tell %actor.name% here you go.
    nop %actor.questpoints(-%quest_item_cost%)%
  end
elseif %cmd.mudcommand% == sell
  tell %actor.name% I don't want anything you have.
else
  return 0
end

>[0;00m
[0mCHECKING: 168[0m

Name: 'Questpoint Setter - 44',  VNum: [  168], RNum: [   75]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 1, Arg list: questpoints
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
* Questpoint setter. For STAFF only! Make sure player has nohassle off.
* Make sure name matches a player, purge mobs or use 0.name if you have 
* troubles. 
* Usage: questpoints <player> <#>
if !%actor.is_pc% || %actor.level% < 32
  %send% %actor% Only human staff can use this.
else  
  set victim %arg.car%
  if %victim.is_pc%
    set questpoints %arg.cdr%
    remote questpoints %victim.id%
    %send% %actor% %arg.car%'s questpoints set to %arg.cdr%.
  else
    %send% %actor% Don't use it on mobs. Use 0.<name>!
    return 0
  end
end

>[0;00m
[0mCHECKING: 169[0m

Name: 'Quest Token check if player is on quest - 15',  VNum: [  169], RNum: [   76]
Trigger Intended Assignment: Objects
Trigger Type: Get , Numeric Arg: 100, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
if !%actor.varexists(on_quest_zone_1)%
  %send% %actor% You are not on a quest, don't steal other peoples quest items!
  return 0
end

>[0;00m
[0mCHECKING: 170[0m

Name: 'Load Tapcode Paper - 97',  VNum: [  170], RNum: [   77]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: wa
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
if !%actor.has_item(83)% && %cmd.mudcommand% == wake
nop %actor.pos(sitting)%
  %send% %actor% As you slowly regain consciousness you hear a shuffling of feet outside the door. 
  wait 30 sec
  %echo% Two shadows pass in front of your cell. Glancing under the door you see a set of dirty manacled feet pause outside. A scrap of paper falls to the ground and is quickly kicked under the door. A grunt is heard as a set of booted feet soon follow pushing the captive that had stopped.
  %load% obj 83
else
  * If it doesn't match let the command continue.
  return 0
end

>[0;00m
[0mCHECKING: 171[0m

Name: 'Tapcode Say Stuff - 97-93',  VNum: [  171], RNum: [   78]
Trigger Intended Assignment: Rooms
Trigger Type: Random , Numeric Arg: 10, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
if %self.vnum(97)%
  * tapcode SAY FREEDOM
  %echo% tap tap tap tap   tap tap tap
  wait 3 sec
  %echo% tap   tap
  wait 3 sec
  %echo% tap tap tap tap tap   tap tap tap tap
  wait 3 sec
  %echo% tap tap   tap
  wait 3 sec
  %echo% tap tap tap tap   tap tap
  wait 3 sec
  %echo% tap   tap tap tap tap tap
  wait 3 sec
  %echo% tap   tap tap tap tap tap
  wait 3 sec
  %echo% tap   tap tap tap tap
  wait 3 sec
  %echo% tap tap tap   tap tap tap tap
  wait 3 sec
  %echo% tap tap tap   tap tap
elseif %self.vnum(96)%
  * tapcode SAY INTEGRITY
  %echo% tap tap tap tap   tap tap tap
  wait 3 sec
  %echo% tap   tap
  wait 3 sec
  %echo% tap tap tap tap tap   tap tap tap tap
  wait 3 sec
  %echo% tap tap   tap tap tap tap
  wait 3 sec
  %echo% tap tap tap   tap tap tap
  wait 3 sec
  %echo% tap tap tap tap   tap tap tap tap
  wait 3 sec
  %echo% tap   tap tap tap tap tap
  wait 3 sec
  %echo% tap tap   tap tap
  wait 3 sec
  %echo% tap tap tap tap   tap tap
  wait 3 sec
  %echo% tap tap   tap tap tap tap
  wait 3 sec
  %echo% tap tap tap tap   tap tap tap tap
  wait 3 sec
  %echo% tap tap tap tap tap   tap tap tap tap
elseif %self.vnum(95)%
  * tapcode SAY WISDOM
  %echo% tap tap tap tap   tap tap tap
  wait 3 sec
  %echo% tap   tap
  wait 3 sec
  %echo% tap tap tap tap tap   tap tap tap tap
  wait 3 sec
  %echo% tap tap tap tap tap   tap tap
  wait 3 sec
  %echo% tap tap   tap tap tap tap
  wait 3 sec
  %echo% tap tap tap tap   tap tap tap
  wait 3 sec
  %echo% tap   tap tap tap tap
  wait 3 sec
  %echo% tap tap tap   tap tap tap tap
  wait 3 sec
  %echo% tap tap tap   tap tap
elseif %self.vnum(94)%
  * tapcode SAY PERSEVERENANCE
  %echo% tap tap tap tap   tap tap tap
  wait 3 sec
  %echo% tap   tap
  wait 3 sec
  %echo% tap tap tap tap tap   tap tap tap tap
  wait 3 sec
  %echo% tap tap tap   tap tap tap tap tap
  wait 3 sec
  %echo% tap   tap tap tap tap tap
  wait 3 sec
  %echo% tap tap tap tap   tap tap
  wait 3 sec
  %echo% tap tap tap tap   tap tap tap
  wait 3 sec
  %echo% tap   tap tap tap tap tap
  wait 3 sec
  %echo% tap tap tap tap tap   tap
  wait 3 sec
  %echo% tap   tap tap tap tap tap
  wait 3 sec
  %echo% tap tap tap tap   tap tap
  wait 3 sec
  %echo% tap   tap
  wait 3 sec
  %echo% tap tap tap   tap tap tap
  wait 3 sec
  %echo% tap   tap tap tap
  wait 3 sec
  %echo% tap   tap tap tap tap tap
end

>[0;00m
[0mCHECKING: 172[0m

Name: 'Prison Teleport 97-91',  VNum: [  172], RNum: [   79]
Trigger Intended Assignment: Rooms
Trigger Type: Speech , Numeric Arg: 1, Arg list: *
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
* evaluate the first word.
eval word %speech.car%
* evaluate the rest of the speech string.
eval rest %speech.cdr%
* keep looping until there are no more words.
while %word%
  if %word% == freedom && %actor.room.vnum% == 97
    %send% %actor% You feel a strange shifting as you are teleported out of the cell, you hear a distant clanking as the shackles fall to the floor.
    %teleport% %actor% 96
  elseif %word% == integrity && %actor.room.vnum% == 96
    %teleport% %actor% 95
    %send% %actor% You feel a strange shifting as you are teleported out of the cell.
  elseif %word% == wisdom && %actor.room.vnum% == 95
    %teleport% %actor% 94
    %send% %actor% You feel a strange shifting as you are teleported out of the cell.
  elseif %word% == perseverance && %actor.room.vnum% == 94
    %teleport% %actor% 93
    %send% %actor% You feel a strange shifting as you are teleported out of the cell.
  end
  eval word %rest.car%
  eval rest %rest.cdr%
done

>[0;00m
[0mCHECKING: 173[0m

Name: 'Prison Commissar M31',  VNum: [  173], RNum: [   80]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 3, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
* Prison Commissar - M31 - T173
eval max %random.5%
set text[1] you Americans were nothing like the French, we could count on them to be reasonable.
set text[2] you Americans think you are so smart. We have figured out your fourth signal. Four beats or waves or taps or whatever you come up with means "wait."
set text[3] War has blighted this planet in all but 268 of the past 4000 years.
set text[4] We may not have freedom, but after 4000 years we have order, and we will settle for that.
set text[5] I do not get paid enough for such a despicable job. I don't suppose you would give me a little something in exchange for my help?
eval  speech %%text[%max%]%%
say %speech%

>[0;00m
[0mCHECKING: 174[0m

Name: 'Underground Spy M30 T174',  VNum: [  174], RNum: [   81]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 20, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
if !%self.follower%
  eval max %random.4%
  set txt[1] Don't let the 'MAN' hold you back, join the rebellion. Follow me if you want to lead a better life.
  set txt[2] Be careful who you talk to, they may be part of the conspiracy. Follow me if you want to know the truth.
  set txt[3] Follow me if you want to join the resistance.
  set txt[4] Only through sacrifice can we know the truth. Follow me to be enlightened.
  set  speech %%txt[%max%]%%
  eval speech %speech%
  say %speech%
else
  say you have made the right choice.
  wait 3 sec
  %random.dir%
  wait 2 sec
  %random.dir%
  wait 2 sec
  %random.dir%
  wait 2 sec
  %random.dir%
  wait 2 sec
  say do you have anyone that knows you are in Sanctus or who may notice your absence?
  wait 5 sec
  %load% mob 32
  %echo% The hired muscle has arrived.
  %load% mob 32
  %echo% The hired muscle has arrived.
  %load% mob 32
  %echo% The hired muscle has arrived.
  %load% mob 32
  %echo% The hired muscle has arrived.
  wait 3 sec
  say lets get on with it. Don't bother putting up a fight.
  wait 3 sec
  %send% %self.follower% The spy and all of his hired muscle quickly circle you and wait for your exposed back before they attack. You catch movement out of the corner of your eye as you are clubbed from behind.
  %echoaround% %self.follower% %self.follower.name% is quickly surrounded by a group of thugs and clubbed unconscious. The underground spy pays the hired thugs and then drags %self.follower.name% away to the %random.dir%.
  nop %self.follower.pos(sleeping)%
  %teleport% %self.follower% 97
  %purge% %self%
end

>[0;00m
[0mCHECKING: 175[0m

Name: 'Chuck Norris - 34',  VNum: [  175], RNum: [   82]
Trigger Intended Assignment: Mobiles
Trigger Type: Global Random , Numeric Arg: 12, Arg list: None
Commands:
* Chuck Norris Facts!
eval max %random.89%
set  text[1]   Chuck Norris does not sleep. He waits.
set  text[2]   If you can see Chuck Norris, he can see you. If you can't see Chuck Norris you may be only seconds away from death.
set  text[3]   Chuck Norris frequently donates blood to the Red Cross. Just never his own.
set  text[4]   The chief export of Chuck Norris is pain.
set  text[5]   Chuck Norris sold his soul to the devil for his rugged good looks and unparalleled martial arts ability. Shortly after the transaction was finalized, Chuck roundhouse kicked the devil in the face and took his soul back. The devil, who appreciates irony, couldn't stay mad and admitted he should have seen it coming. They now play poker every second Wednesday of the month.
set  text[6]   Chuck Norris is currently suing NBC, claiming Law and Order are trademarked names for his left and right legs.
set  text[7]   Chuck Norris doesn't read books. He stares them down until he gets the information he wants.
set  text[8]   The quickest way to a man's heart is with Chuck Norris's fist.
set  text[9]   Leading hand sanitizers claim they can kill 99.9 percent of germs. Chuck Norris can kill 100 percent of whatever the heck he wants.
set  text[10]  Chuck Norris thought up some of the funniest Chuck Norris facts ever, but he hasn't submitted them to the site because he doesn't believe in any form of submission.
set  text[11]  Chuck Norris once visited the Virgin Islands. They are now The Islands.
set  text[12]  Chuck Norris does not hunt because the word hunting implies the probability of failure. Chuck Norris goes killing.
set  text[13]  Chuck Norris' tears cure cancer. Too bad he has never cried.
set  text[14]  When the Boogeyman goes to sleep every night he checks his closet for Chuck Norris.
set  text[15]  Chuck Norris counted to infinity - twice.
set  text[16]  Chuck Norris puts the "laughter" in "manslaughter".
set  text[17]  Chuck Norris can speak braille.
set  text[18]  Chuck Norris was once on Celebrity Wheel of Fortune and was the first to spin. The next 29 minutes of the show consisted of everyone standing around awkwardly, waiting for the wheel to stop.
set  text[19]  Chuck Norris sleeps with a night light. Not because Chuck Norris is afraid of the dark, but the dark is afraid of Chuck Norris
set  text[20]  If Chuck Norris is late, time better slow the heck down.
set  text[21]  Superman owns a pair of Chuck Norris pajamas.
set  text[22]  If you try to introduce your mother to Chuck Norris, she'll introduce you to your biological father.
set  text[23]  Chuck Norris uses all seven letters in Scrabble... Every turn.
set  text[24]  When Chuck Norris sends in his taxes, he sends blank forms and includes only a picture of himself, crouched and ready to attack. Chuck Norris has not had to pay taxes ever.
set  text[25]  Chuck Norris died ten years ago, but the Grim Reaper can't get up the courage to tell him.
set  text[26]  Chuck Norris once survived a suicide bombing. He was the bomber.
set  text[27]  Chuck Norris does not know where you live, but he knows where you will die.
set  text[28]  Chuck Norris can divide by zero.
set  text[29]  Chuck Norris can slam revolving doors.
set  text[30]  Little kids enjoy lighting ants on fire with magnifying glasses. Chuck Norris enjoys lighting little kids on fire with ants. Scientists have yet to find out how this feat is achieved.
set  text[31]  If it looks like chicken, tastes like chicken, and feels like chicken but Chuck Norris says its beef, then it's beef.
set  text[32]  We all know the magic word is please. As in the sentence, "Please don't kill me." Too bad Chuck Norris doesn't believe in magic.
set  text[33]  Chuck Norris once went on Celebrity Jeopardy and answered, "Who is Chuck Norris?" to every question. It was the first and only time in Jeopardy history that a contestant answered every single question right.
set  text[34]  At birth, Chuck Norris came out feet first so he could roundhouse kick the doctor in the face. Nobody delivers Chuck Norris but Chuck Norris.
set  text[35]  Chuck Norris once ate three 72 oz. steaks in one hour. He spent the first 45 minutes having sex with his waitress.
set  text[36]  Chuck Norris owns the greatest Poker Face of all-time. It helped him win the 1983 World Series of Poker despite him holding just a Joker, a Get out of Jail Free Monopoloy card, a 2 of clubs, 7 of spades and a green #4 card from the game UNO.
set  text[37]  A Handicap parking sign does not signify that this spot is for handicapped people. It is actually in fact a warning, that the spot belongs to Chuck Norris and that you will be handicapped if you park there.
set  text[38]  Chuck Norris' sperm can penetrate 13 condoms, the birth control pill, a brick wall, and the 1975 Pittsburgh Steelers offensive line in order to impregnate a woman.
set  text[39]  Chuck Norris has to sort his laundry into three loads: darks, whites, and bloodstains.
set  text[40]  If at first you don't succeed, you are obviously not Chuck Norris.
set  text[41]  Geico saved 15%% by switching to Chuck Norris.
set  text[42]  If you see Chuck Norris crying he will grant you a wish, if your wish is dying.
set  text[43]  Pee Wee Herman got arrested for masturbating in public. The same day, Chuck Norris got an award for masturbating in public.
set  text[44]  They say that lightning never strikes the same place twice. Niether does Chuck Norris. He doesn't have to.
set  text[45]  Water boils faster when Chuck Norris watches it.
set  text[46]  Chuck Norris' cowboy boots are made from real cowboys.
set  text[47]  When Chuck Norris exercises, the machine gets stronger.
set  text[48]  Chuck Norris is allowed to talk about Fight Club.
set  text[49]  The only thing we have to fear is fear itself... The only thing fear has to fear is Chuck Norris.
set  text[50]  Chuck Norris clogs the toilet even when he pisses.
set  text[51]  A blind man once stepped on Chuck Norris' shoe. Chuck replied, "Don't you know who I am? I'm Chuck Norris!" The mere mention of his name cured the mans blindness. Sadly the first, last, and only thing this man ever saw, was a fatal roundhouse delivered by Chuck Norris.
set  text[52]  The most effective form of suicide known to man is to type "Chuck Norris" into Google and hit "I'm Feeling Lucky!".
set  text[53]  Chuck Norris never gets brain freeze. Slurpees know when to back off.
set  text[54]  Chuck Norris got in touch with his feminine side, and promptly got her pregnant.
set  text[55]  Chuck Norris refers to himself in fourth person.
set  text[56]  Whenever someone is constipated, doctors send them to Chuck Norris so he can scare the shit out of them.
set  text[57]  Chuck Norris is not hung like a horse... horses are hung like Chuck Norris
set  text[58]  Switzerland isn't really neutral. They just haven't figured out what side Chuck Norris is on yet.
set  text[59]  When Chuck Norris was in middle school, his English teacher assigned an essay: "What is Courage?" Chuck Norris received an "A+" for writing only the words "Chuck Norris" and promptly turning in the paper.
set  text[60]  Chuck Norris doesn't give Christmas presents. If you live to see Christmas, that is your Christmas present from Chuck.
set  text[61]  Chuck Norris ends every relationship with "Its not me, its you".
set  text[62]  Chuck Norris was sending an email one day, when he realized that it would be faster to run.
set  text[63]  When Chuck Norris laughs too hard while drinking milk, he accidently shits a cow.
set  text[64]  One time in an airport a guy accidently called Chuck Norris "Chick Norris". He explained it was an honest mistake and apologized profusely. Chuck accepted his apology and politely signed an autograph. Nine months later, the guy's wife gave birth to a bearded baby. The guy knew exactly what had happened, and blames nobody but himself.
set  text[65]  Chuck Norris doesn't understand why you should consult your doctor if your erection lasts for more than 4 hours. His erections have been known to last for up to 15 days.
set  text[66]  Chuck Norris has never had an alcohol problem. However, alcohol has had a Chuck Norris problem.
set  text[67]  Jesus owns and wears a bracelet that reads, "WWCND?" What would Chuck Norris Do?
set  text[68]  In order to survive a nuclear attack, you must remember to stop, drop, and be Chuck Norris.
set  text[69]  Similar to a Russian Nesting Doll, if you were to break Chuck Norris open you would find another Chuck Norris inside, only smaller and angrier.
set  text[70]  Chuck Norris' dog is trained to pick up his own poop because Chuck Norris will not take shit from anyone.
set  text[71]  Oxygen requires Chuck Norris to live.
set  text[72]  Chuck Norris doesn't have a bank account. He just tells the bank how much he needs.
set  text[73]  Chuck Norris frequently signs up for beginner karate classes, just so he can "accidentally" beat the shit out of little kids.
set  text[74]  Life is like a box of chocolates. You never know when Chuck Norris is going to kill you.
set  text[75]  Someone once tried to tell Chuck Norris that roundhouse kicks aren't the best way to kick someone. This has been recorded by historians as the worst mistake anyone has ever made.
set  text[76]  The phrase "Made by Chuck Norris" is imprinted beneath the surface of China.
set  text[77]  Microsoft has released a new Anti-virus removal tool called Chuck Norris. The tool dares the virus to enter the machine.
set  text[78]  Chuck Norris always gets blackjack. Even when he's playing poker.
set  text[79]  When the Incredible Hulk gets angry he transforms into Chuck Norris.
set  text[80]  When Chuck Norris answers the phone, he just says "Go". This is not permission for you to begin speaking, it is your cue to start running for your life.
set  text[81]  Chuck Norris only uses one chopstick.
set  text[82]  Chuck Norris does not leave messages. Chuck Norris leaves warnings.
set  text[83]  Filming on location for Walker: Texas Ranger, Chuck Norris brought a stillborn baby lamb back to life by giving it a prolonged beard rub. Shortly after the farm animal sprang back to life and a crowd had gathered, Chuck Norris roundhouse kicked the animal, breaking its neck, to remind the crew once more that Chuck giveth, and the good Chuck, he taketh away.
set  text[84]  When you open a can of whoop-ass, Chuck Norris jumps out.
set  text[85]  Chuck Norris once had a near death experience. Needless to say, Death now refuses to come near him.
set  text[86]  People say the truth hurts, but it hurts a hell of a lot more when it comes from Chuck Norris.
set  text[87]  If you come home to find Chuck Norris doing your wife, it's probably best to go fetch a glass of water and stand there in case Chuck gets thirsty. There ain't no future in any other course of action.
set  text[88]  Chuck Norris can open beer cans with his teeth. He still prefers to use other people's teeth, though.
set  text[89]  One time while sparring with Wolverine, Chuck Norris accidentally lost his left testicle. You might be familiar with it to this very day by its technical term: Jupiter.
set  speech %%text[%max%]%%
eval speech %speech%
%echo% %speech%

>[0;00m
The day has begun.

>[0;00m
[0mCHECKING: 176[0m

Name: 'Teleporter Recall - O82',  VNum: [  176], RNum: [   83]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 7, Arg list: recall
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
%send% %actor% You recall to safety.
%echoaround% %actor% %actor.name% recalls.
%teleport% %actor% 3001
%force% %actor% look

>[0;00m
[0mCHECKING: 177[0m

Name: 'Kick Me Sign - O197',  VNum: [  177], RNum: [   84]
Trigger Intended Assignment: Objects
Trigger Type: Random , Numeric Arg: 10, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
* Only players can activate this trig.
if %self.worn_by%
  set actor %self.worn_by%
  set room_var %actor.room%
  wait 3 s
  set kickers %room_var.people%
  * Now loop through everyone in the room.
  while %kickers%
    * Set the next target before kicking.
    set next_kicker %kickers.next_in_room%
    if %kickers% != %actor%
      %send% %kickers% You can't resist the urge after seeing the sign on %actor.name%'s back. You kick %actor.himher%
      %send% %actor% %kickers.name% plants %kickers.hisher% firmly in your backside for no apparent reason.
      %echoaround% %actor% %kickers.name% kicks %actor.name% squarely in the behind after seeing the "Kick Me" sign %actor.heshe% is wearing.
      * Damage them... 2 hitpoints. To heal use -#.
      %damage% %actor% 2
    end  * Set the next target.
    set kickers %next_kicker%
    wait 1 s
    * Loop back.
  done
end

>[0;00m
[0mCHECKING: 178[0m

Name: 'Homer's Advice M33',  VNum: [  178], RNum: [   85]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 10, Arg list: None
Commands:
eval max %random.41%
set  text[1]  When someone tells you your butt is on fire, you should take them at their word.
set  text[2]  There is no such thing as a bad doughnut.
set  text[3]  Kids are like monkeys, only louder.
set  text[4]  If you want results, press the red button. The rest are useless.
set  text[5]  You should just name your third kid Baby. Trust me -- it'll save you a lot of hassle.
set  text[6]  You can have many different jobs and still be lazy.
set  text[7]  I enjoy the great taste of Duff. Yes, Duff is the only beer for me. Smooth, creamy Duff . . . zzzzzzzzzzzzz.
set  text[8]  You can get free stuff if you mention a product in a magazine interview. Like Chips Ahoy! cookies.
set  text[9]  You may think it's easier to de-ice your windshield with a flamethrower, but there are repercussions. Serious repercussions. 
set  text[10] There are some things that just aren't meant to be eaten.
set  text[11] The intelligent man wins his battles with pointed words. I'm sorry -- I meant sticks. Pointed sticks.
set  text[12] There are way too many numbers. The world would be a better place if we lost half of them -- starting with 8. I've always hated 8.
set  text[13] If I had a dollar for every time I heard "My God! He's covered in some sort of goo," I'd be a rich man.
set  text[14] Be generous in the bedroom -- share your sandwich.
set  text[15] I've climbed the highest mountains . . . fallen down the deepest valleys . . . I've been to Japan and Africa . . . and I've even gone into space. But I'd trade it all for a piece of candy right now.
set  text[16] Every creature on God's earth has a right to exist. Except for that damn ruby-throated South American warbler.
set  text[17] I don't need a surgeon telling me how to operate on myself.
set  text[18] Sometimes I think there's no reason to get out of bed . . . then I feel wet, and I realize there is.
set  text[19] Let me just say, Winnie the Pooh getting his head caught in a honey pot? It's not funny. It can really happen.
set  text[20] Even though it is awesome and powerful, I don't take no guff from the ocean.
set  text[21] I never ate an animal I didn't like.
set  text[22] A fool and his money are soon parted. I would pay anyone a lot of money to explain that to me.
set  text[23] Give a man a fish and he'll eat for a day. Teach a man to fish and he'll get a hook caught on his eyelid or something.
set  text[24] I made a deal with myself ten years ago . . . and got ripped off.
set  text[25] Never leave your car keys in a reactor core.
set  text[26] Always trust your first instinct -- unless it tells you to use your life savings to develop a Destructo Ray.
set  text[27] When you borrow something from your neighbor, always do it under the cover of darkness.
set  text[28] If a spaceship landed and aliens took me back to their planet and made me their leader, and I got to spend the rest of my life eating doughnuts and watching alien dancing girls and ruling with a swift and merciless hand? That would be sweet.
set  text[29] I may not be the richest man on earth. Or the smartest. Or the handsomest.
set  text[30] Never throw a butcher knife in anger.
set  text[31] The office is no place for off-color remarks or offensive jokes. That's why I never go there.
set  text[32] My favorite color is chocolate.
set  text[33] Always feel with your heart, although it's better with your hands.
set  text[34] The hardest thing I've had to face as a father was burying my own child. He climbed back out, but it still hurts.
set  text[35] If doctors are so right, why am I still alive?
set  text[36] I'm not afraid to say the word racism, or the words doormat and bee stinger.
set  text[37] Always have plenty of clean white shirts and blue pants.
set  text[38] When that guy turned water into wine, he obviously wasn't thinking of us Duff drinkers.
set  text[39] I love natural disasters because we're allowed to get out of work.
set  text[40] When I'm dead, I'm going to sleep. Oh, man, am I going to sleep.
set  text[41] What kind of fool would leave a pie on a windowsill, anyway?
set  speech %%text[%max%]%%
eval speech %speech%
say %speech%

>[0;00m
[0mCHECKING: 179[0m

Name: 'Streetsweeper Ramblings M161',  VNum: [  179], RNum: [   86]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 10, Arg list: None
Commands:
eval max %random.33%
set  text[1]  They told me I was gullible.... and I believed them.
set  text[2]  Teach a child to be polite and courteous in the home and, when he grows up, he'll never be able to edge his car onto a freeway.
set  text[3]  One nice thing about egotists... they don't talk about other people.
set  text[4]  How can there be self-help "groups"?
set  text[5]  Is Marx's tomb a communist plot?
set  text[6]  Stupid litterbugs.
set  text[7]  I had amnesia once -- maybe twice.
set  text[8]  This isn't an office. It's hell with fluorescent lighting.
set  text[9]  I pretend to work. They pretend to pay me.
set  text[10] A cubicle is just a padded cell without a door.
set  text[11] Can I trade this job for what's behind door #1?
set  text[12] How about never? Is never good for you?
set  text[13] I have plenty of talent and vision. I just don't care.
set  text[14] I'll try to be nicer if you'll try to be smarter.
set  text[15] I'm out of my mind but feel free to leave a message.
set  text[16] No problem is so large or so difficult that it can't be blamed on someone else.
set  text[17] Try a little kindness. As little as possible.
set  text[18] If at first you don't succeed try management.
set  text[19] Ahhh. I see the screw-up fairy has visited us again.
set  text[20] Not a morning person doesn't even begin to describe it.
set  text[21] 80 percent of success is just showing up.
set  text[22] It's lonely at the top but you eat better.
set  text[23] When I want your opinion, I'll beat it out of you.
set  text[24] Make it idiot proof and someone will make a better idiot.
set  text[25] The buck doesn't even slow down here.
set  text[26] Welcome to the Department of Redundancy Department.
set  text[27] Another deadline, another miracle.
set  text[28] Always keep your words soft and sweet, just in case you have to eat them.
set  text[29] Always read stuff that will make you look good if you die in the middle of it.
set  text[30] If you can't be kind, at least have the decency to be vague.
set  text[31] If you lend someone $20 and never see them again, it was probably worth it.
set  text[32] Never buy a car you can't push.
set  text[33] Since it's the early worm that gets eaten by the bird, sleep late.
set  speech %%text[%max%]%%
eval speech %speech%
say %speech%

>[0;00m
[0mCHECKING: 180[0m

Name: 'Shackle Lock Pick O89',  VNum: [  180], RNum: [   87]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: pi
Commands:
if %cmd.mudcommand% == pick && (shackles /= %arg% || lock /= %arg%) && %actor.has_item(85)%
  %send% %actor% You attempt to pick the simple lock with the pick and are surprised to hear a click as the lock quickly releases.
  %echoaround% %actor% %actor.name% quickly picks the lock to the shackles around %actor.hisher% ankles.
  %load% obj 86
  %purge% %self%
else
  %send% %actor% Pick What?
end

>[0;00m
[0mCHECKING: 181[0m

Name: 'Epictetus M29',  VNum: [  181], RNum: [   88]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 5, Arg list: None
Commands:
* Epictetus - M29 - T181 By Rumble
eval max %random.26%
set txt[1] the judge will do some things to you which are thought to be terrifying, but how can he stop you from taking the punishment he threatened?
set txt[2] what are the benefits of a stoic life? It is an ancient and honorable package of advice on how to stay out of the clutches of those who are trying to get you on the hook, trying to give you a feeling of obligation, trying to get moral leverage.
set txt[3] There can be no such thing as being the "victim" of another. You can only be a "victim" of yourself.
set txt[4] Show me a man who though sick is happy, who though in danger is happy, who though in prison is happy, and I'll show you a Stoic.
set txt[5] remember you are an actor in a drama of such sort as the Author chooses - if short, then in a short one. If long, then in a long one. If it be his pleasure that you should enact a poor man, or a cripple, or a ruler, see that you act it well. 
set txt[6] Things that are not within our own power, not without our Will, can by no means be either good or evil.
set txt[7] For it is better to die of hunger, exempt from fear and guilt, than to live in affluence with perturbation.
set txt[8] Lameness is an impediment to the leg, but not to the Will. Say this to yourself with regard to everything that happens. For you will find such things to be an impediment to something else, but not truly to yourself.
set txt[9] Look not for any greater harm than this: destroying the trustworthy, self-respecting well-behaved man within you.
set txt[10] Fear was not something that came out of the shadows of the night and enveloped you. He charged you with the total responsibility of starting it, stopping it, controlling it.
set txt[11] For it is within you, that both your destruction and deliverance lie.
set txt[12] Tranquility, fearlessness, and freedom. You can have these only if you are honest and take responsibility for your own actions. You've got to get it straight! You are in charge of you.
set txt[13] nobody can harm you without your permission. There can be no such thing as a victim, you can only be a victim of yourself.
set txt[14] Where, then, does the great evil and the great good lie in man? In the attitude of his will, and if that element stands firm and neither his self respect, nor his faithfulness, nor his intelligence be destroyed, then the man is also preserved.
set txt[15] When a man who has set his will neither on dying nor upon living at any cost, comes into the presence of the tyrant, what is there to prevent him from being without fear? Nothing.
set txt[16] it is better that man not deserve anything he does not control. Otherwise, he will go after what is not his, and this is the start of crime, wars, you name it.
set txt[17] every man bears the exclusive responsibility for his own good and evil. This makes it impossible for one person to do the wrong and make another, the innocent, suffer.
set txt[18] No one comes to his fall because of another's deed. No one is evil without loss or damage. No man can do wrong with impunity.
set txt[19] There can be no such thing as a victim, you can only be a victim of yourself.
set txt[20] A man's master is he who is able to confer or remove what that man seeks or shuns. Whoever then would be free, let him wish nothing, let him decline nothing, which depends on others, else he must necessarily be a slave.
set txt[21] You must acquire a constancy of character that will make it impossible for another to do you wrong.
set txt[22] Who is the invincible man? He who cannot be dismayed by any happening beyond his control.
set txt[23] To have your heart set on something you do not control is to invite slavery, for he who does control it, knowing of your hunger for it, can make you perform like a monkey on a string.
set txt[24] Men are disturbed not by things, but by the view that they take of them. Do not be concerned with things which are beyond your power. Demand not that events should happen as you wish, but wish them to happen as they do happen and you will get on well.
set txt[25] Lameness is an impediment to the body but not to the will.
set txt[26] We have devised a series of operating signals. The third means "repeat," just make three taps, waves, or whatever you can do.
set  speech %%txt[%max%]%%
eval speech %speech%
say %speech%

>[0;00m
[0mCHECKING: 182[0m

Name: 'Clausewitz M28',  VNum: [  182], RNum: [   89]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 5, Arg list: None
Commands:
* Clausewitz - M28 - T182 By Rumble
eval max %random.15%
set txt[1] it is not only in the loss of men, horses, and guns but in order, courage, confidence, cohesion and plan which come into consideration whether the engagement can still be continued or not. It is principally the moral forces which decide here.
set txt[2] failures of management and engineering are tactical shortcomings that can be fixed but that failures of leadership's nerve and character are terminal, catastrophic.
set txt[3] War is a special profession, however general its relation may be and even if all the male population of a country capable of bearing arms were able to practice it, war would still continue to be different and separate from any other activity.
set txt[4] The purpose of power is to permit moral ideas to take root.
set txt[5] Rights incur obligations.
set txt[6] In war, the moral is to the physical as three is to one.
set txt[7] Education is what's left over after you've forgotten all the facts you learned.
set txt[8] We have devised a series of operating signals. The first one says "no," "danger," "stop," or any connotation of the negative. For this use any one signal - a single thump, a single noise, a single flash, a single wave.
set txt[9] There are advantages to a commander when his troops know he cannot be contacted. They cannot ask for relief.
set txt[10] Those who expect to reap the blessing of freedom must, like men, undergo the fatigue of supporting it.
set txt[11] Sentiment rules the world, and he who fails to take that into account can never hope to lead.
set txt[12] The nation that will insist on drawing a broad line of demarcation between the fighting man and the thinking man is liable to find its fighting done by fools and its thinking done by cowards.
set txt[13] Don't just sit there and pray; get out and do something to better the World.
set txt[14] The educated man, particularly the educated leader, copes with the fact that life is not fair. The problem for education is not to teach people how to deal with success but how to deal with failure.
set txt[15] The name of the game in war is to break the enemy's will.
set  speech %%txt[%max%]%%
eval speech %speech%
say %speech%

>[0;00m
[0mCHECKING: 183[0m

Name: 'Socrates - 17',  VNum: [  183], RNum: [   90]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 1, Arg list: None
Commands:
* Socrates - M17 - T183 By Rumble
eval max %random.14%
set txt[1] Let him that would move the world, first move himself. 
set txt[2] Employ your time in improving yourself by other men's writings, so that you shall gain easily what others have labored hard for. 
set txt[3] No evil can befall a good man
set txt[4] You alone are in possession of the fundamental freedom of shaping your own attitude about what is going on.
set txt[5] He is richest who is content with the least, for content is the wealth of nature. 
set txt[6] And in knowing that you know nothing, that makes you the smartest of all. 
set txt[7] To find yourself, think for yourself 
set txt[8] My belief is that to have no wants is divine 
set txt[9] I know nothing except the fact of my ignorance 
set txt[10] By all means get married, If you get a good wife you'll become happy; If you get a bad one, you'll become a philosopher 
set txt[11] As for me, all I know is that I know nothing. 
set txt[12] We have devised a series of operating signals. The second one says "yes," "go," "concur," "execute," "good." For this we use any two of anything - the most efficient signal except for the single beat "no" signal.
set txt[13] Honor is often what remains after faith, love, and hope are lost.
set txt[14] It is the wise leader who comes to the conclusion that he can't be had if he can't be made to feel guilty.
set  speech %%txt[%max%]%%
eval speech %speech%
say %speech%

>[0;00m
[0mCHECKING: 184[0m

Name: 'Plato - 21',  VNum: [  184], RNum: [   91]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 3, Arg list: None
Commands:
* Plato - M21 - T184 By Rumble
eval max %random.22%
set txt[1] Wise men speak because they have something to say; Fools because they have to say something
set txt[2] Those who are too smart to engage in politics are punished by being governed by those who are dumber. 
set txt[3] This I know - that I know nothing. 
set txt[4] They do certainly give very strange, and newfangled, names to diseases. 
set txt[5] The measure of a man is what he does with power. 
set txt[6] The greatest wealth is to live content with little. 
set txt[7] The man who makes everything that leads to happiness depend upon himself, and not upon other men, has adopted the very best plan for living happily. 
set txt[8] For a man to conquer himself is the first and noblest of all victories.
set txt[9] And now I depart hence condemned by you to suffer the penalty of death, and they, too, go their ways condemned by the truth to suffer the penalty of villainy and wrong; and I must abide by my award - let them abide by theirs. 
set txt[10] Be kind, for everyone you meet is fighting a harder battle. 
set txt[11] Necessity, who is the mother of invention. 
set txt[12] You can discover more about a person in an hour of play than in a year of conversation. 
set txt[13] When men speak ill of you, live so as nobody may believe them. 
set txt[14] Good people do not need laws to tell them to act responsibly, while bad people will find a way around the laws. 
set txt[15] One of the penalties for refusing to participate in politics is that you end up being governed by your inferiors.
set txt[16] The life which is unexamined is not worth living.
set txt[17] Death is not the worst than can happen to men.
set txt[18] Never discourage anyone...who continually makes progress, no matter how slow.
set txt[19] Ignorance, the root and the stem of every evil. 
set txt[20] No human thing is of serious importance. 
set txt[21] Courage is simply endurance of the soul. 
set txt[22] Courage must be exercised in the presence of fear. 
set  speech %%txt[%max%]%%
eval speech %speech%
say %speech%

>[0;00m
[0mCHECKING: 185[0m

Name: 'Aristotle - 22',  VNum: [  185], RNum: [   92]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 10, Arg list: None
Commands:
* Aristotle - M22 - T185 By Rumble
eval max %random.26%
set txt[1] education is an ornament in prosperity and a refuge in adversity.
set txt[2] a good man with a flaw who had come to an unjustified bad end.
set txt[3] All paid jobs absorb and degrade the mind.
set txt[4] Education is the best provision for the journey to old age.
set txt[5] To perceive is to suffer.
set txt[6] The gods too are fond of a joke.
set txt[7] We are what we repeatedly do.
set txt[8] Misfortune shows those who are not really friends.
set txt[9] Hope is a waking dream.
set txt[10] Dignity consists not in possessing honors, but in the consciousness that we deserve them.
set txt[11] It is the mark of an educated mind to be able to entertain a thought without accepting it.
set txt[12] Man perfected by society is the best of all animals; he is the most terrible of all when he lives without law, and without justice.
set txt[13] I have gained this by philosophy: that I do without being commanded what others do only from fear of the law.
set txt[14] It is possible to fail in many ways...while to succeed is possible only in one way.
set txt[15] In poverty and other misfortunes of life, true friends are a sure refuge. The young they keep out of mischief; to the old they are a comfort and aid in their weakness, and those in the prime of life they incite to noble deeds. 
set txt[16] Happiness is the meaning and the purpose of life, the whole aim and end of human existence. 
set txt[17] He who is to be a good ruler must have first been ruled. 
set txt[18] There was never a genius without a tincture of madness. 
set txt[19] Those who educate children well are more to be honored than parents, for these only gave life, those the art of living well. 
set txt[20] Those that know, do. Those that understand, teach. 
set txt[21] I count him braver who overcomes his desires than him who conquers his enemies; for the hardest victory is over self. 
set txt[22] The unfortunate need people who will be kind to them; the prosperous need people to be kind to. 
set txt[23] Youth is easily deceived, because it is quick to hope. 
set txt[24] Teaching is the highest form of understanding. 
set txt[25] Excellence is an art won by training and habituation. We do not act rightly because we have virtue or excellence, but we rather have those because we have acted rightly. We are what we repeatedly do. Excellence, then, is not an act but a habit
set txt[26] Courage is a man's ability to handle fear. 
set  speech %%txt[%max%]%%
eval speech %speech%
say %speech%

>[0;00m
[0mCHECKING: 186[0m

Name: 'Confucius - 23',  VNum: [  186], RNum: [   93]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 10, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
* Confucius - M23 - T186 By Rumble
set max %random.27%
set txt[1] Before you embark on a journey of revenge, dig two graves. 
set txt[2] Everything has its beauty but not everyone sees it. 
set txt[3] Forget injuries, never forget kindnesses. 
set txt[4] It does not matter how slowly you go so long as you do not stop. 
set txt[5] Respect yourself and others will respect you. 
set txt[6] Study the past if you would define the future. 
set txt[7] The superior man, when resting in safety, does not forget that danger may come. When in a state of security he does not forget the possibility of ruin. When all is orderly, he does not forget that disorder may come.
set txt[8] What the superior man seeks is in himself; what the small man seeks is in others. 
set txt[9] Wheresoever you go, go with all your heart. 
set txt[10] By nature, men are nearly alike; by practice, they get to be wide apart. 
set txt[11] A man who has committed a mistake and doesn't correct it, is committing another mistake. 
set txt[12] If you know, to recognize that you know, If you don't know, to realize that you don't know: That is knowledge. 
set txt[13] Never hesitate to ask a lesser person. 
set txt[14] People with virtue must speak out; People who speak are not all virtuous. 
set txt[15] What you do not wish upon yourself, extend not to others. 
set txt[16] We take great pains to persuade other that we are happy than in endeavoring to think so ourselves. 
set txt[17] Better a diamond with a flaw than a pebble without. 
set txt[18] The people may be made to follow a path of action, but they may not be made to understand it. 
set txt[19] The superior man is modest in his speech, but exceeds in his actions. 
set txt[20] The superior man...does not set his mind either for anything, or against anything; what is right he will follow. 
set txt[21] To go beyond is as wrong as to fall short. 
set txt[22] Virtue is not left to stand alone. He who practices it will have neighbors. 
set txt[23] What the superior man seeks is in himself. What the mean man seeks is in others. 
set txt[24] What you do not want done to yourself, do not do to others. 
set txt[25] When you know a thing, to hold that you know it; and when you do not know a thing, to allow that you do not know it - this is knowledge. 
set txt[26] In any prisoner situation when you are communicating with a fellow prisoner be sure to agree about a danger signal first. Second make a cover story in case you are caught, and third, you need to decide on a backup communication system.
set txt[27] The superior man understands what is right; the inferior man understands what is accepted by a majority. 
eval  speech %%txt[%max%]%%
say %speech%

>[0;00m
[0mCHECKING: 187[0m

Name: 'James Stockdale - 27',  VNum: [  187], RNum: [   94]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 10, Arg list: None
Commands:
* James Stockdale - M27 - T187 By Rumble
eval max %random.43%
set txt[1] Francis Bacon once said, "Adversity doth best induce virtue... while luxury doth best induce vice."
set txt[2] to quote Glenn Gray, "Numberless soldiers have died, more or less willingly, not for country or honor or religious faith or for any other abstract good, but because they realized that by fleeing their posts and rescuing themselves, they would expose their companions to greater danger. Such loyalty to the group is the essence of fighting morale."
set txt[3] Glenn Gray said, "Nothing is clearer than that men can act contrary to the alleged basic instinct of self-preservation and against all motives of self-interest and egoism. Were it not so, the history of our civilization would be completely different than what it has been."
set txt[4] At its best, citizenship finds an equilibrium between two essential ingredients-that of rights and that of duties. When the idea of citizenship is losing its grip, one or the other of these elements becomes eroded. Either freedom is on the losing end, or the sense of duty, of obligation, goes down the drain.
set txt[5] Ariel and Will Durant said it best, "Freedom and equality are sworn enemies, when one prevails the other dies."
set txt[6] As a people we have become soft. Stress isn't a bad thing. It is actually good for you, particularly the kind that comes from physical exercise.
set txt[7] The Durants also said, "What determines whether the challenge of history will or will not be met depends upon the presence or absence of creative individuals with a clarity of mind and energy of will, capable of effective responses to new situations.
set txt[8] once one learns to accomodate the shocks of a stressful existence, his adrenalin, will power, and imagination are going to start churning to provide the maximum performance of the human mind.
set txt[9] would a good soldier fighting a tough battle stop to say to himself how unhappy he is?
set txt[10] Remember Herman Melville? " In time of peril, like the needle to the lodestone, obedience, irrespective of rank, generally flies to him who is best fitted to command.
set txt[11] There is no evidence that the way of the World assures the punishment of evil or the reward of virtue.
set txt[12] Humans seem to have an inborn need to believe that virtue will be rewarded and evil punished. Often, when they come face to face with the fact that this is not always so, they are crushed.
set txt[13] from the Book of Ecclesiastes, "I returned and saw that the race is not always to the swift nor the battle to the strong, neither yet bread to the wise nor riches to men of understanding, nor favors to men of skill, but time and chance happeneth to them all."
set txt[14] the key to our future leaders' merit may not be "hanging in there" when the light at the end of the tunnel is expected. It will be their performance when it looks like the light will never show up."
set txt[15] Mark Van Doren was right, "Being an educated person means that given the necessity [after doomsday, so to speak], you could refound your own civilization."
set txt[16] Captain McWhirr said "to go skimming over the years of existence to sink gently into a placid grave, ignorant of life to the last, without ever having been made to see all it may contain of perfidy, of violence, of terror."
set txt[17] Harry Truman said, "Men make history, and not the other way around."
set txt[18] Sir Arthur Conan Doyle wrote, "When one tries to rise above nature, one is liable to fall below it. The highest type of man may revert to the animal if he leaves the straight road of destiny. Consider, that the materialists, the sensualists, the worldy would all proplong their worthless lives. The spiritual would now avoid the call to something higher. It would be the survival of the least fit. What sort of cesspool may not our poor world become?
set txt[19] Remember when you are strung up by the ropes that they can get out of you only what they know you know.
set txt[20] a hero is a man who will not accept the status quo if it does not meet his standards.
set txt[21] any officer worth his salt, on detached duty and out of communication, has to have the right to sensibly modify the law, issue rules that fit the conditions, and be prepared to defend himself in court.
set txt[22] my experience is a perfect example of the hermetic - the alchemical transformation that may occur when a human being is subjected to intense pressure within a crucible of suffering or confinement.
set txt[23] Dostoyevsky was a wise man, "You see, gentlemen, reason is an excellent thing, there's no disputing that, but reason is nothing but reason and satisfies only the rational side of man's nature, while will is a manifestation of the whole life, that is, of the whole human life, including reason and all the impulses."
set txt[24] I once read from Nichmachean Ethics: "There are some instances in which such actions elicit forgiveness rather than praise, for example, when a man acts improperly under a strain greater than human nature can bear, and which no one could endure. Yet there are, perhaps, also acts which no man can possibly be compelled to do, but rather than do them he should accept the most terrible sufferings and death."
set txt[25] Wittgenstein is know for, "If it comes easy, it ain't worth a damn."
set txt[26] Fr. Marius recalls someone remarking, "the important thing is not what they've made of you, but what you made of what they've made of you."
set txt[27] It was only when I lay there on the rotting prison straw that I sensed within myself the first stirrings of good. Gradually it was disclosed to me that the line separating good and evil passes not between states nor between classes nor between political parties, but right through every human heart, through all human hearts. And that is why I turn back to the years of my imprisonment and say, "Bless you, prison, for having been a part of my life."
set txt[28] my rules are: BACK US: Don't Bow in public, stay off the Air, admit no Crimes, never Kiss them goodbye, Unity over Self. Never negotiate for yourself but only for us all. Not less than significant pain should cause you to submit.
set txt[29] The lecture-room of the philosopher is a hospital, students ought not to walk out of it in pleasure, but in pain. 
set txt[30] I knew I could contain material - so long as they didn't know I knew it.
set txt[31] Opportunities don't roll in as a saturating fog bank. They come as incidents. And you need spontaneity and instinct to capture them.
set txt[32] Society's main objective is to instill virtue in its citizenry and that specific laws are a secondary concern.
set txt[33] in prison I have concluded that the pincers of fear and guilt are the destroyers of men. Nothing else.
set txt[34] The challenge of education is not to prepare people for success but to prepare them for failure. I think that it's in hardship and failure that the heroes and the bums really get sorted out.
set txt[35] Solzhenitsyn once commented, "If only there were evil people somewhere insidiously committing evil deeds, and it were necessary only to separate them from the rest of us and destroy them. But the line dividing good and evil cuts through the heart of every human being, and who is willing to destroy a piece of his own heart?"
set txt[36] Edward Hidalgo once said, "Avoiding failure is not success." How right he was.
set txt[37] Clemenceau believed that, "War is too important to be left to the general's."
set txt[38] I once asked Will Durant what he thought of American foreign policy. He told me, "I think we're all mixed up. We seem to be working on the assumption that if we're nice to other people they'll be nice to us. I can tell you that in the last 4000 years there's practically no evidence to support that view."
set txt[39] Alfred Thayer Mahan believed that, "the purpose of power is to permit moral ideas to take root."
set txt[39] The Durants said that "culture is a thin and fragile veneer that superimposes itself on mankind."
set txt[40] The ones where are in trouble in here are the high school graduates who had enough sense to pick up the innuendo, and yet not enough education to accommodate it properly. A little knowledge is a dangerous thing.
set txt[41] Prof Hans Morgethau once postulated, "in the world of the intellectual, ideas meet with ideas, and anything goes that is presented cleverly and with assurance. But in the practical world, ideas meet with facts, facts which make mincemeat of wrong ideas and throw the pieces in the ashcan of history."
set txt[42] The greatest weapon our interrogators have against us is our own shame. They know how to manipulate it, our only protection is a clear conscience.
set txt[42] We seem to have burdened ourselves with a national self-consciousness that has become a self-inflicted wound of guilt, a national shame at being strong.
set txt[43] No one had to remind our founding fathers of the cost of freedom. 56 of them knowingly laid their lives, liberty and honor on the line when they signed that Declaration of Independence. And they paid their dues. In the ensuing war, nine were killed in action, five died as prisoners of war, twelve had their homes burned, several lost sons, one moan's wife died in prison, and seventeen (including Thomas Jefferson) went broke.
set speech %%txt[%max%]%%
eval speech %speech%
say %speech%

>[0;00m
[0mCHECKING: 188[0m

Name: 'TBA Magic Eight Ball Check - 26',  VNum: [  188], RNum: [   95]
Trigger Intended Assignment: Mobiles
Trigger Type: Leave , Numeric Arg: 100, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
* Check to see if the person is not carrying the magic eight ball
if !%actor.has_item(47)%
  * They are not carrying it. So stop them and give them one.
  * Return 0 ignores their command to go west. They stay in the room.
  return 0
  wait 1 sec
  say You forgot your magic eight ball. Take this one.
  * Loads the object to the actors inventory.
  %load% obj 47 %actor%
  %send% %actor% %self.name% gives you the magic eight ball.
end

>[0;00m
[0mCHECKING: 189[0m

Name: 'Mob Quest Example Load 8ball - 22',  VNum: [  189], RNum: [   96]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 100, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
* Check if the 8ball is already in the room. If not load it.
* I know this only checks the first item in the room, I don't really care. KISS
if %self.contents.vnum% != 47
  %load% obj 47
end
wait 2 sec
%echoaround% %actor% A magic eight ball drops from the sky striking %actor.name% on the head.
%send% %actor% A magic eight ball drops from the sky striking you on the head.
%damage% %actor% %random.5%

>[0;00m
[0mCHECKING: 190[0m

Name: 'Mob Quest Tutorial Example Quest completion - 25',  VNum: [  190], RNum: [   97]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
if %object.vnum% == 47 && !%actor.varexists(solved_example_quest_zone_0)%
  dance
  wait 1 sec
  say Thank you, %actor.name%. Here is a few experience points and some gold.
  nop %actor.exp(50)%
  nop %actor.gold(50)%
  say Finally, now I can get some answers.
  wait 1 sec
  emote shakes the magic eight ball vigorously.
  wait 1 sec
  emote does not seem too pleased with his answer.
  set solved_example_quest_zone_0 1
  remote solved_example_quest_zone_0 %actor.id%
  %purge% %object%
elseif %object.vnum% == 47
  say you already solved this quest, keep it.
  return 0
else
  say I don't want that!
  junk %object.name%
end

>[0;00m
[0mCHECKING: 191[0m

Name: 'Mob Quest Tutorial Example Quest accepted - 25',  VNum: [  191], RNum: [   98]
Trigger Intended Assignment: Mobiles
Trigger Type: Speech , Numeric Arg: 1, Arg list: yes
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
if %actor.varexists(solved_example_quest_zone_0)% || !%actor.is_pc%
  halt
else
  wait 1 sec
  say Perfect, %actor.name%. I'll make this easy. It is to the east.
  wait 3 sec
  say I'd go get it myself, but I'm lazy and you need the exercise.
  wait 1 sec
end

>[0;00m
[0mCHECKING: 192[0m

Name: 'Mob Quest Tutorial Example Quest starter - 25',  VNum: [  192], RNum: [   99]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
if %direction% == south
  if %actor.varexists(solved_example_quest_zone_0)%
    wait 1 sec
    say you have already completed this quest.
    halt
  else
    wait 1 sec
    say Hello, %actor.name%. Could you find me the magic eight ball?
    say Please say yes, %actor.name%.
  end
end

>[0;00m
[0mCHECKING: 193[0m

Name: 'TBA Object Get Coins Reload - 45',  VNum: [  193], RNum: [  100]
Trigger Intended Assignment: Objects
Trigger Type: Get , Numeric Arg: 100, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
%load% obj %self.vnum%
%echo% The pile of coins magically reappear.

>[0;00m
[0mCHECKING: 194[0m

Name: 'JediMUD Greeting - Borrowed from TBAMUD - updates returning characters on changes',  VNum: [  194], RNum: [  101]
Trigger Intended Assignment: Mobiles
Trigger Type: Act , Numeric Arg: 1, Arg list: entered arrived appears
Commands:
* By Rumble of The Builder Academy - Updated by AP for use on JediMUD
if %actor.is_pc%
  wait 1 sec
  if %actor.varexists(JEDI_greeting)%
    %send% %actor% Nox says, Welcome back %actor.name%. Please see changes, news or motd for updated information in the game.
  else
    %send% %actor% Nox says, Welcome to JediMUD %actor.name%. The JediMUD Admin hope you enjoy your stay.
    wait 1 sec
    %send% %actor% Nox says, We have many new commands and updates to our game.
    wait 2 sec
    %send% %actor% Nox says, This zone is a hometown. JediMUD has 3 hometowns which you can reach via Train.
    wait 3 sec
    %send% %actor% Nox says, If you want further information please go to Adventurers' Meeting Room
    set JEDI_greeting 1
    remote JEDI_greeting %actor.id%
  end
end

>[0;00m
[0mCHECKING: 195[0m

Name: 'Stayalive idleout bracelet - 88',  VNum: [  195], RNum: [  102]
Trigger Intended Assignment: Objects
Trigger Type: Random , Numeric Arg: 4, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
eval actor %self.worn_by%
if %actor%
  %send% %actor% [0;00m
end

>[0;00m
[0mCHECKING: 196[0m

Name: 'TBA Capital Letters Test - 17',  VNum: [  196], RNum: [  103]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 0, Arg list: ca
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
* A basic command trigger. If a player types capitals the mob replies.
if capitals /= %cmd%
  tell %actor.name% Good job, that is correct. Be on the lookout for more of those.
end

>[0;00m
[0mCHECKING: 197[0m

Name: 'TBA Hallway - 22',  VNum: [  197], RNum: [  104]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
wait 2 sec
say Good Job, you made it.
wait 2 sec
say Now I would suggest that you practice what you have learned.
wait 2 sec
say Check your title under WHO[0;00m. A vnum should be listed there, if not mudmail Rumble for one.
wait 2 sec
say Just type GOTO VNUM[0;00m and type redit to modify your room.
wait 2 sec
say Once you complete your room come back to these hallways by typing GOTO 3[0;00m.
wait 3 sec
beam %actor.name%

>[0;00m
[0mCHECKING: 198[0m

Name: 'TBA Give Suggestions - 21',  VNum: [  198], RNum: [  105]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
wait 2 sec
say The best advice for new builders is under HELP SUGGESTIONS[0;00m.

>[0;00m
[0mCHECKING: 199[0m

Name: 'TBA Welcome - 18',  VNum: [  199], RNum: [  106]
Trigger Intended Assignment: Rooms
Trigger Type: Login , Numeric Arg: 100, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
* TBA mortal greet to fill out the application.
if %actor.admin% < 1
  wait 3 sec
  if %actor.varexists(TBA_mortal_greeting)%
    %echo% Friedrich Nietzsche says, 'Welcome back %actor.name%. Tell someone level 32 or above when you complete the application.'
  else
    %echo% Friedrich Nietzsche says, 'Welcome to The Builder Academy %actor.name%.' 
    wait 2 sec
    %echo% Friedrich Nietzsche says, 'If you are interested in learning how to build, or want to teach others, then you have come to the right place.'
    wait 2 sec
    %echo% Friedrich Nietzsche says, 'Please fill out the application at: http://tbamud.com/BuilderApplication'
    nop %actor.thirst(-1)%
    nop %actor.hunger(-1)%
    set TBA_mortal_greeting 1
    remote TBA_mortal_greeting %actor.id%
    if !%actor.has_item(1332)%
      %load% obj 1332 %actor% inv
    end
  end
end

>[0;00m
[0mCHECKING: 201[0m

Name: 'give golden ticket',  VNum: [  201], RNum: [  107]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: *
Commands:
if %actor.is_pc%
  if %cmd% == list
    %send% %actor% I currently offer the following services:
    %send% %actor% -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
    %send% %actor% .
    %send% %actor% 1.) offer - get an offer on a room - time is in real life days.
    %send% %actor% 2.) rent  - Rent a room (saves your stuff, and quits the game).
    %send% %actor% 3.) cinsure - crash insurance for your entire rent file
    %send% %actor% 4.) insure - insure individual items from death traps 
    %send% %actor% 5.) claim voucher - Claim your voucher for Crash Insurance
    %send% %actor% 6.) buy <number of rent slots> - buy rent slots
    %send% %actor% 7.) sell <number of rent slots>- sell rent slots
    %send% %actor% .
    %send% %actor% -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
  elseif %cmd% == claim && %arg% == voucher
    if %actor.crash_insured% && !%actor.inventory(1000)%
      %load% obj 1000 %actor% inv
      %send% %actor% The receptionist gives you a voucher.
    elseif !%actor.crash_insured%
      %send% %actor% The receptionist tells you, 'You are not insured, type list
      for more information'
    else
      %send% %actor% The receptionist tells you, but you already are carrying a
      voucher.
    end
  else
    return 0
  end
end

>[0;00m
[0mCHECKING: 202[0m

Name: 'librarian's assistant speech block',  VNum: [  202], RNum: [  108]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 33, Arg list: None
Commands:
*
*  give librarians a performance / speech
*  from a speech block re-coded by AP
*  from performance blocks lifted from TBAMUD
*
set room %self.room%
set target %room.people%
while %target%
  set next_target %target.next_in_room%
  if %target.is_pc%
    set actor %target%
  end
  set target %next_target%
done
if %actor.name%
  eval max %random.3%
  set action[1] Fidgets uncomfortably in %self.hisher% oversized cloak, 
  set action[2] Rubs %self.hisher% forehead in apparent confusion, 
  set action[3] Looks about in a quiet panic, searching for something,
  set  performance %%action[%max%]%%
  eval performance %performance%
  eval max %random.3%
  set txt[1] I'm afraid I'm unable to help you.   Seek the Elder Librarians in the Cellar.
  set txt[2] I believe you're looking for the Elder Librarian up on the second floor.
  set txt[3] I've been told that true scholars go to the Golden Library of the High Tower...
  set  speech %%txt[%max%]%%
  eval speech %speech%
  %echo% %self.name.toupper% %performance% and whispers, '%actor.name%, %speech%'
end

>[0;00m
[0mCHECKING: 220[0m

Name: 'office visits',  VNum: [  220], RNum: [  109]
Trigger Intended Assignment: Rooms
Trigger Type: Enter Login , Numeric Arg: 100, Arg list: 100
Commands:
set actor %self.people%
while %actor%
set next_actor %actor.next_in_room%
switch %actor.name%
  case Aegon
    %teleport% %actor% 246
    %force% %actor% look
  break
  default
  break
done
set actor %next_actor%
done

>[0;00m
[0mCHECKING: 224[0m

Name: 'librarian performances',  VNum: [  224], RNum: [  110]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 10, Arg list: None
Commands:
*
*  give librarians a performance / speech
*  from a speech block re-coded by AP
*  from performance blocks lifted from TBAMUD
*
set room %self.room%
set target %room.people%
while %target%
  set next_target %target.next_in_room%
  if %target.is_pc%
    set actor %target%
  end
  set target %next_target%
done
if %actor.name%
  eval max %random.10%
  set action[1] places an ancient scroll inside a delicate wire cage and closes %self.hisher% eyes, 
  set action[2] steps on a small stool to place a tome high overhead, before looking down at you, 
  set action[3] stops reading the dusty tome %actor.heshe% holds, looks up at you and looks at you,
  set action[4] sorts the cracked leather book back onto the shelf, 
  set action[5] places a silk bookmark into the book %self.heshe% was reading, 
  set action[6] closes %self.hisher% eyes at your approach, pauses, and looks at you, 
  set action[7] appears to be asleep, motionless, until, eyes still closed, %self.heshe% looks at you,
  set action[8] is adjusting %self.hisher% robe when %self.heshe% notices you standing there,
  set action[9] takes a deep breath, pulling %self.hisher% robes tighter about %self.himher%, and shudders,
  set action[10] palms %self.hisher% hip flask as you approach, stashing it in %self.hisher% desk,
  set  performance %%action[%max%]%%
  eval performance %performance%
  eval max %random.11%
  set txt[1] I can help you with but little of what you seek.
  set txt[2] the collection here is modest, and much of the material is of great age.
  set txt[3] I am told that true scholars go to the Golden Library of the High Tower...
  set txt[4] I personally have not had a chance to examine their collection.
  set txt[5] these is no doubt that they have much magical knowledge of worth.
  set txt[6] I have not met Saraka personally, but she has visited here recently.
  set txt[7] I have heard rumors of a collection of stolen knowledge secreted in the Ice Fortress Stacks.
  set txt[8] knowledge may be studied and permanently learned from select tomes.
  set txt[9] seek Julia de Grance, the patron of History of the Heroic Age.
  set txt[10] have you seen my Magic the Gathering Collection?
  set txt[11] seek ye the Elixir of Life from the Alchemists near Skara Brae!
  set  speech %%txt[%max%]%%
  eval speech %speech%
  %echo% %self.name.toupper% %performance% and whispers, '%actor.name%, %speech%'
end

>[0;00m
[0mCHECKING: 225[0m

Name: 'Minstrel Speech',  VNum: [  225], RNum: [  111]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
    wait 15
    mecho The minstrel begins to strum his instrument vigorously. As he finishes the first phrase, the drummer joins in with her bodhran.
    wait 15 sec
    mecho The minstrel sings, 'Black Davie's riding on down the post road Dreaming of silver, dreaming of gold Wondering why all the nights are so cold, Who will you be with when you are old?'0
    wait 15 sec
    mecho The minstrels sing, 'Highwayman, highwayman, what do you dream? Are you a gentleman serving the queen? Are you a rich man, servants by your side-- Or do you dream of another man's bride?
    wait 15 sec
    mecho The minstrel sings, 'Her hair was dark and all pinned up with gold, Her lips were red, and her eyes were so bold. You thought to have her, but the price would be your soul. What kind of woman takes money to hold?
    wait 15 sec
    mecho The minstrels sing, 'Highwayman, highwayman, what do you dream? Are you a gentleman serving the queen? Are you a rich man, servants by your side-- Or do you dream of another man's bride?
    wait 15 sec
    mecho The minstrel sings, 'When nights were warmer and your soul was young, There were so many things you would not have done, when you dance all night and sing the songs you've sung-- You pay the piper, and now the time has come...
    wait 15 sec
    mecho You pay the piper, and now the time has come...
    wait 15 sec
    mecho The minstrels sing, 'Highwayman, highwayman, what do you dream? Are you a gentleman serving the queen? Are you a rich man, servants by your side-- Or do you dream of another man's bride?
    wait 15 sec
    mecho The minstrel sings, 'You've stolen silver and gold at her command, You've given everything you had to make her stand, But you could never steal enough to win her hand-- And now she's married and left you to hang!
    wait 15 sec
    mecho The minstrels sing, 'Highwayman, highwayman, what do you dream? Are you a gentleman serving the queen? Are you a rich man, servants by your side-- Or do you dream of another man's bride?
    wait 15 sec
    mecho  The minstrels bow to the applauding crowd.
    wait 15 sec
    say Thank you.  That song was by the lovely Cynthia McQuillen.
    wait 15 sec
    mecho The minstrel begins adjusting the tuning of his instrument.
    wait 15 sec
    mecho The two minstrels look around at the crowd.

>[0;00m
[0mCHECKING: 246[0m

Name: 'gal friday',  VNum: [  246], RNum: [  112]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
*
* 05 Mar 24  Aegon
*
if %actor.is_pc%
  wait 2 s
  %send% %actor% %self.name% whispers, 'Welcome, darling.'
  wait 2 s
  %send% %actor% %self.name% whispers, 'Hand me a broken item and I will replace it.'
  wait 3 s
  %send% %actor% %self.name% whispers, 'Hand me a container of objects and I will provide detailed uid object info.'
  wait 1 s
  smile %actor.name%
end

>[0;00m
[0mCHECKING: 247[0m

Name: 'bestowing graces',  VNum: [  247], RNum: [  113]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 1, Arg list: point
Commands:
*
*  loads object or mob
*
set room %self.room%
*
if %actor.is_pc%
  if %cmd% == point
    if (%actor.name% == aegon || %actor.name% == warrim || %actor.name% == ching)
      set vict %arg.car%
      set vict %vict.toupper%
      set vnum %arg.cdr%
      set vkey %vnum.charat(1)%
      if ! %vkey%
        eval vnum (%vnum% * 1)
      end
      if %vict% && %vnum%
        set target_char %room.people%
        unset victim
        while %target_char%
          set next_target %target_char.next_in_room%
          if %vict% /= %target_char.name%
            set victim %target_char%
          break
        end
        set target_char %next_target%
      done
      if %victim%
        if (%vkey% == 1 ||  %vkey% == 2 ||  %vkey% == 3 || %vkey% == 4 ||  %vkey% == 5 ||  %vkey% == 6 || %vkey% == 7 ||  %vkey% == 8 ||  %vkey% == 9)
          %load% obj %vnum% %victim% inv
          %send% %victim% %actor.name% employs the holy gestures and the room glows bright white!
          set object %victim.inventory(%vnum%)%
          set desc %object.shortdesc%
          %send% %victim% %desc.toupper% %vnum% has been placed in your inventory.
          if %actor% != %victim%
            %send% %actor% You have placed %desc% %vnum% in %victim.name%'s inventory.
          end
        elseif %vkey% == 0
          %echo% %actor.name% employs the holy gestures and the room glows bright white!
          %load% mob %vnum%
          set mob %room.people%
          %echo% %actor.name% has created %mob.name% from thin air!
        else
          %send% %actor% Invalid object or mob vnum: %vnum%.
          return 1
        end
      else
        %send% %actor% Beneficiary %vict% not present in room.
        return 1
      end
    else
      return 0
    end
  else
    %send% %actor% The %self.name% bursts into flame and disappears!
    %purge% %self%
    return 1
  end
else
  return 0
end

>[0;00m
[0mCHECKING: 248[0m

Name: 'secret santa',  VNum: [  248], RNum: [  114]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
*
* 090322 Aegon 340 Ice Fortress
*
if %actor.is_pc%
  if %actor.name% == Aegon || %actor.name% == Warrim || %actor.name% == Ching
    if (%object.type% == CONTAINER) && %object.contents%
      %send% %actor% %self.name% tells you, "%actor.name%, I can't exchange an object that contains other objects, sorry."
      return 0
      halt 
    end
    %load% obj %object.vnum% %actor%
    %send% %actor% %self.name% tells you, "%actor.name%, I have exchanged your %object.shortdesc.cdr% for the newest version."
    %purge% %object%
  else
    %send% %actor% %self.name% tells you, "%actor.name%, you are not godly enough to exchange items. (%actor.admlvl%)"
    return 0
    halt
  end
else
  %send% %actor% %self.name% tells you, "%actor.name%, you don't seem to be a player character."
  return 0
  halt
end

>[0;00m
[0mCHECKING: 249[0m

Name: 'xerox copies',  VNum: [  249], RNum: [  115]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
*
* 090322 Aegon 350 Ice Fortress 
* 051623 
* 033025 mod to copy the entire mess
*
if %actor.admlvl% >= 5
  if (%object.type% == CONTAINER)
    *    set container_vnum %object.vnum%
    *    %load% obj %container_vnum% %actor% inv
    if %object.contents%
      set target_obj %object.contents%
      %send% %actor% Processing container: %object.shortdesc%
      %send% %actor% ===================================
      while %target_obj%
        %send% %actor% Purging/loading %target_obj.shortdesc%
        set next_obj %target_obj.next_in_list%     
        %load% obj %target_obj.vnum% %actor%
        put %target_obj.name% %object.name%
        %purge% %target_obj%
        set target_obj %next_obj%
      done 
      *      %purge% %object%  
      %send% %actor% Duplication and purge complete!   
    else
      %send% %actor% %object.shortdesc is empty!
    end
  end
end
return 0

>[0;00m
[0mCHECKING: 250[0m

Name: 'scarlett johannson',  VNum: [  250], RNum: [  116]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 7, Arg list: None
Commands:
*
* scarlett johansson
*
eval max %random.10%
set txt[1] If you feel glamorous you definitely look glamorous.
set txt[2] I still eat a burger at a counter with ketchup dripping down my face.
set txt[3] I value my privacy and my personal life, and I certainly don't exploit my personal life.
set txt[4] It's important for people to figure out their own lives before involving someone else - to gauge where you are and work on your own issues.
set txt[5] I'm not anxious to starve myself. For me, it's not at all sexy to be ultra-thin.
set txt[6] I get up early, go to the coffee shop to play cards for a while.
set txt[7] As a devoted mother and private person, and with complete awareness that my daughter will one day be old enough to read the news about herself.
set txt[8] I'm happiest when I have something to focus my energy on.
set txt[9] I've always been very determined, ever since I was a little girl, to make my way.
set txt[10] I just want to work on things that are really hard, and when I'm not working on things that are really hard, I want to hang out with people I like to be with, and that's it.
set  speech %%txt[%max%]%%
eval speech %speech%
say %speech%

>[0;00m
[0mCHECKING: 251[0m

Name: 'the social experiment',  VNum: [  251], RNum: [  117]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 4, Arg list: None
Commands:
*
* 05 Mar 24  Aegon
*
*
eval max %random.174%
*  
set text1  accuse 
set text2  curtsey 
set text3  grumble 
set text4  pat 
set text5  sigh 
set text6  tackle 
set text7  ack 
set text8  dance 
set text9  grunt 
set text10  peer 
set text11  sighh 
set text12  tag 
set text13  addict 
set text14  daydream 
set text15  gw 
set text16  pet 
set text17  sketch 
set text18  tantrum 
set text19  admire 
set text20  dig 
set text21  headache 
set text22  piledrive 
set text23  skip 
set text24  tap 
set text25  agree 
set text26  disagree 
set text27  headbutt 
set text28  pillow 
set text29  slander 
set text30  taunt 
set text31  airguitar 
set text32  disbelief 
set text33  hiccup 
set text34  pinch 
set text35  slap 
set text36  tease 
set text37  apologize 
set text38  disgust 
set text39  hickey 
set text40  pity 
set text41  sleepy 
set text42  thank 
set text43  applaud 
set text44  doh 
set text45  highfive 
set text46  plead 
set text47  slimjim 
set text48  think 
set text49  appreciate 
set text50  dollar 
set text51  hiss 
set text52  point 
set text53  slobber 
set text54  thrash 
set text55  babble 
set text56  dream 
set text57  hm 
set text58  poke 
set text59  slurp 
set text60  threaten 
set text61  badger 
set text62  drool 
set text63  hobble 
set text64  ponder 
set text65  smack 
set text66  thwap 
set text67  banzai 
set text68  duck 
set text69  hop 
set text70  potty 
set text71  smile 
set text72  tickle 
set text73  bark 
set text74  embrace 
set text75  howl 
set text76  pounce 
set text77  smirk 
set text78  tip 
set text79  bearhug 
set text80  envy 
set text81  hug 
set text82  pout 
set text83  smite 
set text84  tiptoe 
set text85  beckon 
set text86  explode 
set text87  huggle 
set text88  pray 
set text89  smooch 
set text90  tired 
set text91  beg 
set text92  eyebrow 
set text93  hum 
set text94  propose 
set text95  snap 
set text96  toast 
set text97  bird 
set text98  faint 
set text99  hungry 
set text100  pthbt 
set text101  snarl 
set text102  tomato 
set text103  bite 
set text104  fart 
set text105  innocent 
set text106  pucker 
set text107  sneer 
set text108  trip 
set text109  bleed 
set text110  fbi 
set text111  jab 
set text112  puff 
set text113  sneeze 
set text114  tweak 
set text115  blink 
set text116  fear 
set text117  jig 
set text118  puke 
set text119  snicker 
set text120  twiddle 
set text121  blush 
set text122  flap 
set text123  juggle 
set text124  punch 
set text125  sniff 
set text126  twirl 
set text127  boast 
set text128  flare 
set text129  jump 
set text130  punt 
set text131  snore 
set text132  twitch 
set text133  bodyslam 
set text134  flash 
set text135  khand 
set text136  purr 
set text137  snort 
set text138  type 
set text139  boggle 
set text140  flex 
set text141  kiss 
set text142  quack 
set text143  snowball 
set text144  violin 
set text145  bonk 
set text146  flinch 
set text147  knee 
set text148  quiet 
set text149  snuggle 
set text150  wap 
set text151  boring 
set text152  fling 
set text153  knock 
set text154  quiver 
set text155  sob 
set text156  wave 
set text157  bounce 
set text158  flip 
set text159  lag 
set text160  ramble 
set text161  spam 
set text162  wedgie 
set text163  bow 
set text164  flirt 
set text165  laugh 
set text166  rant 
set text167  spank 
set text168  welcome 
set text169  brb 
set text170  flowers 
set text171  leer 
set text172  razz 
set text173  spit 
set text174  wetwil 
*
set action %%text0%%%
eval action %action%
if %action%
  set actor %random.char%
  * %echo% action: %action% actor present: %actor.name%
  if %actor%
    %action% %actor.name%
  end
end

>[0;00m
[0mCHECKING: 252[0m

Name: 'console panel menu',  VNum: [  252], RNum: [  118]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: menu
Commands:
* 
* 080822 Aegon 350 Ice Fortress
*
* system commands have been commented out to avoid potential disaster
*
set CR ---------------------------
*
* if %actor.is_pc% && %actor.level% == 30 && %actor.admlvl% > 4
*
if %actor.is_pc% 
  if %arg% == 1
    %echo Menu Selection 1: Statistics Modification and Repair
    nop %actor.str(1)%
    nop %actor.stradd(0)%
    nop %actor.int(0)%
    nop %actor.align(0)%
    nop %actor.dex(1)%
    nop %actor.con(0)%
    nop %actor.cha(0)%
    nop %actor.maxhitp(0)%
    nop %actor.maxmove(0)%
    nop %actor.maxmana(0)%
    %send% %actor% str/dex modified to 18 for %actor.name%!
    return 1
    halt
  end
  if %arg% == 2
    %send% %actor% Menu Selection 2: Experience Repair
    eval j 1
    while %j% < 3
      eval i 1
      while %i% < 50
        eval pass %i% * %j%
        nop %actor.exp(1000)% 
        %send% %actor% %pass%
        eval i %i% + 1
      done
      eval j %j% + 1
    done
    eval xp (%j% - 1) * (%i% - 1) * 1000
    %send% %actor% added %xp% xp!
    return 1
    halt
  end
  if %arg% == 3
    %send% %actor% Menu Selection 3: KILLER and THIEF Flag Reset
    * nop %actor.is_killer(off)%
    * nop %actor.is_thief(off)%
    %send% %actor% nothing modified!
    return 1
    halt
  end
  if %arg% == 4
    %send% %actor% Menu Selection 4: Level Reset
    * nop %actor.level(30)%
    nop %actor.admlvl(5)%
    %echo% Your current level is: %actor.level% and your admlvl is: %actor.admlvl% %actor.adminlvl% %actor.admlevel% %actor.adminlevel%
    %send% %actor% nothing modified!
    * %send% %actor% actor level set to 30!
    return 1
    halt
  end
  if %arg% == 5
    %send% %actor% Menu Selection 5: Sentient Weapon Reset
    rdelete ice_dagger_uid %actor.id%
    rdelete ice_dagger_exp %actor.id%
    * %send% %actor% nothing modified!
    %send% %actor% Sentient weapon data erased from %actor.name%!
    return 1
    halt
  end
  if %arg% == 6
    %send% %actor% Menu Selection 6: Set Class
    nop %actor.class(Mage)%
    %send% %actor% Class set to Mage!
    halt
    return 1
  end
  if %arg% == 7
    %send% %actor% Menu Selection 7: Mega Stat Set
    nop %actor.maxhitp(1000)%
    nop %actor.maxmana(1000)%
    nop %actor.maxmove(1000)%
    %send% %actor% Adding 1000 to max hitp, mana and move!
    halt
  end
  if %arg% == 8 && %actor.maxhitp% > 1000
    %send% %actor% Menu Selection 8: Mega Stats Unset
    nop %actor.maxhitp(-1000)%
    nop %actor.maxmana(-1000)%
    nop %actor.maxmove(-1000)%
    %send% %actor% Removing 1000 from max hitp, mana and move!
    halt
  end
  if %arg% == 9
    %send% %actor% Menu Selection 8: Race Reset
    nop %actor.race(Elf)%
    %send% %actor% Race set to Elf!
    return 1
    halt
  end
  if %arg% == 10
    %send% %actor% Menu Selection 10: Alignment Set
    nop %actor.align(-1000)%
    %send% %actor% Setting alignment to -1000!
    halt
  end
  if %arg% == 11
    %send% %actor% Menu Selection 11: Full Actor Variable Display
    %echo% CHARISMA:        %actor.cha%
    %echo% CONSTITUTION:    %actor.con%
    %echo% DEXTERITY:       %actor.dex%
    %echo% INTELLIGENCE:    %actor.int%
    %echo% STRENGTH/STRADD: %actor.str%/%actor.stradd%
    %echo% WISDOM:          %actor.wis%
    %echo% ALIAS:           %actor.alias%
    %echo% ALIGN:           %actor.align%
    %echo% AFFECT:          %actor.affect%
    %echo% CANBESEEN:       %actor.canbeseen%
    %echo% CLASS:           %actor.class%
    %echo% DRUNK:           %actor.drunk%
    %echo% EXPERIENCE:      %actor.exp%
    %echo% FIGHTING:        %actor.fighting%
    %echo% FOLLOWER:        %actor.follower%
    %echo% GOLD:            %actor.gold%
    %echo% HAS_ITEM:        %actor.has_item(1332)%
    %echo% HESHE:           %actor.heshe%
    %echo% HIMHER:          %actor.himher%
    %echo% HISHER:          %actor.hisher%
    %echo% HITPOINTS:       %actor.hitp%
    %echo% HUNGER:          %actor.hunger%
    %echo% ID:              %actor.id%
    %echo% INV:             %actor.inventory%
    %echo% IS_KILLER:       %actor.is_killer%
    %echo% IS_PC:           %actor.is_pc%
    %echo% IS_THIEF:        %actor.is_thief%
    %echo% LEVEL:           %actor.level%
    %echo% MANA:            %actor.mana%
    %echo% MASTER:          %actor.master%
    %echo% MAX HP:          %actor.maxhitp%
    %echo% MAX MANA:        %actor.maxmana%
    %echo% MAX MOVE:        %actor.maxmove%
    %echo% MOVE:            %actor.move%
    %echo% NAME:            %actor.name%
    %echo% NEXT_IN_ROOM:    %actor.next_in_room%
    %echo% POSITION:        %actor.pos%
    %echo% PRACTICES:       %actor.prac%
    %echo% QUESTPOINTS:     %actor.questpoints%
    %echo% ROOM:            %actor.room%
    %echo% SAVING_PARA:     %actor.saving_para%
    %echo% SAVING_ROD:      %actor.saving_rod%
    %echo% SAVING_PETRI:    %actor.saving_petri%
    %echo% SAVING_BREATH:   %actor.saving_breath%
    %echo% SAVING_SPELL:    %actor.saving_spell%
    %echo% SEX:             %actor.sex%
    %echo% SKILL BACKSTAB:  %actor.skill(backstab)%
    %echo% THIRST:          %actor.thirst%
    %echo% TITLE:           %actor.title%
    %echo% VAREXISTS:       %actor.varexists(tba_greeting)%
    %echo% VNUM:            %actor.vnum%
    %echo% WEIGHT:          %actor.weight%
    halt
  end
  %send% %actor% MAIN MENU
  %send% %actor% %CR%
  %send% %actor% 1 Statistic Set (STR 18/100)
  %send% %actor% 2 Experience Bump (+1000)
  %send% %actor% 3 Thief and Killer Flag Reset
  %send% %actor% 4 Level Set (30)
  %send% %actor% 5 Sentient Weapon Reset
  %send% %actor% 6 Class Set (non-functional)
  %send% %actor% 7 Mega Stat Set (+1000 hp/mn/mv)
  %send% %actor% 8 Mega Stat Unset
  %send% %actor% 9 Race Set (non-functional)
  %send% %actor% 10 Align Set (-1000)
  %send% %actor% 11 Full Actor Variable Display
  %send% %actor% %CR%
  %send% %actor% Usage: menu option
  %send% %actor% %CR%
  %send% %actor% Invalid selection.
  %send% %actor% Enter a valid selection: 1-10
  return 1
  halt
else
  %send% %actor% You need to be AVTR+ to use this ancient device of power.
  return 0
end

>[0;00m
[0mCHECKING: 253[0m

Name: 'reset char globals',  VNum: [  253], RNum: [  119]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 1, Arg list: reset
Commands:
*
*  resets remote var
*
set room %self.room%
*
if %actor.is_pc%
  if %cmd% == reset
    if (%actor.name% == aegon || %actor.name% == warrim || %actor.name% == ching)
      set vict %arg.car%
      set arg %arg.cdr%
      %echo% debug arg: %arg%
      if %vict% && %arg%
        set target_char %room.people%
        unset victim
        while %target_char%
          set next_target %target_char.next_in_room%
          if %target_char.name% == %vict%
            set victim %target_char%
          break
        end
        set target_char %next_target%
      done
      if %victim%
        if %arg%
          if %arg% /= delete
            extract remote_id 2 %arg%
            %echo% Removing %remote_id% from char %victim.name%.
            rdelete %remote_id% %victim.id%
          else
            extract key 1 %arg% 
            switch %key%
              case bajjbaji_instruments
                %echo% Setting subjects to %subjects% for char %victim.name%.
                extract value 2 %arg%
                set bajjbaji_instruments %value%
                global bajjbaji_instruments
                remote bajjbaji_instruments %victim.id%
              break
              case subjects
                set subjects gyrgyle
                global subjects
                %echo% Setting subjects to %subjects% for char %victim.name%.
                remote subjects %victim.id%
              break
              default
              break
            done
          end
        else
          %echo% format reset <victim> <remote.id> <delete | value>
        end
      else
        %send% %actor% Beneficiary %vict% not present in room.
        return 1
      end
    else
      return 0
    end
  else
    %send% %actor% The torch bursts into flame and disappears!
    %purge% %self%
    return 1
  end
else
  return 0
end

>[0;00m
[0mCHECKING: 254[0m

Name: 'slay the beasts',  VNum: [  254], RNum: [  120]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 1, Arg list: slay
Commands:
*
*  kill mob - leave corpse
*
set room %self.room%
*
if %actor.is_pc%
  if %cmd% == slay
    if (%actor.name% == aegon || %actor.name% == warrim || %actor.name% == ching)
      set vict %arg.toupper%
      if %vict%
        set target_char %room.people%
        unset victim
        while %target_char%
          set next_target %target_char.next_in_room%
          set name %target_char.name%
          set name %name.toupper%
          %echo% debug: vict [%vict%] name [%name%]
          if %name% /= %vict%
            set victim %target_char%
          end
          set target_char %next_target%
        done
        if %victim%
          %echo% debug: victim.name %victim.name%
          %echo% %actor.name% employs the holy gestures and the room glows bright white!
          eval slay_damage %victim.maxhitp% + 50
          %echo% damaging victim %vict% by %slay_damage% damage
          *          %damage% %victim% %slay_damage%
          nop %victim.hitp(-%slay_damage%)%
        else
          %send% %actor% Victim %vict% not present in room.
          return 1
        end
      else
        %echo% Syntax: slay <victim>
        return 0
        halt
      end
    else
      %send% %actor% The torch bursts into flame and disappears!
      %purge% %self%
      return 1
    end
  else
    return 0
  end
end

>[0;00m
[0mCHECKING: 255[0m

Name: 'cattle drive',  VNum: [  255], RNum: [  121]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: c
Commands:
if %cmd.mudcommand% == cast && %arg% /= sta
  if ! %self.master%
    %echo% You call forth a horde of animals to stampede your own animals!
    wait 1 s
    %echo% Predictably they refuse.
    return 1
    halt
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 256[0m

Name: 'pet trauma',  VNum: [  256], RNum: [  122]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
%echo% %self.name.toupper% is unable to receive that item.
return 0
halt

>[0;00m
[0mCHECKING: 257[0m

Name: 'set legacy race tag',  VNum: [  257], RNum: [  123]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: assign
Commands:
*
*  set race tag
*
set room %self.room%
*
if %actor.is_pc%
  if %cmd% == assign
    if %arg%
      switch %arg%
        case dwarf
        case elf
        case half-elf
        case orc
        case half-orc
        case hobbit
        case goblin
        case kender
        case human
        case gnome
        case uruk-hai
          set legacy_race %arg%
          break
        default
          %send% %actor% Invalid selection: '%arg%'
          %send% %actor% Please select one of the following legacy races: hobbit, dwarf, elf, goblin, half-elf, half-orc, kender, human, gnome, orc or uruk-hai.
          return 1
          halt
          break
      done
      if %actor.varexists(legacy_race)%
        %send% %actor% Your legacy_race has been previously set to: %actor.legacy_race%.
      else
        global legacy_race
        remote legacy_race %actor.id
        %send% %actor% Successfully set legacy race flag to: %legacy_race%.
      end
    else
      %send% %actor% Format is: assign <race>
      %send% %actor% Where <race> is one of the following:
      %send% %actor% hobbit, dwarf, elf, goblin, half-elf, half-orc, kender, human, gnome, orc or uruk-hai
      return 1
      halt
    end
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 258[0m

Name: 'no gates pls',  VNum: [  258], RNum: [  124]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: cast
Commands:
if %cmd% == unglow
  dg_affect %actor% sanct off 1
  dg_affect %actor% poison off 1
elseif %cmd% == cast && %arg% == 'inner
  %send% %actor% You lost your concentration!
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 259[0m

Name: 'dwarf!',  VNum: [  259], RNum: [  125]
Trigger Intended Assignment: Objects
Trigger Type: Wear , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  if %actor.varexists(legacy_race)%
    if %actor.legacy_race% != dwarf
      %send% %actor% Your class cannot wear %self.shortdesc%.
      return 1
      halt
    end
  else
    if %actor.race% != dwarf
      %send% %actor% Your class cannot wear %self.shortdesc%.
      return 1
      halt
    end
  end
end

>[0;00m
[0mCHECKING: 313[0m

Name: 'loki's caprice spell generator',  VNum: [  313], RNum: [  126]
Trigger Intended Assignment: Objects
Trigger Type: Wear , Numeric Arg: 100, Arg list: None
Commands:
*
* assign wand characteristics at equip time
* 
if %random.100% < 90
  osetval 0 %actor.level%
  set max_charges %random.5%
  osetval 1 %max_charges%
  set remaining %%random.%max_charges%%
  eval remaining %remaining%
  osetval 2 %remaining%
  osetval 3 %random.164%
else
  %send% %actor% Loki's Caprice dissolves in your hand.
  %purge% %self%
end

>[0;00m
[0mCHECKING: 511[0m

Name: 'wight Speech',  VNum: [  511], RNum: [  127]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
wait 2 sec
switch %random.2% 
  case 1
    wait 10
    %echo% The wight's hideously unearthly howl turns your blood to ice.
  break
  case 2
    wait 6 sec
    %echo% The temperature here is like the inside of a butcher's freezer, frigid with the presence of angry spirits. You shiver despite your many layers of protection.
  break
done

>[0;00m
[0mCHECKING: 627[0m

Name: 'Elsa Speech',  VNum: [  627], RNum: [  128]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
    wait 20 sec
    %echo% The Ice Queen sings, "The snow glows white on the mountain tonight, Not a footprint to be seen."
    wait 20 sec
    %echo% The Ice Queen sings, "A kingdom of ICEolation."
    wait 20 sec
    %echo% The Ice Queen sings, "And it looks like I'm the Queen."
    wait 20 sec
    %echo% The Ice Queen sings, "The wind is howling like this swirling storm inside --"
    wait 20 sec
    %echo% The Ice Queen sings, "Couldn't keep it in -- Heaven knows I tried."
    wait 20 sec
    %echo% The Ice Queen sings, "Don't let them in -- don't let them see --"
    wait 20 sec
    %echo% The Ice Queen sings, "Be the good girl you always have to be!"
    wait 20 sec
    %echo% The Ice Queen sings, "Conceal, don't feel -- don't let them know --"
    wait 20 sec
    %echo% The Ice Queen sings, "Well, now they know..."
    wait 20 sec
    %echo% The Ice Queen sings, "Let it go! Let it go! Can't hold me back anymore!"
    wait 20 sec
    %echo% The Ice Queen sings, "Let it go! Let it go! Turn away and slam the door!"
    wait 20
    %echo% The Ice Queen sings, "I don't care what they're going to say --"
    wait 20 sec
    %echo% The Ice Queen sings, "Let the storm rage on....the cold never bothered me anyway."
    wait 20 sec
    %echo% The Ice Queen sings, "It's funny how some distance makes everything seem small."
    wait 20 sec
    %echo% The Ice Queen sings, "And the fears that once controlled me can't get to me at all!"
    wait 20 sec
    %echo% The Ice Queen sings, "Up here in the cold, thin air, I finally can breathe --"
    wait 20 sec
    %echo% The Ice Queen sings, "I know I left a life behind -- but I'm too relieved to grieve!"
    wait 20 sec
    %echo% The Ice Queen sings, "It's time to see what I can do, to test the limits and through."
    wait 20 sec
    %echo% The Ice Queen sings, "No right, no wrong, no rules for me. I'm free!"
    wait 20 sec
    %echo% The Ice Queen sings, "Let it go!  Let it go!  I am one with the wind and sky!"
    wait 20 sec
    %echo% The Ice Queen sings, "Let it go!  Let it go!  You'll never see me cry!"
    wait 20 sec
    %echo% The Ice Queen sings, "Here I stand!  And here I'll stay!"
    wait 20 sec
    %echo% The Ice Queen sings, "Let the storm rage on..."
    wait 20 sec
    %echo% The Ice Queen sings, "My power flurries through the air into the ground!"
    wait 20 sec
    %echo% The Ice Queen sings, "My soul is spiraling in frozen fractals all around!"
    wait 20 sec
    %echo% The Ice Queen sings, "And one thought crystallizes like an icy blast..."
    wait 20 sec
    %echo% The Ice Queen sings, "I'm never going back -- The past is in the past!"
    wait 20 sec
    %echo% The Ice Queen sings, "Let it go!  Let it go!  And I'll rise like the of dawn!"
    wait 20 sec
    %echo% The Ice Queen sings, "Let it go!  Let it go!  That perfect girl is gone!"
    wait 20 sec
    %echo% The Ice Queen sings, "Here I stand, in the light of day."
    wait 20 sec
    %echo% The Ice Queen sings, "Let the storm rage on!"
    wait 20 sec
    %echo% The Ice Queen exclaims, "The cold never bothered me anyway!"  
    wait 20 sec

>[0;00m
[0mCHECKING: 628[0m

Name: 'Anna Speech',  VNum: [  628], RNum: [  129]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
    wait 20 sec
    %echo% The Adorable Princess sings, "The window is open!  So's that door!"
    wait 20 sec
    %echo% The Adorable Princess sings, "I didn't know they did that anymore!"
    wait 20 sec
    %echo% The Adorable Princess sings, "Who knew we owned eight thousand salad plates?"
    wait 20 sec
    %echo% The Adorable Princess sings, "For years I've roamed these empty halls --"
    wait 20 sec
    %echo% The Adorable Princess sings, "Why have a ballroom with no balls?"
    wait 20 sec
    %echo% The Adorable Princess sings, "Finally they're opening up the gates!"
    wait 20 sec
    %echo% The Adorable Princess sings, "There'll be actual real live people. It'll be totally strange!"
    wait 20 sec
    %echo% The Adorable Princess sings, "But wow!  Am I so ready for this change!"
    wait 20 sec
    %echo% The Adorable Princess sings, "'Cause for the first time in forever,"
    wait 20 sec
    %echo% The Adorable Princess sings, "There'll be music, there'll be light!"
    wait 20 sec
    %echo% The Adorable Princess sings, "For the first time in forever,"
    wait 20
    %echo% The Adorable Princess sings, "I'll be dancing through the night..."
    wait 20 sec
    %echo% The Adorable Princess sings, "Don't know if I'm elated or gassy, but I'm somewhere in that zone!"
    wait 20 sec
    %echo% The Adorable Princess sings, "Cause for the first time in forever, I won't be alone!"
    wait 20 sec
    %echo% The Adorable Princess exclaims, "I can't wait to meet everyone!"
    wait 20 sec
    %echo% The Adorable Princess gasps.
    wait 20 sec
    %echo% The Adorable Princess asks, "What if I meet... the one?"
    wait 20 sec
    %echo% The Adorable Princess sings, "Tonight, imagine me gown and all,"
    wait 20 sec
    %echo% The Adorable Princess sings, "fetchingly draped against the wall,"
    wait 20 sec
    %echo% The Adorable Princess sings, "The picture of sophisticated grace... Ooh!"
    wait 20 sec
    %echo% The Adorable Princess sings, "I suddenly see him standing there,"
    wait 20 sec
    %echo% The Adorable Princess sings, "a beautiful stranger, tall and fair --"
    wait 20 sec
    %echo% The Adorable Princess sings, "I wanna stuff some chocolate in my face!"
    wait 20 sec
    %echo% The Adorable Princess sings, "But then we laugh and talk all evening, which is totally bizarre --"
    wait 20 sec
    %echo% The Adorable Princess sings, "Nothing like the life I've led so far!"
    wait 20 sec
    %echo% The Adorable Princess sings, "For the first time in forever, there'll be magic, there'll be fun!"
    wait 20 sec
    %echo% The Adorable Princess sings, "For the first time in forever, I could be noticed by someone..."
    wait 20 sec
    %echo% The Adorable Princess sings, "And I know it is totally crazy to dream I'd find romance..."
    wait 20
    %echo% The Adorable Princess sings, "But for the first time in forever, at least I've got a chance!"
    wait 20 sec
    %echo% The Adorable Princess sings, "It's only for today!  It's agony to wait!"
    wait 20 sec
    %echo% The Adorable Princess sings, "For the first time in forever, I'm getting what I'm dreaming of!"
    wait 20 sec
    %echo% The Adorable Princess sings, "A chance to change my loneliness, a chance to find true love!"
    wait 20 sec
    %echo% The Adorable Princess sings, "I know it all ends tomorrow, so it has to be today!"
    wait 20 sec
    %echo% The Adorable Princess sings, "Cause for the first time in forever..."
    wait 20 sec
    %echo% The Adorable Princess sings, "For the first time in forever -- nothing's in my way!"
    wait 20 sec

>[0;00m
[0mCHECKING: 629[0m

Name: 'Kristoff Speech',  VNum: [  629], RNum: [  130]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
    wait 20 sec
    %echo% The Iceman sings, "Reindeers are better than people."
    wait 20 sec
    %echo% The Iceman sings, "Friend, don't you think that's true?"
    wait 20 sec
    %echo% The Iceman pitches his voice lower by an octave and sings, "Yeah people will beat you, and curse you and cheat you,"
    wait 20 sec
    %echo% The Iceman pitches his voice lower by an octave and sings, "Every one of 'em's bad, except you."
    wait 20 sec
    %echo% The Iceman says, "O-ho, thanks buddy."
    wait 20 sec
    %echo% The Iceman sings, "But people smell better than reindeers."
    wait 20 sec
    %echo% The Iceman sings, "Friend, don't you think I'm right?"
    wait 20 sec
    %echo% The Iceman pitches his voice lower by an octave and sings, "That's once again true, for all except you."
    wait 20 sec
    %echo% The Iceman sings, "You've got me, let's call it a night."
    wait 20 sec
    %echo% The Iceman pitches his voice lower by an octave and sings, "Good night."
    wait 20 sec
    %echo% The Iceman sings, "Don't let the frost bite...bite."
    wait 20

>[0;00m
[0mCHECKING: 631[0m

Name: 'Olaf Speech',  VNum: [  631], RNum: [  131]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
    wait 20 sec
    %echo% The Little Snowman says, "Hi, everyone."
    wait 20 sec
    %echo% The Little Snowman says, "I like warm hugs."
    wait 20 sec
    %echo% The Little Snowman says, "I've always loved the idea of summer..."
    wait 20 sec
    %echo% The Little Snowman says, "Sometimes, I like to close my eyes, and imagine what it would be like when summer does come..."
    wait 20 sec
    %echo% The Little Snowman sighs.
    wait 20 sec
    %echo% The Little Snowman calls, "Heads up!"
    wait 20 sec
    %echo% The Little Snowman says, "Watch out for my butt!"
    wait 20 sec
    %echo% The Little Snowman says, "Man, am I outta shape."
    wait 20 sec
    %echo% The Little Snowman says, "Better watch out for the big Marshmallow."
    wait 20 sec
    %echo% The Little Snowman says, "I don't have a skull.  Or bones."
    wait 20 sec
    %echo% The Little Snowman says, "I like to consider myself a Love Expert."
    wait 20 sec
    %echo% The Little Snowman says, "The sky is awake!"
    wait 20 sec
    %echo% The Little Snowman says, "Let's go kiss Hans!"
    wait 20 sec
    %echo% The Little Snowman says, "I love heat!  But don't touch it."
    wait 20 sec
    %echo% The Little Snowman says, "Love is putting someone else's needs before your own."
    wait 20 sec
    %echo% The Little Snowman says, "Some people are worth melting for."
    wait 20 sec
    %echo% The Little Snowman says, "Just maybe not right this second."
    wait 20
    %echo% The Little Snowman says, "An act of true love will thaw a frozen heart!"
    wait 20 sec
    %echo% The Little Snowman says, "Hands down, this is the best day of my life."
    wait 20 sec
    %echo% The Little Snowman says, "Look!  I've got my own personal flurry!"
    wait 20 sec
    %echo% The Little Snowman says, "Glide and pivot.  And glide...and pivot."
    wait 20 sec

>[0;00m
[0mCHECKING: 632[0m

Name: 'Snow-Golem Speech',  VNum: [  632], RNum: [  132]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
    wait 20 sec
    %echo% The Giant Snowman bellows, "Go Away!"
    wait 20 sec
    %echo% The Giant Snowman roars.
    wait 20 sec
    %echo% The Giant Snowman growls.
    wait 20 sec
    %echo% The Giant Snowman roars.
    wait 20 sec
    %echo% The Giant Snowman bellows, "Don't come back!"
    wait 20 sec
    %echo% The Giant Snowman growls.
    wait 20 sec

>[0;00m
[0mCHECKING: 701[0m
[0mCHECKING: 899[0m

Name: 'test gauntlet teleport',  VNum: [  701], RNum: [  133]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 7, Arg list: sla
Commands:
if %cmd% == slam
set num %random.25499%
%echo% %num%
if (%num.vnum% > 300 && ((%num.vnum% < 23600) || (%num.vnum% > 23999)))
%teleport% %actor% %num%
%send% %actor% You slam the gauntlet into the ground and create a hole in time and space..
%force% %actor% l
else
%send% %actor% You slam the gauntlet into the ground and think better of stepping through the distortion in front of you.
break
end
end

>[0;00m
Name: 'prevent quit',  VNum: [  899], RNum: [  134]
Trigger Intended Assignment: Rooms
Trigger Type: Command Enter , Numeric Arg: 100, Arg list: quit
Commands:
if %cmd.mudcommand% == quit
  %send% %actor% spinning trying to breath...you get slammed against the wall...blackness...
else
return 0
end

>[0;00m
[0mCHECKING: 1001[0m

Name: 'test',  VNum: [ 1001], RNum: [  135]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
* No Script

>[0;00m
[0mCHECKING: 1100[0m

Name: 'Elven wizard Speech',  VNum: [ 1100], RNum: [  136]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
* By AP
if (%actor.is_pc%)
  wait 2 sec
  %echo% The wizard chuckles and cracks a friendly smile at your approach.
  wait 20 sec
  %echo% He says, "%actor.name%, I am not the one you seek, but I know much to aid your way."
  wait 20 sec
  %echo% "The arts of the flaming sword, believed lost forever, have been revived."
  wait 20 sec
  %echo% His smile gone, he adds, "Seek the ruins of the elven village for the answer."
  wait 20 sec
  %echo% He nods. "I can tell you no more."
end

>[0;00m
[0mCHECKING: 1101[0m

Name: 'Keeper of the ring speech',  VNum: [ 1101], RNum: [  137]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 10, Arg list: None
Commands:
* By AP
wait 10 s
%echo% You hear a shuffling sound, as if someone else is in the room with you. 

>[0;00m
[0mCHECKING: 1102[0m

Name: 'Farner gamgee speech',  VNum: [ 1102], RNum: [  138]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 20 sec
   say "Hello there."
   wait 20 sec
   say "Nice day."
   wait 20 sec
   %echo% Farmer Gamgee sniffs the air

>[0;00m
[0mCHECKING: 1105[0m

Name: 'cow speech',  VNum: [ 1105], RNum: [  139]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 15 sec
   %echo% A cow moos

>[0;00m
[0mCHECKING: 1106[0m

Name: 'pig speech',  VNum: [ 1106], RNum: [  140]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 15 sec
   %echo% A pig oinks

>[0;00m
[0mCHECKING: 1107[0m

Name: 'chicken speech',  VNum: [ 1107], RNum: [  141]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 15 sec
   %echo% A chicken clucks

>[0;00m
[0mCHECKING: 1108[0m

Name: 'bull speech',  VNum: [ 1108], RNum: [  142]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 15 sec
   %echo% A bull snorts at you

>[0;00m
[0mCHECKING: 1109[0m

Name: 'horse speech',  VNum: [ 1109], RNum: [  143]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 15 sec
   %echo% A horse neighs

>[0;00m
[0mCHECKING: 1110[0m

Name: 'my precious',  VNum: [ 1110], RNum: [  144]
Trigger Intended Assignment: Objects
Trigger Type: Random , Numeric Arg: 5, Arg list: None
Commands:
*
* ring of power compulsion
*
if %self.worn_by%
  set actor %self.worn_by%
  %send% %actor% You whisper something in your delirium.
  %echoaround% %actor% %actor.name.toupper% whispers '... my precious...'
elseif %self.carried_by%
  set actor %self.carried_by%
  if %actor.is_pc%
    %send% %actor% You have an intense desire to slip the %self.name.toupper% onto your finger.
  end
end

>[0;00m
[0mCHECKING: 1111[0m

Name: 'orcs be about! wear',  VNum: [ 1111], RNum: [  145]
Trigger Intended Assignment: Objects
Trigger Type: Wear , Numeric Arg: 100, Arg list: None
Commands:
*
* give sting a blue glow around orcs/goblins
* 
* get zone
set room %self.room%
set room %room.vnum%
if %room.strlen% > 4
  eval zone (%room.charat(1)% * 100)
  eval zone %zone% + (%room.charat(2)% * 10)
  eval zone (%zone% + %room.charat(3)%)
else
  eval zone (%room.charat(1)% * 10)
  eval zone %zone% + %room.charat(2)%
end
* %echo% [%zone%]
*
switch %zone%
  case 18
    case 40
    case 41
    case 51
    case 62
    case 74
    case 92
    case 186
    case 192
    %echo% %self.name.toupper% glows bright blue!
  break
  default
  break
done

>[0;00m
[0mCHECKING: 1112[0m

Name: 'Thain speech',  VNum: [ 1112], RNum: [  146]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 15 sec
   %echo% The thain yells out, "Hullo!"
   wait 15 sec
   say "Enjoy your stay in the Shire."
   wait 15 sec
   say "Stay out of trouble now."

>[0;00m
[0mCHECKING: 1113[0m

Name: 'Innkeeper speech',  VNum: [ 1113], RNum: [  147]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   say "Welcome to the Ivy Bush."
   wait 15 sec
   say "What's your pleasure?"
   wait 20 sec

>[0;00m
[0mCHECKING: 1114[0m

Name: 'Miller halfling speech',  VNum: [ 1114], RNum: [  148]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 15 sec
   %echo% The Miller yells out, "Get back to work, you idlers!"
   wait 20 sec

>[0;00m
[0mCHECKING: 1115[0m

Name: 'o elbereth!',  VNum: [ 1115], RNum: [  149]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 1, Arg list: elbereth
Commands:
if (%cmd% /= elbereth)
  if %actor.fighting%
    set vict %actor.fighting%
    if (%vict.alias% /= orc || %vict.alias% /= goblin)
      eval dam %vict.hitp% / 2
      %damage% %vict% %dam%
      %echo% Sting sears %vict.name.toupper%! (%dam%)
      wait 5 s
    else
      %send% %actor% The sacred oath is only effective vs. orc, uruk, or goblin-kind.
      return 0
      halt
    end
  else
    %send% %actor% The sacred oath is only effective during melee.
    return 0
    halt
  end

>[0;00m
[0mCHECKING: 1116[0m

Name: 'elven warrior speech',  VNum: [ 1116], RNum: [  150]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 20 sec
   %echo% The elven warrior looks directly into your eyes.

>[0;00m
[0mCHECKING: 1117[0m

Name: 'elven prince speech',  VNum: [ 1117], RNum: [  151]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 20 sec
   %echo% The dwarven prince looks at you and shakes his head.

>[0;00m
[0mCHECKING: 1118[0m

Name: 'shopkeeper speech',  VNum: [ 1118], RNum: [  152]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 20 sec
   say "Welcome to the best store in the Shire."

>[0;00m
[0mCHECKING: 1119[0m

Name: 'Grocer speech',  VNum: [ 1119], RNum: [  153]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   say "Welcome to the Grocer's Delight."
   wait 20 sec
   say "Pipeweed's good for what ails ya."

>[0;00m
[0mCHECKING: 1120[0m

Name: 'orcs be about! look',  VNum: [ 1120], RNum: [  154]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 3, Arg list: l
Commands:
*
* give sting a goblin/orc warning
*
if (%cmd.mudcommand% == look && %arg% == sting)
  * get zone
  set room %self.room%
  set room %room.vnum%
  if %room.strlen% > 4
    eval zone (%room.charat(1)% * 100)
    eval zone %zone% + (%room.charat(2)% * 10)
    eval zone (%zone% + %room.charat(3)%)
  else
    eval zone (%room.charat(1)% * 10)
    eval zone %zone% + %room.charat(2)%
  end
  * %echo% [%zone%]
  *
  %send% %actor% Named by Bilbo Baggins and forged in the First Age by the Elves, Sting 
  %send% %actor% was created as a weapon to combat the orcish evil looming over the 
  %send% %actor% horizon.  While Sting is only the size of a dagger in the hands of a 
  %send% %actor% man, its unquestionable sharpness strikes fear into its enemies.  In 
  %send% %actor% addition to its strength in combat, Sting always glows blue in the 
  %send% %actor% presence of orcs, thereby warning the wielder of their presence. 
  *
  switch %zone%
    case 18
      case 40
      case 41
      case 51
      case 62
      case 74
      case 92
      case 186
      case 192
      %send% %actor% (blue glow)
    break
    default 
    break
  done
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 1128[0m

Name: 'Country bumpkin speech',  VNum: [ 1128], RNum: [  155]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% A country bumpkin snores loudly.

>[0;00m
[0mCHECKING: 1130[0m

Name: 'Innkeeper speech',  VNum: [ 1130], RNum: [  156]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
* By AP
if (%actor.is_pc%)
   wait 10 sec
   say "Adventurers! Welcome!"
   wait 20 sec
   say "What's that, %actor.name%? Drinks are on you? Huzzah!"
end

>[0;00m
[0mCHECKING: 1131[0m

Name: 'Local Gossip speech',  VNum: [ 1131], RNum: [  157]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
* By AP
  if (%actor.is_pc%)
   
   wait 10 sec
   say "I heard $n got caught stealing Scooby Snacks from the Midgaard bakery. Scandal!"
   wait 20 sec
   say "What a horrible tragedy. %actor.name% went into a death trap and lost everything."
   wait 20 sec
   say A very good source said she saw %actor.name% going into Zoe's private room in the wayhouse."
   wait 20 sec
   say "I heard that %actor.name% was walking around naked all day yesterday. I wish I'd been there to see it."
   wait 20 sec
   say "Did you know? %actor.name% flunked out of the bardic colleges."
end

>[0;00m
[0mCHECKING: 1132[0m

Name: 'nazgul',  VNum: [ 1132], RNum: [  158]
Trigger Intended Assignment: Objects
Trigger Type: Random , Numeric Arg: 5, Arg list: None
Commands:
if %self.worn_by%
  if (%room.roomflag(!ASTRAL)% || %room.roomflag(!TELEPORT)% || %room.roomflag(PEACEFUL)%)
    return 0
    halt
  elseif (%room.roomflag(!MOB)% || %room.roomflag(!CRIME)% || %room.roomflag(!MAGIC)%)
    return 0
    halt
  elseif (%actor.level% < 25 || %room.roomflag(INDOORS)%
    return 0
    halt
  end
  %echo% From a distance you hear the blood-curdling wail of the Nazg�l.
  wait 15 s
%echo% The One Ring has betrayed you! Sauron's agents, the Ringwraiths, approach!
  %load% mob 1132
end

>[0;00m
[0mCHECKING: 1133[0m

Name: 'one ring sneak on',  VNum: [ 1133], RNum: [  159]
Trigger Intended Assignment: Objects
Trigger Type: Wear , Numeric Arg: 100, Arg list: None
Commands:
*
* only one ring of power at a time
*
if %actor.eq(lfinger)%
  set lring %actor.eq(lfinger)%
  set lring_vnum %lring.vnum%
end
*
if %actor.eq(rfinger)%
  set rring %actor.eq(rfinger)%
  set rring_vnum %rring.vnum%
end 
*
if %lring_vnum% == %self.vnum% || %rring_vnum% == %self.vnum%
  %send% %actor% Foo! You cannae wear a second Ring of Power!
  %send% %actor% You are zapped by %self.shortdesc%!
  %damage% %actor% %random.100%
  %echoaround% %actor% %actor.name% lies upon the ground, suffering ...
  return 0
  halt
else
  if ! %actor.affect(SNEAK)%
    dg_affect %actor% sneak on 24
  end
end

>[0;00m
[0mCHECKING: 1134[0m

Name: 'roomflag check',  VNum: [ 1134], RNum: [  160]
Trigger Intended Assignment: Objects
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
*
* display roomflags
*
set actor %random.char%
set room %actor.room%
set flags
*
if %room.roomflag(!ASTRAL)%
  set flags !ASTRAL
end
if %room.roomflag(!TELEPORT)%
  set flags %flags% !TELEPORT
end
if %room.roomflag(PEACEFUL)%
  set flags %flags% PEACEFUL
end
if (%room.roomflag(!MOB)%
  set flags %flags% !MOB
end
if %room.roomflag(!CRIME)%
  set flags %flags% !CRIME
end
if %room.roomflag(!MAGIC)%
  set flags %flags% !MAGIC
end
if %room.roomflag(INDOORS)%
  set flags %flags% INDOORS
end
%echo% %time.hour% Room: %room.vnum% Flags: [%flags%]

>[0;00m
[0mCHECKING: 1208[0m

Name: 'tyderium shuttle main travel loop',  VNum: [ 1208], RNum: [  161]
Trigger Intended Assignment: Rooms
Trigger Type: Global Random Enter , Numeric Arg: 100, Arg list: None
Commands:
*
*                                  initial coding hurin
*  17 Mar 24 - Aegon   add cross-talk and dialogue performances
*
* unique shuttle call sign
*
eval tyderium 1000 + %random.1000%
*
if !%sws%
  set sws 1
  global sws
  halt
elseif (%sws% < 4)
  eval sws %sws% + 1
  global sws
  halt
else
  unset sws
  *
  * global speed factor
  *
  set beat 2
  set pause 10
  eval longpause %pause% * 3
  eval shortpause %pause% / 2
  *
  * passenger density %
  *
  set density 5
  *
  * shuttle rooms
  *
  set shuttle[1] 1330
  set shuttle[2] 1392
  set shuttle[3] 1393
  set shuttle[4] 1394
  set shuttle[5] 1395
  set shuttle[6] 1397
  set shuttle[7] 1398
  *
  %at% 1396 %echo% Zaphod Beeblebrox touches the comm link on his headset and exclaims,
  %at% 1396 %echo% "Yahoo!! We made it out of hyperspace!!" 
  %at% 1396 %echo% "Prepare for landing, we are entering the planet's atmosphere!"
  set i 1
  while %i% < 8
    set room_vnum %%shuttle[%i%]%%
    eval room_vnum %room_vnum%
    %at% %room_vnum% %echo% An overhead speaker crackles to life, 
    %at% %room_vnum% %echo% "Yahoo!! We made it out of hyperspace!!"
    %at% %room_vnum% %echo% "Prepare for landing, we are entering the planet's atmosphere!"
    eval i %i% + 1
  done 
  *
  %echo% A shuttle approaches in the distance.
  *
  * unlock escape pod to eastern desert
  *
  %door% 1392 south room 1399
  %door% 1392 south flags ab
  *
  %at% 1396 %echo% Zaphod touches the comm link on his headset and says, 
  %at% 1396 %echo% "Desert Control this is CS-%tyderium% Tyderium on approach to your LZ."
  %at% 1206 %echo% A small speaker crackles with static and a robotic voice intones,
  %at% 1206 %echo% "Desert Control this is CS-%tyderium% Tyderium on approach to your LZ." 
  wait %shortpause% s
  %at% 1396 %echo% "Acknowledge."
  %at% 1206 %echo% "Acknowledge."
  eval pad %random.10%
  *
  %at% 1206 %echo% The comm tech cooly touches his headest, adjusts a screen control, and responds,
  %at% 1206 %echo% "CS-%tyderium% Tyderium your request granted. 
  %at% 1396 %echo% A small speaker on Zaphod's console comes to life, 
  %at% 1396 %echo% "CS-%tyderium% Tyderium your request granted."
  wait %beat% s
  %at% 1206 %echo% "Landing program uploaded and confirmed."
  %at% 1396 %echo% The garbled voice continues, "Landing program uploaded and confirmed." 
  wait %beat% s
  %at% 1396 %echo% "Please land your craft at Outpost Docking Bay %pad%."
  wait %beat% s
  %at% 1396 %echo% Zaphod Beeblebrox uses his extra arm to reach over and press a little button.
  wait %shortpause% s
  %at% 1396 %echo% A small speaker on Zaphod's console comes to life, 
  %at% 1396 %echo% "CS-%tyderium% Tyderium welcome back to the Eastern Desert Outpost."
  *
  *  lock escape pod 
  *
  %door% 1392 south flags abcd
  *
  *
  * E A S T E R N      D E S E R T
  *
  %echo% The shuttle slows and hovers briefly over the docking pad, kicking up a cloud of dust and sand, then gently lands, engines spinning down as the hull cools.
  set i 1
  while %i% < 8
    set room_vnum %%shuttle[%i%]%%
    eval room_vnum %room_vnum%
    %at% %room_vnum% %echo% An overhead speaker crackles to life, 
    %at% %room_vnum% %echo% "Welcome back to The Eastern Desert!"
    %at% %room_vnum% %echo% "Please exit the shuttle promptly, and fly with us again!"
    eval i %i% + 1
  done
  %at% 1206 %echo% A small speaker crackles with static, "Shuttle landing confirmed Outpost Docking Bay %pad%.  Shuttle now boarding."
  %echo% A loudspeaker blares, "The shuttle to Tatooine is now boarding!"
  *
  %door% %self.vnum% up room 1330
  %door% 1330 down room 1208
  *
  %echo% The shuttle doors open.
  %at% 1330 %echo% The shuttle doors open.
  wait %longpause% s
  *
  * wait for passengers to tatooine
  *
  %echo% The shuttle doors close.
  %at% 1330 %echo% The shuttle doors close.
  %door% %self.vnum% up purge
  %door% 1330 down purge
  wait %shortpause% s
  %at% 1396 %echo% Zaphod touches the comm link on his headset and says, 
  %at% 1396 %echo% "Desert Control this is CS-%tyderium% Tyderium."
  %at% 1206 %echo% A small speaker crackles with static and a robotic voice intones,
  %at% 1206 %echo% "Desert Control this is CS-%tyderium% Tyderium."
  wait %beat% s
  %at% 1396 %echo% "Request immediate launch from Outpost Docking Bay %pad%." 
  %at% 1396 %echo% "Acknowledge."
  %at% 1206 %echo% "Request immediate launch from Outpost Docking Bay %pad%."
  %at% 1206 %echo% "Acknowledge."
  wait %beat% s
  %at% 1206 %echo% The comm tech, pulls a series of levers, touches his headset and responds,
  %at% 1206 %echo% "CS-%tyderium% Tyderium your request granted."
  %at% 1396 %echo% A small speaker on Zaphod's console comes to life,
  %at% 1396 %echo% "CS-%tyderium% Tyderium your request granted. 
  wait %beat% s
  %at% 1206 %echo% "Launch trajectory uploaded and confirmed."
  %at% 1396 %echo% "Launch trajectory uploaded and confirmed."
  wait %beat% s
  %at% 1396 %echo% Zaphod Beeblebrox touches the comm link on his headset and exclaims,
  %at% 1396 %echo% "Strap in gang! We're hijackin' this baby to Tatooine!"
  set i 1
  while %i% < 8
    set room_vnum %%shuttle[%i%]%%
    eval room_vnum %room_vnum%
    %at% %room_vnum% %echo% An overhead speaker crackles to life, 
    %at% %room_vnum% %echo% "Strap in gang! We're hijackin' this baby to Tatooine!"
    eval i %i% + 1
  done  
  wait %beat% s
  *
  %at% 1396 %echo% Zaphod Beeblebrox uses his extra arm to reach over and press a little button.
  wait %shortpause% s
  %at% 1208 %echo% The shuttle lifts off from the Great Eastern Desert and recedes from view. 
  %at% 1396 %echo% You sink into your launch chair as the shuttle fights its way through planetary gravity.
  set i 1
  while %i% < 8
    set room_vnum %%shuttle[%i%]%%
    eval room_vnum %room_vnum%
    %at% %room_vnum% %echo% You sink into your launch chair as the shuttle fights its way through planetary gravity."
    eval i %i% + 1
  done 
  *
  * T A T O O I N E
  * 
  eval docking_bay  86 - %random.5%
  *
  wait %longpause% s
  %at% 1396 %echo% Zaphod Beeblebrox touches the comm link on his headset and exclaims,  
  %at% 1396 %echo% "Yahoo!! We made it out of hyperspace!!"
  %at% 1396 %echo% "Prepare for landing, we are entering the planet's atmosphere!"
  set i 1
  while %i% < 8
    set room_vnum %%shuttle[%i%]%%
    eval room_vnum %room_vnum%
    %at% %room_vnum% %echo% An overhead speaker crackles to life, 
    %at% %room_vnum% %echo% "Yahoo!! We made it out of hyperspace!!
    %at% %room_vnum% %echo% "Prepare for landing, we are entering the planet's atmosphere!"
    eval i %i% + 1
  done
  *
  %at% 1211 %echo% A shuttle approaches in the distance.
  *
  * open escape pod to tatooine desert
  *
  %door% 1392 south room 721 
  %door% 1392 south flags ab
  *
  wait %beat% s
  %at% 1396 %echo% Zaphod Beeblebrox touches the comm link on his headset and says,
  %at% 1396 %echo% "Tatooine ILS Control this is CS-%tyderium% Tyderium on approach to your LZ." 
  %at% 1211 %echo% The Custom Officer's comset crackles, 
  %at% 1211 %echo% "Tatooine ILS Control this is CS-%tyderium% Tyderium on approach to your LZ."
  wait %beat% s 
  %at% 1396 %echo% "Acknowledge."
  %at% 1211 %echo% "Acknowledge."
  wait %beat% s
  %at% 1211 %echo% The Custom Officer's comset drones, "CS-%tyderium% Tyderium your request granted."
  %at% 1396 %echo% A small speaker on Zaphod's console comes to life, 
  %at% 1396 %echo% "CS-%tyderium% Tyderium your request granted. 
  wait %beat% s
  %at% 1211 %echo% "Landing program uploaded and confirmed. Please land at Docking Bay %docking_bay%."
  %at% 1396 %echo% "Landing program uploaded and confirmed."
  %at% 1396 %echo% "Please land at Docking Bay %docking_bay%."
  wait %shortpause% s
  *
  * lock escape pod
  *
  %door% 1392 south flags abcd
  *
  %at% 1396 %echo% Zaphod Beeblebrox uses his extra arm to reach over and press a little button.
  *
  wait %pause% sec
  %at% 1211 %echo% The shuttle slows and hovers briefly over the docking pad, soundlessly, then gently lands, engines spinning down as the hull cools.
  set i 1
  while %i% < 8
    set room_vnum %%shuttle[%i%]%%
    eval room_vnum %room_vnum%
    %at% %room_vnum% %echo% An overhead speaker crackles to life,  
    %at% %room_vnum% %echo% "Welcome to Tatooine! Please exit the shuttle promptly, and fly with us again!"
    eval i %i% + 1
  done
  %at% 1211 %echo% The Customs Office's comset crackles with static, 
  %at% 1211 %echo% "Shuttle landing confirmed Tatooine Docking Bay %docking_bay%."
  wait %beat% s
  %at% 1211 %echo% "Shuttle now boarding."
  %at% 1330 %echo% The shuttle doors open.
  %door% 1211 up room 1330
  %door% 1330 down room 1211
  %at% 1211 %echo% A loudspeaker blares, "The shuttle to The Eastern Desert is now boarding!"
  %at% 1211 %echo% The shuttle doors open.
  wait %longpause% s
  set vnum 0
  if %random.100% <= %density%
    switch %random.5%
      case 1
        set vnum 1252
        break
      case 2
        set vnum 1245
        break
      case 3
        set vnum 1231
        break
      case 4
        set vnum 1201
        break
      case 5
        set vnum 1228
        break
      default
        break
    done
    if %vnum%
      %at% 1330 %load% mob %vnum%
    end
  end
  %door% 1330 down purge
  %door% 1211 up purge
  %at% 1330 %echo% The shuttle doors close.
  %at% 1211 %echo% The shuttle doors close. 
  %at% 1396 %echo% Zaphod touches the com link on his headset and says, 
  %at% 1396 %echo% "Tatooine ILS Control this is CS-%tyderium% Tyderium."
  %at% 1211 %echo% "Tatooine ILS Control this is CS-%tyderium% Tyderium."
  wait %beat% s
  %at% 1396 %echo% "Request immediate launch from Docking Bay %docking_bay%.  Acknowledge."
  %at% 1211 %echo% The Officer's lapel comset warbles, 
  %at% 1211 %echo% "Request immediate launch from Docking Bay %docking_bay%.  Acknowledge."
  wait %beat% s
  %at% 1211 %echo% The Officer's lapel comset crackles, 
  %at% 1211 %echo% "CS-%tyderium% Tyderium your request granted."
  %at% 1396 %echo% A small speaker on Zaphod's console comes to life, 
  %at% 1396 %echo% "CS-%tyderium% Tyderium your request granted."
  wait %beat% s
  %at% 1211 %echo% "Launch trajectory uploaded and confirmed."
  %at% 1396 %echo% "Launch trajectory uploaded and confirmed."
  wait %beat% s
  %at% 1396 %echo% Zaphod Beeblebrox touches the comm link on his headset and exclaims,
  %at% 1396 %echo% "Strap in gang! We're hijackin' this baby to The Eastern Desert!"
  set i 1
  while %i% < 8
    set room_vnum %%shuttle[%i%]%%
    eval room_vnum %room_vnum%
    %at% %room_vnum% %echo% An overhead speaker crackles to life,  
    %at% %room_vnum% %echo% "Strap in gang! We're hijackin' this baby to The Eastern Desert!"
    eval i %i% + 1
  done
  wait %beat% s
  %at% 1396 %echo% Zaphod Beeblebrox uses his extra arm to reach over and press a little button.
  %at% 1211 %echo% The shuttle lifts off from Tatooine and recedes from view.
  wait %shortpause% s
  %at% 1396 %echo% You sink into your launch chair as the shuttle fights its way through planetary gravity.
  set i 1
  while %i% < 8
    set room_vnum %%shuttle[%i%]%%
    eval room_vnum %room_vnum%
    %at% %room_vnum% %echo% You sink into your launch chair as the shuttle fights its way through planetary gravity."
    eval i %i% + 1
  done 
end

[0mCHECKING: 1211[0m
[0mCHECKING: 1212[0m
[0mCHECKING: 1254[0m
Name: 'imperial shuttle main travel loop',  VNum: [ 1211], RNum: [  162]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: *
Commands:
*
*              Hurin initial coding
*  17 Mar 24 - Aegon add counterfeit orders fail
*              check for co-location destination
*              add travel detail comms
*
* VARIABLES
* 
set wait 10
eval waitshort %wait% / 2
eval waitlong %wait * 2
*
if %cmd% == destinations
  %send% %actor% -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
  %send% %actor% .
  %send% %actor% Current Service:
  %send% %actor% .
  %send% %actor% [1] Tatooine:        Docking Bay 86 
  %send% %actor% [2] Eastern Desert:  Imperial Outpost
  %send% %actor% .
  %send% %actor% Coming Soon:
  %send% %actor% .
  %send% %actor% [X]  Death Star:     Docking Bay 6
  %send% %actor% [X]  Hoth Outpost:   Docking Bay 11
  %send% %actor% [X]  Coruscant:      Interstellar Port
  %send% %actor% [X]  Kamino:         Docking Bay 9
  %send% %actor% .
  %send% %actor% -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
elseif %cmd% == travel
  set firstletter %arg.charat(1)%
  if %arg% < 1 || %arg% > 2 || !%arg%
    %send% %actor% Please type destinations to see all possible locations you can travel to.
    %send% %actor% To travel to a location simply type 'travel #'.
    %send% %actor% For example: '>travel 1' would take you to Tatooine.
  elseif (%arg% == 1 && %actor.room.vnum% == 1222)
    %send% %actor% You are currently at the Mos Eisley Spaceport on Tatooine.
    return 1
    halt
  elseif (%arg% == 2 && %actor.room.vnum% == 1208)
    %send% %actor% You are currently at the Eastern Desert Outpost.
    return 1
    halt
  else
    if (%actor.inventory(1276)% || %actor.inventory(1278)%)
      *
      * assign shuttle
      * 
      if !%shuttle_num%
        set shuttle_num 701
        global shuttle_num
      elseif (%shuttle_num% < 720)
        eval shuttle_num %shuttle_num% + 1
        global shuttle_num
      else
        set shuttle_num 701
        global shuttle_num
      end
      *
      set destination[1] 1223
      set destination[2] 1208
      eval dest %%destination[%firstletter%]%%
      *
      set max %random.5%
      set rank[1] Lieutenant
      set rank[2] Captain
      set rank[3] Second Lieutenant
      set rank[4] Commodore
      set rank[5] Commander
      set ranking %%rank[%max%]%%
      eval ranking %ranking%
      *
      %send% %actor% The protocol droid smiles and takes your orders. "One moment please %ranking% %actor.name%, scanning your card."
      %echoaround% %actor% %actor.name% offers the encrypted orders to the protocol droid for scanning.
      wait %random.10% s   
      *
      * check for counterfeit orders
      *   
      if (%actor.inventory(1278)% && %random.100% < 15) )
        wait %waitshort% s
        %send% %actor% The small led on the scanner flashes bright red.
        %send% %actor% The droid motions to the guards, shouting, "It appears your documents are counterfeit, Rebel spy!  Guards!  Subdue him!"
        %purge% %actor.inventory(1278)%
        %load% obj 1278 %self% inv
        mkill %actor%
        return 1
        halt
      else
        %send% %actor% The small led on the scanner glows bright green.
        if %actor.inventory(1276)%
          %purge% %actor.inventory(1276)%
        else
          %purge% %actor.inventory(1278)%
        end
        *
        wait %waitshort% s
        %send% %actor% The droid salutes you, saying, "It appears your documents are in order, %ranking%.  This way, sir.  You have been assigned ISS-%shuttle_num%. Safe flight."
        wait %waitshort% s
        %echoaround% %actor% The droid salutes %actor.name% and waves %actor.himher% toward the waiting Lamda Class shuttle.
        *
        %door% %shuttle_num% east purge
        %door% %shuttle_num% east room %self.room.vnum%
        %door% %self.room.vnum% west room %shuttle_num%
        *
        %echo% The hatch of a waiting Imperial shuttle swings open to the west.
        *
        wait %waitshort% s
        %at% %self.room.vnum% "Please make your way onboard, %ranking%, the shuttle will be lifting off momentarily."
        wait %wait% sec
        %at% %shuttle_num% %echo% "Please have a seat, %ranking%, we are about to enter hyperspace."
        wait %waitshort% s
        %door% %self.room.vnum% west purge 
        %at% %self.room.vnum% %echo% The doors to the west close and the Imperial Shuttle proceeds to lift off.
        %send% %actor% The doors to the east close and in moments you feel the increase of G forces as the shuttle leaps spaceward.
        %echoaround% %actor% The doors to the east close and in moments you feel the increase of G forces as the shuttle leaps spaceward.
        %door% %shuttle_num% east purge
        wait %waitlong% s
        %send% %actor% An overhead speaker hums,  "Exiting hyperspace for planetary orbit and atmospheric insertion.
        %echoaround% %actor% An overhead speaker hums,  "Exiting hyperspace for planetary orbit and atmospheric insertion.
        wait %wait% s
        %send% %actor% The pilot announces, "Geosynchronization to LZ and approach. Asking for clearance from ISL Tower."
        %echoaround% %actor% The pilot announces, "Geosynchronization to LZ and approach. Asking for clearance from ISL Tower."
        wait %waitshort% s
        %send% %actor% The speaker affirms, "Clearance granted for final approach. %ranking%, please prepare for immediate landing."
        %echoaround% %actor% The speaker affirms, "Clearance granted for final approach. %ranking%, please prepare for immediate landing."
        wait %waitshort% s
        %send% %actor% The shuttle sharply decelerates into a gentle landing.
        %echoaround% %actor% The shuttle sharply decelerates into a gentle landing.
        %at% %dest% %echo% An Imperial Shuttle hovers slowly and lands on the LZ Docking Pad.
        wait %waitshort% s
        %send% %actor% The shuttle doors open to the east.
        %echoaround% %actor% The shuttle doors open to the east.
        %at% %dest% %echo% An imperial shuttle lands on the docking pad and the doors open to the west.
        %door% %shuttle_num% east room %dest%
        wait %waitshort% s
        %send% %actor% The captain emerges from the cockpit of the craft and salutes you as you depart.
        %echoaround% %actor% The captain emerges from the cockpit of the craft and salutes you as you depart.
        wait %waitshort% s
        %send% %actor% He bids you farewell, adding, "%ranking% %actor.name%, best of luck on your mission."
        %echoaround% %actor% He bids you farewell, adding, "%ranking% %actor.name%, best of luck on your mission."
      end
    else
      %send% %actor% The protocol droid apologizes, "I am sorry, sir, but you must present your official orders to travel on this shuttle service."
    end
  end
else
  return 0
end

>[0;00m
Name: 'Imperial travel on orders',  VNum: [ 1212], RNum: [  163]
Trigger Intended Assignment: Objects
Trigger Type: Leave , Numeric Arg: 100, Arg list: None
Commands:
if %direction% == west
  if %actor.inventory(1276)%
  %purge% %actor.inventory(1276)%
  %send% %actor% The Captain takes the orders from you as you step through onto the shuttle.
      else 
    %send% %actor% The Captain tells you, 'You'll need Imperial Orders to travel on this shuttle!'
   return 0
end
end

>[0;00m
Name: 'Obi-Wan Kenobi speech',  VNum: [ 1254], RNum: [  164]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 8, Arg list: None
Commands:
*
*  give kenobi a performance / speech
*
eval max %random.10%
set action[1] makes a slight gesture levitating your weapon from its scabbard, and smiles
set action[2] closes his eyes, smiles, and in the distance you hear a clattering. He opens his eyes and says
set action[3] pulls his hood over his head, adjusts his weapons belt, and utters
set action[4] juggles a trio of Jawas, giggling madly, then turns and proclaims
set action[5] looks out toward the horizon, brow furrowing, and whispers
set action[6] scans a personal holo message intently, before turning to you and says
set action[7] appears to be asleep, motionless, until, eyes still closed, he whispers
set action[8] tinkers with his lightsaber pommel, adjusting the throw of his saber blade, when he notices you and says
set action[9] takes a deep breath, pulling his robes tighter about him, and shudders, saying
set action[10] throws back a double shot of Salerian ardees, wipes his beard, and shouts
set  performance %%action[%max%]%%
eval performance %performance%
eval max %random.11%
set txt[1] For more then a thousand generations the Jedi were the guardians of peace and justice in the galaxy. Before the dark times... before the Empire.
set txt[2] Who is more foolish, the fool or the fool who follows him?
set txt[3] Don't give into hate. That leads to the dark side.
set txt[4] The Force can have a stong influence on the weak-minded.
set txt[5] Use the Force, %random.char.name%.
set txt[6] If you define yourself by the power to take life, the desire to dominate, to possess...then you have nothing.
set txt[7] If you strike me down, I shall become more powerful than you can possibly imagine.
set txt[8] Be mindful of your thoughts, %random.char.name%, they betray you.
set txt[9] To refuse violence is to refuse the destruction of your soul.
set txt[10] The truth is often what we make of it; you heard what you wanted to hear, believed what you wanted to believe.
set txt[11] Hello there.
set  speech %%txt[%max%]%%
eval speech %speech%
%echo% %self.name% %performance%, '%speech%'

>[0;00m
[0mCHECKING: 1269[0m

Name: 'Han Solo speech',  VNum: [ 1269], RNum: [  165]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 5 sec
   say 'Hokey religions and ancient weapons are no match for a good blaster at your side.'
   wait 30 sec
   say 'I've flown from one side of this galaxy to the other, I've seen a lot of strange stuff, but I've never seen anything to make me believe there's one all-powerful force controlling everything. There's no mystical energy field that controls my destiny.'
   wait 30 sec

>[0;00m
[0mCHECKING: 1275[0m

Name: 'tyderium token retrieval at boarding',  VNum: [ 1275], RNum: [  166]
Trigger Intended Assignment: Objects
Trigger Type: Leave , Numeric Arg: 100, Arg list: None
Commands:
if %direction% == up
  if %actor.inventory(1266)%
    %purge% %actor.inventory(1266)%
    %send% %actor% Zaphod Beeblebrox takes a token from you with his center hand as you step through the shuttle gates. 
  else 
    %send% %actor% The Zaphod Beeblebrox tells you, 'You'll need a token to get on the shuttle!'
    return 0
  end
end

>[0;00m
[0mCHECKING: 1276[0m

Name: 'buy Tydirium Boarding Pass',  VNum: [ 1276], RNum: [  167]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 100, Arg list: buy
Commands:
if %cmd.mudcommand% == buy && %arg% /= pass || %arg% /= token
  if %actor.gold% < 2000
    %send% %actor% It takes 2,000 coins to purchase a Tydirium Boarding Pass.
  else
    %load% obj 1266 %actor% inv
    nop %actor.gold(-2000)%
    %send% %actor% You pull a Tydirium Boarding Pass from the machine
  end
else
  return 0
end

>[0;00m
[0mCHECKING: 1280[0m

Name: 'this is the way of mandalore',  VNum: [ 1280], RNum: [  168]
Trigger Intended Assignment: Objects
Trigger Type: Wear , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  %send% %actor% An otherworldly voice, in a language you do not comprehend, whispers, 'This is the way.'
end

>[0;00m
[0mCHECKING: 1284[0m
[0mCHECKING: 1289[0m

Name: 'Marvin speech',  VNum: [ 1284], RNum: [  169]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 5 sec
   %echo% Marvin sighs.  "I think you ought to know I'm feeling very depressed."
   wait 30 sec
   %echo% Marvin sighs very loudly.  "Life! Don't talk to me about life."
   wait 10 sec
   %echo% Marvin adds, "Life, loathe it or ignore it, you can't like it."
   wait 30 sec
   %echo% Marvin glares at you.  "It gives me a headache just trying to think down to your level."
   wait 30 sec
   %echo% Marvin shuffles closer to be sure you're listening.  "Wearily on I go, pain and misery my only companions. And vast intelligence, of course. And infinite sorrow. I despise you all."
   wait 30 sec

>[0;00m
[0mCHECKING: 1292[0m

Name: 'Yoda Greet',  VNum: [ 1289], RNum: [  170]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP   
   wait 2 sec
   switch %random.6%
       case 1
          wait 10 sec
          say Do, or do not. There is no try.
          break
       case 2
          wait 5 sec
          say Fear is the path to the dark side. Fear leads to anger. Anger leads to hate. Hate leads to suffering.
          break
       case 3
          wait 10 sec
          say Once you start down the dark path, forever will it dominate your destiny.
          break
       case 4
          wait 1 sec 
          say Size matters not. Look at me. Judge me by size, do you? And well you should not. For my ally is the force, and a powerful ally it is.
          break
       case 5
          wait 10 sec
          say Life creates it, makes it grow. Its energy surrounds us and binds us. Luminous beings are we, not this crude matter. You must feel the Force around you; here, between you, me, the tree, the rock, everywhere, yes.
          break
       case 6
          wait 10 sec
          say Named must your fear be before banish it you can.
          break
     done

>[0;00m
[0mCHECKING: 1399[0m

Name: 'make a forcesaber',  VNum: [ 1292], RNum: [  171]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: make
Commands:
*
* assemble a forcesaber!
*
* forcesaber 1292
* 
* 7) [ 6907] (  0) a lightsaber with a brilliant, red blade   [WEAPON]
* 8 ) [ 6908] (  0) a lightsaber with a brilliant, midnight blue blade [WEAPON]
* 9) [ 6909] (  0) a lightsaber with a brilliant, turquoise blade [WEAPON]
* 10) [ 6915] (  0) a lightsaber with a brilliant, scarlet blade [WEAPON]
* 11) [ 6916] (  0) a lightsaber with a brilliant, violet blade [WEAPON]
* 12) [ 6919] (  0) a lightsaber with a brilliant, green blade [WEAPON]
* 13) [ 6920] (  0) a lightsaber with a brilliant, emerald green blade [WEAPON]
* 14) [ 6922] (  0) a lightsaber with a brilliant, orange blade [WEAPON]
* 15) [ 6923] (  0) a lightsaber with a brilliant, peach blade [WEAPON]
* 16) [ 6924] (  0) a lightsaber with a brilliant, ivory blade [WEAPON]
* 17) [ 6925] (  0) a lightsaber with a brilliant, chartreuse blade [WEAPON]
* 18) [ 6926] (  0) a lightsaber with a brilliant, magenta blade [WEAPON]
*
if %actor.is_pc%
  if %cmd% == make && %arg% /= force
    if %actor.has_item(1261)% 
      if %actor.has_item(6907)% && %actor.has_item(6908)% && %actor.has_item(6909)% && %actor.has_item(6915)%
        if %actor.has_item(6916)% && %actor.has_item(6919)% && %actor.has_item(6920)% && %actor.has_item(6922)%
          if %actor.has_item(6923)% && %actor.has_item(6924)% && %actor.has_item(6925)% && %actor.has_item(6926)%
            %purge% %actor.inventory(1261)%
            %purge% %actor.inventory(6907)%
            %purge% %actor.inventory(6908)%
            %purge% %actor.inventory(6909)%
            %purge% %actor.inventory(6915)%
            %purge% %actor.inventory(6916)%
            %purge% %actor.inventory(6919)%
            %purge% %actor.inventory(6920)%
            %purge% %actor.inventory(6922)%
            %purge% %actor.inventory(6923)%
            %purge% %actor.inventory(6924)%
            %purge% %actor.inventory(6925)%
            %purge% %actor.inventory(6926)%
            %echo% %self.name% accepts your gathered lightsabers, all twelve of them, and after a time, fashions the Jedi Triple-Bladed Forcesaber!
            wait 3 s
            %echo% Satisfied with %self.hisher% work, %self.heshe% hands you the saber.
            %load% obj 1292 %actor% inv
          else
            %send% %actor% You're missing some of the lightsabers you'll need to fashion the forcesaber.
          end
        else
          %send% %actor% You're missing a few of the lightsabers you'll need to fashion the forcesaber.
        end
      else
        %send% %actor% You're missing some of the lightsabers you'll need to fashion the forcesaber.
      end
    else
      %send% %actor% Would you mind obtaining a ridged handgrip for me?  I'll not be able to fashion a forcesaber without it.
    end
  else
    return 0
    halt
  end
end

>[0;00m
Name: 'escape pod',  VNum: [ 1399], RNum: [  172]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: o
Commands:
if (%cmd.mudcommand% == open) && (%arg% == hatch)
  if ! %tatooine_bound%
    %door% 1399 s room 5048
  else
    %door% 1399 s room 1268
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 1481[0m

Name: 'halloween quest turnstile',  VNum: [ 1481], RNum: [  173]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 100, Arg list: None
Commands:
context %actor.id%
if %actor.varexists(hall_of_failure_vnum)%
  wait 1 s
  %send% %actor% You arrive in the Pit of Failure.
  %teleport% %actor% %actor.hall_of_failure_vnum%
  %echoaround% %actor% fades from view.
  %at% %actor.hall_of_failure_vnum% %echo% %actor.name% arrives.
  rdelete hall_of_failure_vnum %actor.id%
else
  if %actor.inventory(1429)%
    %purge% %actor.inventory(1429)%
    %send% %actor% A hollow voice intones, 'Welcome to the Halloween 2024 Gauntlet, %actor.name.'
  else
    return 0
    %send% %actor% A hollow voice says, '%actor.name%, you'll need an admission ticket for this attraction.'
    halt
  end
end

>[0;00m
[0mCHECKING: 1503[0m

Name: 'gabriel angel speech',  VNum: [ 1503], RNum: [  174]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 15 sec
   %echo% Tension fills the air as Gabriel turns to you and demands: "Read!"
   wait 15 sec
   %echo% A second time, the pressure on your head and neck hardening: "READ!"
   wait 15 sec
   %echo% Finally, as you feel yourself about to burst, a connection is made.
   wait 15 sec
   %echo% The words flow from the angel unto you: "Read, in the name of God,"
   wait 15 sec
   %echo% It continues: "Who created us from clots of blood..."
   wait 15 sec
   %echo% "Praise be to Allah, the Lord of the Universe."

>[0;00m
[0mCHECKING: 1601[0m

Name: 'the anguished scribe speech',  VNum: [ 1601], RNum: [  175]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 15 sec
   %echo% The voice is fierce and angry: "Back, villain! We are not defeated yet..."
   wait 15 sec
   %echo% "But you're not one of them, are you?" he continues. "No, you're weaker..."
   wait 15 sec
   %echo% "What is it? What could have brought you here?"
   wait 15 sec
   %echo% "Yes, I know what it is you want... but you can't have them!"
   wait 15 sec
   %echo% "They're not here any more... all I could save was but one page..."
   wait 30 sec

>[0;00m
[0mCHECKING: 1603[0m

Name: 'An elvish child speech',  VNum: [ 1603], RNum: [  176]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP 
   wait 15 sec
   %echo% The boy looks up at you, but cannot see, apparently blind.
   wait 15 sec
   %echo% "Gyles?" he says. "Is that you, Gyles?"

>[0;00m
[0mCHECKING: 1606[0m
[0mCHECKING: 1607[0m

Name: 'A stately elven princess speech',  VNum: [ 1606], RNum: [  177]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 15 sec
   %echo% The elven princess turns to you and begins a recital:
   wait 15 sec
   %echo% "I live in a hidden world, a warped one, where the picture is a worthless sight unseen,
   wait 15 sec
   %echo% and the thousand words drip priceless spoken from my tongue. A world hollow, infinite and expanding, 
   wait 15 sec
   %echo% in which I know every inch of space as if it were the hairs, curves, and joints of my own
   wait 15 sec
   %echo% hungry body with which I envision moving through it, in it, with it.
   wait 15 sec
   %echo% A world of written voices, of punch-clock poetry, and writhing, throbbing short story, as a dark,
   wait 15 sec
   %echo% flat surface, an opaque video screen or glassy pool of water reflects my presence and image,
   wait 15 sec
   %echo% making me sexually one with it. A world it hurts from which to withhold my touch,
   wait 15 sec
   %echo% when the fingers twitch and the wrists ache, arms bend, ready, eyes closed, knowing the way
   wait 15 sec
   %echo% by the feel of the stones, and the graceful curves of the corridors in some other maker's mind.
   wait 15 sec
   %echo% And when I cannot go there, I write and think and dream and remember the most intimate and painful details,
   wait 15 sec
   %echo% envision flying through it at lightning speed, satisfying the ache and matching the finger twitch
   wait 15 sec
   %echo% with an equal and opposite force, the hard keyboard love song calling out to me from that world, that place,
   wait 15 sec
   %echo% so easy to hate but so hard to leave."
   wait 30 sec
   %echo% Smiling, she says, "I call that The Day they Took the Elven Village From Me."

>[0;00m
[0mCHECKING: 1608[0m

Name: 'disarming disarm',  VNum: [ 1607], RNum: [  178]
Trigger Intended Assignment: Mobiles
Trigger Type: Fight , Numeric Arg: 5, Arg list: None
Commands:
*
* 053022 Aegon 350 Ice Fortress
*
context %self.id%
if %actor.is_pc%
  if ! %already_disarmed%
    dg_cast 'detect invisibility' %actor%
    if %actor.eq(wield)%
      eval wield %actor.eq(wield)%
      %echo% %self.name% quickly disarms %actor.name%!
      %force% %actor.name% rem %wield.name%
    end
    set already_disarmed 1
    global already_disarmed
  else
    unset already_disarmed
  end
end

>[0;00m
[0mCHECKING: 1618[0m

Name: 'a warning',  VNum: [ 1608], RNum: [  179]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
eval max %random.5%
set txt[1] It came in the night and it took everything from us before we could act.
set txt[2] The screams of the dying are yet in my dreams.  It is here, among the ruins.
set txt[3] We will forever roam this accursed place, doomed to relive the slaughter.
set txt[4] It yet lives and preys among the dead.  Beware the Fomorian!
set txt[5] Hail! Do not press further!  There is a blight on this land!
set  speech %%txt[%max%]%%
eval speech %speech%
say %speech%

>[0;00m
[0mCHECKING: 1900[0m

Name: 'shriek of the damned',  VNum: [ 1618], RNum: [  180]
Trigger Intended Assignment: Objects
Trigger Type: Random , Numeric Arg: 25, Arg list: None
Commands:
*
* panic the mofos if they fail their saves
*
if %self.worn_by%
  set actor %self.worn_by%
  set room %self.room%
  set target %room.people%
  while %target%
    set next_target %target.next_in_room%
    if %target.id% != %actor.id%
      if %target.fighting%
        if %random.100% > 75
          %send% %actor% You hear the blood-curdling Shriek of the Damned!
          %send% %actor% Your enemies are overcome with fear!
          %echoaround% %actor% %target.name% is overcome with fear!
          %force% %target% flee
        end
      end
    end
    set target %next_target%
  done
end

>[0;00m
Name: 'make a key with odd teeth and a skull handle',  VNum: [ 1900], RNum: [  181]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 3, Arg list: m
Commands:
if %cmd.mudcommand% == make && %arg% /= skeletonkey
  if (%actor.inventory(1965)% && %actor.inventory(1966)% && %actor.inventory(1967)% &&
%actor.inventory(1968)% && %actor.inventory(1969)%)
    %load% obj 1971 %actor% inv
    %send% %actor% You combine some items and make a key with odd teeth and a skull for a handle. 
    %echoaround% %actor% %actor.name% makes a strange looking key with odd teeth and a skull for a
handle.
%purge% %actor.inventory(1965)% && %purge% %actor.inventory(1966)% && %purge%
%actor.inventory(1967)% && %purge% %actor.inventory(1968)% && %purge% %actor.inventory(1969)%
    %purge% %actor.inventory(1967)%
    %purge% %actor.inventory(1969)%
    %send% %actor% You dont know how to make that.
else
  return 0
end

>[0;00m
[0mCHECKING: 1901[0m

Name: 'make skeleton key',  VNum: [ 1901], RNum: [  182]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: infuse
Commands:
if %cmd% == infuse && %arg% /= essence with key
  if %actor.inventory(1970)% && %actor.inventory(1971)% 
    %load% obj 1964 %actor% inv
%send% %actor% You infuse the ghostly essence into the strange key and it appears to have become
sentient. 
    %echoaround% %actor% %actor.name% infuses the ghostly essence into the strange key.
    %purge% %actor.inventory(1970)%
    %purge% %actor.inventory(1971)%
  else
    %send% %actor% You dont know how to make that.
  end
else
  return 0
end

>[0;00m
[0mCHECKING: 1902[0m

Name: 'universal pick lock skill',  VNum: [ 1902], RNum: [  183]
Trigger Intended Assignment: Objects
Trigger Type: Wear , Numeric Arg: 100, Arg list: None
Commands:
********* 
* Intent -  
* Dep - Works in conjunction with trigger 1903
* Use - hold/wear <objWithTriggerSet>
* Issues - 
*********
* ???????? - Dank (original script)
*
* 20240727 - Guts
* Added comment block
* 
if %actor.is_pc%
  %send% %actor% You suddenly feel capable of a new skill.
  nop %actor.skillset("pick lock" 100)%
  return 1
  halt
end
return 1

>[0;00m
[0mCHECKING: 1903[0m
[0mCHECKING: 1904[0m

Name: 'remove pick lock skill',  VNum: [ 1903], RNum: [  184]
Trigger Intended Assignment: Objects
Trigger Type: Remove , Numeric Arg: 100, Arg list: None
Commands:
*********
* Intent -  
* Dep - Works in conjunction with trigger 1902
* Use - remove <objWithTriggerSet>
* Issues -
*********
* ???????? - Dank (original script)
*
* 20240727 - Guts
* If you are not a Thief class it removes pick lock skill
* 
if %actor.is_pc% && %actor.class% != Thief
  nop %actor.skillset("pick lock" 0)%
  %send% %actor% Your keen awareness of locks and traps has left you.
  return 1
  halt
end
return 1

>[0;00m
[0mCHECKING: 1905[0m

Name: 'EQ Damage Calculation Test',  VNum: [ 1904], RNum: [  185]
Trigger Intended Assignment: Objects
Trigger Type: Wear , Numeric Arg: 100, Arg list: None
Commands:
* No Script

>[0;00m
[0mCHECKING: 1906[0m

Name: 'voila a red chair',  VNum: [ 1905], RNum: [  186]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  wait 10 s
  if ! %findobj.1905(1972)%
    %echo% As if in slow motion, a brand-new, blood-red metallic chair materializes in the center of the room.
    %load% obj 1972
  end
end

>[0;00m
[0mCHECKING: 1907[0m

Name: 'au revoir chaise!',  VNum: [ 1906], RNum: [  187]
Trigger Intended Assignment: Rooms
Trigger Type: Leave , Numeric Arg: 100, Arg list: None
Commands:
if %findobj.1905(1972)%
  %purge% %self.contents(1972)%
end

>[0;00m
Name: 'faux inner gateway',  VNum: [ 1907], RNum: [  188]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: touch
Commands:
if %actor.is_pc%
  if %cmd% == touch && (%arg% /= gate || %arg% /= portal)
    dg_cast 'teleport' %actor%
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 1908[0m

Name: 'clue for skeleton key existence ',  VNum: [ 1908], RNum: [  189]
Trigger Intended Assignment: Mobiles
Trigger Type: Random Command Speech , Numeric Arg: 100, Arg list: none
Commands:
* By Warrim
   wait 20 sec
   %echo% Shade Xojin says, "Curse Ahmad! He got arrested with the very item we needed to
assassinate those pesky adventurers!"
   wait 30 sec

>[0;00m
[0mCHECKING: 1909[0m

Name: 'clue for the key make',  VNum: [ 1909], RNum: [  190]
Trigger Intended Assignment: Mobiles
Trigger Type: Random Command Speech , Numeric Arg: 100, Arg list: none
Commands:
* By Warrim
   wait 20 sec
   %echo% The master of the Thieves' Guild says, "I am looking for remanents of the skeletonkey,
have you seen them?"
   wait 30 sec

>[0;00m
[0mCHECKING: 1919[0m

Name: 'showtime at swank tower',  VNum: [ 1919], RNum: [  191]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: showtime
Commands:
if %cmd% == showtime
  if %findobj.1919(1973)% == 0
    * load a banner timer
    %at% 1919 %load% obj 1973
    * maranta
    if %random.100% > 50
      if  %findmob.1920(1905)% + %findmob.1915(1905)% == 0
        %at% 1915 %load% mob 1905
      end
    end
    * receptionist
    if ! %findmob.1916(1903)%
      %at% 1916 %load% mob 1903
    end
    * portal
    if ! %findobj.1924(1974)%
      %at% 1924 %load% obj 1974
    end
    * pikon
    if ! %findmob.1921(1906)%
      %at% 1921 %load% mob 1906
    end
    * throne room maranta and asklepios
    if %findmob.1920(1905)% + %findmob.1915(1905)% == 0
      %at% 1920 %load% mob 1905
    end
    if ! %findmob.1920(1904)% 
      %at% 1920 %load% mob 1904
    end
    * judgment thanatos
    if ! %findmob.1923(1908)% 
      %at% 1923 %load% mob 1908
    end
    * weeds
    if ! %findmob.1929(1910)%
      %at% 1929 %load% mob 1910
    end
    * alastor
    if ! %findmob.1932(1909)%
      %at% 1932 %load% mob 1909
    end
    * kierk
    if ! %findmob.1931(1911)%
      %at% 1931 %load% mob 1911
    end
    * one
    if ! %findmob.1930(1912)%
      %at% 1930 %load% mob 1912
    end
    * bookcase to war room
    if ! %findobj.1918(1973)%
      %at% 1918 %load% obj 1973
    end
    * swank clan members to war room
    if ! %findmob.1918(1913)%
      %at% 1918 %load% mob 1913
      %at% 1918 %load% mob 1913
      %at% 1918 %load% mob 1913
      %at% 1918 %load% mob 1913
      %at% 1918 %load% mob 1913
    end
  else
    %echo% Catch the next Swank showtime in about an hour.
  end
end

>[0;00m
[0mCHECKING: 1920[0m

Name: 'show's over',  VNum: [ 1920], RNum: [  192]
Trigger Intended Assignment: Rooms
Trigger Type: Zone Reset , Numeric Arg: 100, Arg list: None
Commands:
* banner timer
if %findobj.1919(1973)%
  %at% %purge% banner
end
* maranta
if %findmob.1915(1905)%
  %at% 1915 %purge% maranta
end
* receptionist
if %findmob.1916(1903)%
  %at% 1916 %purge% receptionist
end
* gateway
if %findobj.1924(1974)%
  %at% 1924 %purge% gateway
end
* pikon
if %findmob.1921(1906)%
  %at% 1921 %purge% pikkon
end
* throne room maranta and asklepios
if %findmob.1920(1905)%
  %at% 1920 %purge% maranta
  if %findmob.1920(1904)% 
    %at% 1920 %purge% asklepios
  end
  * judgment thanatos
  if %findmob.1923(1908)% 
    %at% 1923 %purge% thanatos
  end
  * weeds
  if %findmob.1929(1910)%
    %at% 1929 %purge% weeds
  end
  * alastor
  if %findmob.1932(1909)%
    %at% 1932 %purge% alastor
  end
  * kierk
  if %findmob.1931(1911)%
    %at% 1931 %purge% kierk
  end
  * one
  if %findmob.1930(1912)%
    %at% 1930 %purge% one
  end
  * bookcase to war room
  if %findobj.1918(1973)%
  end
  * swank clan members to war room
  if %findmob.1918(1913)%
    %at% 1918 %purge% elite
  end
end

>[0;00m
[0mCHECKING: 1976[0m
[0mCHECKING: 2024[0m

Name: 'cursed stone of cthulhu',  VNum: [ 1976], RNum: [  193]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: grab
Commands:
if %cmd% == grab && %arg% == stone
  dg_affect %actor.name% sanct off 1
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 2099[0m

Name: 'i'm a dt and i'm ok!',  VNum: [ 2024], RNum: [  194]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 100, Arg list: None
Commands:
%at% 2064 %echo% Your blood freezes as you hear %actor.name%'s death cry.
%at% 2025 %echo% Your blood freezes as you hear %actor.name%'s death cry.

>[0;00m
[0mCHECKING: 2101[0m

Name: 'stuck in a maw',  VNum: [ 2099], RNum: [  195]
Trigger Intended Assignment: Mobiles
Trigger Type: Fight , Numeric Arg: 50, Arg list: None
Commands:
if %actor.is_pc%
  if %actor.eq(wield)%
    set weapon %actor.eq(wield)%
    set weapon_vnum %weapon.vnum%
    *
    if %weapon_vnum% == 7698
      * %damage% %self% 2500
      eval hitp %actor.hitp% / 2
      nop %self.hitp(-%hitp%)%
      %echoaround% %self% %weapon.shortdesc% immolates %self.name% with Holy Fire!
    end
  end
end

>[0;00m
Name: 'Baker speech',  VNum: [ 2101], RNum: [  196]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 5 sec
   say "If you're going adventuring, I recommend the waybread.  It holds up best.  The danishes are tasty too, though."
   wait 30 sec
   %echo% The Baker flours a marble slab and begins kneading another batch of dough.
   wait 30 sec

>[0;00m
[0mCHECKING: 2122[0m

Name: 'Drunk speech',  VNum: [ 2122], RNum: [  197]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 5 sec
   %echo% The drunk staggers and crashes into you, then cheerfully tips his hat and says 'Excuse me, ossifer!'
   wait 30 sec
   %echo% The drunk sings a song about the glories of ale, loudly and very out of tune but with great gusto.
   wait 25 sec

>[0;00m
[0mCHECKING: 2125[0m

Name: 'Wilbur speech',  VNum: [ 2125], RNum: [  198]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 5 sec
   say 'Need something to drink? You've come to the right place.  I sell nothing but the best.'
   wait 3 sec
   say 'Every drop of water in this shop is 100% guaranteed to be clear and pure, brought here each morning fresh from the spring east of town.'
   wait 50 sec
   %echo% Wilbur unfolds a collapsible stepladder and rearranges the display of fine water containers on the top shelves.
   wait 5 sec

>[0;00m
[0mCHECKING: 2131[0m

Name: 'Florist speech',  VNum: [ 2131], RNum: [  199]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 15 sec
   %echo% Linda is nearly bubbling over with excitement.
   wait 15 sec
   %echo% "I have finally seen colors in a man-made yarn to rival what nature has in the flowers!" she cries happily.
   wait 15 sec
   %echo% "An adventurer came in to buy some flowers for his wife, to match the amazing yarn he had discovered.
   wait 15 sec
   %echo% He said he took it from a god deep within his followers' stronghold, along with his usual treasure.
   wait 15 sec
   %echo% He also told me a rumor of another color yarn of equal beauty!"

>[0;00m
[0mCHECKING: 2133[0m

Name: 'absolutely no pets allowed upstairs!',  VNum: [ 2133], RNum: [  200]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 100, Arg list: None
Commands:
if (! %actor.is_pc% && %actor.master%)
  return 0
  halt
end

>[0;00m
[0mCHECKING: 2153[0m

Name: 'minstrel speech',  VNum: [ 2153], RNum: [  201]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% The minstrel smiles as you pass.  'Care for a song?'
   wait 15 sec
   %echo% The minstrel sings, 'My Johnny was a shoemaker, and dearly he loved me.  My Johnny was a shoemaker, but now he's gone to sea...'
   wait 15 sec
   %echo% The minstrel sings, 'With pitch and tar to soil his hands, and to sail across the sea, stormy sea, to sail across the stormy sea.'
   wait 15 sec
   %echo% The minstrel sings, 'His jacket was a deep sky blue, and curly was his hair.  His jacket was a deep sky blue, it was, I do declare...'
   wait 15 sec
   %echo% The minstrel sings, 'To heave the topsails up against the mast, and to sail across the sea, stormy sea, to sail across the stormy sea.'
   wait 15 sec
   %echo% The minstrel sings, 'Someday he'll be a captain bold, with a brave and gallant crew.  Someday he'll be a captain bold, with a sword and spyglass too.'
   wait 15 sec
   %echo% The minstrel sings, 'And when he has a gallant captain's sword, he'll come home and marry me, marry me! He'll come home and marry me!'
   wait 15 sec
   %echo% The minstrel takes a drink of mead.
   wait 15 sec
   say 'Would you like to hear another song?'
   wait 15 sec
   say 'This is a rhyme my great-grandmother sang to me when I was just a babe in arms.  She died when I was two, and I never have been able to learn what it means.  It's one of my favorites, though, because it reminds me of her.'
   wait 15 sec
   %echo% The minstrel sings, 'Shining circle, smoky sphere, a blade once laid on a warrior's bier...'
   wait 15 sec
   %echo% The minstrel sings, 'Shining moon, guard my love; send home my wandering darling one.'
   wait 15 sec
   %echo% The minstrel sighs, 'That's all I can remember.  I think there were more verses, but I've never been able to recall them.'
   wait 15 sec
   say 'Here, let me sing you something merry now.'
   wait 15 sec
   %echo% The minstrel sings, 'I a tender young Maid have been courted by many, of all sorts and trades as ever was any.'
   wait 15 sec
   %echo% The minstrel sings, 'A spruce haberdasher first spake me fair, but I would have nothing to do with small ware.'
   wait 15 sec
   %echo% The minstrel sings, 'My thing is my own, and I'll keep it so still, though other young lasses may do as they will.'
   wait 15 sec
   %echo% The minstrel sings, 'A sweet scented Courtier did give me a kiss, and promised me mountains if I would be his.'
   wait 15 sec
   %echo% The minstrel sings, 'But I'll not believe him, for it is too true, some courtiers do promise much more than they do!'
   wait 15 sec
   %echo% The minstrel sings, 'My thing is my own, and I'll keep it so still, though other young lasses may do as they will.'
   wait 15 sec
   %echo% The minstrel sings, 'A master of music came with an intent to give me a lesson on my instrument.'
   wait 15 sec
   %echo% The minstrel sings, 'I thanked him for nothing, but bid him be gone, for my little fiddle shall not be played on.'
   wait 15 sec
   %echo% The minstrel sings, 'My thing is my own, and I'll keep it so still, though other young lasses may do as they will.'
   wait 15 sec
   %echo% The minstrel sings, 'An ursurer came with abundance of cash, but I had no mind to come under his lash.'
   wait 15 sec
   %echo% The minstrel sings, 'He proffered me jewels, and a great store of gold, but I would not mortgage my little freehold.'
   wait 15 sec
   %echo% The minstrel sings, 'My thing is my own, and I'll keep it so still, though other young lasses may do as they will.'
   wait 15 sec
   %echo% The minstrel sings, 'An ursurer came with abundance of cash, but I had no mind to come under his lash.'
   wait 15 sec
   %echo% The minstrel sings, 'He proffered me jewels, and a great store of gold, but I would not mortgage my little freehold.'
   wait 15 sec
   %echo% The minstrel sings, 'My thing is my own, and I'll keep it so still, though other young lasses may do as they will.'
   wait 15 sec
   %echo% The minstrel sings, 'A blunt Lieutenant surprised my placket and fiercely began to rifle and sack it.'
   wait 15 sec
   %echo% The minstrel sings, 'I mustered my spirits up and became bold and forced that Lieutenant to quit his strong hold.'
   wait 15 sec
   %echo% The minstrel sings, 'My thing is my own, and I'll keep it so still, though other young lasses may do as they will.'
   wait 15 sec
   %echo% The minstrel sings, 'Now here I could reckon a hundred or more, besides all the gamesters recited before...'
   wait 15 sec
   %echo% The minstrel sings, 'That made their addresses in hopes of a snap, but as young as I was, I understood traps!'
   wait 15 sec
   %echo% The minstrel sings, 'My thing is my own, and I'll keep it so still, until I be married, say men what they will!'
   wait 15 sec
   %echo% The minstrel makes a small bow and turns to have a drink of mead.
   wait 50 sec
   %echo% The minstrel tunes her harp and prepares to sing.
   wait 10 sec

>[0;00m
[0mCHECKING: 2154[0m
[0mCHECKING: 2161[0m

Name: 'minstrel shifty speech',  VNum: [ 2154], RNum: [  202]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 15 sec
   %echo% The minstrel says, 'So, you want to hear a song? How about a drinking song?'
   wait 15 sec
   %echo% The minstrel sings, 'Most men do love the Spanish wine, for that will make their brains more fine, sweet sack with sugar-o...'
   wait 15 sec
   %echo% The minstrel sings, 'Ta na na na no, ta na na na no, ta na na na na no.'
   wait 15 sec
   %echo% The minstrel sings, 'But give me plain dealing drink, 'twill make one speak what he doth think! A cheer for good old ale-o!'
   wait 15 sec
   %echo% The minstrel says, 'Whew, that's thirsty work.  Where is my ale, now?'
   wait 25 sec
   %echo% The minstrel glares nervously at a passing cityguard.  'What are you staring at?  Can't a decent bard have something nice without being stared at everywhere he goes?'
   wait 15 sec
   %echo%  Once the guard is gone, the minstrel relaxes.  'They keep pestering me,' he says, 'but I got these shoes fair and square, from a grateful wench in New Thalos.  A VERY grateful wench, if you catch my drift...'
   wait 15 sec
   %echo% The minstrel winks suggestively to a young woman, who promptly glares at him and leaves.
   wait 15 sec
   %echo% The minstrel tunes his harp and prepares to sing.
   wait 5 sec

>[0;00m
[0mCHECKING: 2176[0m

Name: 'Drunk sailor speech',  VNum: [ 2161], RNum: [  203]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 20 sec
   %echo% The drunk staggers and crashes into you, then cheerfully tips his hat and says 'Excuse me, ossifer!'
   wait 25 sec
   %echo% The drunk throws his arms around you and tells you, "Shee wash soooo pretty, she was!  Prettiest thing you ever sheen!  She shaid beeware of some giant shee shnake in the Dragern Shee.  I'd fight any shnake fer another lookit that fish-girl!"
   wait 25 sec
   %echo% The drunk winks at you.  "Spare me shum gold fer anot'er cupper ale?"
   wait 40 sec
   %echo% The drunk offers to buy you a drink, then changes his mind and offers to let you buy HIM a drink.
   wait 40 sec
   %echo% The drunk sings a song about the glories of ale, loudly and very out of tune but with great gusto.
   wait 25 sec

>[0;00m
[0mCHECKING: 2179[0m

Name: 'Patrick Paladin speech',  VNum: [ 2176], RNum: [  204]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
* By AP
if (%actor.is_pc%)
   wait 10 sec
   %echo% Welcome %actor.name%.  How may we do our part in your fight against evil?
end

>[0;00m
Name: 'Michael lynn speech',  VNum: [ 2179], RNum: [  205]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
* By AP
if (%actor.is_pc%)
   wait 15 sec
   say 'Salutations, %actor.name%, what would you like to purchase today?'
   wait 50 sec
   say 'Well, %actor.name%, still thinking? You can use "List" to check our current inventory.'
   wait 5 sec
   %echo% He pauses for a moment, then adds, 'Better yet, you can use "buy" to purchase any item we have for sale you see on list.'
   wait 60 sec
end

>[0;00m
[0mCHECKING: 2180[0m

Name: 'johnson thief speech',  VNum: [ 2180], RNum: [  206]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
* By AP
if (%actor.is_pc%)
   wait 20 sec
   say 'So, %actor.name% -- what is it you need?'
   wait 25 sec
   %echo% 'Come on, %actor.name% -- don't waste my time, buy something or leave.'
   wait 25 sec
end

>[0;00m
[0mCHECKING: 2181[0m

Name: 'skara warrior shopkeeper performance',  VNum: [ 2181], RNum: [  207]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
*
*  window shopping
*
if %actor.is_pc%
  wait 60 sec
  %echo% %self.name.toupper% says, "Well, %actor.name%?  Please buy something or leave!"
  wait 15 s
  set room %self.room%
  if %room.people%
    eval target %room.people%
    while %target%
      set next_target %target.next_in_room%
      if %target.name% /= %actor.name%
        %echo% %self.name.toupper% says, "%actor.name%, I warned you!"
        wait 1 s 
        %send% %actor% %self.name.toupper% puts a steel boot to your cuirass and sends you back out toward the street.
        %echoaround% %actor% %self.name% punts %actor.name% back into the lobby.
        %teleport% %actor% 2156
        %echoaround% %actor% comes cartwheeling into the room and lands on %actor.hisher% cuirass.
        nop %actor.pos(Sitting)%
        %force% %actor% look
      end
    end
    set target %next_target%
  done
end

>[0;00m
[0mCHECKING: 2187[0m

Name: 'Sanctuary Newbie Transporter',  VNum: [ 2187], RNum: [  208]
Trigger Intended Assignment: Rooms
Trigger Type: Global Command , Numeric Arg: 100, Arg list: transport
Commands:
* By AP w/ help from Rumble TBAmud
set factory 400
set mistamere 19203
set zoo 9056
set crystal 300
if !%arg%
     * no argument provided
       set fail 1
else
     * Lets get the transporter working
    eval loc %%%arg.car%%%
    if %actor.level% > 8
        * If level greater then 8 fail 
        set fail 4
    end
    * If not one of the approved newbie zones fail lookup
    if %loc% == 400 
et pass 1
    elseif %loc% == 9056
et pass 1
    elseif %loc% == 300 
et pass 1
    elseif %loc% == 19203
et pass 1
    else
        set fail 3
    end
end
@ Lets give them their failure messages
f %fail% == 1
      	%echo% %actor.name%, Please specify one of the areas on the list.
	halt
nd
f %fail% == 3
	%echo% %actor.name%, The %arg.car% is not a location I know about.
	halt
nd
f %fail% == 4
	%echo% %actor.name%, You must be at least level 8 to go there.
	halt
nd
* We have an approved newbie zone, lets get them there.
if %pass% == 1
 %echoaround% %actor% %actor.name% has activated the transporter....
 wait 2 seconds
 %echoaround% %actor% %actor.name% shimmers and slowly fades out of sight.
 %send% %actor% The room shimmers slightly and fades from view.
 %send% %actor% When your vision clears, your surroundings are different.
 %teleport% %actor% %loc%
 %force% %actor% look
 wait 1 sec
 %echoaround% %actor% There is a faint humming and %actor.name% fades into sight.
end

>[0;00m
[0mCHECKING: 2190[0m

Name: 'benita cleric speech',  VNum: [ 2190], RNum: [  209]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
* By AP
if (%actor.is_pc%)
   wait 10 sec
   %echo% Welcome %actor.name%.  How may we do our part in your life of faith?
end

>[0;00m
[0mCHECKING: 2401[0m
[0mCHECKING: 2405[0m

Name: 'that refreshing taste',  VNum: [ 2401], RNum: [  210]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 3, Arg list: drink
Commands:
if %actor.is_pc%
  if (%cmd.mudcommand% == drink && %self.name% /= %arg%)
    if %self.val1%
      set room %self.room%
      if ! (%room.roomflag(!MAGIC)% && %room.roomflag(MOB_MAGIC)%)
        %send% %actor% Ah! The crisp, refreshing taste of Captain's Ale!
        dg_cast 'rejuvenate' %actor%
      end
    end
  end
end
return 0

>[0;00m
[0mCHECKING: 2488[0m

Name: 'secret panel',  VNum: [ 2405], RNum: [  211]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: exit
Commands:
if %cmd% == exit
  wait 1 s
  if ! %findmob.2483(2423)%
    %echoaround% %actor% %actor.name% leaves through the secret panel.
    %send% %actor% You make your way back into the main bar without being noticed!
    %teleport% %actor% 2485
    %force% %actor% look
    %echoaround% %actor% %actor.name% has arrived.
  else
    %echo% Shoot!  Woody just stood in front of the panel.  You'll have to wait for another opportunity later.
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 2754[0m

Name: 'npcs playin' the slots',  VNum: [ 2488], RNum: [  212]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 50, Arg list: None
Commands:
set loose 96
set winnings 10
if ! %actor.is_pc%
  wait %random.10% s
  %echo% %actor.name.toupper% grabs a mountain of gold coins from %actor.hisher% purse and deposits it into the slot machine.
  wait 3 s
  %echo% %actor.name.toupper% pulls the silver handle and starts the reels spinning!  Good luck to %actor.name%!
  wait 3 s
  %echo% The Bally's Super Ultra slot machine purrs and whispers as the reels slow down for a potential matching row!
  wait 5 s
  if %random.100% > %loose%
    %echo% The machine goes wild as %actor.name% hits the jackpot!
    set i 0
    eval max %%random.%winnings%%
    while %i% < %max%
      %echo% %actor.name% stuffs a heap of gold coins into %actor.hisher% pockets!
      wait 3 s
      %load% obj 8356 %actor% inv
      eval i %i% + 1
    done
  else
    %echo% The machine makes a final sad, powering down sound and %actor.name% looks more than a little disappointed.  Next time!
  end
end

>[0;00m
Name: 'Delroon speech',  VNum: [ 2754], RNum: [  213]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
wait 2 sec
%echo% Delroon shuffles back and forth, trying to get comfortable.
wait 15 sec
%echo% He closes his eyes briefly, pretending to snore, before adjusting again.
wait 15 sec
%echo% Glaring at you, he mumbles something about unwanted nap interruptions.
wait 15 sec
%send% %actor% With a sigh, he says, "%actor.name%  you're just not going to leave me alone, are you?"
wait 15 sec
%echo% "Pesky adventurers haven't been the same since I was young. Brats, all of you."
wait 15 sec
%echo% "Well, I have what you want, you know." He snorts and sighs, trying to adjust.)
wait 15 sec
%echo% Hoping that you'll leave him alone, the Oracle shuffles around some more.
wait 15 sec
%echo% Content with its spot, at least for now, he begins to rest.
end

>[0;00m
[0mCHECKING: 2755[0m

Name: 'Delroon speech 2',  VNum: [ 2755], RNum: [  214]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
wait 15 sec
%echo% Delroon shuffles back and forth, trying to get comfortable.
wait 15 sec
%echo% He closes his eyes briefly, pretending to snore, before adjusting again.
wait 15 sec
%echo% Glaring at you, he mumbles something about unwanted nap interruptions.
wait 15 sec
%send% %actor% With a sigh, he says, "%actor.name%  you're just not going to leave me alone, are you?"
wait 15 sec
%echo% "Pesky adventurers haven't been the same since I was young. Brats, all of you."
wait 15 sec
%echo% "Well, I have what you want, you know." He snorts and sighs, trying to adjust.
wait 15 sec
%echo% Hoping that you'll leave him alone, the Oracle shuffles around some more.
wait 15 sec
%echo% Content with its spot, at least for now, he begins to rest.

>[0;00m
[0mCHECKING: 2859[0m

Name: 'nineve's reward',  VNum: [ 2859], RNum: [  215]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  if ! %actor.varexists(nineves_reward)%
    set nineves_reward 1
    global nineves_reward
    remote nineves_reward %actor.id%
    %purge% %self.inventory(2700)%
    %load% obj 17934 %actor% inv
    %load% obj 17934 %actor% inv
    %send% %actor% Valiant Knight %actor.name%, I have bestowed you 20 QT for your service!
    wait 2 s
    %echo% Nineve smiles and sends you off with a rousing 'Huzzah!'
  else
    return 0
    %send% %actor% You have completed this quest!
    halt
  end
end

>[0;00m
[0mCHECKING: 2862[0m

Name: 'the sword and the stone',  VNum: [ 2862], RNum: [  216]
Trigger Intended Assignment: Objects
Trigger Type: Get , Numeric Arg: 100, Arg list: None
Commands:
if %self.is_inroom%
  if %actor.vnum% == 2862
    %echoaround% %actor% %actor.name% withdraws Excalibur from the stone.
    return 1
    halt
  else
    %send% %actor% %self.name% whispers, "Only the true king may withdraw my blade from the stone."
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 2863[0m

Name: 'king calling',  VNum: [ 2863], RNum: [  217]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: call
Commands:
*
* coax the king from his !magic room
*
set room %self.room%
if (%cmd% == call && %room.vnum% == 2862)
  if (%arg% == arthur || %arg% == king)
    follow %actor.name%
  else
    set target_char %room.people%
    while %target_char%
      set next_target %target_char.next_in_room%
      if %target_char.alias% /= %arg%
        %send% %actor% Sir %arg.toupper% smiles and proclaims, "A call such as yours is best laid at the feet of a true King!"
        return 1
        halt
      end
      set target_char %next_target%
    done
    %send% %actor% Your call falls on deaf ears.
    return 1
    halt
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 2864[0m
[0mCHECKING: 2865[0m

Name: 'the code of chivalry',  VNum: [ 2864], RNum: [  218]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 8, Arg list: None
Commands:
*
*  give the knights of the round table a speech
*
eval max %random.10%
set action[1] stands before %self.hisher% God and proclaims
set action[2] lifts %self.hisher% flagon and utters a blood oath
set action[3] goes down on a plated knee and swears
set action[4] lays his massive hand on a Bible and pledges
set action[5] blinks back tears of righteousness as he professes
set action[6] stands steadfast before the solemn room, pledging
set action[7] holds his glass up, glances at each Knight, and swears before the gathered assembly
set action[8] unsheathes his dagger and raises it toward the ceiling, pledging
set action[9] unsheathes his broadsword and raises it over his head, proclaiming
set action[10] stands head held high before his brothers, pledging
set  performance %%action[%max%]%%
eval performance %performance%
eval max %random.10%
set txt[1] To never commit outrage.
set txt[2] To always flee treason.
set txt[3] To give mercy unto him who asks for mercy.
set txt[4] To never commit murder.
set txt[5] To renounce cruelty.
set txt[6] To come to the aid of women, children and the elderly.
set txt[7] To refuse exploits of plunder.
set txt[8] To refuse wrongful campaigns.
set txt[9] To refuse violence motivated by passion.
set txt[10] To forever uphold the Code of Chivalry.
set  speech %%txt[%max%]%%
eval speech %speech%
%echo% %self.name% %performance%, '%speech%'

>[0;00m
[0mCHECKING: 2880[0m

Name: 'a king's proclamation',  VNum: [ 2865], RNum: [  219]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 8, Arg list: None
Commands:
*
*  give the knights of the round table a speech
*
eval max %random.10%
set action[1] stands before %self.hisher% assembled knights, raises Excalibur, and proclaims
set action[2] lifts %self.hisher% golden flagon and proclaims
set action[3] gestures broadly before his assembled retinue and proclaims
set action[4] lays his massive mailed hand on a Bible and proclaims
set action[5] stands before you, Excalibur unsheathed, and proclaims
set action[6] stands purposefully and with regal bearing before the solemn gathering, and proclaims
set action[7] holds his glass up, glances at each Knight, and proclaims
set action[8] unsheathes Excalibur, raises it toward the ceiling vault, proclaiming
set action[9] unsheathes Excalibur and raises it over his head, proclaiming
set action[10] stands head held high before his brother knights, proclaiming
set  performance %%action[%max%]%%
eval performance %performance%
eval max %random.10%
set txt[1] to always help when called, whether noblemen, squire or peasant.
set txt[2] to always beat back the forces of ignominity, deceit and betrayal.
set txt[3] to give succor unto he that calls out in the dark of night.
set txt[4] to provide aid to those who call out in extremity and loss.
set txt[5] to answer the call.
set txt[6] to come to the aid of women, children and the elderly, especially Ed.
set txt[7] to refuse exploits of plunder, but support those of sacrifice.
set txt[8] to refuse wrongful campaigns.
set txt[9] to refuse violence motivated by passion.
set txt[10] to forever uphold the Code of Chivalry.
set  speech %%txt[%max%]%%
eval speech %speech%
%echo% %self.name% %performance%, 'We brave and honorable of the Round Table do pledge %speech%'

>[0;00m
[0mCHECKING: 2881[0m

Name: 'Merlin speech',  VNum: [ 2880], RNum: [  220]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 8, Arg list: None
Commands:
*
*  give merlin speech and performance
*
eval max %random.10%
set txt1 Muscle is good, but craft is better.
set txt2 Stop, Morgaine! Your wiles cannot avail you now., The hurt you have done me, I readily forgive. It is for the harm that you have caused others that you are to be judged.
set txt3 In this world, war shall always be, for here be dragons. Yet, in the end, we do not hold dear the bright blade, nor the hammer. In the end, we love only what we must shield.
set txt4 You'll find me with the Tuberose. We bloom at night.
set txt5 Your fate is what you are born into, but your destiny is what you chose to make of it. The stars control your fate. But your mind, body, and spirit control your destiny.
set txt6 Was that a dark figure ducking behind a windmill tree? Or only the dance of shadows in my shadow-shifting eyes?
set txt7 My Trumps do not work here, not even the Trumps of Doom. My magic is useless to me, limited as it is by walls the color of Arthur's ring.
set txt8 Somewhere there must be a gap in the icy blue magic that surrounds me, against which I hurl my mind, my cries, my bitter laughter.
set txt9 The shadows will not bear me away, for there are no Shadows here.
set txt10 I am Merlin the Pent, son of Corwin the last, and my dream of light has been turned against me.
set  speech %%txt0%%%
eval speech %speech%
say %speech%
wait 10 s
eval max %random.10%
set action1 A small bright ball of light dances on %self.name%'s fingertips.
set action2 %self.name% tries out all %self.hisher% spells at the same causing a disaster.
set action3  %self.name% turns everyone's clothing transparent, including %self.hisher% own.
set action4 %self.name% makes little red lights dance in %self.hisher% eyes.
set action5 %self.name% takes a coin from behind everyone's ears.
set action6 %self.name% hides behind %self.hisher% own shadow.
set action7 %self.name% juggles with granite boulders to show off.  Watch your feet!
set action8 %self.name% levitates to show off.
set action9 %self.name% turns into a butterfly before resuming %self.hisher% normal shape.
set action10 %self.name% raps in strange magical languages known only to %self.himher%self.
set  performance %%action0%%%
eval performance %performance%
%echo% %performance%

>[0;00m
Name: 'merlin's reward',  VNum: [ 2881], RNum: [  221]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
if %object.vnum% == 2749
  %purge% %self.inventory(2749)%
  set reward %random.25000%
  nop %%actor.gold(%reward%)%%
  %send% %actor% %self.name% smiles and says, "I ha'e been desperate for this key!  Thanks be to you, %actor.name%!"
  %echoaround% %actor% Merlin seems relieved, thanking %actor.name% profusely.
  %send% %actor% %self.name% hands you an enormous amount of gold coins.
  %echoaround% %actor% Merlin hands %actor.name% an enormous amount of gold coins.
else
  %send% %actor% %self.name% seems uninterested in your offering.
  return 0
  halt
end

>[0;00m
[0mCHECKING: 3001[0m

Name: 'Baker Greet',  VNum: [ 3001], RNum: [  222]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP   
   wait 2 sec
   say "If you're going adventuring, I recommend the waybread.  It holds up best.  The danishes are tasty too, though."
   wait 10 sec
   %echo% The Baker takes a rack of fresh, hot waybread out of the oven and puts a new rack of whole wheat bread loaves in to bake.
   wait 40 sec

>[0;00m
[0mCHECKING: 3003[0m

Name: 'falce oblivio',  VNum: [ 3003], RNum: [  223]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 1, Arg list: purge
Commands:
*
* 041723 Aegon 350 Ice Fortress
*
set actor %self.worn_by%
if %actor.name% == Aegon
  set admlvl  7
end
*
if %actor.is_pc% && %admlvl% > 6
  set mob_purged 0
  *
  set room %self.room%
  set target_mob %room.people%
  *
  while %target_mob%
    set next_target %target_mob.next_in_room%
    if %target_mob.name% /= %arg%
      %echoaround% %actor% %actor.name% points the %self.shortdesc% at %target_mob.name%.
      %send% %actor% You point the %self.shortdesc% at %target_mob.name%.
      %echo% A ray of pure energy leaps from the charred tip of the %self.shortdesc% and reduces %target_mob.name% to dust!
      wait 1 s
      %purge% %target_mob%
      set mob_purged 1
    end
    set target_mob %next_target%
  done
  if ! %mob_purged%
    %send% %actor% Target "%arg%" not found in room, "%room.name%."
  end
else
  return 0
end

>[0;00m
[0mCHECKING: 3005[0m

Name: 'bribing the travel agent',  VNum: [ 3005], RNum: [  224]
Trigger Intended Assignment: Mobiles
Trigger Type: Bribe , Numeric Arg: 100, Arg list: None
Commands:
*
* 060822 Aegon 350 Ice Fortress
*
set bribes 1
global bribes
*
set tier1_location past hell guardian, hell
set tier1_vnum 6610
*
set tier2_location past greatest guard, dragon city
set tier2_vnum 21645
*
set tier3_location past elites, sieged castle
set tier3_vnum 14682
*
set tier4_location past elites, imperial ravenna
set tier4_vnum 9643
*
set tier5_location past chinichi, pagoda
set tier5_vnum 9836
*
set tier6_location past yellow man, cedar masion
set tier6_vnum 7494
*
set tier7_location massive sand dune
set tier7_vnum 5353
*
set broken_location rickey rope bridge
set broken_vnum 3163
*
if %actor.is_pc%
  if %bribes%
    if %amount% > 150000
      switch %random.9%
        case 1
          set to_room %tier1_vnum% 
        break
        case 2
          set to_room %tier2_vnum% 
        break
        case 3
          set to_room %tier3_vnum% 
        break
        case 4
          set to_room %tier4_vnum% 
        break
        case 5
          set to_room %tier5_vnum% 
        break
        case 6
          set to_room %tier6_vnum% 
        break
        case 7
          set to_room %tier7_vnum%
        break
        default
          set to_room %broken_vnum%
        break
      done
    else
      eval c 150000 / %amount%
      eval mod 150000 - (%c% * %amount%)
      if %mod% < 15000 / 2
        set delta not even close
      else
        set delta getting closer
      end
      *
      %send% %actor% %self.name% looks at you indignantly. "%actor.name%, that's %delta% to what I'm looking for."
      %echoaround% %actor% %self.name frowns at %actor.name% and hisses something in %actor.hisher% ear.
      return 1
      halt
    end
    *
    if ! %actor.varexists(bribed_nox)%
      set bribed_nox 1
    else
      eval bribed_nox %bribed_nox% + 1
    end
    *
    global bribed_nox
    *
    %send% %actor% %self.name% smiles and waves his arms in a magical gesture.
    %echoaround% %actor% Nox weaves a magical thread around %actor.name%.
    wait 1 s
    %send% %actor% You feel slightly disoriented as you breach time and space!
    %echoaround% %actor.name% vanishes in a puff of smoke!
    %teleport% %actor% %to_room%
    %echoaround% %actor% arrives.
    %force% %actor% look 
    *
    remote %bribed_nox% %actor.id%
    *
    return 0
    halt 
  else
    wait 2 s
    %send% %actor% %self.name% whispers, "%actor.name%, I can't take bribes right now, they are watching."
    %echoaround% %actor% %self.name% whispers something to %actor.name%.
    return 1
    halt
  end
end

>[0;00m
[0mCHECKING: 3006[0m

Name: 'fort nox',  VNum: [ 3006], RNum: [  225]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: make
Commands:
if %cmd.mudcommand% == make
  if %arg.car% == withdrawl
    if %arg.cdr%
      if (%arg.cdr.charat(1)% /= 1 || %arg.cdr.charat(1)% /= 2 || %arg.cdr.charat(1)% /= 3 || %arg.cdr.charat(1)% /= 4 || %arg.cdr.charat(1)% /= 5 || %arg.cdr.charat(1)% /= 6 || %arg.cdr.charat(1)% /= 7 || %arg.cdr.charat(1)% /= 8 || %arg.cdr.charat(1)% =        nop %actor.gold(%arg.cdr%)%
        %send% %actor% %self.name% gives you %arg.cdr% gold coins.
        %echoaround% %actor% gives an enormous mountain of gold to %actor.name%.
      else 
        %send% %actor% I'm expecting a numeric gold amount in coins. 
        return 0
        halt
      end
    else
      %send% %actor% I'm expecting a gold amount in coins.
      return 0
      halt
    end
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 3007[0m

Name: 'jump scare',  VNum: [ 3007], RNum: [  226]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 100, Arg list: None
Commands:
wait 10 s
%echo% Nox giggles.  "Gotcha!"

>[0;00m
[0mCHECKING: 3017[0m
[0mCHECKING: 3019[0m

Name: 'soothsayer performance',  VNum: [ 3017], RNum: [  227]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 8, Arg list: None
Commands:
*
*  give soothsayer a speech
*
eval max %random.15%
set action[1] gazes into %self.hisher% crystal ball, %self.hisher% eyes widen, and whispers
set action[2] takes a tarot card from %self.hisher% deck and lays it before %self.hisher%, whispering
set action[3] opens a small urn containing animal bones, stares at them, and whispers
set action[4] looks at the tarot cards before %self.hisher%, eyes narrowing, and whispers
set action[5] closes %self.hisher% eyes, touches the crystal ball, and speaks in a language you have never heard before, but somehow you comprehend
set action[6] hold her hands cupped before %self.hisher% until a small blue flame appears, chanting
set action[7] peers for a time deep into %self.hisher% crystal ball, then in a tremulous voice, whispers
set action[8] points to the King of Wands Reversed in %self.hisher% tarot deck, looks up at you, and prophesies
set action[9] points to the Four of Cups in %self.hisher% tarot deck, looks up at you, and prophesies
set action[10] points to the Hanged Man Reversed in %self.hisher% tarot deck, looks up at you, and prophesies
set action[11] points to the The Chariot in %self.hisher% tarot deck, looks up at you, and prophesies
set action[12] points to the The Fool Reversed in %self.hisher% tarot deck, looks up at you, and prophesies
set action[13] points to the Queen of Wizards in %self.hisher% tarot deck, looks up at you, and prophesies
set action[14] points to the Page of Swords in %self.hisher% tarot deck, looks up at you, and prophesies
set action[15] points to the Nine of Pentacles Reversed in %self.hisher% tarot deck, looks up at you, and prophesies
set  performance %%action[%max%]%%
eval performance %performance%
eval max %random.10%
set txt[1] Soon, without a glint of foreknowledge, your shadow will darken no doorway, nor righteous ground.
set txt[2] All you hold dear will soon be taken from you by a wrong turn in the night.
set txt[3] Those who follow you into the breech will curse your name and the name of your line for an Age and an Age.
set txt[4] You will lose concentration six times and six times will you suffer the plagues that befell Sodom.
set txt[5] You will gain a life level, but have little to show for it.  This you shall see three times and three times again within your lifetime.
set txt[6] You will lose your corpse and all that it contains before the cock crows and the shroud of Sister Moon swaddles you in despair.
set txt[7] You will curse the name of a high king, a lowly court jester, and thrice the names of maidens before the fortnight is spent.
set txt[8] You will be abandoned by every friend you once knew, and befriended by those you fail to comprehend.
set txt[9] Before the day is the past, you will be visited by three Spirits:  the Spirit of Indecision, the Spirit of Missed Opportunity and the Spirit of Regret.
set txt[10] You will visit me again, after much sorrow and tumult, and you shall be changed, ready for what is next.
set  speech %%txt[%max%]%%
eval speech %speech%
%echo% %self.name.toupper% %performance%, '%speech%'

>[0;00m
[0mCHECKING: 3020[0m

Name: 'electric company',  VNum: [ 3019], RNum: [  228]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
*
* advertise new services
*
set price sapphire
if %actor.is_pc%
  if %actor.has_item(14601)%
    wait 3 s
    %send% %actor% %self.name.toupper% says, 'Hey %actor.name%, I can upgrade that philosopher's stone to a glowing philosopher's stone for a %price% quest token.
    wait 5 s
    %send% %actor% %self.name.toupper% continues, 'When you'd like me to upgrade your stone, just ask me to "make glowing".'
    wait 5 s
    %send% %actor% %self.name.toupper% winks at you, whispering, 'You know where to find me...'
  else
    %echo% What's up friend?  Need a favor?  I love tinkering with gear to improve it.  Take a look at the sign posted here, listing my various services.
  end
end

>[0;00m
[0mCHECKING: 3021[0m

Name: 'tinkering with the philo stone',  VNum: [ 3020], RNum: [  229]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: make
Commands:
if (%cmd% == make && %arg% /= glowing)
  if %actor.has_item(14601)%
    if %actor.has_item(17936)%
      %purge% %actor.inventory(14601)%
      %purge% %actor.inventory(17936)%
      %send% %actor% %self.name.toupper% carefully takes your philosopher's stone and your sapphire token and retreats behind his curtain, protecting his secret process.
      wait 5 s
      %load% obj 14614 %actor% inv
      %send% %actor% When he re-emerges, he is holding your new glowing philosopher's stone!
    else
      %send% %actor% You'll need to bring a sapphire token (100 QP) for the Tinker's payment.
    end
  else
    %send% %actor% You'll need the original philosopher's stone to begin.
  end
else
  return 0
  halt
end

>[0;00m
Name: 'merchandise exchange',  VNum: [ 3021], RNum: [  230]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  %echo% debug: object.vnum: %object.vnum%
  if (%object.vnum% == 8960 || %object.vnum% == 8961 || %object.vnum% == 8963)
    %send% %actor% %self.name.toupper% takes your %object.name.car% and exchanges it for a medium hyperLoop tee.  That should fit better!
    %echoaround% %actor% %actor.name% exchanges a tee-shirt with the Tinker's.
    %purge% %object%
    %load% obj 8962 %actor% inv
  else
    if %object.vnum% == 8964
      %send% %actor% You really should exchange that!  Try wearing it.
    elseif %object.vnum% == 8962
      %send% %actor% The Tinker only has medium-sized hyperLoop tees for exchange.
    end
  end
end

>[0;00m
[0mCHECKING: 3022[0m

Name: 'tinkering with a portable hole',  VNum: [ 3022], RNum: [  231]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: up
Commands:
*
* current cost is ruby token
*
if (%cmd% == upgrade && (%arg% /= hole || %arg% /= portable)
  if %actor.inventory(4737)%
    if %actor.inventory(17937)%
      if %arg% /= mid
        set vnum 10450
        set hometown Midgaard
      elseif %arg% /= new
        set vnum 10451
        set hometown New Thalos
      elseif %arg% /= ska
        set vnum 10452
        set hometown Skara Brae
      else
        %send% %actor% Please specify one of the following hometowns for your upgraded Portable Hole: Midgaard, New Thalos or Skara Brae.
        wait 3 s
        %send% %actor% For example: > upgrade hole skara
        return 0
        halt
      end
      %purge% %actor.inventory(4737)%
      %purge% %actor.inventory(17937)%
      %send% %actor% %self.name.toupper% carefully takes your Portable Hole and your ruby token and retreats behind his curtain, protecting his secret process.
      wait 5 s
      
      %load% obj %vnum% %actor% inv
      %send% %actor% When he re-emerges, he is holding your new Portable Wormhole to %hometown%!
    else
      %send% %actor% You'll need to bring a ruby token (500 QP) for the Tinker's payment.
    end
  else
    %send% %actor% You'll need an original Portable Hole to begin.
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 3028[0m

Name: 'antipaladin destroyer  performance',  VNum: [ 3028], RNum: [  232]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
*
* getting the boot
*
if %actor.is_pc%
  wait 90 sec
  %echo% %self.name.toupper% says, "Well, %actor.name%?  Buy something or leave!"
  wait 30 s
  %echo% %self.name.toupper% says, "%actor.name%, I warned you!"
  wait 1 s 
  %send% %actor% The bartender puts a steel boot to your cuirass and sends you back out toward the street.
  %echoaround% %actor% The bartender punts %actor.name% back into the lobby.
  %teleport% %actor% 3056
  %echoaround% %actor% comes cartwheeling into the room and lands on %actor.hisher% cuirass.
  nop %actor.pos(Sitting)%
  %force% %actor% look
end

>[0;00m
[0mCHECKING: 3043[0m

Name: 'no pets allowed in the pet store',  VNum: [ 3043], RNum: [  233]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 100, Arg list: None
Commands:
if ! %actor.is_pc%
  return 0
  halt
end

>[0;00m
[0mCHECKING: 3044[0m

Name: 'intercept buy command',  VNum: [ 3044], RNum: [  234]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: buy
Commands:
if %cmd% == buy
  if ! %actor.is_pc%
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 3064[0m

Name: 'Drunk Greet',  VNum: [ 3064], RNum: [  235]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 5 sec
   %echo% The drunk stumbles toward you, and says 'Hey, shweetheart, wanna dansh wish me?'
   wait 20 sec
   %echo% The drunk staggers across just in front of you, barely missing injuring himself on your equipment.
   wait 20 sec
   %echo% The drunk offers to buy you a drink, then changes his mind and offers to let you buy HIM a drink.
   wait 20 sec

>[0;00m
[0mCHECKING: 3070[0m
[0mCHECKING: 3071[0m

Name: 'Odin's Quest Suggestion',  VNum: [ 3070], RNum: [  236]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 100, Arg list: None
Commands:
   *Odin's Quest Suggestion
   * if an npc enters the room exit
   if (%actor.vnum% != -1)
    halt
   end
   if (%actor.questdone(1)% == 0)
  wait 1
wsend %actor% You feel the strong urge to pray....
   end

>[0;00m
Name: 'Odin's bad commands',  VNum: [ 3071], RNum: [  237]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: break kick vandalize topple spit take curse
Commands:
* Odin's Quest: bad communication commands
if %cmd.mudcommand% == break ||
   %cmd.mudcommand% == kick ||
   %cmd.mudcommand% == vandalize ||
   %cmd.mudcommand% == topple ||
   %cmd.mducommand% == spit ||
   %cmd.mducommand% == take ||
   %cmd.mducommand% == curse
  %echo% You hear a booming cry: 'Back, you vandal, and damnation on your soul!'
  return 0
  halt
end

>[0;00m
[0mCHECKING: 3072[0m

Name: 'Odin's good commands',  VNum: [ 3072], RNum: [  238]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: worship bow grovel touch kneel kiss
Commands:
* Odin's Quest: good communication commands
    if %cmd.mudcommand% == worship ||
       %cmd.mudcommand% == bow ||
       %cmd.mudcommand% == grovel ||
       %cmd.mudcommand% == touch ||
       %cmd.mudcommand% == kneel ||
       %cmd.mudcommand% == kiss
   %echo% A hollow voice says, 'My child, the strength of the gods is with you...'
   return 0
   halt
end

>[0;00m
[0mCHECKING: 3073[0m
[0mCHECKING: 3074[0m

Name: 'Odin's statue command',  VNum: [ 3073], RNum: [  239]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: statue
Commands:
* Odin's Quest: statue commands
if (%cmd.mudcommand% != statue)
  return 0
  halt
end
* Make sure no mobiles present
if (%actor.vnum% != -1)
  return 0
  halt
end
return 1
%echo% This statue is about six feet tall, it is made of hard, 
%echo% white material - possibly marble or ivory.

>[0;00m
[0mCHECKING: 3075[0m

Name: 'Odin's Quest Initiator',  VNum: [ 3074], RNum: [  240]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: pray
Commands:
* Odin's Quest: quest pray command
if (%cmd.mudcommand% != pray)
  return 0
  halt
end
* if an npc enters the room exit
if %actor.vnum% != -1
  return 0
  halt
end
return 1
if %actor.quest(1)% == 127
  * if the pc has rejected the quest
  %send% %actor% The statue of Odin comes to life and spits upon you.
  %echoaround% %actor% The statue of Odin comes to life and spits upon 
%actor.name% who lacks faith.
end
if %people.3163% != 0
  * if there's someone in Odin's room all ready, exit.
  %send% %actor% Odin doesn't have time for you right now.  Try again 
later.
  halt
end
if (!%actor.quest(1)%)
  * trigger beginning of quest
  wait 1
  %echo% A clap of thunder echoes through the room!
  %echoaround% %actor% %actor.name% vanishes in a flash of white light as they approach the altar!
  %send% %actor% You are bathed in a white light, almost blinding yet warm and comforting.
  %teleport% %actor% 3163
  %force% %actor% gasp
elseif %actor.quest(1)% == -1
  * quest complete
  eval OdinSpellsLeft %actor.OdinSpellsLeft%
  if %actor.align% < -350
    %send% %actor% The statue of Odin comes to life and spits upon you.
    %echoaround% %actor% The statue of Odin comes to life and spits upon evil
  %actor.name%.
    eval OdinSpellsLeft %OdinSpellsLeft% - 2
    remote OdinSpellsLeft %actor.id%
    halt
  end
  %send% %actor% A beam of light shines down upon you -- one of Odin's faithful.
  %echoaround% %actor% A beam of light shines upon %actor.name% in recognition of their faith.
  if %OdinSpellsLeft% < 1
    halt  
  end
  eval OdinSpellsLeft %OdinSpellsLeft% - 1
  remote OdinSpellsLeft %actor.id%
  wait 1 s
  switch %random.8%
    case 1
      dg_cast 'bless' %actor%
      break
    case 2
      dg_cast 'armor' %actor%
      break
    case 3
      dg_cast 'cure critic' %actor%
      break
    case 4
      dg_cast 'stoneskin' %actor%
      break
    case 5
      dg_cast 'detect alignment' %actor%
      break
    case 6
      dg_cast 'detect invisibility' %actor%
      break
    case 7
      dg_cast 'infravision' %actor%
      break
    case 8
      dg_cast 'remove poison' %actor%
      break
  done    
end

>[0;00m
[0mCHECKING: 3076[0m

Name: 'Odin's Quest Speech Trigger',  VNum: [ 3075], RNum: [  241]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: gasp
Commands:
* Odin's Room Quest Speech Script
wait 1
%echo% You feel very disoriented.
wait 3s
%echo% %actor.name%...
wait 3s
%echo% %actor.name%......
wait 3s
%echo% I have heard your faithful prayer.
wait 3s
%echo% Young mortal, I am Odin. I have a request to make of you. If you prove
%echo% yourself you will recieve my blessing and be rewarded greatly.
wait 4s
%echo% The Minotaur has defiled my temple with his excrement.
wait 3s   
%echo% Slay this foul beast that has so dishonored me and bring me his heart. Drop
%echo% it at the foot of my statue and I shall be most pleased with you.
wait 4s   
%echo% Will you do this for me, %actor.name%?

>[0;00m
Name: 'Odin Quest Acceptance',  VNum: [ 3076], RNum: [  242]
Trigger Intended Assignment: Rooms
Trigger Type: Speech , Numeric Arg: 0, Arg list: yes
Commands:
* Odin's Quest Acceptance Script
%echo% I have faith in you, %actor.name%.
%echo% Now go, and complete this task for me.
wait 2 s
%echo% The bright light fades away.
dg_cast 'bless' %actor%
quest %actor% 1 1
%teleport% %actor% 3109

>[0;00m
[0mCHECKING: 3077[0m

Name: 'Odin Quest Decline',  VNum: [ 3077], RNum: [  243]
Trigger Intended Assignment: Rooms
Trigger Type: Speech , Numeric Arg: 0, Arg list: no
Commands:
* Odin's Quest Turndown Script
%echo% A pox on you and your offspring, %actor.name%.
%echo% You have disappointed me greatly.
wait 2 s
%echo% The bright light fades away.
dg_cast 'curse' %actor%
set %act.quest(1)% 127
%teleport% %actor% 3109

>[0;00m
[0mCHECKING: 3078[0m

Name: 'Odin Quest Complete',  VNum: [ 3078], RNum: [  244]
Trigger Intended Assignment: Objects
Trigger Type: Drop , Numeric Arg: 100, Arg list: None
Commands:
*Odin's Quest Completion
* if an npc enters the room exit
if (%actor.vnum% != -1)
  halt
end
* if character isn't at odin's statue, exit
eval r %actor.room%
if (%r.vnum% != 3109)
  halt
end
* exit if the char hasn't killed the minotaur while on the quest
if (%actor.quest(1)% != 2)
  halt
end   
wait 1s
%send% %actor% %actor.name%... You have pleased me much. 
dg_cast 'bless' %actor%
wait 2s
%send% %actor% I will give you the strength to continue fighting the minions who would make
%send% %actor% this world a foul place.
wait 1s
nop %actor.maxhitp(10)%
nop %actor.qpoints(1)%
%echo% A clap of thunder echoes through the room.
%send% %actor% You feel sturdier.
eval OdinSpellsLeft 10
remote OdinSpellsLeft %actor.id%
oquest %actor% 1 -1
wait 5
%echo% The still-beating heart is engulfed in flames.
%purge% %self%

>[0;00m
[0mCHECKING: 3080[0m

Name: 'the hall of failure',  VNum: [ 3080], RNum: [  245]
Trigger Intended Assignment: Mobiles
Trigger Type: Act , Numeric Arg: 0, Arg list: is dead! R.I.P.
Commands:
context %actor.id%
if %actor.is_pc%
  set hall_of_failure_vnum %self.room.vnum%
  set hall_of_failure_vnum 25000
  global hall_of_failure_vnum
  remote hall_of_failure_vnum %actor.id%
end

>[0;00m
[0mCHECKING: 3081[0m

Name: 'minstrel Greet',  VNum: [ 3081], RNum: [  246]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% The minstrel smiles to his love, then strums his lute.
   wait 15 sec
   %echo% The minstrel sings, 'Oh, the summertime is coming, and the trees are sweetly blooming...'
   wait 15 sec
   %echo% The minstrel sings, 'And the wild mountain thyme blooms around the purple heather.  Will ye go, lassie, go?'
   wait 15 sec
   %echo% The minstrel sings, 'And we'll all go together to pull wild mountain thyme all around the purple heather.  Will ye go, lassie, go?'
   wait 15 sec
   %echo% The minstrel sings, 'If my true love, she were gone, I would surely find no other...'
   wait 15 sec
   %echo% The minstrel sings, 'To pull wild mountain thyme all around the purple heather.  Will ye go, lassie, go?'
   wait 15 sec
   %echo% The minstrel sings, 'And we'll all go together to pull wild mountain thyme all around the purple heather.  Will ye go, lassie, go?'
   wait 15 sec
   %echo% The minstrel sings, 'I will build my love a tower by a clear crystal fountain...'
   wait 15 sec
   %echo% The minstrel sings, 'And on it I will pile all the flowers of the mountain.  Will ye go, lassie, go?'
   wait 15 sec
   %echo% The young woman blushes and smiles at the minstrel.
   wait 15 sec
   %echo% The minstrel sings, 'And we'll all go together to pull wild mountain thyme all around the purple heather.  Will ye go, lassie, go?'
   wait 15 sec
   %echo% The minstrel lowers his head as the last strains drift into silence.
   wait 30 sec
   say 'Once a king honored me with a reward rich beyond compare, a small silver vessel which he said had once held an endless stream of the most delicious water he had ever tasted.'
   wait 15 sec
   say 'I gave it to my true love, for its beauty is excelled only by her own.  It is said that there is a way to restore its enchantment, but we have yet to find the pilgrim who knows the secret.'
   wait 15 sec
   say 'One day I shall find the answer, and I will take my beloved and we shall restore the enchantment together.  Then the lovely vessel shall at last be a fitting gift for her.' 
   wait 30 sec
   %echo% The minstrel retunes his lute and prepares to sing.
   wait 15 sec
   %echo% The minstrel sings, 'Lassie with the lint-white locks, honey lassie, heart-gold lassie....'
   wait 15 sec
   %echo% The minstrel sings, 'Wilt thou with me tend the flocks? Wilt thou be my dearie-o?'
   wait 15 sec
   %echo% The minstrel sings, 'Now nature clads the flowery lea, and all is young and sweet like thee...'
   wait 15 sec
   %echo% The minstrel sings, 'Wilt thou share its joys with me, and say thou'lt be my dearie-o?'
   wait 15 sec
   %echo% The minstrel sings, 'And when the welcome summer shower rains teardrops on the little flower...'
   wait 15 sec
   %echo% The minstrel sings, 'We'll to the breathing wood-pine bower at sultry noon, my dearie-o.'
   wait 15 sec
   %echo% The minstrel sings, 'Lassie with the lint-white locks, honey lassie, heart-gold lassie....'
   wait 15 sec
   %echo% The minstrel sings, 'Wilt thou with me tend the flocks? Wilt thou be my dearie-o?'
   wait 15 sec
   %echo% The minstrel sings, 'When Cynthia lights with silver ray the weary shearer's homeward way...'
   wait 15 sec
   %echo% The minstrel sings, 'Through waving golden fields we'll stray, and talk of love, my dearie-o.'
   wait 15 sec
   %echo% The minstrel sings, 'Lassie with the lint-white locks, honey lassie, heart-gold lassie....'
   wait 15 sec
   %echo% The minstrel sings, 'Wilt thou with me tend the flocks? Wilt thou be my dearie-o?'
   wait 15 sec
   %echo% The minstrel sings, 'And when the howling wintery blast disturbs my lassie's midnight rest...'
   wait 15 sec
   %echo% The minstrel sings, 'Enclasped to my faithful breast, I will comfort thee, my dearie-o.'
   wait 15 sec
   %echo% The minstrel sings, 'Lassie with the lint-white locks, honey lassie, heart-gold lassie....'
   wait 15 sec
   %echo% The minstrel sings, 'Wilt thou with me tend the flocks? Wilt thou be my dearie-o?'
   wait 15 sec
   %echo% he minstrel smiles, thanks his audience for any donations they may wish to make, and then retires to share a drink and conversation with his beloved.
   wait 45 sec
   %echo% The minstrel returns to his lute and prepares to sing.
   wait 10 sec

>[0;00m
[0mCHECKING: 3082[0m
[0mCHECKING: 3086[0m

Name: 'troubadour Greet',  VNum: [ 3082], RNum: [  247]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 5 sec
   %echo% The onlookers grow quiet as the troubadour lifts her dulcimer.
   wait 3 sec
   %echo% The troubadour sings, 'There was a young maiden who lived by the shore, let the winds blow high, blow low...'
   wait 15 sec
   %echo% The troubadour sings, 'No one could she find to comfort her mind as she sat all alone on the shore, she sat all alone on the shore.'
   wait 15 sec
   %echo% The troubadour sings, 'There was a sea captain who sailed on the sea, let the winds blow high, blow low...'
   wait 15 sec
   %echo% The troubadour sings, '"I'll die, I'll just die," that captain did cry, "if I can't have that maid on the shore, if I can't have that maid on the shore."'
   wait 15 sec
   %echo% The troubadour sings, 'The captain had silver, the captain had gold, the captain had costly wealth...'
   wait 15 sec
   %echo% The troubadour sings, 'All this he would give to his jolly ship's crew to bring him that maid from the shore, to bring him that maid from the shore.'
   wait 15 sec
   %echo% The troubadour sings, 'Then slowly, slowly she came up on board.  The captain gave her a chair, oh...'
   wait 15 sec
   %echo% The troubadour sings, 'He seated her down in his cabin below, that maid filled with sorrow and care, that maid filled with sorrow and care.'
   wait 15 sec
   %echo% The troubadour sings, 'She seated herself in the bow of the ship, she sang so low and sweet, oh....'
   wait 15 sec
   %echo% The troubadour sings, 'She sang so sweet, gentle and complete, she sang all the seamen to sleep, she sang all the seamen to sleep.'
   wait 15 sec
   %echo% The troubadour sings, 'She partook of his silver, partook of his gold, partook of his costly wealth...'
   wait 15 sec
   %echo% The troubadour sings, 'She took his broad sword to make her an oar to paddle her back to the shore, to paddle her back to the shore.'
   wait 15 sec
   %echo% The troubadour sings, '"Your men must be crazy, your men must be mad, your men must be deep in despair, oh!'"
   wait 15 sec
   %echo% The troubadour sings, '"I deluded them all as well as yourself, and again I'm a maid on the shore, again I'm a maid on the shore!'
   wait 15 sec
   %echo% The troubadour smiles and thanks the audience for their attention, then turns to have a drink with a bystander.
   wait 45 sec
   %echo% The troubadour tunes her dulcimer and prepares to sing.
   wait 15 sec
   say 'This one is about a poor maiden whose true love disappeared at sea.  Her parents sent her to Bedlam because she refused to believe her love was dead and consent to marry another.'
   wait 20 sec
   %echo% The troubadour sings, 'Abroad as I was walking one evening in the spring I heard a maid in bedlam so sweetly for to sing...'
   wait 15 sec
   %echo% The troubadour sings, 'Her chains she rattled with her hands, and thus sighed she: "I love my love because I know my love loves me."'
   wait 15 sec
   %echo% The troubadour sings, '"Though my cruel parents are being too unkind, they drove and pushed me and troubled my mind..."'
   wait 15 sec
   %echo% The troubadour sings, '"I will endure it for my love, contented will I be.  I love my love because I know my love loves me."'
   wait 15 sec
   %echo% The troubadour sings, '"Could I become a swallow, I'd ascend into the air, and if I lost my labours and could not find him there...'"
   wait 15 sec
   %echo% The troubadour sings, '"I swiftly would become a fish, and search the foaming sea.   I love my love because I know my love loves me."'
   wait 15 sec
   %echo% The troubadour sings, '"With straw I'll make a garland, and dress it very fine.  I'll mix the same with roses, lilies, mint, and thyme.'"
   wait 15 sec
   %echo% The troubadour sings, '"I will preserve it for my love, till he returns from sea.   I love my love because I know my love loves me."'
   wait 15 sec
   %echo% The troubadour sings, 'Just as she was out weeping, her love came on the land.  Hearing she was in Bedlam, he ran straight out of hand....'
   wait 15 sec
   %echo% The troubadour sings, 'And as he entered in the gate, he heard her sigh and say, "I love my love because I know my love loves me."'
   wait 15 sec
   %echo% The troubadour sings, 'He stood and gazed on her, hearing his love complain.  He could not stand any longer, he bled in every vein...'
   wait 15 sec
   %echo% The troubadour sings, 'He flew into her snowy white arms, and thus replied he, "I love my love because I know my love loves me!"'
   wait 15 sec
   %echo% The troubadour smiles and thanks the audience for their attention, then turns to have a drink with a bystander.
   wait 45 sec
   %echo% The troubadour tunes her dulcimer and prepares to sing.
   wait 10 sec

>[0;00m
[0mCHECKING: 3095[0m

Name: 'JediMUD Historian - Updates characters on changes',  VNum: [ 3086], RNum: [  248]
Trigger Intended Assignment: Mobiles
Trigger Type: Act , Numeric Arg: 1, Arg list: entered arrived appears
Commands:
* For Use for JediMUD- By AP
if %actor.is_pc%
 wait 1 sec
 %echo% The Historian says, There have been many changes since the early days.
 wait 2 sec
 %echo% The Historian says, the entire game has been rewritten using TBAMUD as the base code.
 wait 2 sec
 %echo% The Historian says, We have ASCII rent files, and player files.
 wait 2 sec
 %echo% The Historian says, We now have OLC, and Triggers. Gone are the days of speech being part of the mob file.
 wait 2 sec 
 %echo% The Historian says, All of special procedures have been re-written and no longer use the ADL files.
 wait 2 sec
 %echo% The Historian says, all of the world files are updated for 128 bit flags. 
 wait 2 sec
 %echo% The Historian says, We now have autoassist, autogold, autoloot, autodoor, autokey, autodam, autosac, autosplit.
 wait 2 sec
 %echo% The Historian says, and autoeq. Please see the help files on thse.
 wait 2 sec
 %echo% The Historian says, prefedit allows you edit many of your toggleables. 
 wait 2 sec
 %echo% The Historian says, Mortal Levels and Immortal levels are now split. If in the future we decide we want to expand mortal levels, we can.
 wait 2 sec
 %echo% The Historian says, help files are divided into help (mortal), ihelp (immortal), olchelp (olc commands) and policy.
 wait 2 sec
 %echo% The Historian says, Special procedures now fire, and i mean all procs on that mobile. In the past they were buggy not allowing all procs on that mobile to fire. They do now, trust us, they do.
 wait 2 sec
 %echo% The Historian says, The legacy Trains/shuttle are no longer in existence. They were replaced by triggers by Hurin.
 wait 2 sec
 %echo% The Historian says, The Transporters for Bardic college and Newbie zones are now triggers.
 wait 2 sec
 %echo% The Historian says, bug/typo/idea files are overhauled using format of bug/typo/idea submit <title> than fill out the issue. 
 wait 2 sec
 %secho% The Historian says, Please see bug/type/idea list to see what has been added.
 wait 2 sec
 %echo% The Historian says, Cedit - configuration edit allows the admin to make changes on the fly. We can update most things including the game timers.
 wait 2 sec
 %echo% The Historian says, Races have been added, and they do impact the creation of a character. More additions will be coming in the future.
 wait 2 sec
 %echo% The Historian says, We have numerous more to share, but it would be best to ask other players who have been playing a while now.
 wait 3 sec
 %echo% The Historian says, The JediMUD Admin welcome you to the game, and hope you enjoy. Many more updates to come.
end

>[0;00m
[0mCHECKING: 3096[0m

Name: 'unused',  VNum: [ 3095], RNum: [  249]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: None
Commands:
* No Script

>[0;00m
Name: 'unused',  VNum: [ 3096], RNum: [  250]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: None
Commands:
* No Script

>[0;00m
[0mCHECKING: 3097[0m

Name: 'quest point convert',  VNum: [ 3097], RNum: [  251]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 7, Arg list: convert
Commands:
* This trigger allows you you exchange questpoints for tokens or tokens for questpoints
* It is meant to be used along side the banker at the ATM in hometowns
* Additional verification and testing by Guts
*
if (%cmd% == convert || %cmd% == revert ) && (%arg.strlen% == 0)
  %send% %actor% Usage:
  %send% %actor% convert all             - this turns in all your top level inventory tokens into QPs
  %send% %actor% revert all              - this turns all your QPs into colored up inventory
  %send% %actor% convert <denomination>  - this turns in a single token into QPs
  %send% %actor% revert <denomination>   - this turns QPs into a single token
  %send% %actor% where <denomination> is (bronze, silver, gold, platinum, sapphire, ruby, aor diamond) 
elseif %cmd% == convert && (%arg% /=all)
  set tmp 0
  %send% %actor% Your current quest point balance is %actor.questpoints%.
  while %actor.inventory(17932)%
    %purge% %actor.inventory(17932)%
    nop %actor.questpoints(1)%
    eval tmp %tmp% + 1
  done
  while %actor.inventory(17933)%
    %purge% %actor.inventory(17933)%
    nop %actor.questpoints(5)%
    eval tmp %tmp% + 5
  done
  while %actor.inventory(17934)%
    %purge% %actor.inventory(17934)%
    nop %actor.questpoints(10)%
    eval tmp %tmp% + 10 
  done
  while %actor.inventory(17935)%
    %purge% %actor.inventory(17935)%
    nop %actor.questpoints(50)%
    eval tmp %tmp% + 50 
  done
  while %actor.inventory(17936)%
    %purge% %actor.inventory(17936)%
    nop %actor.questpoints(100)%
    eval tmp %tmp% + 100 
  done
  while %actor.inventory(17937)%
    %purge% %actor.inventory(17937)%
    nop %actor.questpoints(500)%
    eval tmp %tmp% + 500 
  done
  while %actor.inventory(17938)%
    %purge% %actor.inventory(17938)%
    nop %actor.questpoints(1000)%
    eval tmp %tmp% + 1000
  done
  %send% %actor% After converting %tmp% token(s) your quest points balance has increased to %actor.questpoints%
elseif %cmd% == convert && (%arg% /= bronze)
  if %actor.inventory(17932)%
    %purge% %actor.inventory(17932)%
    %send% %actor% Your current quest point balance is %actor.questpoints%.
    nop %actor.questpoints(1)%
    %send% %actor% After exchanging a bronze 1-point quest token your quest points balance has increased to %actor.questpoints%
  else 
    %send% %actor%  You do not seem to have a bronze quest token to exchange.
  end
elseif %cmd% == convert && (%arg% /= silver)
  if %actor.inventory(17933)%
    %purge% %actor.inventory(17933)%
    %send% %actor% Your current quest point balance is %actor.questpoints%.
    nop %actor.questpoints(5)%
    %send% %actor% After exchanging a silver 5-point quest token your quest points balance has increased to %actor.questpoints%
  else 
    %send% %actor%  You do not seem to have a silver quest token to exchange.
  end
elseif %cmd% == convert && (%arg% /= gold)
  if %actor.inventory(17934)%
    %purge% %actor.inventory(17934)%
    %send% %actor% Your current quest point balance is %actor.questpoints%.
    nop %actor.questpoints(10)%
    %send% %actor% After exchanging a gold 10-point quest token your quest points balance has increased to %actor.questpoints%
  else
    %send% %actor%  You do not seem to have a gold quest token to exchange.
  end
elseif %cmd% == convert && (%arg% /= platinum) 
  if %actor.inventory(17935)%
    %purge% %actor.inventory(17935)%
    %send% %actor% Your current quest point balance is %actor.questpoints%.
    nop %actor.questpoints(50)%
    %send% %actor% After exchanging a platinum 50-point quest token your quest points balance has increased to %actor.questpoints%
  else
    %send% %actor%  You do not seem to have a platinum quest token to exchange.
  end
elseif %cmd% == convert && (%arg% /= sapphire)
  if %actor.inventory(17936)%
    %purge% %actor.inventory(17936)%
    %send% %actor% Your current quest point balance is %actor.questpoints%.
    nop %actor.questpoints(100)%
    %send% %actor% After exchanging a sapphire 100-point quest token your quest points balance has increased to %actor.questpoints%
  else
    %send% %actor%  You do not seem to have a sapphire quest token to exchange.
  end
elseif %cmd% == convert && (%arg% /= ruby)
  if %actor.inventory(17937)%
    %purge% %actor.inventory(17937)%
    %send% %actor% Your current quest point balance is %actor.questpoints%.
    nop %actor.questpoints(500)%
    %send% %actor% After exchanging a ruby 500-point quest token your quest points balance has increased to %actor.questpoints%
  else
    %send% %actor%  You do not seem to have a ruby quest token to exchange.
  end
elseif %cmd% == convert && (%arg% /= diamond) 
  if %actor.inventory(17938)%
    %purge% %actor.inventory(17938)%
    %send% %actor% Your current quest point balance is %actor.questpoints%.
    nop %actor.questpoints(1000)%
    %send% %actor% After exchanging a diamond 1000-point quest token your quest points balance has increased to %actor.questpoints%
  else
    %send% %actor%  You do not seem to have a diamond quest token to exchange.
  end
end

>[0;00m
[0mCHECKING: 3098[0m

Name: 'quest point revert',  VNum: [ 3098], RNum: [  252]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 7, Arg list: revert
Commands:
* This trigger allows you you exchange questpoints for tokens or tokens for questpoints
* It is meant to be used along side the banker at the ATM in hometowns
* Additional verification and testing by Guts
*
if (%cmd% == convert || %cmd% == revert ) && (%arg.strlen% == 0)
  %send% %actor% Usage:
  %send% %actor% convert all             - this turns in all your top level inventory tokens into QPs
  %send% %actor% revert all              - this turns all your QPs into colored up inventory
  %send% %actor% convert <denomination>  - this turns in a single token into QPs
  %send% %actor% revert <denomination>   - this turns QPs into a single token
  %send% %actor%
  %send% %actor% where <denomination> is (bronze, silver, gold, platinum, sapphire, ruby, aor diamond)
elseif %cmd% == revert && (%arg% /=all)
  %send% %actor% Your current quest point balance is %actor.questpoints%.
  eval qps %actor.questpoints%
  set tmp 0
  while (%actor.questpoints% > 999)
    nop %actor.questpoints(-1000)%
    %load% obj 17938 %actor% inv
    eval tmp %tmp% + 1000
  done
  while (%actor.questpoints% > 499)
    nop %actor.questpoints(-500)%
    %load% obj 17937 %actor% inv
    eval tmp %tmp% + 500
  done
  while (%actor.questpoints% > 99)
    nop %actor.questpoints(-100)%
    %load% obj 17936 %actor% inv
    eval tmp %tmp% + 100
  done
  while (%actor.questpoints% > 49)
    nop %actor.questpoints(-50)%
    %load% obj 17935 %actor% inv
    eval tmp %tmp% + 50
  done
  while (%actor.questpoints% > 9)
    nop %actor.questpoints(-10)%
    %load% obj 17934 %actor% inv
    eval tmp %tmp% + 10
  done
  while (%actor.questpoints% > 4)
    nop %actor.questpoints(-5)%
    eval tmp %tmp% + 5
    %load% obj 17933 %actor% inv
  done
  while (%actor.questpoints% >= 1)
    nop %actor.questpoints(-1)%
    eval tmp %tmp% + 1
    %load% obj 17932 %actor% inv
  done
  %send% %actor% After reverting all your quest points for tokens you should have an additional %tmp% in tokens in your inventory.
  *
  * This next portion is for the exchanging of qps/questpoints for tokens
  *
elseif %cmd% == revert && (%arg% /= bronze)
  if %actor.questpoints% >0
    nop %actor.questpoints(-1)%
    %load% obj 17932 %actor% inv
    %send% %actor% You have %actor.questpoints% qps remaining, a shiny bronze 1-point quest token appears in your inventory!
  else
    %send% %actor% You only have %actor.questpoints% qps and you need 1 to exchange for a bronze quest token.
  end
elseif %cmd% == revert && (%arg% /= silver)
  if %actor.questpoints% >4
    nop %actor.questpoints(-5)%
    %load% obj 17933 %actor% inv
    %send% %actor% You have %actor.questpoints% qps remaining, a shiny silver 5-point quest token appears in your inventory!
  else
    %send% %actor% You only have %actor.questpoints% qps and you need 5 to exchange for a silver quest token.
  end
elseif %cmd% == revert && (%arg% /= gold)
  if %actor.questpoints% >9
    nop %actor.questpoints(-10)%
    %load% obj 17934 %actor% inv
    %send% %actor% You have %actor.questpoints% qps remaining, a shiny gold 10-point quest token appears in your inventory!
  else
    %send% %actor% You only have %actor.questpoints% qps and you need 10 to exchange for a gold quest token.
  end
elseif %cmd% == revert && (%arg% /= platinum)
  if %actor.questpoints% >49
    nop %actor.questpoints(-50)%
    %load% obj 17935 %actor% inv
    %send% %actor% You have %actor.questpoints% qps remaining, a shiny platinum 50-point quest token appears in your inventory!
  else
    %send% %actor% You only have %actor.questpoints% qps and you need 50 to exchange for a platinum quest token.
  end
elseif %cmd% == revert && (%arg% /= sapphire)
  if %actor.questpoints% >99
    nop %actor.questpoints(-100)%
    %load% obj 17936 %actor% inv
    %send% %actor% You have %actor.questpoints% qps remaining, a shiny sapphire 100-point quest token appears in your inventory!
  else
    %send% %actor% You only have %actor.questpoints% qps and you need 100 to exchange for a sapphire quest token.
  end
elseif %cmd% == revert && (%arg% /= ruby)
  if %actor.questpoints% >499
    nop %actor.questpoints(-500)%
    %load% obj 17937 %actor% inv
    %send% %actor% You have %actor.questpoints% qps remaining, a shiny ruby 500-point quest token appears in your inventory!
  else
    %send% %actor% You only have %actor.questpoints% qps and you need 500 to exchange for a ruby quest token.
  end
elseif %cmd% == revert && (%arg% /= diamond)
  if %actor.questpoints% >999
    nop %actor.questpoints(-1000)%
    %load% obj 17938 %actor% inv
    %send% %actor% You have %actor.questpoints% qps remaining, a shiny diamond 1000-point quest token appears in your inventory!
  else
    %send% %actor% You only have %actor.questpoints% qps and you need 1000 to exchange for a diamond quest token.
  end
end

>[0;00m
[0mCHECKING: 3150[0m

Name: 'prop weapons for the guards',  VNum: [ 3150], RNum: [  253]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
if %self.eq(wield)%
  %purge% %self.eq(wield)%
end

>[0;00m
[0mCHECKING: 3151[0m
[0mCHECKING: 3152[0m

Name: 'test - solo hyperloop not used',  VNum: [ 3151], RNum: [  254]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 100, Arg list: *
Commands:
if %cmd% == list
  %send% %actor% We are currently offering trips to the following locations:
  %send% %actor% -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
%send% %actor% .
  %send% %actor% 1.) Greater Midgaard Union Station
  %send% %actor% 2.) New Thalos Metro Station
  %send% %actor% 3.) Skara Brae
%send% %actor% .
  %send% %actor% -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
elseif %cmd% == travel
if %arg% != 1 || %arg% != 2 || %arg% != 3 || !%arg%
    %send% %actor% Please type list to see all possible locations you can travel to.
    %send% %actor% To travel to a location simply type 'travel #'.
    %send% %actor% For example: 'travel 3' would take you to Skara brae.
  else
if %actor.inventory(3151)%
     %purge% %actor.inventory(3151)%
if !%pod_num%
set pod_num 9901
global pod_num
elseif (%pod_num% < 9911)
eval pod_num %pod_num% + 1
global pod_num
else
set pod_num 9901
global pod_num
end
      set destination[1] 3120
      set destination[2] 12498
      set destination[3] 2183
        eval dest %%destination[%arg%]%%
            %send% %actor% A shinny new hyper loop pod pulls up and you step into it.
            %echoaround% %actor% A shinny new pod pulls up next to %actor.name%.
            %echoaround% %actor% %actor.name% steps into the pod and is whisked away.
%teleport% %actor% %pod_num%
            %force% %actor% look
%at% %pod_num% %echo% Your ship will be departing shortly, please take your seat.
            wait 5 s
%at% %pod_num% %echo% You feel the pod beneath you lift off of the ground and begins its journey.
            wait 10 s
%at% %pod_num% %echo% The pod slows down as it reaches its destination and begins to lower towards the ground.
            wait 5 s
%at% %pod_num% %echo% Please leave the pod immediately we will be setting off again shortly.
            %teleport% %actor% %dest%
            %force% %actor% look
    else
      %send% %actor% I am sorry but you need a token to travel in the hyperloop
    end
  end
else
  return 0
end

>[0;00m
[0mCHECKING: 3158[0m

Name: 'test - buy tokens not used',  VNum: [ 3152], RNum: [  255]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 100, Arg list: *
Commands:
if %cmd.mudcommand% == buy 
  if token /= %arg%
     if %actor.gold% < 500
        %send% %actor% It takes 500 coins to purchase a token to travel the system.
     else
       %load% obj 3151 %actor% inv
       nop %actor.gold(-500)%
     end
else
extract amount_var 1 %arg%
extract token_var 2 %arg%
eval token_cost %amount_var% * 500
if %actor.gold% < %token_cost%
%send% %actor% It takes %token_cost% coins to purchase a token to travel the system.
else
%echo% you can buy tokens!
end
end
else
return 0
end

>[0;00m
Name: 'millions served',  VNum: [ 3158], RNum: [  256]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  if ! %player_visits%
    set player_visits 1
  else
    eval player_visits %player_visits% + 1
  end
  global player_visits
  *
  if %actor.name% == Aegon
    %send% %actor% Cheer's has been visited %player_visits% times this uptime!
  else
    *
    if %actor.varexists(cheers_visits)%
      eval cheers_visits %actor.cheers_visits% + 1
    else
      set cheers_visits 1
    end
    global cheers_visits
    remote cheers_visits %self.id%
  end
end

>[0;00m
[0mCHECKING: 3160[0m

Name: 'Newbie Teleporter',  VNum: [ 3160], RNum: [  257]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: trans
Commands:
* By AP w/ help from Rumble TBAmud
set factory 400
set mistamere 19203
set zoo 9056
set crystal 300
if trans /= %cmd% || transport /= %cmd%
if !%arg%
     * no argument provided
       set fail 1
else
     * Lets get the transporter working
    eval loc %%%arg.car%%%
    if %actor.level% > 8
        * If level greater then 8 fail 
        set fail 4
    end
    * If not one of the approved newbie zones fail lookup
    if %loc% == 400 
et pass 1
    elseif %loc% == 9056
et pass 1
    elseif %loc% == 300 
et pass 1
    elseif %loc% == 19203
et pass 1
    else
        set fail 3
    end
end
end
@ Lets give them their failure messages
f %fail% == 1
      	%send% %actor% %actor.name%, Please specify one of the areas on the list.
	halt
nd
f %fail% == 3
	%send% %actor% %actor.name%, The %arg.car% is not a location I know about.
	halt
nd
f %fail% == 4
%send% %actor% %actor.name% You must be below level 8 to go there.
	halt
nd
* We have an approved newbie zone, lets get them there.
if %pass% == 1
 %echoaround% %actor% %actor.name% has activated the transporter....
wait 1 sec
 %echoaround% %actor% %actor.name% shimmers and slowly fades out of sight.
 %send% %actor% The room shimmers slightly and fades from view.
 %send% %actor% When your vision clears, your surroundings are different.
 %teleport% %actor% %loc%
 %force% %actor% look
 wait 1 sec
 %echoaround% %actor% There is a faint humming and %actor.name% fades into sight.
end

>[0;00m
[0mCHECKING: 3161[0m

Name: 'ballys slot machine',  VNum: [ 3161], RNum: [  258]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: pull
Commands:
*
*  bally's slot machine
*  resurrected and repaired by Aegon 
*  now with metric capture to pfile
*
* set b 
* set c 
* set d 
* set g 
* set m 
* set n [0;00m
* set r 
* set y 
* set w 
*
eval weapon %w%WEAPON%n%
eval light %y%LIGHT%n%
eval head %b%HEAD%n%
eval face %c%FACE%n%
eval ear %d%EAR%n%
eval neck %g%NECK%n%
eval body %m%BODY%n%
eval arm %r%ARM%n%
eval ring %y%RING%n%
eval jedimud %w%JEDIMUD%n%
*
set out_of_order 0
set cost 25000
set gold 0
set vnum -1
set base_random 4
set base_loop 5
*
eval num %random.9%
set debug 0
*
if !%slot_lock%
  if %actor.is_pc%
    if (%cmd% == pull) && (%arg% /= handle || %arg% /= arm || %arg% /= slot)
      if %out_of_order% 
        %send% %actor% This machine seems to be out of service.  There is a card taped over the coin slot.
        return 1
        halt
      end
      if %actor.gold% >= %cost%
        nop %actor.gold(-%cost%)%
        set slot_lock 1
        global slot_lock
        %send% %actor% You deposit a mountain of gold coins in the slot machine, pull the handle, and watch the reels start to spin.
        %echoaround% %actor% %actor.name% deposits a mountain of gold coins in the slot machine and pulls the silver handle.
        wait 1 sec
        eval anumber %random.100%
        if %anumber% == 1   
          set firstNum 1
          set firstObj %weapon%
        elseif %anumber% < 4
          set firstNum 2
          set firstObj %light%
        elseif %anumber% < 7
          set firstNum 3
          set firstObj %head%
        elseif %anumber% < 11
          set firstNum 4
          set firstObj %face%
        elseif %anumber% < 16
          set firstNum 5
          set firstObj %ear%
        elseif %anumber% < 26
          set firstNum 6
          set firstObj %neck%
        elseif %anumber% < 36
          set firstNum 7
          set firstObj %body%
        elseif %anumber% < 46
          set firstNum 8
          set firstObj %arm%
        elseif %anumber% < 56
          set firstNum 9
          set firstObj %ring%
        else
          set firstNum 10
          set firstObj %jedimud%
        end
        %send% %actor% The first reel comes to a stop on %firstObj%
        wait 1 sec
        eval anumber %random.100%
        if %anumber% == 1   
          set secondNum 1
          set secondObj %weapon%
        elseif %anumber% < 4
          set secondNum 2
          set secondObj %light%
        elseif %anumber% < 7
          set secondNum 3
          set secondObj %head%
        elseif %anumber% < 11
          set secondNum 4
          set secondObj %face%
        elseif %anumber% < 16
          set secondNum 5
          set secondObj %ear%
        elseif %anumber% < 26
          set secondNum 6
          set secondObj %neck%
        elseif %anumber% < 36
          set secondNum 7
          set secondObj %body%
        elseif %anumber% < 46
          set secondNum 8
          set secondObj %arm%
        elseif %anumber% < 56
          set secondNum 9
          set secondObj %ring%
        else
          set secondNum 10
          set secondObj %jedimud%
        end
        %send% %actor% The second reel comes to a stop on %secondObj%
        wait 1 sec
        eval anumber %random.100%
        if %anumber% == 1   
          set thirdNum 1
          set thirdObj %weapon%
        elseif %anumber% < 4
          set thirdNum 2
          set thirdObj %light%
        elseif %anumber% < 7
          set thirdNum 3
          set thirdObj %head%
        elseif %anumber% < 11
          set thirdNum 4
          set thirdObj %face%
        elseif %anumber% < 16
          set thirdNum 5
          set thirdObj %ear%
        elseif %anumber% < 26
          set thirdNum 6
          set thirdObj %neck%
        elseif %anumber% < 36
          set thirdNum 7
          set thirdObj %body%
        elseif %anumber% < 46
          set thirdNum 8
          set thirdObj %arm%
        elseif %anumber% < 56
          set thirdNum 9
          set thirdObj %ring%
        else
          set thirdNum 10
          set thirdObj %jedimud%
        end
        %send% %actor% The third reel comes to a stop on %thirdObj%
        wait 1 s 
        set reel_state    <  %firstObj%  :: %secondObj% ::  %thirdObj% >
        global reel_state
        remote reel_state %actor.id%
        %send% %actor% %reel_state%
        %send% %actor% %reel_state%
        %send% %actor% %reel_state%
        wait 1 s
        *
        * testing
        *
        if %debug% == 1
          set firstNum %num%
          set secondNum %num%
          set thirdNum %num%
        else
          * %echo% debug: %firstNum% %secondNum% %thirdNum%
        end
        *
        if (%firstNum% == %secondNum%) && (%firstNum% == %thirdNum%)
          %send% %actor% You won!  You won!  You won! You won! You won!  You won!
          %send% %actor% You won!  You won!  You won! You won! You won!  You won!
          %send% %actor% You won!  You won!  You won! You won! You won!  You won!
          %echoaround% %actor% A small barrage of confetti explosions encircle %actor.name%!
          *
          switch %firstNum%
            case 1
              set vnum 17938
              set qp 1000
              * 10000  .000001
            break
            case 2
              set vnum 17937
              set qp 500
              * 500 .000008       
            break
            case 3
              set vnum 17936
              set qp 100
              * 1000 .000027
            break
            case 4
              set vnum 17935
              set qp 50
              * 50 .000064
            break
            case 5
              set vnum 17934
              set qp 10
              * .000125
            break
            case 6
              set vnum 17932
              set qp 1
              * .001
            break
            case 7
              set vnum 17932
              set qp 1
              * .001
            break
            case 8
              set vnum 17932
              set qp 1
              * .001
            break 
            case 9
              set vnum 17932
              set qp 1
              * .001
            break
            case 10
              set vnum -1
              set qp 0
              *   .08
            break
            case default
            break
          done
          *
          switch %qp%
            case 0
              eval mult %%random.%base_random%%
            break
            case 1
              eval loops %%random.%base_loop%%
              eval base_random %base_random% * 4
              eval mult %%random.%base_random%%
            break
            default
              eval mult %%random.%base_random%%
              set loops 1
            break
          done
          *
          if %debug%
            %echo% debug: num: %num% mult: %mult%
          end
          *
          eval gold %cost% + (%cost% * %mult%)
          *
          if %gold% > 0
            %send% %actor% The machine clicks and a torrent of coins spill from the drawer!
            %send% %actor% You count %gold% coins!
            nop %actor.gold(%gold%)%
            %echoaround% %actor% A rush of gold coins spill from the jackpot drawer!
          end
          if %vnum% > 0
            set looping %loops%
            while %looping%
              %load% obj %vnum% %actor% inv
              %log% [T3161] awarded token vnum: %vnum% to player %actor.name% 
              %send% %actor% You see a gleaming token atop the pile!
              %echoaround% %actor% A gleaming token sparkles atop the pile!
              eval looping %looping% - 1
            done
          end
          if ! %actor.varexists(slots)% || %arg% /= reset
            eval qp %qp% * %loops%
            set slots 1 %cost% %gold% %qp%
            global slots
            remote slots %actor.id%
          else
            extract plays 1 %actor.slots%
            extract spent 2 %actor.slots%
            extract won 3 %actor.slots%
            extract oqp 4 %actor.slots%
            if %debug%
              %echo% debug: extracted plays: %plays% spent: %spent% won: %won% oqp: %oqp%
            end
            eval plays %plays% + 1
            eval spent %spent% + %cost%
            eval won %won% + %gold%
            eval nqp %oqp% + (%qp% * %loops%)
            set slots %plays% %spent% %won% %nqp%
            if %debug%
              %echo% debug: plays: %plays% spent: %spent% won: %won% nqp: %nqp%
            end
            global slots
            remote slots %actor.id%
          end
        else
          %send% %actor% Sorry, %actor.name%, you're not a winner... spin again! 
          if ! %actor.varexists(slots)% || %arg% /= reset
            set slots 1 %cost% 0 0 
            global slots
            remote slots %actor.id%
          else
            extract plays 1 %actor.slots%
            extract spent 2 %actor.slots%
            extract won 3 %actor.slots%
            extract oqp 4 %actor.slots%
            eval plays %plays% + 1
            eval spent %spent% + %cost%
            set slots %plays% %spent% %won% %oqp%
            global slots
            remote slots %actor.id%
          end
        end
      else
        %send% %actor% You'll need %cost% gold pieces to pull the one-armed bandit.
        return 1
        halt
      end
    else
      return 0
      halt
    end
  end
  unset slot_lock
else
  %echo% The slot machines are busy at the moment. Try again later.
end

[0mCHECKING: 3162[0m
Name: 'look slot machine',  VNum: [ 3162], RNum: [  259]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 100, Arg list: look
Commands:
if %arg%/=slot
  if %actor.varexists(reel_state)%
    %send% %actor% -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
    %send% %actor% \!       _          _ _   ____  _       _       _ \!
    %send% %actor% \!      \! \! ___  __\! (_) / ___\!\! \! ___ \! \!_ ___\! \!\!
    %send% %actor% \!   _  \! \!/ _ \\/ _\` \! \! \\___ \\! \!/ _ \\\! __/ __\! \!\!
    %send% %actor% \!  \! \!_\! \!  __/ (_\! \! \!  ___) \! \! (_) \! \!_\__ \\_\!\!
    %send% %actor% \!   \\___/ \\___\!\\__,_\!_\! \!____/\!_\!\\___/ \\__\!___(_)\!
    %send% %actor% \!                                                \! 
    %send% %actor% -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_\!
    %send% %actor% \!                                                \!
    %send% %actor% \!          %actor.reel_state%         \!
    %send% %actor% \!          %actor.reel_state%         \!
    %send% %actor% \!          %actor.reel_state%         \!
    %send% %actor% -_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
  else
    %send% %actor% Have you played recently?
  end
  return 1
else
  return 0
end

>[0;00m
[0mCHECKING: 3163[0m

Name: 'training day',  VNum: [ 3163], RNum: [  260]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 7, Arg list: train
Commands:
*
* 03 10 24  Aegon     launch training automatons from guildmasters
*                                we need to protect the context space for xp gathering
*                                we need to share the training in session context to prevent mult occupants
*
set magic_automaton 23516
set combat_automaton 23510
set thief_automaton 23513
set sohei_automaton 23506
*
if %actor.is_pc%
  *
  if (%cmd% == train) && (%arg% == automaton)
    *
    %echoaround% %actor% %self.name% makes a magical gesture, a %actor.name% disappears in a flash of light!
    *
    * temp fix for context issue
    *
    set combat_in_use 0 
    set magic_in_use 0
    set thief_in_use 0
    set sohei_in_use 0
    *
    switch %actor.class%
      case Cleric
        if ! %magic_in_use%
          set magic_in_use cleric
          global magic_in_use
          %teleport% %actor% %magic_automaton%
        else
          %send% %actor% That trainer is in session currently.  Try back later.
          return 1
          halt
        end
      break
      case Mage
        if ! %magic_in_use%
          set magic_in_use magic-user
          global magic_in_use
          %teleport% %actor% %magic_automaton%
        else
          %send% %actor% That trainer is in session currently.  Try back later.
          return 1
          halt
        end
      break
      case Jedi
        if ! %magic_in_use%
          set magic_in_use jedi
          global magic_in_use
          %teleport% %actor% %magic_automaton%
        else
          %send% %actor% That trainer is in session currently.  Try back later.
          return 1
          halt
        end
      break
      case Paladin
        if ! %combat_in_use%
          set combat_in_use paladin
          global combat_in_use
          %teleport% %actor% %combat_automaton%
        else
          %send% %actor% That trainer is in session currently.  Try back later.
          return 1
          halt
        end
      break
      case Antipaladin
        if ! %combat_in_use%
          set combat_in_use antipaladin
          global combat_in_use
          %teleport% %actor% %combat_automaton%
        else
          %send% %actor% That trainer is in session currently.  Try back later.
          return 1
          halt
        end
      break
      case Ninja
        if ! %combat_in_use%
          set combat_in_use ninja
          global combat_in_use
          %teleport% %actor% %combat_automaton%
        else
          %send% %actor% That trainer is in session currently.  Try back later.
          return 1
          halt
        end
      break
      case Thief
        if ! %thief_in_use%
          set thief_in_use 1
          global thief_in_use
          %teleport% %actor% %thief_automaton%
        else
          %send% %actor% That trainer is in session currently.  Try back later.
          return 1
          halt
        end
      break
      case Warrior
        if ! %combat_in_use%
          set combat_in_use warrior
          global combat_in_use
          %teleport% %actor% %combat_automaton%
        else
          %send% %actor% That trainer is in session currently.  Try back later.
          return 1
          halt
        end
      break
      case Sohei
        if ! %sohei_in_use%
          set sohei_in_use 1
          global sohei_in_use
          %teleport% %actor% %sohei_automaton%
        else
          %send% %actor% That trainer is in session currently.  Try back later.
          return 1
          halt
        end
      break
      case Bard
        if ! %magic_in_use%
          set magic_in_use bard
          global magic_in_use
          %teleport% %actor% %magic_automaton%
        else
          %send% %actor% That trainer (%magic_in_use%) is in session currently.  Try back later.
          return 1
          halt
        end
      break
      case Ranger
        if ! %combat_in_use%
          set combat_in_use ranger
          global combat_in_use
          %teleport% %actor% %combat_automaton%
        else
          %send% %actor% That trainer is in session currently.  Try back later.
          return 1
          halt
        end
      break
      default
      break
    done
    %echoaround% %actor% %actor.name% arrives in a puff of smoke!
    %force% %actor% look
  else
    return 0
    halt
  end
  *
  context %actor.id%
  *
  set start_exp %actor.exp%
  global start_exp
  remote start_exp %actor.id%
end

>[0;00m
[0mCHECKING: 3165[0m

Name: 'pitt the bouncer speech',  VNum: [ 3165], RNum: [  261]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 8, Arg list: None
Commands:
*
*  give pitt the bouncer speech
*
eval max %random.5%
set action[1] jerks his head to the side, snapping his long mane
set action[2] takes a sip of a Long Island Iced Tea as he sizes you up
set action[3] chuckles at your gear and points to the exit
set action[4] tips his stool back against the wall and smiles
set action[5] peers down at you and sneers
set  performance %%action[%max%]%%
eval performance %performance%
eval max %random.5%
set txt[1] Coming in to drink?
set txt[2] On second thought, you might just want to continue into the guild.
set txt[3] You don't look like you could handle Midgaard's finest.
set txt[4] Newbies that way.
set txt[5] Come back when you've been around for awhile.
set  speech %%txt[%max%]%%
eval speech %speech%
%echo% %self.name% %performance%, '%speech%'

>[0;00m
[0mCHECKING: 3167[0m
[0mCHECKING: 3168[0m

Name: 'geneaologies',  VNum: [ 3167], RNum: [  262]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 7, Arg list: find
Commands:
if %cmd% == find
  if %arg%
    switch %arg%
      case geneaology
        %send% %actor% %actor.name%, you have been born into the %actor.race% tribe.
      break
      default
      break
    done
  else
    %send% %actor% The Phrenologist looks at you, and asks, 'Friend, what knowledge do you seek?'
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 3169[0m

Name: 'bank calendar',  VNum: [ 3168], RNum: [  263]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: look
Commands:
if %actor.is_pc%
  if %cmd% == look && (%arg% == clock || %arg% == calendar)
    %echoaround% %actor% looks at the magnificent gilt timepiece in the northern wall.
    %send% %actor% You look at the magnificent gilt timepiece in the northern wall.
    wait 1 s
    %send% %actor% The intricate mechanism reads hour %time.hour% on day %time.day% of month %time.month% of year %time.year%.
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 3170[0m

Name: 'what social was that?',  VNum: [ 3169], RNum: [  264]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: what
Commands:
if %cmd% == what && %arg% == social
  if %actor.varexists(last_nox_social)%
    %send% %actor% Nox giggles at you and says, that last social was '%actor.last_nox_social%.'  Enjoy!
    %echoaround% %actor% Nox giggles at %actor.name% and says, that last social was '%actor.last_nox_social%.'  Enjoy!
  else
    %send% %actor% Sorry %actor.name%, you weren't here for my last social.
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 3171[0m

Name: 'dupe detector for the rest of us',  VNum: [ 3170], RNum: [  265]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
*
* 0516 23 Aegon 350 Ice Fortress
*
if %actor.is_pc%
  if (%object.type% == CONTAINER)
    if %object.contents%
      set i 1
      set target_obj %object.contents%
      %send% %actor% Examining container: %object.shortdesc%
      %send% %actor% ===================================
      unset obj_id_list 
      set dupe_count 0
      while %target_obj%
        set tmp_obj %target_obj.next_in_list%     
        *
        set time_remaining
        if %target_obj.timer% > 0
          eval minutes (%target_obj.timer% * 75) / 60
          eval days_remaining %minutes% / 1440
          if %days_remaining%
            eval minutes %minutes% - (%days_remaining% * 1440)
          end
          eval hours_remaining %minutes% / 60
          if %hours_remaining%
            eval minutes %minutes% - (%hours_remaining% * 60 )
          end
          set time_remaining [timer: %days_remaining% d, %hours_remaining% h, and %minutes% m]
        end
        *
        set dupe
        if %obj_id_list%
          if %obj_id_list /= %target_obj.id%
            set dupe [DUPE]
            eval dupe_count %dupe_count + 1
          end
        end
        *
        %send% %actor% %i%) %target_obj.shortdesc% [%target_obj.vnum%] <%target_obj.id%> %dupe% %time_remaining%
        *
        if ! %obj_id_list%
          set obj_id_list %target_obj.id%
        else
          set obj_id_list %obj_id_list% %target_obj.id%
        end
        *
        eval i  %i% + 1  
        set target_obj %tmp_obj%
      done
      *
      if %dupe_count%
        %send% %actor% %dupe_count% duplicates found!
      else
        %send% %actor% 0 dupes found.
      end
      return 0
      halt
    else
      %send% %actor% %self.name.toupper% says, "%actor.name%, your container is empty.  Place your duplicate items in a container, then give the container to me."
      return 0
    end
  else
    %send% %actor% %self.name.toupper% says, "%actor.name%, place your duplicate items in a container, then give the container to me."
    return 0
  end
end

>[0;00m
[0mCHECKING: 3172[0m

Name: 'a public service announcement',  VNum: [ 3171], RNum: [  266]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  wait 2 s
  %echo% If you put suspect equipment in a container and hand it to me, i'll let you know if it contains duplicate items.
end

>[0;00m
Name: 'hungry hungry hippos',  VNum: [ 3172], RNum: [  267]
Trigger Intended Assignment: Objects
Trigger Type: Global Random , Numeric Arg: 100, Arg list: None
Commands:
*
*
*
set parms 0
set vnum %self.room.vnum%
eval parms %%findobj.%vnum%(99)%%
if %parms%
  set next_item %self.room.contents%
  * %echo% odin stat debug:  parms: %parms% found item: %next_item.shortdesc%
  while %next_item%
    set next_temp %next_item.next_in_list%
    if %next_item.is_inroom% && %next_item.vnum% == 99
      %purge% %next_item%
      if %random.100% > 50
        %echo% The statue of Odin picks up and eats a serving of chicken parmesan!
      end
    end
    set next_item %next_temp%
  done
end

>[0;00m
[0mCHECKING: 3175[0m

Name: 'commit heresy',  VNum: [ 3175], RNum: [  268]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: commit
Commands:
*
*
*
if %cmd% == commit && %arg% /= her
  if %arg% /= reset
    nop %actor.align(1000)%
  end
  set target %self.room.people%
  while %target%
    set next_target %target.next_in_room%
    if %target.is_pc% && (%target.master.name% == %actor.name% || %target.name% == %actor.name%)
      %send% %actor% You desecrate the holy shrine with unspeakable profanity!
      %echoaround% %actor% %actor.name% desecrates the holy shrine with unspeakable profanity!
      set align %target.align%
      if %align% >= 100
        eval new_align %align% - 100
      else
        if %align% > -900
          eval new_align -100 - %align%
        end
      end
      nop %target.align(%new_align%)%
    end
    set target %next_target%
  done
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 3242[0m

Name: 'secretary speech',  VNum: [ 3242], RNum: [  269]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   say 'Sorry, but the Mayor is extremely busy today.'
   wait 10 sec
   say 'Please sit down and have a seat in the meantime.'
   wait 40 sec

>[0;00m
[0mCHECKING: 3244[0m

Name: 'no news is good news',  VNum: [ 3244], RNum: [  270]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 5, Arg list: None
Commands:
*
*23 Feb 24  Aegon 30 Midgaard
*17 Mar 24 updated
*26 Feb 25 updated
*
* set room %self.room%
eval max %random.20%
*
* %asound% You hear a faint klaxon announcing the news robot somewhere nearby.
*
* %echo% current room: %room.vnum% old room: %old_room.vnum%
*
set news[1] Adventurers traveling through Haon Dor report the discovery of a magical fishing pole.
set news[2] Quest Point items can now be purchased from Shopkeepers located around the Empire.
set news[3] Try one of the sixty quests offered by Questmasters throughout the Realm!
set news[4] There is a Balrog loose in Goblinville!
set news[5] Nox is offering a guided tours!
set news[6] The hyperLoop services ten cities of the Realm.
set news[7] Bilbo Baggins has a surprise in store for all those who attend his 100th Birthday Party!
set news[8] Many items have been modified to be worn by additional classes. Check out the modifications pages on the Wiki!
set news[9] There is a great ripple in the Force -- some say a triple-bladed forcesaber has been forged!
set news[10] Train with the battle automatons via your Guildmaster!
set news[11] Read the news and changes!
set news[12] Read the MOTD for the latest breaking news!
set news[13] Check out the Fandom wiki for more than 900 pages of JediMUD information.  Plug Jedimud into any browser search bar.
set news[14] The goblins have been detected tunneling in and around Moria.
set news[15] A new threat to the Dwarven Holdfast at Khazad Dum has arisen in the Goblin Caves!
set news[16] There is a new Queen in the Dwarven Kingdom!
set news[17] The Midgaard Temple has received an influx of donations and the ecumenical staff would like to thank the citizens of Midgaard!
set news[18] Travellers report encountering strange gargoyle-like creatures west of the Arctic Empire.
set news[19] The Scarlet Barnacle is home to the ancient mariner who offers a game of chance.
set news[20] There is a bounty on Death Vipers taken south of the Necromancer's Tower!
*if %room.vnum% !=  %old_room.vnum%
%echo% The news robot, a spherical droid, rolls to a halt and carefully deploys its loudspeaker.
wait 2 s
*
set  speech %%news[%max%]%%
eval speech %speech%
say %speech%
*
wait 2 s
%echo% Its task complete, the news robot retracts it's loudspeaker, and rolls off to a new location.

>[0;00m
[0mCHECKING: 3245[0m

Name: 'don't feed the birds',  VNum: [ 3245], RNum: [  271]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: feed
Commands:
if %cmd% == feed && (%arg% /= pigeon || %arg% /= bird)
  eval pigeons %findmob.3202(3245)%
  if (%pigeons% < 10)
    if %pigeons% > 1
      set pigeons pigeons
    else
      set pigeons pigeon
    end
    %echo% %actor.name% digs into %actor.hisher% bag of crumbs and casts them toward the %pigeons%.
    wait 1 s
    %echo% Another pigeon flies in from above!
    %load% mob 3245
  else
    %echo% A pigeon coos with delight.
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 3665[0m

Name: 'swedish chef speech',  VNum: [ 3665], RNum: [  272]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
wait 5 sec
%echo% The Swedish Chef chases a chicken around the room. "Coom heer, cheekee!"
wait 30 sec
%echo% The Swedish Chef catches the chicken, sending a flurry of feathers flying through the air.
wait 10 sec
say "Now we will poot ze-a cheekee in de-a oofee!"
wait 10 sec
%echo% The Swedish Chef tosses the chicken with some vegetables, singing his favorite song and ending with "Bork bork bork bork!"
wait 10 sec
%echo% With a loud squawk, the chicken escapes again.  The Chef chases it madly around and around the kitchen.
wait 30 sec

>[0;00m
[0mCHECKING: 3670[0m
[0mCHECKING: 3703[0m

Name: 'honker speech',  VNum: [ 3670], RNum: [  273]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 5 sec
   %echo% The Honker bounces up and down and honks his nose loudly. 'HONK! HONK! HONK! HONK! HONK!'
   wait 30 sec
   %echo% The Honker smiles at you, then starts bouncing and honking again. 'HONK! HONK! HONK! HONK! HONK!' This racket is deafening!
   wait 25 sec

>[0;00m
[0mCHECKING: 3705[0m

Name: 'Drogo speech',  VNum: [ 3703], RNum: [  274]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 20 sec
   say 'Everyone keeps asking me about that kender. I suppose that's what you're here for, too?'
   wait 15 sec
   say 'Well, she was nearly my height, but of slender build, like the rest of her race, of course. But the most remarkable thing about her was that she was the most comely maiden I've ever seen, and not just me. Males of every race turned their heads when she went by.'
   wait 15 sec
   say 'She had chestnut-brown hair flowing down to her ankles, and a face like an angel's, and the sweetness and compassion of an angel, as well. When she smiled at you, you'd trip over your own feet to hand her the world on a silver platter, and that's no exaggeration.' 
   wait 15 sec
   say 'Well, she asked me if I knew any interesting places to visit. Of course, what a kender calls 'interesting'....'
   wait 15 sec
   say 'I suggested a few places I thought would be safe enough even though she was out on her own, but I think she had something more exciting in mind.'
   wait 15 sec
   say I had almost made up my mind to offer to go along with her -- just to look after her a bit, you know -- when the innkeep brought me a fresh glass of whiskey, and when I turned back around, she was gone.'
   wait 15 sec
   %echo% Drogo stares pensively at his whiskey before continuing on. 'I never saw hide nor hair of her again.'
   wait 15 sec
   say 'So no, I can't tell you where she is now, though I wish I could.  You can bet your boots it's somewhere 'interesting,' though, assuming her inborn recklessness hasn't gotten her killed by now.'
   wait 15 sec
   say 'If you find her, ask her if she happened to find a watch when she was here. I had a gold watch that opened to show all of the gears at work, handcrafted by my grandfather, but it somehow mysteriously vanished right around the time she did.'
   wait 30 sec
   say 'No, on second thought, let her keep it. Just tell her I slipped it into her belongings as a gift.'
   wait 15 sec
   say 'I just hope she's safe, wherever she may be.'
   wait 15 sec
   %echo% Drogo takes a long swig of whiskey, stares pensively at the wall, and then returns to polishing his axe.
   wait 40 sec

>[0;00m
[0mCHECKING: 3706[0m

Name: 'Dog speech',  VNum: [ 3705], RNum: [  275]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 20 sec
   %echo% A dog barks.
   wait 30 sec

>[0;00m
Name: 'Airden speech',  VNum: [ 3706], RNum: [  276]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 20 sec
   %echo% Airden the wanderer nods at you.
   wait 30 sec

>[0;00m
[0mCHECKING: 3710[0m

Name: 'Horse speech',  VNum: [ 3710], RNum: [  277]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 20 sec
   %echo% Airden the wanderer nods at you.
   wait 30 sec

>[0;00m
[0mCHECKING: 3711[0m

Name: 'waiter speech',  VNum: [ 3711], RNum: [  278]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 20 sec
   %echo% A waiter says, "Hot jumbalaya for table three!"
   wait 30 sec

>[0;00m
[0mCHECKING: 3712[0m

Name: 'waitress speech',  VNum: [ 3712], RNum: [  279]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 20 sec
   %echo% A waitress grumbles, "No tip? Werith'll hear about this."
   wait 30 sec

>[0;00m
[0mCHECKING: 3717[0m

Name: 'adventurer speech',  VNum: [ 3717], RNum: [  280]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 16, Arg list: None
Commands:
*
*  give babbling Adventurer A a speech
*
eval max %random.20%
set txt[1] Have I told you about how i camped Optimus Prime?
set txt[2] Have I shared my strategy for camping Zareef?
set txt[3] Have I revealed my secret of defeating the Ancient Fire Dragon?
set txt[4] Have I talked about how I camp Augustus Honorius?
set txt[5] Have I shown you the way to nuke the goth camps yet?
set txt[6] Have I shown you how best to drop Don Vargano?
set txt[7] Did you know that I figured out Notna by myself?
set txt[8] Have I shown you how to defeat the Questing Beasts?
set txt[9] Have you seen my book entitled "God Statues and How to Defeat Them?"
set txt[10] Have I shown you the way to camp Skeletor?
set txt[11] Dark strangers hailing from the Ice Fortress have sought the gerbil and directions to the Abandoned Cathedral!
set txt[12] Dark strangers hailing from the Ice Fortress have sought the gerbil and directions to the Abandoned Cathedral!
set txt[13] Dark strangers hailing from the Ice Fortress have sought the gerbil and directions to the Abandoned Cathedral!
set txt[14] Dark strangers hailing from the Ice Fortress have sought the gerbil and directions to the Abandoned Cathedral!
set txt[15] Dark strangers hailing from the Ice Fortress have sought the gerbil and directions to the Abandoned Cathedral!
set txt[16] Dark strangers hailing from the Ice Fortress have sought the gerbil and directions to the Abandoned Cathedral!
set txt[17] Dark strangers hailing from the Ice Fortress have sought the gerbil and directions to the Abandoned Cathedral!
set txt[18] Dark strangers hailing from the Ice Fortress have sought the gerbil and directions to the Abandoned Cathedral!
set txt[19] Dark strangers hailing from the Ice Fortress have sought the gerbil and directions to the Abandoned Cathedral!
set txt[20] Dark strangers hailing from the Ice Fortress have sought the gerbil and directions to the Abandoned Cathedral!
set  speech %%txt[%max%]%%
eval speech %speech%
say %speech%

>[0;00m
[0mCHECKING: 3718[0m
[0mCHECKING: 3723[0m

Name: 'adventurer speech',  VNum: [ 3718], RNum: [  281]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 8, Arg list: None
Commands:
eval max %random.10%
set txt[1] I heard about a secret cache of potions just northeast of the beholder in Old Thalos.
sset txt[2] If you need a safe spot to sleep in the Rhyoden Outpost, head to the basement and find the cell.
set txt[3] Travoc-Tor loads two sets of sleeves.
set txt[4] Zareef will always loads a green dragonscale shield if he loads the green dragonscale leggings. 
set txt[5] There is a ritual chamber under the black enfan in Orshingal.
set txt[6] The statue of Aegon loads a polaroid camera that simulates an inner gateway.
set txt[7] The death viper loads a hood that can summon a viper to aid you when in need.
set txt[8] Mark the Innkeeper has a quest for you in Three of Swords.
set txt[9] Seek out Saraka to discover the Ice Fortress of Razakasch.
set txt[10] Deloria loads an amulet of chaos besides the amulet of stasis.
set  speech %%txt[%max%]%%
eval speech %speech%
say %speech%

>[0;00m
[0mCHECKING: 3734[0m

Name: 'Farbekrieg speech',  VNum: [ 3723], RNum: [  282]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 40 sec
   say 'Is that a paragon?  Damn! I'll give you a rusty dagger for it!'
   wait 33 sec
   say 'Help? Help?!  We have a saying around here.  When it comes to help, let Umi do it.'
   wait 33 sec
   say 'Traitors and vandals have ruined me and reduced me to living here.  They conspire, even now, to destroy me!'
   wait 33 sec

>[0;00m
[0mCHECKING: 4100[0m

Name: 'a cleric's gift',  VNum: [ 3734], RNum: [  283]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: pray
Commands:
*
* heal a player and provide align boost
*
if %actor.is_pc%
  if %cmd% == pray && %arg% /= vanyel
    if ! %actor.fighting%
      eval thresh %actor.maxhitp% / 2
      if %actor.hitp% < %thresh%
        %send% %actor% Vanyel Dreta closes his eyes and requests aid from his God in your hour of need.
        wait 1 s
        %send% %actor% Your god hears Vanyel's prayers.
        dg_cast 'heal' %actor%
      else
        %send% %actor% Vanyel Dreta closes his eyes and joins you in prayer.
      end
      if %actor.align% < 350
        nop %actor.align(%actor.align% + 300)%
        wait 3 s
        %send% %actor% Your prayers fill you with the light of salvation.
      end
    else
      %send% %actor% You cannot pray with Vanyel Dreta while fighting Vanyel Dreta.
    end
  else
    return 0
    halt
  end
end

>[0;00m
Name: 'mage speech',  VNum: [ 4100], RNum: [  284]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 15 sec
   %echo% The mage wanders around, mumbling occasional confused phrases, ignoring you.
   wait 15 sec
   %echo% The bastards in Midgaard," he growls. "I had given them all I had."
   wait 15 sec
   %echo% "Worked fifteen years for their temple, gathering knowledge for them."
   wait 15 sec
   %echo% Turning to you, he rants suddenly: "All of their magical knowledge is MINE!"
   wait 15 sec
   %echo% And then silence...

>[0;00m
[0mCHECKING: 4214[0m

Name: 'vampire slumber',  VNum: [ 4214], RNum: [  285]
Trigger Intended Assignment: Mobiles
Trigger Type: Global Time , Numeric Arg: 6, Arg list: None
Commands:
set room %self.room%
if %room.contents(4229)% 
  %echoaround% %self% %self.name.toupper% sees the first rays of dawn's glow limn the heavy curtains.
  wait 3 s
  %echoaround% %self% %self.name.toupper% puts a book back onto the shelf, and slowly climbs into the massive coffin in the center of the room.
  wait 3 s
  %teleport% %self% 4329
  %at% 4246 %echo% The heavy lid of the coffin slides closed.
end

>[0;00m
[0mCHECKING: 4215[0m

Name: 'vampire awakens',  VNum: [ 4215], RNum: [  286]
Trigger Intended Assignment: Mobiles
Trigger Type: Global Time , Numeric Arg: 20, Arg list: None
Commands:
if %self.room.vnum% == 4329
  %at% 4246 %echo% As the last rays of twilight are extinguished, the heavy coffin lid begins to move.
  wait 3 s
  %echoaround% %self% %self.name.toupper% pushes the heavy lid aside and leaves the coffin.
  switch %self.vnum%
    case 4214
      set vnum 4246
    break
    case 4213
      set vnum 4253
    break
    case 4212
      set vnum 4251
    break
    case 4205
      set vnum 4317
    break
    case 4207
      set vnum 4298
    break
    case 4215
      set vnum 4206
    break
    default
    break
  done
  %teleport% %self% %vnum%
  %echoaround% %self% %self.name.toupper% slowly climbs from the massive coffin in the center of the room.
  wait 3 s
  %echoaround% %self% %self.name.toupper% pulls a book from the shelf, and begins reading anew.
end

>[0;00m
[0mCHECKING: 4229[0m

Name: 'return of the masters',  VNum: [ 4229], RNum: [  287]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: open
Commands:
*
* rouse vampire from his slumber
*
if %cmd% == open && %arg% == coffin
  switch %self.room.vnum%
    case 4246
      set vampire Janos
      set last Ferenczy
      set vnum 4214
    break
    case 4253
      set vampire Thibor
      set last Ferenczy
      set vnum 4213
    break
    case 4251
      set vampire Faethor
      set last Ferenczy
      set vnum 4212
    break
    case 4317
      set vampire Shaithis
      set last Shaigispawn
      set vnum 4205
    break
    case 4298
      set vampire Lesk
      set last The Glut
      set vnum 4207
    break
    case 4206
      set vampire Boris
      set last Dragosani
      set vnum 4215
      default
    break
  done
  set vampire_check %%findmob.4329(%vnum%)%%
  eval vampire_check %vampire_check%
  if %vampire_check%
    %at% 4329 %teleport% %vampire% %self.room.vnum%
    %echo% The vampire. %vampire% %last%, pushes open the heavy lid, and slowly climbs out of the coffin!
    wait 2 s
    %send% %actor% It is enraged that you have disturbed its slumber!
  else
    %send% %actor% The coffin is empty.
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 4438[0m

Name: 'lieutenant ghost speech',  VNum: [ 4438], RNum: [  288]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 5 sec
   %echo% The ghost rattles his chains menacingly.
   wait 30 sec
   %echo% The ghostly lieutenant's unearthly moan makes your hair stand on end.

>[0;00m
[0mCHECKING: 4700[0m
[0mCHECKING: 4701[0m

Name: 'Bardic Transporter',  VNum: [ 4700], RNum: [  289]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: trans
Commands:
* By AP w/ help from Rumble TBAmud
set folchlucan 4704
set doss 4804
set canaith 4854
set cli 4893
set anstruth 4904
set ollamh 4942
set folchlucan_max 4
set doss_min 5
set doss_max 10
set canaith_min 11
set canaith_max 14
set cli_min 15
set cli_max 19
set anstruth_min 20
set anstruth_max 24
set ollamh_min 25
set ollamh_max 30
if trans /= %cmd% || transport /= %cmd%
 if folchlucan /= %arg% || doss /= %arg% || canaith /= %arg% || cli /= %arg% || anstruth /= %arg% || ollamh /= %arg% 
  eval class %actor.class%
  if %class% != Bard
     %send% %actor% %class%'s can't go there.
     halt
  end
* Lets get the transporter working
eval level %actor.level%
eval loc %%%arg.car%%%
if %level% <= %folchlucan_max%
  if %loc% == %folchlucan%
    * Customized addition to scripts to check for existence of people in bardic area.
    eval occupied %self.players_inzone(4704 4803 1)%
    if %occupied%
      %echo% There are already too many players in that zone.  Try again later
      halt
    end
    * level less than 5 and going to "folchlucan" pass
    set pass 1
  end
end
if %level% >= %doss_min% && %level% <= %doss_max%
  if %loc% == %doss%
    * Customized addition to scripts to check for existence of people in bardic area.
    eval occupied %self.players_inzone(4804 4853 1)%
    if %occupied%
      %send% %actor% There are already too many players in that zone.  Try again later
      halt
    end
    * level greater or equal to 5 and less than or equal to 10 and "doss" pass
    set pass 1
  end
end
if %level% >= %canaith_min% && %level% <= %canaith_max%
  if %loc% == %canaith%
    * Customized addition to scripts to check for existence of people in bardic area.
    eval occupied %self.players_inzone(4854 4892 1)%
    if %occupied%
      %send% %actor% There are already too many players in that zone.  Try again later
      halt
    end
    * level greater or equal to 11 and less than or equal to 14 and "canaith" pass
    set pass 1
  end
end
if %level% >= %cli_min% && %level% <= %cli_max%
  if %loc% == %cli%
    * Customized addition to scripts to check for existence of people in bardic area.
    eval occupied %self.players_inzone(4893 4903 1)%
    if %occupied%
      %send% %actor% There are already too many players in that zone.  Try again later
      halt
    end
    * level greater or equal to 15 and less than or equal to 19 and "cli" pass
    set pass 1
  end
end
if %level% >= %anstruth_min% && %level% <= %anstruth_max%
  if %loc% == %anstruth%
    * Customized addition to scripts to check for existence of people in bardic area.
    eval occupied %self.players_inzone(4904 4941 1)%
    if %occupied%
      %send% %actor% There are already too many players in that zone.  Try again later
      halt
    end
    * level greater or equal to 20 and less than or equal to 24 and "anstruth" pass
    set pass 1
  end
end
if %level% >= %ollamh_min% && %level% <= %ollamh_max%
  if %loc% == %ollamh%
    * Customized addition to scripts to check for existence of people in bardic area.
    eval occupied %self.players_inzone(4942 4943 1)%
    if %occupied%
      %send% %actor% There are already too many players in that zone.  Try again later
      halt
    end
    set pass 1
  end
end
if %level% > %folchlucan_max% && %loc% == 4704
  %echo% %actor% %actor.name%, you are too high a level to go there.
  halt
end
if %level% < %doss_min% && %loc% == 4804
  %send% %actor% %actor.name%, you must be level %doss_min% to enter this area.
  halt
end
if %level% > %doss_max% && %loc% == 4804
  %send% %actor% %actor.name%, you are too high a level to go there.
  halt
end
if %level% < %canaith_min% && %loc% == 4854
  %send% %actor% %actor.name%, you must be level %canaith_min% to enter this area.
  halt
end
if %level% > %canaith_max% && %loc% == 4854
  %send% %actor% %actor.name%, you are too high a level to go there.
  halt
end
if %level% < %cli_min% && %loc% == 4893
  %send% %actor% %actor.name%, you must be level %cli_min% to enter this area.
  halt
end
if %level% > %cli_max% && %loc% == 4893
  %send% %actor% %actor.name%, you are too high a level to go there.
  halt
end
if %level% < %anstruth_min% && %loc% == 4904
  %send% %actor% %actor.name%, you must be level %anstruth_min% to enter this area.
  halt
end
if %level% > %anstruth_max% && %loc% == 4904
  %send% %actor% %actor.name%, you are too high a level to go there.
  halt
end
if %level% < %ollamh_min% && %loc% == 4942
  %send% %actor% %actor.name%, you must be level %ollamh_min% to enter this area.
  halt
end
if %level% > %ollamh_max% && %loc% == 4942
  %send% %actor% %actor.name%, you are too high a level to go there.
  halt
end
if (!%pass%)
  halt
  * WE have an approved bardic zone, let's go them there.
end
if %pass%
  %echoaround% %actor% %actor.name% has activated the transporter....
  wait 1 sec
  %echoaround% %actor% %actor.name% shimmers and slowly fades out of sight.
  %send% %actor% The room shimmers slightly and fades from view.
  %send% %actor% When your vision clears, your surroundings are different.
  %teleport% %actor% %loc%
  %force% %actor% look
  wait 1 sec
  %echoaround% %actor% There is a faint humming and %actor.name% fades into sight.
end
end
  if !%arg%
    %send% %actor% %actor.name%, You must specify a destination.
    * no argument provided
    halt
  end
end

>[0;00m
[0mCHECKING: 4712[0m

Name: 'Bardic college down',  VNum: [ 4701], RNum: [  290]
Trigger Intended Assignment: Rooms
Trigger Type: Global Command , Numeric Arg: 100, Arg list: down
Commands:
if %cmd.mudcommand% == down
  %teleport% %actor% 3001
  %force% %actor% look
  wait 1 sec
end

>[0;00m
[0mCHECKING: 4892[0m

Name: 'cyrix speech',  VNum: [ 4712], RNum: [  291]
Trigger Intended Assignment: Mobiles
Trigger Type: UNDEFINED , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 40 sec
   %echo% Cyrix glances up at you, then goes back to typing.  "I don't have time to chat with you right now.  Need to find that singing sword."
   wait 30 sec
   %echo% Cyrix glances up at you again.  "Do you know where to find the enchanted hammer?  Didn't think so.  Useless, they're all useless."  He returns to his frantic typing, muttering under his breath.
   wait 30 sec
   %echo% Cyrix mutters as he types, "No one has even heard of Calydone. Everything else is here, everything but the keys.  Not just a legend, can't be just a legend, must find it all." 
   wait 30 sec
   %echo% Cyrix pulls out some hair, bangs his head on the desk, mutters under his breath, and returns to work, pointedly ignoring you.

>[0;00m
Name: 'give ilwar a flute to sell',  VNum: [ 4892], RNum: [  292]
Trigger Intended Assignment: Rooms
Trigger Type: Zone Reset , Numeric Arg: 100, Arg list: None
Commands:
set target %self.people%
if ! %target.has_item(4703)%
  %load% obj 4703 %target% inv
end

>[0;00m
[0mCHECKING: 5201[0m

Name: 'lamia speech',  VNum: [ 5201], RNum: [  293]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 5 sec
   %echo% The lamia hisses at you.
   wait 5 sec

>[0;00m
[0mCHECKING: 5202[0m

Name: 'mimic <mobs> speech',  VNum: [ 5202], RNum: [  294]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 5 sec
   %echo% You hear a strange sound - is something in here with you?
   wait 40 sec

>[0;00m
[0mCHECKING: 5210[0m

Name: 'kobold speech',  VNum: [ 5210], RNum: [  295]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 5 sec
   %echo% A kobold scavenger stirs pokes through the ruins with a stick.
   wait 40 sec

>[0;00m
[0mCHECKING: 5250[0m

Name: 'strum the mandolin',  VNum: [ 5250], RNum: [  296]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 1, Arg list: strum
Commands:
if %actor.is_pc%
  if %cmd% == strum
    if %actor.mana% > 10
      if %random.100% == 99
        %echo% As %actor.name% strums the mandolin, the magical strings break, and the beautiful instrument disappears in a flash!
        return 0
        %purge% %self%
      else
        %echo% As %actor.name% strums the mandolin,  %actor.heshe% is bathed in healing magic.
      end
      nop %actor.mana(-10)%
      dg_cast 'cure serious' %actor%
    end
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 5313[0m
[0mCHECKING: 5318[0m

Name: 'i dream of jeannie',  VNum: [ 5313], RNum: [  297]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 3, Arg list: rub
Commands:
if %actor.is_pc%
  if (%cmd% == rub && %arg% /= lamp)
    %echo% %actor.name% rubs the tarnished, ancient lamp.
    wait 2 s
    %echo% Suddenly a thick, purple smoke issues from the spout of the lamp!
    wait 2 s
    %echo% From within the smoke a powerful form emerges!
    wait 2 s
    %echo% %actor.name% has summoned the Djinn of the Lamp!
    %load% mob 5318
    set room %self.room%
    set slave %room.people%
    %load% obj 1506 %slave% wield
    %force% %slave% fol %actor.name%
    %echo% The lamp glows for a moment, then winks out of existence.
    %purge% %self%
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 5401[0m

Name: 'wandering djinn',  VNum: [ 5318], RNum: [  298]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 10, Arg list: None
Commands:
if ! %self.master%
  %echo% %self.name.toupper% looks confused.
  wait 30 s
  %echo% %self.name.toupper% suddenly discorporates into a thinning smoke puff and vanishes!
  %purge% %self%
else
  if ! %self.fighting%
    switch %random.5%
      case 1
        if ! %self.master.affect(sanctuary)%
          %echo% The djinn makes a casual gesture and says, 'unolsuido.'
          dg_cast 'sanctuary' %self.master%
          %echo% %self.master.name% begins to glow.
        end
      break
      case 2
        if ! %self.master.affect(orb)%
          %echo% The djinn makes a casual gesture and says, 'iko.'
          dg_cast 'orb' %self.master%
          %echo% %self.master.name% is surrounded by a white sphere of psionic power.
        end
      break
      case 3
        if ! %self.master.affect(aura of darkness)%
          %echo% The djinn makes a casual gesture and says, 'okis wo clsickos.'
          dg_cast 'aura of darkness' %self.master%
          %echo% %self.master.name% is surrounded by a dark sphere.
        end
      break
      case 4
        if ! %self.master.affect(resonance)%
          %echo% The djinn makes a casual gesture and says, 'xddoeakns.'
          dg_cast 'resonance' %self.master%
          %echo% %self.master.name% is bathed in a green energy field.
        end
      break
      case 5
        if ! %self.master.affect(magical vestment)%
          %echo% The djinn makes a casual gesture and says, 'oxskia  edikslem.'
          dg_cast 'magical vestment' %self.master%
          %echo% %self.master.name% is bathed in a blue energy field.
        end
      break
      default
      break
    done
  end
end

>[0;00m
[0mCHECKING: 5407[0m

Name: 'Marvin speech',  VNum: [ 5401], RNum: [  299]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
* By AP
if (%actor.is_pc%)
   wait 15 sec
   %echo% Sorbus looks up at you anxiously, a frantic tone to his voice.
   wait 15 sec
   %echo% He says, "%actor.name%, can you help me? I've got the parchment that holds the key..."
   wait 15 sec
   %echo% Mumbling hurriedly, he continues: "The secret to the sanctuary potion!"
   wait 15 sec
   %echo% He paces excitedly. "It's within our reach, %actor.name%, but one thing is missing."
   wait 15 sec
   %echo% He continues, "Diamond dust... it's been years since I've seen any."
   wait 15 sec
   %echo% He asks, "Can you help me find it? Together, it is within our grasp!"
end

>[0;00m
[0mCHECKING: 5408[0m

Name: 'single druish',  VNum: [ 5407], RNum: [  300]
Trigger Intended Assignment: Objects
Trigger Type: Drop , Numeric Arg: 100, Arg list: None
Commands:
set room %self.room%
if %room.contents(10711)%
  %echo% A higher power prevents you!
  return 0
  halt
end

>[0;00m
Name: 'goth reaper',  VNum: [ 5408], RNum: [  301]
Trigger Intended Assignment: Objects
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
*
* dank's special goth reaper
*
set room %self.room%
if %room.contents(10711)%
  set mob %room.people%
  while %mob%
    set next_target %mob.next_in_room%
if %mob.name% /= Gothic && ! %mob.fighting%
      wait 2 s
      switch %random.4%
        case 1
          %echo% A ray of pure energy lances from the %self.shortdesc.cdr%'s focus stone and burns through the %mob.name%'s brain!
          %echo% %mob.name.toupper% collapses in a pile of ash and blows away.
          %purge% %mob%
        break
        case 2
          %echo% The %mob.name.cdr% is ensorcelled by %self.shortdesc%!
          * %echo% debug: dg_cast 'sleep' %mob.name%
          nop %mob.pos(Sleeping)%
        break
        default
          %echo% The %mob.name.cdr% is blinded by %self.shortdesc%!
          dg_cast 'blindness' %mob%
        break
      done
      halt
    end
    set mob %next_target%
  done
end

>[0;00m
[0mCHECKING: 5409[0m

Name: 'dwarven runes',  VNum: [ 5409], RNum: [  302]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 7, Arg list: look
Commands:
if %cmd% == look && (%arg% /= sign || %arg% /= figure || %arg% /= mark || %arg% /= rune)
  if %actor.class% == Dwarf
    %echo% The ancient dwarven runes describe a ritual placing the staff on the ground while surrounded by the enemy.
  else
    %echo% The ancient dwarven runes will require translation.
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 5454[0m

Name: 'pet the magic dragon',  VNum: [ 5454], RNum: [  303]
Trigger Intended Assignment: Mobiles
Trigger Type: Global Random , Numeric Arg: 10, Arg list: None
Commands:
*
* 0803 Aegon 54 Northern Plains
*
*  %echo% detected actor: %actor.name% con: %actor.con% hitp: %actor.hitp
*
%at% 5453 %echo% You hear the crackle of flames from the next room.
if %random.char%
  set actor %random.char%
  *
  if %actor.is_pc%
    %send% %actor% %self.name.toupper% hiccups, issuing a tiny rivulet of flame.
    if %actor.con% < 22
      wait 1 s
      %send% %actor% %self.name.toupper% singes you!
      eval curhitp %actor.hitp%
      eval curdamage %%random.%curhitp%%
      %damage% %actor% %curdamage%
      wait 2 s
    end
  end
end

>[0;00m
[0mCHECKING: 5502[0m

Name: 'greza sailor speech',  VNum: [ 5502], RNum: [  304]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 5 sec
   %echo% You are shocked as slime from the greza sailor falls onto your leg!
   wait 30 sec
   %echo% Slime oozes from the greza sailor, spilling over the floor.
   wait 25 sec

>[0;00m
[0mCHECKING: 5701[0m

Name: 'a palm reading railrod',  VNum: [ 5701], RNum: [  305]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 15, Arg list: None
Commands:
if %random.char%
  set actor %random.char%
  if %actor.is_pc%
    if %actor.level% < 15
      set cost 15000
    elseif %actor.level% < 25
      set cost 25000
    else
      set cost 50000
    end
    %send% %actor% The Soothsayer says, '%actor.name%, is it?' 
    wait 2 s
    %send% %actor% She lays four tarot cards from her deck before her and looks at them with a strange half-smile.
    wait 3 s
    %send% %actor% She continues, 'Shall I read your palm, mighty %actor.class.toupper%?
    wait 3 s
    %send% %actor% She leans back, eyes narrowing, 'For you, the price will be %cost% coins.'
  end
end

>[0;00m
[0mCHECKING: 5702[0m

Name: 'palm sunday',  VNum: [ 5702], RNum: [  306]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: read
Commands:
*
if %actor.is_pc%
  if (%cmd% == buy && %arg% == reading)
    if %actor.level% < 15
      set cost 15000
    elseif %actor.level% < 25
      set cost 25000
    else
      set cost 50000
    end
    if %actor.gold% >= %cost%
      nop %actor.gold(-%cost%)%
      %send% %actor% You hand the soothsayer a heavy bag of coin.
      wait 3 s
      %send% %actor% %self.name.toupper% grasps your right hand, flips it over, palm up, and begins  %self.hisher% reading.
      set i 0
      wait 5 s
      if %actor.varexists(masters_mantle)%
        %send% %actor% %self.name.toupper% studies your palm, looks up at you and says, 'You have completed the Mantle of the Training Master quest.'
        eval i %i% + 1
        wait 3 s 
      end
      if %actor.varexists(reduced_age)%
        %send% %actor% %self.name.toupper% studies your palm, looks up at you and says, 'Your age has been reduced one hundred fifty years by the Elixir of Life.'
        eval i %i% + 1
        wait 3 s 
      end
      if %actor.varexists(bribed_nox)%
        %send% %actor% %self.name.toupper% studies your palm, looks up at you and says, 'You have bribed Nox in order to use his underground travel agency.'
        eval i %i% + 1
        wait 3 s 
      end
      if %actor.varexists(bajjbaji_instruments)%
        %send% %actor% %self.name.toupper% studies your palm, looks up at you and says, 'You have attained the %actor..bajjbaji_instruments.cdr% badge by collecting %actor..bajjbaji_instruments.car% bardic instruments.'
        eval i %i% + 1
        wait 3 s        
      end
      if %actor.varexists(nankarza_skins)%
        %send% %actor% %self.name.toupper% studies your palm, looks up at you and says, 'You have attained the %actor..nankarza_skins.cdr% badge by collecting %actor..nankarza_skins.car% master ranger skins.'
        eval i %i% + 1
        wait 3 s        
      end
      if %actor.varexists(ice_dagger_uid)%
        %send% %actor% %self.name.toupper% studies your palm, looks up at you and says, 'You have been chosen by your sentient dagger!'
        eval i %i% + 1
        wait 3 s        
      end
      if %actor.varexists(free_slaves)%
        %send% %actor% %self.name.toupper% studies your palm, looks up at you and says, 'You have attained the %actor..free_slaves.cdr% badge by liberating %actor..free_slaves.car% human captives.'
        eval i %i% + 1
        wait 3 s        
      end
      if %actor.varexists(free_ice_miners)%
        %send% %actor% %self.name.toupper% studies your palm, looks up at you and says, 'You have attained the %actor..free_ice_miners.cdr% badge by liberating %actor..free_ice_miners.car% dwarven miners.'
        eval i %i% + 1
        wait 3 s        
      end
      if %actor.varexists(arkenstone_quest)%
        %send% %actor% %self.name.toupper% studies your palm, looks up at you and says, 'You are familiar with the quest for the Arkenstone.'
        eval i %i% + 1
        wait 3 s 
      end
      if %actor.varexists(bribe_amt)%
        set bribe_amt %actor.bribe_amt%
        %send% %actor% %self.name.toupper% studies your palm, looks up at you and says, 'Your last bribe was in the amount of %bribe_amt% gold pieces.'
        eval i %i% + 1
        wait 3 s 
      end
      if %actor.varexists(martkza_paladins)%
        %send% %actor% %self.name.toupper% studies your palm, looks up at you and says, 'You have attained the %actor..martkza_paladins.cdr% badge by collecting %actor..martkza_paladins.car% paladin corpses.'
        eval i %i% + 1
        wait 3 s        
      end
      if %actor.varexists(cincture_complete)%
        %send% %actor% %self.name.toupper% studies your palm, looks up at you and says, 'You have completed the cincture assembly.'
        eval i %i% + 1
        wait 3 s        
      end
      if %actor.varexists(dajdaj_spies)%
        %send% %actor% %self.name.toupper% studies your palm, looks up at you and says, 'You have attained the %actor..dajdaj_spies.cdr% badge by collecting %actor..dajdaj_spies.car% spy corpses.'
        eval i %i% + 1
        wait 3 s        
      end
      if %actor.varexists(kasraza_dragons)%
        %send% %actor% %self.name.toupper% studies your palm, looks up at you and says, 'You have attained the %actor..kasraza_dragons.cdr% badge by collecting %actor..kasraza_dragons.car% dragon corpses.'
        eval i %i% + 1
        wait 3 s        
      end
      if %actor.varexists(kazirasch_hawkmasks)%
        %send% %actor% %self.name.toupper% studies your palm, looks up at you and says, 'You have attained the %actor..kazirasch_hawkmasks.cdr% badge by collecting %actor..kazirasch_hawkmasks.car% hawkmasks.'
        eval i %i% + 1
        wait 3 s        
      end
      if %actor.varexists(jazaraki_royals)%
        %send% %actor% %self.name.toupper% studies your palm, looks up at you and says, 'You have attained the %actor..jazaraki_royals.cdr% badge by collecting %actor..jazaraki_royals.car% royal corpses.'
        eval i %i% + 1
        wait 3 s        
      end
      if %actor.varexists(barrizan_rescues)%
        %send% %actor% %self.name.toupper% studies your palm, looks up at you and says, 'You have attained the %actor..barrizan_rescues.cdr% badge by collecting %actor..barrizan_rescues.car% Silver Dragon rescues.'
        eval i %i% + 1
        wait 3 s        
      end
      if %actor.varexists(saved_yol)%
        %send% %actor% %self.name.toupper% studies your palm, looks up at you and says, 'You have offered to save the Uruk-Hai Shaman, Yol Karzurgh-Uk.'
        eval i %i% + 1
        wait 3 s        
      end
      if %actor.varexists(bit)%  
        set bit %actor.bit%
        set attr %bit.car%
        set value %bit.cdr%
        set value %value.trim%
        %send% %actor% %self.name.toupper% studies your palm, looks up at you and says, 'You are currently wearing a thneed, attribute stat %attr% value %value%.'
        eval i %i% + 1
        wait 3 s
      end  
      if %actor.varexists(pictures)%
        extract remaining 4 %actor.pictures%
        extract serial 5 %actor.pictures%
        %send% %actor% Your unique id is %self.id% and your stored camera serial is %serial%.   You have %remaining% snaps remaining.
        extract first 1 %actor.pictures%
        extract last 2 %actor.pictures%
        *
      end
      if %actor.varexists(hyperLooped)%
        if %actor.hyperLooped% < 0
          %send% %actor% %self.name.toupper% studies your palm, looks up at you and says, 'You traveled to every station in the hyperLoop circuit.'
          eval i %i% + 1
          wait 3 s
        end
      end
      if %actor.varexists(mariner_dieroll)%
        extract wins 1 %actor.mariner_dieroll%
        extract losses 2 %actor.mariner_dieroll% 
        %send% %actor% %self.name.toupper% studies your palm, looks up at you and says, 'You have won %wins% dierolls vs. the Ancient Mariner.'
        eval i %i% + 1
        wait 3 s
      end
      if %actor.varexists(slots)%
        extract plays 1 %actor.slots%
        extract winnings 2 %actor.slots%
        %send% %actor% %self.name.toupper% studies your palm and says, 'You have pulled the slot machine arm %plays% times, and won %winnings% coins.'
        eval i %i% + 1
        wait 3 s
      end
      if %actor.varexists(shield_of_souls)%
        extract souls 2 %actor.shield_of_souls%
        %send% %actor% %self.name.toupper% studies your palm and says, 'You have collected %souls% souls over your lifetime.'
        eval i %i% + 1
        wait 3 s
      end
      if %actor.varexists(aegon_defeats)%
        %send% %actor% %self.name.toupper% studies your palm and says, 'You have defeated the Statue of Aegon %actor.aegon_defeats% times.'
        eval i %i% + 1
        wait 3 s
      end
      if %actor.varexists(subjects)%
        %send% %actor% %self.name.toupper% studies your palm and says, 'You have learned the following subjects: %actor.subjects%.'
        eval i %i% + 1
        wait 3 s
      end
      if %actor.varexists(cheers_visits)%
        %send% %actor% %self.name.toupper% studies your palm and says, 'You've visited Sam Malone and crew over %cheers_visits% times at his bar in Midgaard.'
        eval i %i% + 1
        wait 3 s
      end
      if %actor.varexists(fishing)%
        extract fish 1 %actor.fishing%
        extract size 2 %actor.fishing%
        extract year 3 %actor.fishing%
        extract month 4 %actor.fishing%
        extract day 5 %actor.fishing%     
        %send% %actor% %self.name.toupper% studies your palm and says, 'This biggest fish you've caught is a %fish% measuring %size% inches. %day%, %month% %year%]'
        eval i %i% + 1
        wait 3 s
      end
      %send% %actor% %self.name.toupper% squints, searches for something in the lines of your sword hand, and failing, drops your palm, pushes back from the table and says, 'I can tell you no more, Hero. Now begone!'
      if ! %i%
        wait 3 s
        %send% %actor% %self.name.toupper% snorts, '%actor.name%, I am refunding your payment of %cost% gold coins.  Come back when you've done something heroic!'
        nop %actor.gold(%cost%)%
      end
    else
      %send% %actor% Return when you have at least %cost% coins to pay my price, fool!
      return 0
      halt
    end
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 5715[0m

Name: 'aries',  VNum: [ 5715], RNum: [  307]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
set max 9
set txt[1] At their core, Aries do things their own way.
set txt[2] They are unafraid of conflict, highly competitive, and honest.
set txt[3] They throw themselves at the world eagerly and without fear.
set txt[4] Aries are driven by a desire to prove themselves and their strength.
set txt[5] They have high energy, and are competitive and ambitious. 
set txt[6] They naturally take charge because they are good at initiating new projects.
set txt[7] They can also be impatient, but are naturally active and don't like to waste time.
set txt[8] While Aries like competition, they don't like to play games.
set txt[9] They are highly self-aware, have strong opinions and are always ready to defend them.
*
wait 5 s
set speech 
say %speech% I know a bit about us Aries, first sign of the Zodiac, the sun sign for those born between March 21st and April 19th.
wait 3 s
set i 1
while %i% <= %max%
  if %self.fighting%
    halt
  end
  set speech %%txt[%i%]%%
  eval speech %speech%
  say %speech%
  eval i %i% + 1
  wait 10 s
done

>[0;00m
[0mCHECKING: 5716[0m

Name: 'taurus',  VNum: [ 5716], RNum: [  308]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
set max 9
set txt[1] Tauruses are the human equivalent of moss. A handmade wooden chair.
set txt[2] They are normally satisfied with the way things are. They embody stability: sitting in a patch of grass admiring the breeze.
set txt[3] Practical knowledge and experience is their modus operandi.
set txt[4] When everything else seems to be falling apart, Tauruses are a rock of dependability in an oasis of calm.
set txt[5] Tauruses are oriented around the physical world.
set txt[6] They tend to be grounded and logical.
set txt[7] They love routine and they're committed to their own comfort.
set txt[8] They like to be in control. 
set txt[9] They're patient and steady, and their materialism is an extension of their pursuit of stability.
*
wait 5 s
set speech 
say %speech% I know a bit about us Taureans, second sign of the Zodiac, the sun sign for those born between April 20th and May 20th.
wait 3 s
set i 1
while %i% <= %max%
  if %self.fighting%
    halt
  end
  set speech %%txt[%i%]%%
  eval speech %speech%
  say %speech%
  eval i %i% + 1
  wait 10 s
done

>[0;00m
[0mCHECKING: 5717[0m

Name: 'gemini - castor',  VNum: [ 5717], RNum: [  309]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
set max 4
set txt[1] They are great communicators because they tend to be very responsive and sensitive listeners.
set txt[2] Geminis are versatile, comfortable being both introverts and extroverts.
set txt[3] They are quick to adapt to the energy of a room-they can be the life of the party or a complete wallflower.
set txt[4] Geminis know how to bring dissimilar people together and make them get along.
*
wait 60 s
set speech 
say %speech% I know a bit about us Geminis, third sign of the Zodiac, the sun sign for those born between May 21st and June 20th.
wait 3 s
set i 1
while %i% <= %max%
  if %self.fighting%
    halt
  end
  set speech %%txt[%i%]%%
  eval speech %speech%
  say %speech%
  eval i %i% + 1
  wait 10 s
done

>[0;00m
[0mCHECKING: 5718[0m

Name: 'gemini - pollux',  VNum: [ 5718], RNum: [  310]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
set max 5
set txt[1] Geminis are very intelligent and pick up knowledge quickly.
set txt[2] They are perceptive, analytical, and often very funny.
set txt[3] They have an unreserved, childlike curiosity, always asking new questions.
set txt[4] Geminis have an uncanny ability to size up a person's character in a matter of seconds, even if they only just met them.
set txt[5] If someone's bluffing, they'll be the first to notice. 
*
wait 3 s
set speech 
say %speech% I know a bit about us Geminis, third sign of the Zodiac, the sun sign for those born between May 21st and June 20th.
wait 3 s
set i 1
while %i% <= %max%
  if %self.fighting%
    halt
  end
  set speech %%txt[%i%]%%
  eval speech %speech%
  say %speech%
  eval i %i% + 1
  wait 10 s
done

>[0;00m
[0mCHECKING: 5719[0m
[0mCHECKING: 5720[0m

Name: 'cancer',  VNum: [ 5719], RNum: [  311]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
set max 5
set txt[1] A Cancer's personality is like wading chest deep in a lake of warm water.
set txt[2] It feels sparkling and cool while you're in the shallow end, but you know that if you were to dive in, it would feel warm.
set txt[3] The self-awareness of a Cancer is like the tides-constantly moving in and out of focus.
set txt[4] Their personalities are layered.
set txt[5] Cancers have many moods, some of which are contradictory, but they also have a deep, core self that persists.
*
wait 3 s
set speech 
say %speech% I know a bit about us Cancers, fourth sign of the Zodiac, the sun sign for those born between June 21st and July 22nd.
wait 3 s
set i 1
while %i% <= %max%
  if %self.fighting%
    halt
  end
  set speech %%txt[%i%]%%
  eval speech %speech%
  say %speech%
  eval i %i% + 1
  wait 10 s
done

>[0;00m
[0mCHECKING: 5721[0m

Name: 'leo',  VNum: [ 5720], RNum: [  312]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
set max 7
set txt[1] Leos are bold, warm, and loving.
set txt[2] They are also the ultimate performers. They can dazzle with the theatrical flair of a Broadway star and the charisma of a politician.
set txt[3] They are captivating personalities.
set txt[4] No matter how quickly they've just been introduced to a topic, they can speak eloquently about almost anything because they have such a way with words.
set txt[5] Leos inject ambition into everything they do.
set txt[6] They are ruled by the heart.
set txt[7] Their actions are natural and effortless because they are brash and confident and trust their instincts.
*
wait 3 s
set speech 
say %speech% I know a bit about us Leos, fifth sign of the Zodiac, the sun sign for those born between July 23rd and August 22nd.
wait 3 s
set i 1
while %i% <= %max%
  if %self.fighting%
    halt
  end
  set speech %%txt[%i%]%%
  eval speech %speech%
  say %speech%
  eval i %i% + 1
  wait 10 s
done

>[0;00m
[0mCHECKING: 5722[0m

Name: 'virgo',  VNum: [ 5721], RNum: [  313]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
set max 8
set txt[1] Virgos are known for being perfectionists.
set txt[2] They are known for their attention to detail, which helps them find patterns where there are none.
set txt[3] At times, Virgos can be finicky and critical to a fault.
set txt[4] It's true that Virgos are very particular, but that doesn't necessarily mean that they keep neat spaces.
set txt[5] Their particularities and habits don't necessarily line up with traditional views of cleanliness.
set txt[6] Virgos prefer to exist in organized spaces, but put helping others over their own comfort.
set txt[7] A Virgo can become so busy fixing the lives of those around them that they don't put much work into providing for their own needs.
set txt[8] Virgos are rarely motivated by their own self-interest.
*
wait 3 s
set speech 
say %speech% I know a bit about us Virgos, sixth sign of the Zodiac, the sun sign for those born between August 23rd and September 22nd.
wait 3 s
set i 1
while %i% <= %max%
  if %self.fighting%
    halt
  end
  set speech %%txt[%i%]%%
  eval speech %speech%
  say %speech%
  eval i %i% + 1
  wait 10 s
done

>[0;00m
Name: 'libra',  VNum: [ 5722], RNum: [  314]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
set max 7
set txt[1] Libras are difficult to really understand because they seem so contradictory.
set txt[2] They're simultaneously extroverted and introverted, strategic and spontaneous, focused and intuitive.
set txt[3] This variability makes it difficult to pin down their true character.
set txt[4] They are an entire constellation of personalities.
set txt[5] Libras are different depending on who they're around because they value empathy and want to be receptive.
set txt[6] They can be other people's mirrors.
set txt[7] While they have strong opinions about other people, it can take a long time for them to understand themselves.
*
wait 3 s
set speech 
say %speech% I know a bit about us Libras, seventh sign of the Zodiac, the sun sign for those born between September 23rd and October 22nd.
wait 3 s
set i 1
while %i% <= %max%
  if %self.fighting%
    halt
  end
  set speech %%txt[%i%]%%
  eval speech %speech%
  say %speech%
  eval i %i% + 1
  wait 10 s
done

>[0;00m
[0mCHECKING: 5723[0m

Name: 'scorpio',  VNum: [ 5723], RNum: [  315]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
set max 6
set txt[1] A Scorpio's personality is a chasm of infinite complexity (or at least how they project themselves).  reading you while you can only see your own reflection. 
set txt[2] They are difficult people to get to know because they are psychological trap doors.
set txt[3] Scorpios socialize from behind a double-sided mirror, always scanning,
set txt[4] They prefer to be the people asking the questions, removing your skin with their perceptive scalpel and taking inventory of your pulsing viscera.
set txt[5] They subtly probe and push your pressure points so they can get the answer they're seeking. 
set txt[6] Scorpios are keenly aware of power, its flows, and their position within its matrix.
*
wait 3 s
set speech 
say %speech% I know a bit about us Scorpios, eighth sign of the Zodiac, the sun sign for those born between October 23rd and November 21st.
wait 3 s
set i 1
while %i% <= %max%
  if %self.fighting%
    halt
  end
  set speech %%txt[%i%]%%
  eval speech %speech%
  say %speech%
  eval i %i% + 1
  wait 10 s
done

>[0;00m
[0mCHECKING: 5724[0m

Name: 'sagittarius',  VNum: [ 5724], RNum: [  316]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
set max 7
set txt[1] Sagittarians are the ultimate empiricists.
set txt[2] They will always choose principles over feelings and will often question who they are.
set txt[3] They move from job to job, philosophy to philosophy, belief to belief.
set txt[4] They are explorers of the human condition and are unafraid of change.
set txt[5] Sagittarians feel like the world is their playground. 
set txt[6] They love to explore the unknown. 
set txt[7] At their core, they want to understand how the world works.
*
wait 3 s
set speech 
say %speech% I know a bit about us Sagittarians, ninth sign of the Zodiac, the sun sign for those born between November 22nd and December 21st.
wait 3 s
set i 1
while %i% <= %max%
  if %self.fighting%
    halt
  end
  eval speech %speech%
  say %speech%
  eval i %i% + 1
  wait 10 s
done

>[0;00m
[0mCHECKING: 5725[0m

Name: 'capricorn',  VNum: [ 5725], RNum: [  317]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
set max 5
set txt[1] Capricorns aren't consumed by the need for attention, but are not immune to it.
set txt[2] They simply don't indulge in attention-seeking behavior.
set txt[3] Capricorns don't want attention for their looks or style or ingenuity.
set txt[4] They don't want to be admired, but they do want to be respected.
set txt[5] They don't care to be the center of attention.
*
wait 3 s
set speech 
say %speech% I know a bit about us Capricons, tenth sign of the Zodiac, the sun sign for those born between December 21st and January 19th.
wait 3 s
set i 1
while %i% <= %max%
  if %self.fighting%
    halt
  end
  set speech %%txt[%i%]%%
  eval speech %speech%
  say %speech%
  eval i %i% + 1
  wait 10 s
done

>[0;00m
[0mCHECKING: 5726[0m

Name: 'aquarius',  VNum: [ 5726], RNum: [  318]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
set max 7
set txt[1] Aquarians are archetypal outcasts.
set txt[2] This doesn't mean they're loners. 
set txt[3] In fact, they thrive in large groups-charming you with their peculiar senses of humor, intriguing you with fun facts about the history of disposable straws
set txt[4] Or convincing you to join their reading groups. 
set txt[5] The alienation they feel is often self-imposed-a result of their knee-jerk contrarianism, rather than a lack of social intelligence. 
set txt[6] They try to be weird.
set txt[7] Aquarians hang grapefruit rinds from the wall and call it art, they pretend to actually like noise music, they saturate their internal monologues with SAT words.
*
wait 3 s
set speech 
say %speech% I know a bit about us Aquarians, eleventh sign of the Zodiac, the sun sign for those born between January 21st and February 19th.
wait 3 s
set i 1
while %i% <= %max%
  set speech %%txt[%i%]%%
  eval speech %speech%
  say %speech%
  eval i %i% + 1
  wait 10 s
done

>[0;00m
[0mCHECKING: 5727[0m
[0mCHECKING: 5728[0m

Name: 'pisces - mermaid',  VNum: [ 5727], RNum: [  319]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
set max 7
set txt[1] Most of the qualities usually associated with Pisces (dreaminess, emotionality, imagination) are internal processes that are difficult to observe from the outside. 
set txt[2] Pisces are primarily inward-facing. 
set txt[3] They are not self-absorbed, but they are absorbed in themselves.
set txt[4] Ultimately, a Pisces wants to dissolve.
set txt[5] To wrest themselves of a physical form and diffuse into everything they touch as love. 
set txt[6] To exist in the gossamer liminal layer that hangs just barely above the material. 
set txt[7] To live their life like a romantic poem. To understand that reality and fantasy are neighbors on the same infinite plane.
*
wait 60 s
set speech 
say %speech% I know a bit about us Pisces, twelfth and final sign of the Zodiac, the sun sign for those born between February 20th and March 20th.
wait 3 s
set i 1
while %i% <= %max%
  set speech %%txt[%i%]%%
  eval speech %speech%
  say %speech%
  eval i %i% + 1
  wait 10 s
done

>[0;00m
[0mCHECKING: 6110[0m

Name: 'pisces',  VNum: [ 5728], RNum: [  320]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
set max 5
set txt[1] Describing a Pisces' personality can be difficult because Pisces tend to evade distinction.
set txt[2] Their behavior changes significantly based on who they're around.
set txt[3] Pisces are just permeable membranes that pensively let things flow through them.
set txt[4] They are cerebral sea sponges.
set txt[5] They are boundless, diluting themselves with larger personalities to avoid having to form coherent identities. 
*
wait 3 s
set speech 
say %speech% I know a bit about us Pisces, twelfth and final sign of the Zodiac, the sun sign for those born between February 20th and March 20th.
wait 3 s
set i 1
while %i% <= %max%
  set speech %%txt[%i%]%%
  eval speech %speech%
  say %speech%
  eval i %i% + 1
  wait 10 s
done

>[0;00m
[0mCHECKING: 6131[0m

Name: 'speech of the ents',  VNum: [ 6110], RNum: [  321]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 12, Arg list: None
Commands:
*
*  give the ents speech and performances
*
eval max %random.10%
set action[1] sways in the center of the clearing 
set action[2] lifts %self.hisher% branches skyward
set action[3] bends slightly to look at you
set action[4] rustles its branches and lifts a great root
set action[5] holds a tiny nest of unhatched robin's eggs
set action[6] slowly emerges from the deeper forest gloom
set action[7] shakes its branches in silent rage
set action[8] stomps carefully toward you, giant roots avoiding the swaths of forest ferns
set action[9] carefully guides two young does back into the safety of the forest
set action[10] rubs two mighty branches together, scattering dry leaves about you
set  performance %%action[%max%]%%
eval performance %performance%
*
if !%entmax%
  set entmax 1
  global entmax
  halt
else
  if %entmax% > 16
    set entmax 1
    global entmax
  end
  *
  set txt[1] When Spring unfolds the beechen leaf, and sap is in the bough ...
  set txt[2] When light is on the wild-wood stream, and wind is on the brow ...
  set txt[3] When stride is long, and breath is deep, and keen the mountain-air ...
  set txt[4] Come back to me! Come back to me, and say my land is fair! 
  set txt[5]  When Summer lies upon the world, and in a noon of gold ...
  set txt[6] Beneath the roof of sleeping leaves the dreams of trees unfold ...
  set txt[7] When woodland halls are green and cool, and wind is in the West ...
  set txt[8] Come back to me! Come back to me, and say my land is best! 
  set txt[9] When Winter comes, the winter wild that hill and wood shall slay ...
  set txt[10] When trees shall fall and starless night devour the sunless day ...
  set txt[11] When wind is in the deadly East, then in the bitter rain ...
  set txt[12] I'll look for thee, and call to thee; I'll come to thee again! 
  set txt[13] Together we will take the road that leads into the West, 
  set txt[14] And far away will find a land where both our hearts may rest. 
  set txt[15] Find the Entmoot, forest friend.
  set txt[16] There ye shall find answers to that which threatens the world.
  set  speech %%txt[%entmax%]%%
  eval speech %speech%
  %echo% %self.name.toupper% %performance%, and in a deep voice, like the grinding of two massive boulders, says, '%speech%'
  eval entmax %entmax% + 1
  global entmax
end

>[0;00m
Name: 'huge poisonous spiders',  VNum: [ 6131], RNum: [  322]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  set num_spiders %findmob.6131(6113)%
  if %num_spiders% <= 3
    set i 1
    while %i% <= 2
      %echo% A huge, poisonous spider drops from above!
      %at% %self.vnum% %load% mob 6113
      %echo% The huge, poisonous spider bites you!  You resist!
      eval i %i% + 1
    done
    %echo% A huge, poisonous spider drops from above!
    %at% %self.vnum% %load% mob 6113
    %echo% The huge, poisonous spider bites you!  You are poisoned!
    dg_cast 'poison' %actor%
  end
  return 1
  halt
end

>[0;00m
[0mCHECKING: 6508[0m

Name: 'dying password',  VNum: [ 6508], RNum: [  323]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  *
  * build a simple passphrase
  *
  set passbit[1] whisper
  set passbit[2] wind
  set passbit[3] moon
  set passbit[4] sunset
  set passbit[5] dawn
  set word1 %random.5%
  set word2 %random.5%
  set password %%passbit[%word1%]%% %%passbit[%word2%]%%
  *
  eval passwd %password%
  global passwd
  set room %room.vnum(6510)%
  set object %room.contents(6554)%
  remote passwd %object.id%
  *
  %send% %actor% Before the %self.name% takes its dying breath, it whispers, '%ranthir_passwd%.'
  %echoaround% %actor% The %self.name% whispers something to %actor.name% before it expires.
end

>[0;00m
[0mCHECKING: 6509[0m

Name: 'make a door',  VNum: [ 6509], RNum: [  324]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: o
Commands:
*
* check for a secret knock 
*
if ! %ranthir_passwd%
  %send% %actor% You tap randomly on the door to no avail.
  %echoaround% %actor% %actor.name% taps on the door in morse code.
  return 1
  halt
else
  if (%cmd.mudcommand% == open && %arg[1]% == %ranthir_passwd[1]% && %arg[2]% == %ranthir_passwd[2]%)
    %send% %actor% You rap on the door with the code.
    %echoaround% %actor% %actor.name% knocks on the door with the code.  
    wait 1 sec
    %echo% The door opens silently.
    %echoaround% %actor% %actor.name% leaves.
    %teleport% %actor% 4059
    %echoaround% %actor% %actor.name% arrives.
    %force% %actor% look
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 6510[0m

Name: 'loose lips',  VNum: [ 6510], RNum: [  325]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  if ! %passwd%
    set passwd missing missing
  end
  %send% %actor% %self.name.toupper% smiles at you and whispers, "In case you forgot, the password is '%passwd%.'"
end

>[0;00m
[0mCHECKING: 6617[0m

Name: 'asmodeus speech',  VNum: [ 6617], RNum: [  326]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
wait 1 s
if %direction% == south
  %send% %actor% %self.name% whispers, 'Welcome, %actor.name%, prepare to die!'
end

>[0;00m
[0mCHECKING: 6700[0m

Name: 'sandflea speech',  VNum: [ 6700], RNum: [  327]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 5 sec
   %echo% OW! The flea just bit your leg! A large red welt is rising.
   wait 30 sec
   %echo% The flea hops about, looking for an appetizing target.
   wait 25 sec

>[0;00m
[0mCHECKING: 6701[0m
[0mCHECKING: 7100[0m

Name: 'Pteranodon dive bomb',  VNum: [ 6701], RNum: [  328]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 30, Arg list: None
Commands:
* Randomly move among corridor rooms with position-respecting messages
wait 1 s  * Ensure SCRIPT initializes
%self.pos(Standing)%  * Stop fighting to allow movement
set rooms 6803 6805 6806 6807 6808 6809 6810 6811
* Announce departure from current room to those in valid poss
set people %self.room.people%
while %people%
  set next_person %people.next_in_room%
  if %people.pos% == Standing || %people.pos% == Resting || %people.pos% == Fighting
    %send% %people% The TERRIBLE Pteranodon takes to the sky for another attack!
  end
  set people %next_person%
done
* Move to a different room in the corridor list
set current %self.room%
set newroom %current%
set roomtries 0
while %newroom% == %current% && %roomtries% < 10
  extract newroom %random.8% %rooms%
  set roomtries %roomtries% + 1
done
mgoto %newroom%
* Announce arrival in new room to those in valid poss
set people %self.room.people%
while %people%
  set next_person %people.next_in_room%
  if %people.pos% == Standing || %people.pos% == Resting || %people.pos% == Fighting
    %send% %people% The TERRIBLE Pteranodon dives in from the sky to attack!
  end
  set people %next_person%
done

>[0;00m
[0mCHECKING: 7102[0m

Name: 'Onophrio Panuinio speech',  VNum: [ 7100], RNum: [  329]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 3 sec
   %echo% You see a quiet smirk cross Onophrio's face as he meets your curious stare.
   wait 10 sec
   %echo% "Would you see what I've seen?" The question is more than mere rhetoric.
   wait 10 sec
   %echo% "Then walk where I have walked, and read what I have read.
   wait 15 sec
   %echo% "I was one of the last scribes, you know. Before the machines came.
   wait 10 sec
   %echo% "And Macrobius? I was the last to copy his whole text, by hand. It took me months.
   wait 10 sec
   %echo% "Months of reading that noble mind, each night sleeping with his words on my tongue.
   wait 10 sec
   %echo% "His interpretations of Cicero were wrong. That much was apparent, and in truth,
   wait 10 sec
   %echo% "it did not interest me. But Cicero's vision did. That dialogue, so many centuries
   wait 10 sec
   %echo% "in the past, forming the basis of his text haunted my mind for years.
   wait 15 sec
   %echo% "When Scipio slept, a vision took him to heaven, where his father spoke to him,
   wait 15 sec
   %echo% "unfolding the whole world before him, and teaching him the meaning of his dreams.
   wait 10 sec
   %echo% "Those years, as I copied out the text that one last time, Scipio's dreams became mine,
   wait 10 sec
   %echo% "and mine his. Sleep now, and dream, and join me there."

>[0;00m
[0mCHECKING: 7109[0m

Name: 'happy valentines day',  VNum: [ 7102], RNum: [  330]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 3, Arg list: make
Commands:
*
* 021424 Aegon 71 Scipio
*          assembly trig for st. valentine mob
*
if %cmd.mudcommand% == make
  if %arg% /= skeleton || %arg% /= mob || %arg /= valentine
    if %actor%.has_item(7103)% && %actor.has_item(7104)%
      wait 1 s
      %send% %actor% You tinker with the skelton and reincarnate the Ghost of St. Valentine!
      %load% mob 7166
      %purge% %actor.inventory(7103)%
      %purge% %actor.inventory(7104)%
      %purge% %self%
    else
      %send% %actor% %actor.name%, you just can't seem to figure out how to make a %arg%.
      return 1
      halt
    end
  else
    return 0
    halt
  end
else
  return 0
  halt
end

>[0;00m
Name: 'skull and crossbones',  VNum: [ 7109], RNum: [  331]
Trigger Intended Assignment: Rooms
Trigger Type: Zone Reset , Numeric Arg: 100, Arg list: None
Commands:
*
* 02 14 24 Aegon 71 Scipio
*
* fixed broken stochastic tier skull, rib, spine loads
*
* check skull at locations one and two
*
if ! (%findobj.7153(7102)% && %findobj,7109(7102)%)
  *
  * if not present generate a new set at either location
  *
  if %random.100% > 50 
    %at% 7153 %load% obj 7102
    %at% 7168 %load% obj 7103
    %at% 7195 %load% obj 7104
  else
    %at% 7109 %load% obj 7102
    %at% 7202 %load% obj 7103 
    %at% 7209 %load% obj 7104
  end
else
  if %findobj,7109(7102)%
    if ! %findobj.7202(7103)%
      %at% 7202 %load% obj 7103
    end
    if ! %findobj.7209(7104)%
      %at% 7209 %load% obj 7104    
    end
  else
    if %findobj.7153(7102)%
      if ! %findobj.7168(7103)%
        %at% 7168 %load% obj 7103
      end
      if ! %findobj.7195(7104)%
        %at% 7195 %load% obj 7104   
      end
    end
  end
end

>[0;00m
[0mCHECKING: 7119[0m

Name: 'choir boy speech',  VNum: [ 7119], RNum: [  332]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 20 sec
   %echo% The chant of the choir boy is clean and crisp, but something about it is wrong.
   wait 15 sec
   %echo% The boy sings, "Bismillah nirahman niraheem. Alhamdilillah rabil-alameen arahman araheem."
   wait 15 sec
   %echo% The boy chants, "Malikee yamideen. Iyaka wabudu wa-ikanasta'eem."
   wait 15 sec
   %echo% The boy prays, "Ihdinas siratal mustaqeem. Siratal lazeena, amtal allaheem."
   wait 15 sec
   %echo% The boy mutters, "Gareel maqdubi alaheem, walad-aleem. Ameen."

>[0;00m
[0mCHECKING: 7125[0m

Name: 'The girl speech',  VNum: [ 7125], RNum: [  333]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 15 sec
   %echo% "I had waited so long to feel the taste of the tongue,"
   wait 3 sec
   %echo% "when great names are spoken."
   wait 10 sec
   %echo% "Alas, I am one of them." The girl begins to cry.

>[0;00m
[0mCHECKING: 7300[0m

Name: 'repair gate',  VNum: [ 7300], RNum: [  334]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: repair
Commands:
if %actor.is_pc%
  if (%cmd% == repair && %arg% /= gate)
    if (%actor.int% > 18 || %actor.name% == Aegon)
      if (%actor.has_item(7312)% && %actor.has_item(7313)% && %actor.has_item(7314)%)
        %send% %actor% Using the rough schematic sketched on the back of the note, and
        %send% %actor% relying on your considerable intelligence, you insert the missing parts into
        %send% %actor% the non-functional, still-smoldering gate.
        %echoaround% %actor% %actor.name% Tinkers with the non-functional gate.
        wait 2 s
        %echo% The mysterious techanist's gate has been repaired!
        %load% obj 7318
        %purge% %actor.inventory(7312)%
        %purge% %actor.inventory(7313)%
        %purge% %actor.inventory(7314)%
        %purge% %self%
      else
        %send% %actor% You can't seem to figure out how to repair that.
      end
    else
      %send% %actor% You're just not bright enough to figure out how to repair that.
    end
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 7433[0m

Name: 'ghost maid speech',  VNum: [ 7433], RNum: [  335]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 15 sec
   %echo% The maid mumbles to herself, "The master has set many obstacles to prevent his enemies from getting to him."
   wait 25 sec
   %echo% "Everytime I have to clean the northern hallways, I need to find that darned latch."
   wait 15 sec
   %echo% She sighs and says, "It's been enchanted so even I, one that can't touch anything, have to use it to get past the hallway.  How annoying!"
   wait 20 sec

>[0;00m
[0mCHECKING: 7600[0m
[0mCHECKING: 7601[0m

Name: 'transfer players to toyland',  VNum: [ 7600], RNum: [  336]
Trigger Intended Assignment: Objects
Trigger Type: Global , Numeric Arg: 100, Arg list: enter
Commands:
if %cmd.mudcommand% == enter && portal /= %arg%
  %send% %actor% You jump into the toybox.
  %echoaround% %actor% %actor.name% bravely jumps into the toybox.
wait 1 sec
%send% %actor% As you jumped into the toybox everything went dark...your still falling....
wait 1 sec
 %send% %actor% You feel your feet hit the ground and you open your eyes as you finally land.
  %teleport% %actor% 7600
  %force% %actor% look
  %echoaround% %actor% %actor.name% came jumping out of the toybox.
else
return 0
end

>[0;00m
[0mCHECKING: 7602[0m

Name: 'set var if circled',  VNum: [ 7601], RNum: [  337]
Trigger Intended Assignment: Mobiles
Trigger Type: Act , Numeric Arg: 0, Arg list: stabs you in the back.
Commands:
* By Hurin - so probably a better way to do it
%echo% cmd.mudcommand: %cmd.mudcommand%
if %actor.fighting.id% == %self.id% && %actor.skill(circle)%
  wait 1
  context %self.id%
  if (%circled_yes%)
    if %self.hitp% > 1502
      eval wield %actor.eq(wield)%
      %send% %actor% Using your exceptional dexterity you really slam %wield.shortdesc% into
      %self.name%'s back.
      %echoaround% %actor% Before %actor.name% pulls %wield.shortdesc% from %self.name%'s back
      %actor.heshe% uses %actor.hisher% exceptional dexterity and really slames the blade home.
      if %actor.dex% == 25
        %damage% %self% 1500
      elseif %actor.dex% > 22
        %damage% %self% 1000
      elseif %actor.dex% > 19
        %damage% %self% 500
      else
        %damage% %self% 250
      end
    end
  else
    %echo% %self.name% starts to bleed profusley from the wound in %self.hisher% back,
    preventing
    %self.hisher% concentration.
    set circled_yes 1
    global circled_yes
  end
end

>[0;00m
[0mCHECKING: 7603[0m

Name: 'Notna blocks backstab',  VNum: [ 7602], RNum: [  338]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: backstab
Commands:
%echo% cmd.mudcommand: %cmd%
if %cmd.mudcommand% == backstab /= %arg%
  if %self.fighting%
    %damage% %self% 0
  else
    mkill %actor%
  end
end

>[0;00m
Name: 'chucky's voodoo blade',  VNum: [ 7603], RNum: [  339]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 1, Arg list: ba
Commands:
*
* drain % tied to dex
* always a base 2% chance of drain (heal)
* fixed 30 hp heals + random 30
*
if %cmd.mudcommand% == backstab && %arg%
  if %actor.is_pc%
    if %actor.dex% > 15
      eval chance (26 - %actor.dex%) * 2
    else
      set chance 20
    end
    eval roll %random.100%
    * %echo% debug: roll: %roll% chance: %chance%
    if %roll% < %chance%
      set room %self.room%
      set target %room.people%
      set heal 0
      while %target%
        set next_target %target.next_in_room%
        if %target.alias% /= %arg%
          if ! (%target.is_pc% || %room.roomflag(PEACEFUL)%)
            set name %target.name%
            %send% %actor% %name.toupper% makes a strange sound and suddenly becomes very silent as you place %self.shortdesc.toupper% in %target.hisher% back.
            %echoaround% %actor% places %self.shortdesc.toupper% in the back of %name.toupper%, resulting in some strange noises, a lot of blood.
            eval heal %%random.%actor.dex%% + 30
            %damage% %target% %heal%
            eval heal 0 - %heal%
            %damage% %actor% %heal%
            %send% %actor% %self.shortdesc.toupper% drained your enemy! 
            if %target.hitp% > 0
              %force% %actor% hit %target.alias.car%
            end
            return 1
            halt
          else
            %send% %actor% You really shouldn't.
            return 1
            halt
          end
        end
        set target %next_target%
      done
      if ! %heal%
        %send% %actor% Backstab who?
        return 1
        halt
      end
    else
      return 0
      halt
    end
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 7612[0m

Name: 'mob restore unless circled',  VNum: [ 7612], RNum: [  340]
Trigger Intended Assignment: Mobiles
Trigger Type: CombatDamage , Numeric Arg: 75, Arg list: None
Commands:
context %self.id%
if (%circled_yes%)
  return 0
  halt
else
  dg_cast 'restore' %self%
end

>[0;00m
[0mCHECKING: 7613[0m

Name: 'on hamm load - magnifying and gold',  VNum: [ 7613], RNum: [  341]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet-All , Numeric Arg: 100, Arg list: None
Commands:
if %findobj.7707(7618)%
%load% obj 7613
put glass box
end
eval anumber %random.100% * 5329
set %self.gold(%anumber%)%
detach 7613 %self.id%

>[0;00m
[0mCHECKING: 7620[0m

Name: 'he-man blocks entrance',  VNum: [ 7620], RNum: [  342]
Trigger Intended Assignment: Objects
Trigger Type: Leave , Numeric Arg: 100, Arg list: None
Commands:
if %direction% == east
%send% %actor% While the door to the house is not closed, there is something massive and unmoving blocking your entry
return 0
end

>[0;00m
[0mCHECKING: 7621[0m

Name: 'make powersword',  VNum: [ 7621], RNum: [  343]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 3, Arg list: mak
Commands:
*
if %cmd.mudcommand% == make && %arg% /= powersword
  if %actor.inventory(7622)% && %actor.inventory(7623)%
    %load% obj 7621 %actor% inv
    %send% %actor% The old sword absorbs the power of the lightning!
    %echoaround% %actor% %actor.name% makes a Sword of Power.
    %purge% %actor.inventory(7622)%
    %purge% %actor.inventory(7623)%
  else
    %send% %actor% You just can't seem to figure out how to make a %arg%.
  end
else
  return 0
end

>[0;00m
[0mCHECKING: 7622[0m
[0mCHECKING: 7623[0m

Name: 'test - totDam for eq',  VNum: [ 7622], RNum: [  344]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
* Guts - test tota damage eq worn
* 7622
if %actor.is_pc%
eval rwristEQ %actor.eq(rwrist)%
eval weaponEQ %actor.eq(wield)%
eval rwristVNUM %rwristEQ.vnum%
eval weaponVNUM %weaponEQ.vnum%
eval rwristID %rwristEQ.id%
eval weaponID %weaponEQ.id%
%echo% wrist: %rwristEQ.id%
%echo% weapon: %weaponEQ.id%
%echo% wristVNUM: %rwristVNUM%
%echo% weaponVNUM: %weaponVNUM%
%echo% Wrist Name: %rwristID.name%
%echo% Weapon Name: %weaponID.name%
end

>[0;00m
[0mCHECKING: 7624[0m

Name: 'heman blocks leave',  VNum: [ 7623], RNum: [  345]
Trigger Intended Assignment: Mobiles
Trigger Type: Leave , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
%send% %actor% You try to squeeze past He-Man, but are unable to get past his massive bulk.
%echoaround% %actor% %actor.name% is unable to squeeze past He-Man's massive body.
return 0
end

>[0;00m
[0mCHECKING: 7625[0m

Name: 'Load Adam if !prince !Heman',  VNum: [ 7624], RNum: [  346]
Trigger Intended Assignment: Rooms
Trigger Type: Zone Reset , Numeric Arg: 100, Arg list: None
Commands:
if %findmob.7627(7624)% || %findmob.7627(7699)%
halt
else
%load% mob 7699
end

>[0;00m
Name: 'new trigger test',  VNum: [ 7625], RNum: [  347]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
Nothing.

>[0;00m
[0mCHECKING: 7628[0m

Name: 'make multi-colored rubber armlets',  VNum: [ 7628], RNum: [  348]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: mak
Commands:
if %cmd% == make && %arg% /= rubberarmlets
  if %actor.inventory(7624)% && %actor.inventory(7625)% && %actor.inventory(7626)% && %actor.inventory(7627)% && %actor.inventory(7613)%
    %load% obj 7628 %actor% inv
    %echoaround% %actor% %actor.name% uses a magnifying glass to melt and shape some rubber into some armlets.
    %send% %actor% You focus the light through a magnifying glass to melt and shape the rubber into some armlets.
    %purge% %actor.inventory(7624)%
    %purge% %actor.inventory(7625)%
    %purge% %actor.inventory(7626)%
    %purge% %actor.inventory(7627)%
    %purge% %actor.inventory(7613)%
  else
    %send% %actor% You don't know how to make that.
  end
else
  return 0
end

>[0;00m
[0mCHECKING: 7629[0m

Name: 'Bank opens 9am',  VNum: [ 7629], RNum: [  349]
Trigger Intended Assignment: Rooms
Trigger Type: Global Random , Numeric Arg: 100, Arg list: None
Commands:
wait until 09:00
%echo% The giant lego door slides to the right as the bank opens for buisness
%door% 7706 south flags 0

>[0;00m
[0mCHECKING: 7630[0m

Name: 'call orko during fight',  VNum: [ 7630], RNum: [  350]
Trigger Intended Assignment: Mobiles
Trigger Type: Fight , Numeric Arg: 50, Arg list: None
Commands:
if %findmob.7627(7638)%
halt
else
%load% mob 7638
%echo% Orko The mage flies into the room to protect Prince Adam
detach 7699 %self.id%
end

>[0;00m
[0mCHECKING: 7631[0m

Name: 'not used',  VNum: [ 7631], RNum: [  351]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 100, Arg list: rent
Commands:
Nothing.

>[0;00m
[0mCHECKING: 7632[0m
[0mCHECKING: 7633[0m

Name: 'set gem for sheras',  VNum: [ 7632], RNum: [  352]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: set
Commands:
* By Hurin - so probably a better way to do it
if %cmd% == set && %arg% /= gem crown
if %actor.inventory(7629)% && %actor.inventory(7611)% && %actor.inventory(7654)%
   eval anum %actor.dex% + %actor.int% + %actor.wis%
eval anumber %random.150%
     if %anumber% > %anum%
%load% obj 7630 %actor% inv
%send% %actor% As you carefully try and place the gem into the settings the cheap tool breaks and causes you to break off two of the small metal prongs
%echoaround% %actor% %actor.name% fumbles with the helmet in his hand and sighs in frustration
%purge% %actor.inventory(7654)%
%purge% %actor.inventory(7611)%
      else
if %actor.align% > 350
%load% obj 7631 %actor% inv
elseif %actor.align% < -350
%load% obj 7659 %actor% inv
else
%load% obj 7660 %actor% inv
end
%send% %actor% You let out a sigh of relief as you carefully set the gem into the settings.
%purge% %actor.inventory(7654)%
%echoaround% %actor% %actor.name% lets out a sigh of relief as he works on the crown in his hands
%purge% %actor.inventory(7611)%
%purge% %actor.inventory(7629)%
      end
  else
      %send% %actor% You dont know how to make that.
  end
else
return 0
end

>[0;00m
[0mCHECKING: 7639[0m

Name: 'shera group all on load',  VNum: [ 7633], RNum: [  353]
Trigger Intended Assignment: Mobiles
Trigger Type: Act , Numeric Arg: 100, Arg list: starts following you.
Commands:
group %actor.name%

>[0;00m
[0mCHECKING: 7640[0m

Name: 'baker stainless steel clue ',  VNum: [ 7639], RNum: [  354]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 5, Arg list: None
Commands:
wait 1 sec
if %self.pos% != Fighting
  set rm %self.room%
  set target_char %rm.people%                                               
  while %target_char%                                                          
    set tmp_target %target_char.next_in_room%                                  
    if %target_char.pos% != sleeping                                           
      %send% %target_char% The baker says, "I thought these Energizer batteries are supposed to last forever?! My ovens keep breaking. I wish there was something even stronger to put in them instead..."    
    end
    set target_char %tmp_target%
  done
end

>[0;00m
Name: 'make easy make oven with speck ',  VNum: [ 7640], RNum: [  355]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: insert
Commands:
if %cmd% == insert && %arg% /= speck oven
if %actor.inventory(7646)% && %actor.inventory(7651)%
   %send% %actor% As you place the speck of pure energizer energy into the oven, a lightbulb turns
on.
    %echoaround% %actor% %actor.name% places a speck of pure energizer energy into the easy bake
oven's battery
compartment.
%load% obj 7799 %actor% inv
%purge% %actor.inventory(7651)%
      %purge% %actor.inventory(7646)%
elseif if %actor.inventory(7646)% && %actor.inventory(7651)%
    %send% %actor% As you place the speck of pure energizer energy into the oven the lightbulb turns
on.
     %echoaround% %actor% %actor.name% places a speck of pure energizer energy the easy bake oven's
battery
compartment.
      %load% obj 7647 %actor% inv
%purge% %actor.inventory(7651)%
      %purge% %actor.inventory(7646)%
  else
      %send% %actor% You dont know how to make that.
  end
else
return 0
end

>[0;00m
[0mCHECKING: 7642[0m

Name: 'easy bake oven purge self',  VNum: [ 7642], RNum: [  356]
Trigger Intended Assignment: Objects
Trigger Type: Timer , Numeric Arg: 2, Arg list: 0
Commands:
* By Hurin - so probably a better way to do it
* this replaces a working oven with a broken one and possibly includes some energy
%echo% You smell something burning and watch in horror as an Easy Bake Oven catches on fire
if %self.carried_by%
   set actor %self.carried_by.name%
   set actor_vnum %self.carried_by%
   %load% obj 7648 %actor_vnum% inv
wait 2 s
   %send% %actor% After the flames die down, you are left with a mess of melted plastic and battery.
eval tempid %self.Uniqueid%
if %actor.varexists(%tempid%)%
rdelete %tempid% %actor_vnum.id%
end
wait 1 sec
 if %random.100% < 10
%load% obj 7651 %actor_vnum% inv
  %send% %actor% You also notices a small speck of pure energy has leaked out of the battery.
 end
end
%purge% %self%

>[0;00m
[0mCHECKING: 7643[0m

Name: 'playdough shield assembly',  VNum: [ 7643], RNum: [  357]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: *
Commands:
* By Hurin - so probably a better way to do it
if %cmd% == apply && %arg% /= lacquer shield && %actor.inventory(7644)%
set num_saphs 0
set i %actor.inventory%
while %i%
  if %i.vnum% == 7643
   eval num_saphs %num_saphs% + 1
   set next %i.next_in_list%
else
   set next %i.next_in_list%
     end
  set i %next%
done
if %num_saphs% > 5
   set n 6
  while (%n%>0)
        %purge% %actor.inventory(7643)%
        eval n %n%-1
 done
  eval anumber %random.100%
if %anumber% < 10
     set load_number 7690
elseif %anumber% < 25
     set load_number 7691
elseif %anumber% < 50
     set load_number 7692
elseif %anumber% < 70
     set load_number 7693
elseif %anumber% < 75
     set load_number 7694
elseif %anumber% < 80
     set load_number 7695
elseif %anumber% < 85
     set load_number 7696
elseif %anumber% < 90
     set load_number 7697
else
eval bnumber %random.100%
if %bnumber% < 75
%send% %actor% You press the sapphires into the shield and then apply the lacquer
%load% obj 7641 %actor% inv
%purge% %actor.inventory(7644)%
%purge% %actor.inventory(7632)%
else
%load% obj 7643 %actor% inv
%load% obj 7643 %actor% inv
%load% obj 7643 %actor% inv
%load% obj 7643 %actor% inv
%load% obj 7643 %actor% inv
%load% obj 7643 %actor% inv
%send% %actor% As you go to press the sapphires into the shield you spill the lacquer all over.
%purge% %actor.inventory(7644)%
%load% obj 7645 %actor% inv
break
end
end
*
* Now checking class and adjusting variable 
*
if %actor.class%==antipaladin
     eval load_number %load_number% +10
elseif %actor.class%==cleric
     eval load_number %load_number% +20
elseif %actor.class%==jedi
     eval load_number %load_number% +30
elseif %actor.class%==magic user
     eval load_number %load_number% +40
elseif %actor.class%==ninja
     eval load_number %load_number% +50
elseif %actor.class%==paladin
     eval load_number %load_number% +60
elseif %actor.class%==sohei
     eval load_number %load_number% +70
elseif %actor.class%==thief
     eval load_number %load_number% +80
elseif %actor.class%==warrior
     eval load_number %load_number% +90
elseif %actor.class%==ranger
     eval load_number %load_number% +100
end
%send% %actor% You press the sapphires into the shield and then apply the lacquer
%load% obj %load_number% %actor% inv
%purge% %actor.inventory(7644)%
%purge% %actor.inventory(7632)%
else
%send% %actor% You cant seem to finish the shield
end
else
return 0
end
5

>[0;00m
[0mCHECKING: 7644[0m

Name: 'make flawless sapphires',  VNum: [ 7644], RNum: [  358]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: smash
Commands:
if %cmd% == smash && %arg% /= shield with mace
   if %actor.inventory(23042)% && %actor.inventory(2025)%
     eval anumber %random.100%
if %anumber% > 70
          %send% %actor% You smash the sapphire shield with the mace and in its place you are left with a flawless sapphire.          
          %load% obj 7643 %actor% inv
          %purge% %actor.inventory(2025)%
elseif %anumber% > 40
%send% %actor% The mace shatters into pieces as you smash the sapphire shield, resulting in a flawless sapphire.
         %load% obj 7643 %actor% inv
         %purge% %actor.inventory(2025)%
         %purge% %actor.inventory(23042)%
elseif %anumber% > 30
          %send% %actor% Swing and a miss!
elseif %anumber% > 10
          %send% %actor%  You swing the mace and miss the sapphire shield, your mace explodes into splinters as it hits the ground.
          %purge% %actor.inventory(23042)%
       else
             %send% %actor%  You smash the mace into the sapphire shield resulting in both shattering into hundreds of pieces.
              %purge% %actor.inventory(2025)%
              %purge% %actor.inventory(23042)%
          end
      else
      %send% %actor% What do you want to smash?
     end
else
return 0
end

>[0;00m
[0mCHECKING: 7645[0m

Name: 'remote oven_timer to player',  VNum: [ 7645], RNum: [  359]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: *
Commands:
eval temp %self.Uniqueid%
eval anothertest %%actor.%temp%%%
if %actor.varexists(%temp%)%
if %self.timer% > %anothertest%
otimer %anothertest%
elseif %self.timer% < %anothertest%
eval %self.Uniqueid% %self.timer%
remote %self.Uniqueid% %actor.id% 
end
else
  eval %self.Uniqueid% %self.timer%
  global %self.Uniqueid%
  remote %self.Uniqueid% %actor.id%
end
detach 7645 %self.id%
return 0

>[0;00m
[0mCHECKING: 7646[0m
[0mCHECKING: 7647[0m

Name: 'make easy bake oven with batteries',  VNum: [ 7646], RNum: [  360]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: insert
Commands:
if %cmd% == insert && %arg% /= battery oven
 if %actor.inventory(7646)% && %actor.inventory(4754)%
   %send% %actor% As you place the energizer battery in the oven the lightbulb turns on.
    %echoaround% %actor% %actor.name% places a battery inside the easy bake oven's battery compartment.
       %load% obj 7650 %actor% inv
      %purge% %actor.inventory(4754)%
      %purge% %actor.inventory(7646)%
    elseif if %actor.inventory(7646)% && %actor.inventory(4791)%
    %send% %actor% As you place the energizer battery in the oven the lightbulb turns on.
     %echoaround% %actor% %actor.name% places a battery inside the easy bake oven's battery compartment.
      %load% obj 7647 %actor% inv
      %purge% %actor.inventory(4791)%
      %purge% %actor.inventory(7646)%
  else
      %send% %actor% You dont know how to make that.
  end
else
return 0
end

>[0;00m
[0mCHECKING: 7648[0m

Name: 'easy bake oven get food',  VNum: [ 7647], RNum: [  361]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: bake
Commands:
if %cmd% == bake && %arg% /= biscuit
if %actor.inventory(7647)% || %actor.inventory(7650)% 
    %load% obj 7649 %actor% inv
    %send% %actor% You reach into the oven and pull out a freshly baked biscuit.
    %echoaround% %actor% %actor.name% reaches into an oven and pulls out a freshly baked biscuit.
eval tempid %self.Uniqueid%
eval temptimer %%actor.%tempid%%%
if %actor.varexists(%tempid%)%
    if %self.timer% > %temptimer%
      otimer %temptimer%
    elseif %self.timer% < %temptimer%
       eval %self.Uniqueid% %self.timer%
       remote %self.Uniqueid% %actor.id% 
    end
else
  eval %self.Uniqueid% %self.timer%
  global %self.Uniqueid%
  remote %self.Uniqueid% %actor.id%
end
  else
    %send% %actor% You dont know how to make that.
  end
else
return 0
end

>[0;00m
[0mCHECKING: 7649[0m

Name: 'update oven on rent',  VNum: [ 7648], RNum: [  362]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: rent
Commands:
if %cmd.mudcommand% == rent
eval tempid %self.Uniqueid%
eval temptimer %%actor.%tempid%%%
if %actor.varexists(%tempid%)%
    if %self.timer% > %temptimer%
      otimer %temptimer%
    elseif %self.timer% < %temptimer%
       eval %self.Uniqueid% %self.timer%
       remote %self.Uniqueid% %actor.id% 
    end
else
  eval %self.Uniqueid% %self.timer%
  global %self.Uniqueid%
  remote %self.Uniqueid% %actor.id%
end
return 0
end

>[0;00m
[0mCHECKING: 7652[0m

Name: 'lego factory mgr give master key',  VNum: [ 7649], RNum: [  363]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  if %actor.inventory(7844)%
    %purge% %actor.inventory(7844)%
    %send% %actor% Before you can hand it to him, %self.name.toupper% snatches the plane ticket from your hand!
    wait 3 s
    say Thank the Great Lego Block in the sky!  You've found my plane ticket! 
    wait 3 s
    %load% obj 7837 %actor% inv
    say Here, take my master key and get out of here! I never want to think about that awful factory again!
  end
end

>[0;00m
Name: 'check for union card',  VNum: [ 7652], RNum: [  364]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 100, Arg list: None
Commands:
if %actor.eq(hold).vnum%  == 236
%echo% you cant wear a communications headset
else
%echo% %actor.eq(wear).vnum%
return 0
end

>[0;00m
[0mCHECKING: 7656[0m

Name: 'unfold paper',  VNum: [ 7656], RNum: [  365]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: unfold
Commands:
if %cmd% == unfold && %arg% /= paper && if %actor.inventory(7656)%
%load% obj 7655 %actor% inv
%send% %actor% You unfold the paper.
%echoaround% %actor% %actor.name% unfolds a piece of paper.
%purge% %actor.inventory(7656)%
else
return 0
end

>[0;00m
[0mCHECKING: 7693[0m

Name: 'play-dough monster loads',  VNum: [ 7693], RNum: [  366]
Trigger Intended Assignment: Rooms
Trigger Type: Zone Reset , Numeric Arg: 100, Arg list: None
Commands:
if %findmob.7693(7633)% || %findmob.7693(7632)% || %findmob.7693(7730)%
  halt
elseif %findmob.7691(7633)% || %findmob.7691(7632)% || %findmob.7691(7730)%
  halt
else
  %load% mob 7632
end

>[0;00m
[0mCHECKING: 7698[0m

Name: 'heman junks power sword on death',  VNum: [ 7698], RNum: [  367]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
%echo% With his dyring breath He-Man says, 'the forces of Skeletor will never get the Power Sword!'
rem sword
junk sword
detach 7620 7623

>[0;00m
[0mCHECKING: 7699[0m

Name: 'PrinceAdam to Heman and load chest plate',  VNum: [ 7699], RNum: [  368]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
if %object.vnum% == 7621
  wait 1 sec
  wield sword
  %transform% 7624
  %echo% Prince Adam exclaims, 'By the Power of Grayskull!'
  %echo% Mystical lightning strikes the sword as Prince Adam holds it aloft!
  shout I now have the Power!
  eval anumber %random.100%
  if %anumber% < 5
    %load% obj 7610 %self% inv
    %echo% Prince Adam is shrouded in a glowing ball of energy!
    wear plate
  end
end
detach all %self.id%
attach 7698 %self.id%
attach 7623 %self.id%

>[0;00m
[0mCHECKING: 7700[0m
[0mCHECKING: 7701[0m

Name: 'prince adam protects shera',  VNum: [ 7700], RNum: [  369]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: she
Commands:
%echo% This trigger commandlist is not complete!

>[0;00m
[0mCHECKING: 7704[0m

Name: 'playdough shield assembly',  VNum: [ 7701], RNum: [  370]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: *
Commands:
* By Hurin - so probably a better way to do it
if %cmd% == apply && %arg% /= lacquer shield && %actor.inventory(7644)%
set num_saphs 0
set i %actor.inventory%
while %i%
  if %i.vnum% == 7643
   eval num_saphs %num_saphs% + 1
   set next %i.next_in_list%
else
   set next %i.next_in_list%
     end
  set i %next%
done
if %num_saphs% > 5
   %send% %actor% You press the sapphires into the shield and then apply the lacquer
   set n 6
  while (%n%>0)
        %purge% %actor.inventory(7643)%
        eval n %n%-1
 done
  eval anumber %random.100%
if %anumber% < 5
     set load_number 7690
elseif %anumber% < 25
     set load_number 7691
elseif %anumber% < 40
     set load_number 7692
elseif %anumber% < 60
     set load_number 7693
elseif %anumber% < 75
     set load_number 7694
elseif %anumber% < 85
     set load_number 7695
elseif %anumber% < 90
     set load_number 7696
else
     set load_number 7697
end
*
* Lets check and adjust based upon the actors class
*
if %actor.class%==anti
     eval load_number %load_number% +10
elseif %actor.class%==cleric
     eval load_number %load_number% +20
elseif %actor.class%==jedi
     eval load_number %load_number% +30
elseif %actor.class%==magic
     eval load_number %load_number% +40
elseif %actor.class%==ninja
     eval load_number %load_number% +50
elseif %actor.class%==paladin
     eval load_number %load_number% +60
elseif %actor.class%==sohei
     eval load_number %load_number% +70
elseif %actor.class%==thief
     eval load_number %load_number% +80
elseif %actor.class%==warrior
     eval load_number %load_number% +90
elseif %actor.class%==ranger
     eval load_number %load_number% +100
end
%load% obj %load_number% %actor% inv
%purge% %actor.inventory(7644)%
%purge% %actor.inventory(7632)%
else
%send% %actor% You cant seem to finish the shield
end
else
return 0
end

>[0;00m
[0mCHECKING: 7706[0m

Name: 'play dough recombines',  VNum: [ 7704], RNum: [  371]
Trigger Intended Assignment: Mobiles
Trigger Type: Global Random Greet-All , Numeric Arg: 100, Arg list: None
Commands:
wait 5 sec
eval 7633_count %findmob.7693(7633)%
if %7633_count% == 4
%purge% smallplaydough
%purge% smallplaydough
%purge% smallplaydough
%purge% smallplaydough
   %echo% All of the play-dough monsters jump together to reform
%transform% 7632
eval anumber %random.100%
if %anumber% > 25
 %load% obj 7632
  wear shield
end
end

>[0;00m
Name: 'Bank opens 9am',  VNum: [ 7706], RNum: [  372]
Trigger Intended Assignment: Rooms
Trigger Type: Global Random , Numeric Arg: 100, Arg list: None
Commands:
wait until 09:00
%echo% The giant lego door slides to the right as the bank opens for buisness
%door% 7706 south flags 0

>[0;00m
[0mCHECKING: 7707[0m

Name: 'bank closes 17:00',  VNum: [ 7707], RNum: [  373]
Trigger Intended Assignment: Rooms
Trigger Type: Global Random , Numeric Arg: 100, Arg list: None
Commands:
wait until 17:00
%echo% The giant lego door slams shut as the bank closes for the day.
%door% 7706 south flags 2

>[0;00m
[0mCHECKING: 7708[0m

Name: 'mobs drop bank key',  VNum: [ 7708], RNum: [  374]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 1, Arg list: None
Commands:
%load% obj 7642
drop all

>[0;00m
[0mCHECKING: 7709[0m

Name: 'load can to shopkeeper if in room',  VNum: [ 7709], RNum: [  375]
Trigger Intended Assignment: Rooms
Trigger Type: Zone Reset , Numeric Arg: 3, Arg list: None
Commands:
if %findmob.7709(7645)%
%load% obj 7644 shopkeeper inv
end

>[0;00m
[0mCHECKING: 7710[0m

Name: 'Assemble functional communiucations headset',  VNum: [ 7710], RNum: [  376]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: mak
Commands:
if %cmd.mudcommand% == make && %arg% /= headset
if %actor.inventory(7651)% && %actor.inventory(7652)%
%load% obj 7653 %actor% inv
%send% %actor% The headset turns on as it absorbs the energy.
%echoaround% %actor% %actor.name% communications headset turns on.
%purge% %actor.inventory(7651)%
%purge% %actor.inventory(7652)%
else
%send% %actor% You dont know how to make that.
end
else
return 0
end

>[0;00m
[0mCHECKING: 7711[0m
[0mCHECKING: 7720[0m

Name: 'punish the non-believers',  VNum: [ 7711], RNum: [  377]
Trigger Intended Assignment: Objects
Trigger Type: Wear , Numeric Arg: 100, Arg list: None
Commands:
while %actor.hitp% > 0
  %send% %actor% You are zapped by %self.shortdesc%.
  %send% %actor% You lie on the ground suffering from bleeding wounds.
    eval trapdamage %%random.%actor.hitp%%
    %damage% %actor% %trapdamage%
  %echoaround% %actor% %actor.name% lies on the ground, suffering ...
done

>[0;00m
[0mCHECKING: 7721[0m

Name: 'potato head summons up to 5 army men',  VNum: [ 7720], RNum: [  378]
Trigger Intended Assignment: Mobiles
Trigger Type: Fight , Numeric Arg: 100, Arg list: None
Commands:
eval anumber %random.5%
if %anumber% == 1
%load% mob 7720
elseif %anumber% == 2
%load% mob 7720
%load% mob 7720
elseif %anumber% == 3
%load% mob 7720
%load% mob 7720
%load% mob 7720
elseif %anumber% == 4
 %load% mob 7720
 %load% mob 7720
 %load% mob 7720
 %load% mob 7720
elseif %anumber% == 5
%load% mob 7720
%load% mob 7720
%load% mob 7720
%load% mob 7720
%load% mob 7720
end
detach 7720 %self.id%

>[0;00m
Name: 'mob dodges',  VNum: [ 7721], RNum: [  379]
Trigger Intended Assignment: Mobiles
Trigger Type: Bribe , Numeric Arg: 80, Arg list: None
Commands:
%echo% %self.name% flies away from %actor.name%'s attack
dg_affect %self% dodge on 1

>[0;00m
[0mCHECKING: 7729[0m

Name: 'toy owner goes into store',  VNum: [ 7729], RNum: [  380]
Trigger Intended Assignment: Rooms
Trigger Type: Global Random , Numeric Arg: 100, Arg list: None
Commands:
wait until 09:00
%at% 7629 %echo% The door at the top of the staircase opens.
%door% 7629 up flags 0
wait 5 s
%teleport% legotoyshopkeeper 7629
%door% 7629 up flags 2
%at% 7629 %echo% The shopkeeper closes and locks the door behind him as he walks down the staircase. 

>[0;00m
[0mCHECKING: 7730[0m

Name: 'toy shopkeeper enters backrooms',  VNum: [ 7730], RNum: [  381]
Trigger Intended Assignment: Rooms
Trigger Type: Global Random , Numeric Arg: 100, Arg list: None
Commands:
wait until 17:00
%door% 7629 up flags 0
%echo% The shopkeeper steps up the stairs, unlocks, opens, and enters through the door.
%teleport% legotoyshopkeeper 7709
wait 2 s
%door% 7629 up flags 2
%at% 7629 %echo% The door at the top of the staircase closes.

>[0;00m
[0mCHECKING: 7731[0m

Name: 'sell lacquer if in backroom',  VNum: [ 7731], RNum: [  382]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: buy
Commands:
if %self.room.vnum(7709)% && %self.has_item(7644)%
  if %cmd.mudcommand% == buy && %arg% /= lacquer
     if %actor.gold% < 1000000
        %send% %actor% I will only sell this magical lacquer for 1000000 coins.
     else
give lacquer %actor.name%
       nop %actor.gold(-1000000)%
     end
else
return 0
end
else
%send% %actor% Sorry, but you cannot do that here!
end

>[0;00m
[0mCHECKING: 7732[0m

Name: 'toy shopkeeper greeting',  VNum: [ 7732], RNum: [  383]
Trigger Intended Assignment: Mobiles
Trigger Type: Act , Numeric Arg: 1, Arg list: entered arrived appears
Commands:
if %actor.is_pc%
if %self.room.vnum(7629)%
sigh
wait 3 s
say Greetings, unfortunately I am no longer allowed to sell from this storefront...
wait 3 s
say Let alone be seen selling my magical lacquer.
wait 3 s
say Have a great day!
end
end

>[0;00m
[0mCHECKING: 7735[0m

Name: 'toykenstein drops part on death',  VNum: [ 7735], RNum: [  384]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
set base 7623
eval anumber %random.100%
if %anumber% <= 4
  eval vnum %base% + %anumber%
  %load% obj %vnum% %self.room%
  %echo% %self.name.toupper% drops something before taking %self.hisher% last breath.
end

>[0;00m
[0mCHECKING: 7736[0m
[0mCHECKING: 7737[0m

Name: 'move chess pieces from control to board',  VNum: [ 7736], RNum: [  385]
Trigger Intended Assignment: Rooms
Trigger Type: Zone Reset , Numeric Arg: 100, Arg list: None
Commands:
* By Hurin - so probably a better way to do it
* This takes mobs from the lego Chessboard Control room and moves them to random
* rooms in the lego chess board rooms 7736 through 7800.
wait 1 sec
eval current_mob %self.people%
eval current_room 7736
while %current_mob% && %current_room% < 7800
       if %current_room.people%
          eval current_room %current_room% + 1
         else
          if %random.5% < 3
            %teleport% %current_mob% %current_room%
            eval current_mob %self.people%
           end
       eval current_room %current_room% + 1
        end
 done
eval current_mob %self.people%
eval current_room 7779
while %current_mob% && %current_room% > 7735
       if %current_room.people%
          eval current_room %current_room% -1
         else
if %random.5% < 3
            %teleport% %current_mob% %current_room%
            eval current_mob %self.people%
           end
       eval current_room %current_room% - 1
        end
   done

>[0;00m
[0mCHECKING: 7738[0m

Name: 'Army captain lost brief speech',  VNum: [ 7737], RNum: [  386]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet-All , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  wait 5s
  say Citizen, I require your assistance
  wait 5s
  say My top secret orders have been stolen by the most infamous of thieves.
  wait 5s
  say Their return is of utmost importance!
  wait 5s
  say If you happen to come across them then ensure they are returned to me at
  once.
end

>[0;00m
[0mCHECKING: 7739[0m

Name: 'Toy captain receives mission brief',  VNum: [ 7738], RNum: [  387]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
if %object.vnum% == 7657
wait 1 sec
say My mission brief!
wait 2s
%echo% The toy army captain begins reading the mission brief
wait 2s
say I have some information that may be of use to you
wait 2s
junk mission
 %load% obj 7658
give decrypted %actor.name%
%echo% The toy army captains salutes you.
end

>[0;00m
[0mCHECKING: 7740[0m

Name: 'Make shroud of mystique',  VNum: [ 7739], RNum: [  388]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 3, Arg list: sew
Commands:
if %cmd% == sew && %arg% /= clasp cape
if %actor.inventory(7668)% && %actor.inventory(7667)% && %actor.inventory(7666)%
%load% obj 7662 %actor% inv
%echoaround% %actor% %actor.name% carefully begins to stitch the clasp on to the cape
%echoaround% %actor% %actor.name% has repaired the shroud of mystique.
%send% %actor% After almost stitching your finger to the cape you eventually manage to reattach the clasp.
%send% %actor% You admire your handy work and the repaired Shroud of Mystique.
%purge% %actor.inventory(7666)%
%purge% %actor.inventory(7667)%
%purge% %actor.inventory(7668)%
else
%send% %actor% You dont know how to make that.
end
else
return 0
end

>[0;00m
Name: 'Echo door shut in room 7711',  VNum: [ 7740], RNum: [  389]
Trigger Intended Assignment: Rooms
Trigger Type: Leave , Numeric Arg: 100, Arg list: None
Commands:
if %direction% == south
wait 1 sec
%door% 7711 north flags 2
%at% 7711 %send% %actor% The door slams shut behind you.
end

>[0;00m
[0mCHECKING: 7741[0m

Name: 'Make Clasp From Broach of Supremacy',  VNum: [ 7741], RNum: [  390]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 3, Arg list: cut
Commands:
if %cmd% == cut && %arg% /= clasp broach
if %actor.inventory(7669)% && %actor.inventory(10105)%
%load% obj 7666 %actor% inv
%echoaround% %actor% %actor.name% carefully begins to cut the clasp from the broach
%echoaround% %actor% %actor.name% has destroyed a Broach of Supremacy and is left with nothing more than the clasp.
%send% %actor% Having almost lost several fingers you manage to detach the clasp.
%send% %actor% However you've managed to destroy the broach in the process.
%purge% %actor.inventory(10105)%
%purge% %actor.inventory(7669)%
else
%send% %actor% You dont know how to make that.
end
else
return 0
end

>[0;00m
[0mCHECKING: 7761[0m

Name: 'random teleport && and ||s for diff rooms',  VNum: [ 7761], RNum: [  391]
Trigger Intended Assignment: Mobiles
Trigger Type: Global Random Load , Numeric Arg: 50, Arg list: None
Commands:
set num %random.25499%
if (%num.vnum% > 300 && ((%num.vnum% < 23600) || (%num.vnum% > 23999) || (%num.vnum% != 9640) || (%num.vnum% != 9663) || (%num.vnum% != 7269) || (%num.vnum% != 4942)))
  say It's obvious that which I seek is not present. I must continue my search!
  %teleport% %self% %num%
else
  break
end

>[0;00m
[0mCHECKING: 7762[0m

Name: 'skeletor emotes lightning',  VNum: [ 7762], RNum: [  392]
Trigger Intended Assignment: Mobiles
Trigger Type: Fight , Numeric Arg: 33, Arg list: None
Commands:
emote attempts destroy you by calling down mystical lightning!

>[0;00m
[0mCHECKING: 7763[0m

Name: 'Blinding Glory Sword Assembly',  VNum: [ 7763], RNum: [  393]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 3, Arg list: attach
Commands:
if %cmd% == attach
  if %arg% /= blade to hilt || %arg% /= hilt to blade
    if %actor.inventory(21602)% && %actor.inventory(7609)% && %actor.inventory(7699)%
      %send% %actor% The bright sword and hilt snap together to create The Blinding Sword of Glory!
      %echoaround% %actor% %actor.name% snaps the bright blade and hilt together and creates The Blinding Sword of Glory!
      %load% obj 7698 %actor% inv
      %purge% %actor.inventory(21602)%
      %purge% %actor.inventory(7609)%
      %purge% %actor.inventory(7699)%
    else
      %send% %actor% You seem to be missing a lego or two!
      return 1
      halt
    end
  else
    %send% %actor% Attach what to what?
    return 1
    halt
  end
else
  return 0
end

>[0;00m
[0mCHECKING: 7764[0m
[0mCHECKING: 7765[0m

Name: 'give chucky kitchen knife - load voodoo',  VNum: [ 7764], RNum: [  394]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
if %object.vnum% == 2031
  wait 1 sec
  hold knife
  mtransform -7764
  %echo% Chucky snatches the knife and begins to transform!
  wait 1 s
  %echo% The doll cackles wildly as dark energy surges around its twisting form, eyes blazing!
  wait 1 s
  %echo% Chucky has transformed into something far more deadly than before! 
  wait 1 s
  shout Hi! I am Chucky. Wanna play?
  eval anumber %random.100%
  if %anumber% < 5
    %load% obj 7620 %self% inv
    wield blade
  end
  detach all %self.id%
  attach 7765 %self.id%
end

>[0;00m
Name: 'chucky junks knife on death',  VNum: [ 7765], RNum: [  395]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
rem knife
junk knife

>[0;00m
[0mCHECKING: 7777[0m

Name: 'test script for serenity',  VNum: [ 7777], RNum: [  396]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: addserenity
Commands:
eval temp %obj.serenity%
%echo% %obj.vnum% is objvnum %self.vnum% is selfvnum
%echo% %obj.val0% is obj val0 %self.val0% is self val 0 
%echo% %obj.val1% is obj val1 %self.val1% is self val 1
%echo% %obj.val2% is obj val2 %self.val2% is self val 2
%echo% %obj.val3% is obj val3 %self.val3% is self val 3
nop %self.oset(apply damroll 3)%
%echo% obj serenity is %self.serenity%
%echo% %obj.serenity% is the obj.serenity
if %cmd% == addserenity && %obj.serenity% > 4
%echo% sorry the serenity is already maxed!
else
oserenity 1
else
return 0
end

>[0;00m
[0mCHECKING: 7778[0m

Name: 'object container chest for serenity',  VNum: [ 7778], RNum: [  397]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: combine
Commands:
if %cmd% == combine
set x %self.contents%
set countx 0
%echo% starting to count %countx% is the starting value
  while %x%
eval countx %countx% + 1
   set next %x.next_in_list%
%echo% countx is now %countx%
set x %next%
done
if %countx% == 2
set i %self.contents%
   set next %i.next_in_list%
eval itemvnum1 %i.vnum%
%echo% %i.name% is the name of the first object
set i %next%
eval itemvnum2 %i.vnum%
   if %itemvnum1% == %itemvnum2%
%load% obj %itemvnum1% %actor% inv
%echo% both items are the same loaded a new item and need to set obj.serenity to 1
nop %%itemvnum1%.oset(apply serenity 1)%
%purge% %self%
    else
    %echo% both items need to be the same!
   end
else
%echo% There needs to be 2 of the same items in the magical bag
end
end

>[0;00m
[0mCHECKING: 7799[0m

Name: 'lego trip dex trigger',  VNum: [ 7799], RNum: [  398]
Trigger Intended Assignment: Rooms
Trigger Type: Leave , Numeric Arg: 2, Arg list: None
Commands:
if %actor.is_pc%
if %actor.dex% < 20
    %send% %actor% Your foot catches on the lego piece and you fall flat on your face...
    %echoaround% %actor% %actor.name% falls flat on his face as his foot gets caught on the lego...
   return 0
  nop %actor.pos(sitting)%
  end
end

>[0;00m
[0mCHECKING: 7800[0m

Name: 'Zombie speech',  VNum: [ 7800], RNum: [  399]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% A zombie moans, "Braaaaaaaaaaaaaaaaaaaains."
   wait 10 sec

>[0;00m
[0mCHECKING: 7801[0m

Name: 'Zombie warrior speech',  VNum: [ 7801], RNum: [  400]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% A zombie moans, "Braaaaaaaaaaaaaaaaaaaains."
   wait 10 sec

>[0;00m
[0mCHECKING: 7802[0m
[0mCHECKING: 7803[0m

Name: 'Zombie ninja speech',  VNum: [ 7802], RNum: [  401]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% A zombie moans, "Braaaaaaaaaaaaaaaaaaaains."
   wait 10 sec

>[0;00m
[0mCHECKING: 7804[0m

Name: 'Zombie cleric speech',  VNum: [ 7803], RNum: [  402]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% A zombie moans, "Braaaaaaaaaaaaaaaaaaaains."
   wait 10 sec

>[0;00m
[0mCHECKING: 7805[0m

Name: 'Zombie mage speech',  VNum: [ 7804], RNum: [  403]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% A zombie moans, "Braaaaaaaaaaaaaaaaaaaains."
   wait 10 sec

>[0;00m
[0mCHECKING: 7806[0m

Name: 'Zombie thief speech',  VNum: [ 7805], RNum: [  404]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% A zombie moans, "Braaaaaaaaaaaaaaaaaaaains."
   wait 10 sec

>[0;00m
Name: 'Zombie paladin speech',  VNum: [ 7806], RNum: [  405]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% A zombie moans, "Braaaaaaaaaaaaaaaaaaaains."
   wait 10 sec

>[0;00m
[0mCHECKING: 7807[0m

Name: 'Zombie Apaladin speech',  VNum: [ 7807], RNum: [  406]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% A zombie moans, "Braaaaaaaaaaaaaaaaaaaains."
   wait 10 sec

>[0;00m
[0mCHECKING: 7808[0m

Name: 'Zombie sohei speech',  VNum: [ 7808], RNum: [  407]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% A zombie moans, "Braaaaaaaaaaaaaaaaaaaains."
   wait 10 sec

>[0;00m
[0mCHECKING: 7809[0m

Name: 'Zombie ranger speech',  VNum: [ 7809], RNum: [  408]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% A zombie moans, "Braaaaaaaaaaaaaaaaaaaains."
   wait 10 sec

>[0;00m
[0mCHECKING: 7810[0m

Name: 'Zombie jedi speech',  VNum: [ 7810], RNum: [  409]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% A zombie moans, "Braaaaaaaaaaaaaaaaaaaains."
   wait 10 sec

>[0;00m
[0mCHECKING: 7811[0m
[0mCHECKING: 7812[0m

Name: 'Zombie dark jedi speech',  VNum: [ 7811], RNum: [  410]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% A zombie moans, "Braaaaaaaaaaaaaaaaaaaains."
   wait 10 sec

>[0;00m
[0mCHECKING: 7816[0m

Name: 'Zombie bard speech',  VNum: [ 7812], RNum: [  411]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% A zombie moans, "Braaaaaaaaaaaaaaaaaaaains."
   wait 10 sec

>[0;00m
[0mCHECKING: 7818[0m

Name: 'chosen one warior speech',  VNum: [ 7816], RNum: [  412]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
* By AP
if (%actor.is_pc%)
   wait 10 sec
   say "Gimme some sugar, %actor.name%!"
   wait 20 sec
   say "Name's Ash. Housewares."
   wait 20 sec
   say "Good, bad... I'm the guy with the gun."
   wait 20 sec
   say "Groovy."
   wait 20 sec
   say  The chosen one says, "Don't touch that please, your primitive intellect wouldn't understand things with alloys and compositions and things with... molecular structures."
   wait 20 sec
   say "Come get some."
   wait 20 sec
end

>[0;00m
[0mCHECKING: 7819[0m

Name: 'zombie <undeads> speech',  VNum: [ 7818], RNum: [  413]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% You hear a moaning.
   wait 20 sec
   %echo% You hear something that sounds like, "BRAAAAAAAAAAAAAIIINNNSSS!"
   wait 20 sec
   %echo% It smells like a rotting body around here. Ick.
   wait 20 sec
   %echo% You find yourself wondering if you are a zombie too.
   wait 20 sec
   %echo% How would you really know?
   wait 20 sec
   say Maybe you should try some brains and find out.
   wait 30 sec

>[0;00m
Name: 'new trigger',  VNum: [ 7819], RNum: [  414]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet Time , Numeric Arg: 100, Arg list: None
Commands:
%echo% This trigger commandlist is not complete!

>[0;00m
[0mCHECKING: 7820[0m

Name: 'Summon the Zombies!!!',  VNum: [ 7820], RNum: [  415]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: start
Commands:
* Angstrom 78 Zombie Quest
if ritual /= %arg%
%at% 7844 %load% mob 7887
%at% 7844 %load% mob 7887
%at% 7844 %load% mob 7862
%at% 7844 %load% mob 7859
%at% 7844 %load% mob 7859
%at% 7844 %load% mob 7828
%at% 7844 %load% mob 7822
%at% 7844 %load% mob 7822
%at% 7844 %load% mob 7822
%at% 7844 %load% mob 7820
%at% 7844 %load% mob 7820
%at% 7844 %load% mob 7819
%at% 7844 %load% mob 7819
%at% 7844 %load% mob 7813
%at% 7844 %load% mob 7813
%at% 7844 %load% mob 7812
%at% 7844 %load% mob 7812
%at% 7844 %load% mob 7812
%at% 7844 %load% mob 7811
%at% 7844 %load% mob 7811
%at% 7844 %load% mob 7811
%at% 7844 %load% mob 7810
%at% 7844 %load% mob 7810
%at% 7844 %load% mob 7810
%at% 7844 %load% mob 7809
%at% 7844 %load% mob 7809
%at% 7844 %load% mob 7809
%at% 7840 %load% mob 7847
%at% 7840 %load% mob 7847
%at% 7840 %load% mob 7847
%at% 7840 %load% mob 7847
%at% 7840 %load% mob 7847
%at% 7840 %load% mob 7847
%at% 7840 %load% mob 7852
%at% 7840 %load% mob 7852
%at% 7840 %load% mob 7852
%at% 7840 %load% mob 7852
%at% 7840 %load% mob 7852
%at% 7840 %load% mob 7844
%at% 7840 %load% mob 7844
%at% 7840 %load% mob 7823
%at% 7840 %load% mob 7823
%at% 7840 %load% mob 7823
%at% 7840 %load% mob 7823
%at% 7840 %load% mob 7808
%at% 7840 %load% mob 7808
%at% 7840 %load% mob 7808
%at% 7840 %load% mob 7807
%at% 7840 %load% mob 7807
%at% 7840 %load% mob 7807
%at% 7840 %load% mob 7806
%at% 7840 %load% mob 7806
%at% 7840 %load% mob 7806
%at% 7840 %load% mob 7805
%at% 7840 %load% mob 7805
%at% 7840 %load% mob 7805
%at% 7840 %load% mob 7804
%at% 7840 %load% mob 7804
%at% 7840 %load% mob 7804
%at% 7840 %load% mob 7803
%at% 7840 %load% mob 7803
%at% 7840 %load% mob 7803
%at% 7840 %load% mob 7802
%at% 7840 %load% mob 7802
%at% 7840 %load% mob 7802
%at% 7840 %load% mob 7801
%at% 7840 %load% mob 7801
%at% 7840 %load% mob 7801
%at% 7838 %load% mob 7890
%at% 7838 %load% mob 7890
%at% 7838 %load% mob 7890
%at% 7838 %load% mob 7890
%at% 7838 %load% mob 7890
%at% 7838 %load% mob 7890
%at% 7838 %load% mob 7864
%at% 7838 %load% mob 7864
%at% 7838 %load% mob 7864
%at% 7838 %load% mob 7864
%at% 7838 %load% mob 7864
%at% 7838 %load% mob 7864
%at% 7838 %load% mob 7861
%at% 7838 %load% mob 7861
%at% 7838 %load% mob 7861
%at% 7838 %load% mob 7861
%at% 7838 %load% mob 7861
%at% 7838 %load% mob 7861
%at% 7838 %load% mob 7843
%at% 7838 %load% mob 7843
%at% 7838 %load% mob 7843
%at% 7838 %load% mob 7849
%at% 7838 %load% mob 7849
%at% 7838 %load% mob 7849
%at% 7838 %load% mob 7849
%at% 7838 %load% mob 7849
%at% 7838 %load% mob 7848
%at% 7838 %load% mob 7848
%at% 7838 %load% mob 7848
%at% 7838 %load% mob 7848
%at% 7838 %load% mob 7848
%at% 7838 %load% mob 7848
%at% 7838 %load% mob 7848
%at% 7838 %load% mob 7848
%at% 7838 %load% mob 7843
%at% 7838 %load% mob 7843
%at% 7838 %load% mob 7843
%at% 7838 %load% mob 7843
%at% 7838 %load% mob 7843
%at% 7838 %load% mob 7842
%at% 7838 %load% mob 7842
%at% 7838 %load% mob 7842
%at% 7838 %load% mob 7842
%at% 7838 %load% mob 7841
%at% 7838 %load% mob 7841
%at% 7838 %load% mob 7841
%at% 7838 %load% mob 7841
%at% 7838 %load% mob 7841
%at% 7838 %load% mob 7841
%at% 7838 %load% mob 7840
%at% 7838 %load% mob 7840
%at% 7838 %load% mob 7840
%at% 7838 %load% mob 7840
%at% 7838 %load% mob 7840
%at% 7838 %load% mob 7840
%at% 7838 %load% mob 7825
%at% 7838 %load% mob 7825
%at% 7838 %load% mob 7825
%at% 7838 %load% mob 7825
%at% 7838 %load% mob 7841
%at% 7838 %load% mob 7841
%at% 7838 %load% mob 7841
%at% 7838 %load% mob 7841
%at% 7838 %load% mob 7841
%at% 7838 %load% mob 7840
%at% 7838 %load% mob 7840
%at% 7838 %load% mob 7840
%at% 7838 %load% mob 7840
%at% 7838 %load% mob 7840
%at% 7826 %load% mob 7817
%at% 7826 %load% mob 7816
%at% 7826 %load% mob 7815
%at% 7826 %load% mob 7814
%at% 7822 %load% mob 7845
%at% 7822 %load% mob 7845
%at% 7822 %load% mob 7845
%at% 7822 %load% mob 7845
%at% 7822 %load% mob 7845
%at% 7822 %load% mob 7845
%at% 7822 %load% mob 7845
%at% 7822 %load% mob 7845
%at% 7822 %load% mob 7879
%at% 7822 %load% mob 7866
%at% 7822 %load% mob 7866
%at% 7822 %load% mob 7866
%at% 7822 %load% mob 7866
%at% 7822 %load% mob 7866
%at% 7822 %load% mob 7865
%at% 7822 %load% mob 7836
%at% 7822 %load% mob 7836
%at% 7822 %load% mob 7836
%at% 7822 %load% mob 7836
%at% 7822 %load% mob 7836
%at% 7822 %load% mob 7834
%at% 7822 %load% mob 7834
%at% 7822 %load% mob 7834
%at% 7822 %load% mob 7834
%at% 7822 %load% mob 7834
%at% 7822 %load% mob 7833
%at% 7822 %load% mob 7833
%at% 7822 %load% mob 7833
%at% 7822 %load% mob 7833
%at% 7822 %load% mob 7832
%at% 7822 %load% mob 7832
%at% 7822 %load% mob 7832
%at% 7822 %load% mob 7835
%at% 7822 %load% mob 7835
%at% 7822 %load% mob 7835
%at% 7822 %load% mob 7835
%at% 7836 %load% mob 7854
%at% 7836 %load% mob 7854
%at% 7836 %load% mob 7854
%at% 7835 %load% mob 7881
%at% 7835 %load% mob 7881
%at% 7834 %load% mob 7853
%at% 7834 %load% mob 7853
%at% 7834 %load% mob 7853
%at% 7834 %load% mob 7853
%at% 7834 %load% mob 7853
%at% 7834 %load% mob 7853
%at% 7834 %load% mob 7860
%at% 7834 %load% mob 7860
%at% 7834 %load% mob 7860
%at% 7834 %load% mob 7860
%at% 7833 %load% mob 7829
%at% 7833 %load% mob 7829
%at% 7833 %load% mob 7829
%at% 7833 %load% mob 7829
%at% 7833 %load% mob 7829
%at% 7833 %load% mob 7829
%at% 7832 %load% mob 7830
%at% 7832 %load% mob 7830
%at% 7832 %load% mob 7830
%at% 7832 %load% mob 7830
%at% 7832 %load% mob 7830
%at% 7832 %load% mob 7830
%at% 7831 %load% mob 7827
%at% 7831 %load% mob 7827
%at% 7831 %load% mob 7827
%at% 7831 %load% mob 7827
%at% 7831 %load% mob 7827
%at% 7830 %load% mob 7826
%at% 7830 %load% mob 7826
%at% 7830 %load% mob 7826
%at% 7830 %load% mob 7826
%at% 7830 %load% mob 7826
%at% 7830 %load% mob 7826
%at% 7830 %load% mob 7826
%echo% A huge wave of zombies is approaching!
%at% 7829 %load% mob 7825
%at% 7829 %load% mob 7825
%at% 7829 %load% mob 7825
%at% 7829 %load% mob 7825
%at% 7829 %load% mob 7825
%at% 7829 %load% mob 7825
%at% 7829 %load% mob 7825
%at% 7829 %load% mob 7825
%at% 7829 %load% mob 7825
%at% 7829 %load% mob 7825
%at% 7827 %load% mob 7857
%at% 7827 %load% mob 7856
%at% 7827 %load% mob 7856
%at% 7827 %load% mob 7856
%at% 7827 %load% mob 7856
%at% 7827 %load% mob 7856
%at% 7827 %load% mob 7855
%at% 7827 %load% mob 7855
%at% 7827 %load% mob 7855
%at% 7827 %load% mob 7855
%at% 7827 %load% mob 7850
%at% 7827 %load% mob 7850
%at% 7827 %load% mob 7850
%at% 7827 %load% mob 7850
%at% 7827 %load% mob 7850
%at% 7827 %load% mob 7850
%at% 7828 %load% mob 7824
%at% 7828 %load% mob 7824
%at% 7828 %load% mob 7824
%at% 7828 %load% mob 7824
%at% 7828 %load% mob 7824
%at% 7828 %load% mob 7824
end

[0mCHECKING: 7821[0m
[0mCHECKING: 7859[0m
Name: 'torch reanimate corpse',  VNum: [ 7821], RNum: [  416]
Trigger Intended Assignment: Objects
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
%echo% Testing corpse reanimation from torch.
dg_cast 'animate dead' corpse
%force% wight dance
%force% zombie dance

>[0;00m
Name: 'load a golden casket',  VNum: [ 7859], RNum: [  417]
Trigger Intended Assignment: Rooms
Trigger Type: Zone Reset , Numeric Arg: 50, Arg list: None
Commands:
set obj %self.contents(7859)%
if ! %obj.contents%
  set i 1
  while %i% <= 10
    if %random.100% <= 20
      %load% obj 7865 %self.contents(7859)%
    end
    eval i %i% + 1
  done
end

>[0;00m
[0mCHECKING: 7890[0m

Name: 'zombie flea speech',  VNum: [ 7890], RNum: [  418]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
* By AP
if (%actor.is_pc%)
   wait 10 sec
   %echo% A zombie flea drones in a high pitched voice, "%actor.name% braaaaaaaaaaaiiiiiins!"
   wait 20 sec
   %echo% A zombie flea bites %actor.name%!
   wait 20 sec
end

>[0;00m
[0mCHECKING: 7891[0m

Name: 'lwa give poison herb to players and force eat',  VNum: [ 7891], RNum: [  419]
Trigger Intended Assignment: Mobiles
Trigger Type: Fight , Numeric Arg: 100, Arg list: None
Commands:
%echo% Papa Loko picks a mossy green herb from those growing in his hair and gives it to %actor.name%.
%load% obj 7854 %actor% inv
%force% %actor% eat poisonous

>[0;00m
[0mCHECKING: 7892[0m

Name: 'papa loko makes a player drink a potion',  VNum: [ 7892], RNum: [  420]
Trigger Intended Assignment: Mobiles
Trigger Type: Fight , Numeric Arg: 100, Arg list: None
Commands:
%echo% Papa Loko mixes up some poison in a coconut and hands it to %actor.name%.
%load% obj 7855 %actor% inv
%force% %actor% quaff potion

>[0;00m
[0mCHECKING: 7900[0m

Name: 'sam drop on death',  VNum: [ 7900], RNum: [  421]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
eval anumber %random.100%
if %anumber% == 1 || %anumber% == 40
%load% obj 7904
elseif %anumber% == 2
eval bnumber %random.3%
if %bnumber% == 1
%load% obj 7908
end
elseif %anumber% == 3
eval bnumber %random.4%
if %bnumber% == 1
%load% obj 7909
end
elseif %anumber% == 4
%load% obj 7913
elseif %anumber% == 5
%load% obj 7914
elseif %anumber% == 6
%load% obj 7915
elseif %anumber% == 7
%load% obj 7918
elseif %anumber% == 8
eval bnumber %random.3%
if %bnumber% == 1
%load% obj 7919
end
elseif %anumber% == 9 || %anumber% == 10
%load% obj 7917
elseif %anumber% > 50
%load% obj 8009
elseif %anumber% > 40
%load% obj 7902
elseif %anumber% > 30
%load% obj 7900
elseif %anumber% > 20
%load% obj 7916
elseif %anumber% > 15
%load% obj 8003
elseif %anumber% > 10
%load% obj 7901
else
%load% obj 8009
end
drop all

>[0;00m
[0mCHECKING: 7901[0m

Name: 'random teleport and load scrolls',  VNum: [ 7901], RNum: [  422]
Trigger Intended Assignment: Mobiles
Trigger Type: Load , Numeric Arg: 100, Arg list: None
Commands:
set i 0
while %i% < 5
 set num %random.25499%
 if (%num.vnum% > 300 && ((%num.vnum% < 23600) || (%num.vnum% > 23999)))
if %num.people%
  %teleport% %self% %num%
  if %self.room.vnum(%num%)%
    set char %random.char%
    if !%char.is_pc%
attach 7903 %char.id%
      eval i %i% + 1
    end
end
  end
end
done
%teleport% %self% 25300

>[0;00m
[0mCHECKING: 7902[0m
[0mCHECKING: 7903[0m

Name: 'random teleport for mini sam',  VNum: [ 7902], RNum: [  423]
Trigger Intended Assignment: Mobiles
Trigger Type: Global Random Load , Numeric Arg: 50, Arg list: None
Commands:
set num %random.25499%
if (%num.vnum% > 300 && ((%num.vnum% < 23600) || (%num.vnum% > 23999)))
emote drops a colorful smoke bomb and disappears.
%teleport% %self% %num%
else
break
end

>[0;00m
[0mCHECKING: 7904[0m

Name: 'drop perma spell parts',  VNum: [ 7903], RNum: [  424]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
eval load_item %random.30% + 7919
%load% obj %load_item%
eval anumber %random.4%
if %anumber% > 1
%load% obj 8017
eval bnumber %random.150%
if %bnumber% == 1
     %load% obj 8088
end
end
drop all

>[0;00m
[0mCHECKING: 7905[0m

Name: 'mini sam drop on death',  VNum: [ 7904], RNum: [  425]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
eval anumber %random.100%
if %anumber% == 1
%load% obj 7964
elseif %anumber% == 2
%load% obj 7950
elseif %anumber% == 3
%load% obj 7952
elseif %anumber% == 4
%load% obj 7954
elseif %anumber% == 5
%load% obj 7956
elseif %anumber% == 6
%load% obj 7958
elseif %anumber% == 7
%load% obj 7970
elseif %anumber% == 8
%load% obj 7966
elseif %anumber% == 9
%load% obj 7906
elseif %anumber% == 10
%load% obj 7907
elseif %anumber% == 11
%load% obj 7910
elseif %anumber% == 12
%load% obj 7911
elseif %anumber% == 13
%load% obj 7912
elseif %anumber% == 14 || %anumber% == 15
%load% obj 8098
elseif %anumber% == 16 || %anumber% == 17
%load% obj 8099
elseif %anumber% == 18 || %anumber% == 19
%load% obj 8092
elseif %anumber% == 20 || %anumber% == 21 || %anumber% == 22
%load% obj 8089
elseif %anumber% == 23 || %anumber% == 24 || %anumber% == 25
%load% obj 8090
elseif %anumber% == 26 || %anumber% == 27 || %anumber% == 28
%load% obj 8091
elseif %anumber% == 29 || %anumber% == 30 || %anumber% == 31
%load% obj 8093
elseif %anumber% == 32 || %anumber% == 33 || %anumber% == 34
%load% obj 8094
elseif %anumber% == 35 || %anumber% == 36 || %anumber% == 37
%load% obj 8095
elseif %anumber% == 38 || %anumber% == 39 || %anumber% == 40
%load% obj 8096
elseif %anumber% == 41 || %anumber% == 42 || %anumber% == 43
%load% obj 8097
elseif %anumber% == 89
eval bnumber %random.4%
if %bnumber% == 1
%load% obj 7909
elseif %bnumber% == 2
%load% obj 7919
else
%load% obj 8009
end
elseif %anumber% < 43
%load% obj 8009
elseif %anumber% < 48
%load% obj 7960
elseif %anumber% < 53
%load% obj 7962
elseif %anumber% < 58
%load% obj 7968
elseif %anumber% < 63
%load% obj 7972
elseif %anumber% < 68
%load% obj 7975
elseif %anumber% < 73
%load% obj 7978
elseif %anumber% < 78
%load% obj 7981
elseif %anumber% < 83
%load% obj 7984
elseif %anumber% < 88
%load% obj 7987
else
%load% obj 7905
end
drop all

>[0;00m
[0mCHECKING: 7906[0m

Name: 'make molle bracelets',  VNum: [ 7905], RNum: [  426]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: make
Commands:
* By Hurin - so probably a better way to do it
if %cmd% == make && %arg% /= molle bracelet
set num_7905 0
set i %actor.inventory%
while %i%
if %i.vnum% == 7905
eval num_7905 %num_7905% + 1
set next %i.next_in_list%
else
set next %i.next_in_list%
end
set i %next%
done
if %num_7905% > 2
   %send% %actor% You connect three molle straps together to make a bracelet.
%purge% %actor.inventory(7905)%
%purge% %actor.inventory(7905)%
%purge% %actor.inventory(7905)%
eval anumber %random.100%
*lets load either a good bracelet or a bad one
if %anumber% > 80
%load% obj 8004 %actor% inv
else
%load% obj 8005 %actor% inv
end
%purge% %actor.inventory(7902)%
else
%send% %actor% You dont have enough straps to make a bracelet.
end
else
return 0
end

>[0;00m
Name: 'make molle belt',  VNum: [ 7906], RNum: [  427]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: make
Commands:
* By Hurin - so probably a better way to do it
if %cmd% == make && %arg% /= molle belt
set num_7905 0
set i %actor.inventory%
while %i%
if %i.vnum% == 7905
eval num_7905 %num_7905% + 1
set next %i.next_in_list%
else
set next %i.next_in_list%
end
set i %next%
done
if %num_7905% > 5
%send% %actor% You connect six molle straps together to make a belt.
%purge% %actor.inventory(7905)%
%purge% %actor.inventory(7905)%
%purge% %actor.inventory(7905)%
%purge% %actor.inventory(7905)%
%purge% %actor.inventory(7905)%
%purge% %actor.inventory(7905)%
eval anumber %random.100%
*lets load either a bad belt or a good one
if %anumber% > 85
%load% obj 8006 %actor% inv
elseif %anumber% < 15
%load% obj 8007 %actor% inv
else
%load% obj 8008 %actor% inv
end
%purge% %actor.inventory(7902)%
else
%send% %actor% You dont have enough straps to make a belt.
end
else
return 0
end

>[0;00m
[0mCHECKING: 7907[0m

Name: 'light firework',  VNum: [ 7907], RNum: [  428]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: light
Commands:
* By Hurin - so probably a better way to do it
if %cmd% == light && %arg% /= fuse && %actor.inventory(8009)% && %actor.inventory(8017)%
%send% %actor% You set the tube down, strike the last match, light the fuse and quickly move back.
%echoaround% %actor% %actor.name% sets down an artilly tube, strikes a match lights the fuse and quickly moves back.
wait 1 s
%echo% Loud booms and an amazing fireworks display fills the sky.
wait 1 s
eval anumber %random.200%
%echo% %anumber%
if %anumber% > 120
%send% %actor% You reach down and grab the artillery tube that was left.
%echoaround% %actor% %actor.name% reaches down and grabs the left over artillery tube off the ground.
%load% obj 8010 %actor% inv
elseif %anumber% == 1 || %anumber% == 2
%send% %actor% You reach down and grab the artillery tube that was left.
%echoaround% %actor% %actor.name% reaches down and grabs the left over artillery tube off the ground.
%load% obj 8011 %actor% inv
elseif %anumber% == 3 || %anumber% == 4
%send% %actor% You reach down and grab the artillery tube that was left.
%echoaround% %actor% %actor.name% reaches down and grabs the left over artillery tube off the ground.
%load% obj 8012 %actor% inv
elseif %anumber% == 5 || %anumber% == 6
%send% %actor% You reach down and grab the artillery tube that was left.
%echoaround% %actor% %actor.name% reaches down and grabs the left over artillery tube off the ground.
%load% obj 8013 %actor% inv
elseif %anumber% == 7 || %anumber% == 8
%send% %actor% You reach down and grab the artillery tube that was left.
%echoaround% %actor% %actor.name% reaches down and grabs the left over artillery tube off the ground.
%load% obj 8014 %actor% inv
elseif %anumber% == 9 || %anumber% == 10
%send% %actor% You reach down and grab the artillery tube that was left.
%echoaround% %actor% %actor.name% reaches down and grabs the left over artillery tube off the ground.
%load% obj 8015 %actor% inv
elseif %anumber% == 11
%load% obj 8016 %actor% inv
%send% %actor% You reach down and grab the artillery tube that was left.
%echoaround% %actor% %actor.name% reaches down and grabs the left over artillery tube off the ground.
else
%send% %actor% You reach down to grab the artillery tube and it explodes violently. You are tossed back and blinded by the explosion
%echoaround% %actor% As %actor.name% reaches down to pick up the tube and it explodes, blasting %actor.name% in the process.
dg_affect %actor% blind on 1
eval all_but_one_hitp %actor.hitp% - 1
if %all_but_one_hitp% > 0
%damage% %actor% %all_but_one_hitp%
end
end
%purge% %actor.inventory(8009)% *artillery
%purge% %actor.inventory(8017)% *matches
else
return 0
end

>[0;00m
[0mCHECKING: 7908[0m

Name: 'make red white and blue token',  VNum: [ 7908], RNum: [  429]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: make
Commands:
* By Hurin - so probably a better way to do it
if %cmd% == make && %arg% /= red white and blue token && %actor.inventory(7900)% && %actor.inventory(7902)%
%send% %actor% You combine the tokens into a single red white and blue token
%load% obj 7903 %actor% inv
%purge% %actor.inventory(7900)%
%purge% %actor.inventory(7902)%
%purge% %actor.inventory(7901)%
else
return 0
end

>[0;00m
[0mCHECKING: 7910[0m

Name: 'block strike',  VNum: [ 7910], RNum: [  430]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: str
Commands:
if %cmd.mudcommand% == strike
%echo% %self.name% steps out of the way from an attempted strike...
else
return 0
end

>[0;00m
[0mCHECKING: 7925[0m

Name: 'feel free to use',  VNum: [ 7925], RNum: [  431]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: combine
Commands:
Nothing.

>[0;00m
[0mCHECKING: 7950[0m

Name: 'combine +1dam scrolls',  VNum: [ 7950], RNum: [  432]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: combine
Commands:
* By Hurin - so probably a better way to do it
if %cmd% == combine && %arg% /= 1dam && %actor.inventory(7950)%
set num_7950 0
set i %actor.inventory%
while %i%
  if %i.vnum% == 7950
   eval num_7950 %num_7950% + 1
   set next %i.next_in_list%
else
   set next %i.next_in_list%
     end
  set i %next%
done
 if %num_7950% > 1
%send% %actor% You combine the two +1dam scrolls.
        %purge% %actor.inventory(7950)%
        %purge% %actor.inventory(7950)%
        %load% obj 7951 %actor% inv
%purge% %actor.inventory(7900)%
  else
%send% %actor% You dont have enough +1dam scrolls to combine.
end
else
return 0
end

>[0;00m
[0mCHECKING: 7952[0m

Name: 'combine +1str scrolls',  VNum: [ 7952], RNum: [  433]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: combine
Commands:
if %cmd% == combine && %arg% /= 1str && %actor.inventory(7952)%
  set num_7952 0
  set i %actor.inventory%
 while %i%
  if %i.vnum% == 7952
   eval num_7952 %num_7952% + 1
   set next %i.next_in_list%
  else
   set next %i.next_in_list%
     end
   set i %next%
 done
  if %num_7952% > 1
%send% %actor% You combine the two +1str scrolls.
        %purge% %actor.inventory(7952)%
        %purge% %actor.inventory(7952)%
        %load% obj 7953 %actor% inv
        %purge% %actor.inventory(7900)%
   else
%send% %actor% You dont have enough +1str scrolls to combine.
  end
else
return 0
end

>[0;00m
[0mCHECKING: 7954[0m

Name: 'combine +1int scrolls',  VNum: [ 7954], RNum: [  434]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: combine
Commands:
if %cmd% == combine && %arg% /= 1int && %actor.inventory(7954)%
set num_7954 0
set i %actor.inventory%
while %i%
if %i.vnum% == 7954
eval num_7954 %num_7954% + 1
set next %i.next_in_list%
else
set next %i.next_in_list%
end
set i %next%
done
if %num_7954% > 1
%send% %actor% You combine the two +int scrolls.
%purge% %actor.inventory(7954)%
%purge% %actor.inventory(7954)%
%load% obj 7955 %actor% inv
%purge% %actor.inventory(7900)%
else
%send% %actor% You dont have enough +int scrolls to combine.
end
else
return 0
end

>[0;00m
[0mCHECKING: 7956[0m

Name: 'combine +1wis scrolls',  VNum: [ 7956], RNum: [  435]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: combine
Commands:
if %cmd% == combine && %arg% /= 1wis && %actor.inventory(7956)%
set num_7956 0
set i %actor.inventory%
while %i%
if %i.vnum% == 7956
eval num_7956 %num_7956% + 1
set next %i.next_in_list%
else
set next %i.next_in_list%
end
set i %next%
done
if %num_7956% > 1
%send% %actor% You combine the two +1wis scrolls.
%purge% %actor.inventory(7956)%
%purge% %actor.inventory(7956)%
%load% obj 7957 %actor% inv
%purge% %actor.inventory(7900)%
else
%send% %actor% You dont have enough +1wis scrolls to combine.
end
else
return 0
end

>[0;00m
[0mCHECKING: 7958[0m

Name: 'combine +1dex scrolls',  VNum: [ 7958], RNum: [  436]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: combine
Commands:
if %cmd% == combine && %arg% /= 1dex && %actor.inventory(7958)%
set num_7958 0
set i %actor.inventory%
while %i%
if %i.vnum% == 7958
eval num_7958 %num_7958% + 1
set next %i.next_in_list%
else
set next %i.next_in_list%
end
set i %next%
done
if %num_7958% > 1
%send% %actor% You combine the two +1dex scrolls.
%purge% %actor.inventory(7958)%
%purge% %actor.inventory(7958)%
%load% obj 7959 %actor% inv
%purge% %actor.inventory(7900)%
else
%send% %actor% You dont have enough +1dex scrolls to combine.
end
else
return 0
end

>[0;00m
[0mCHECKING: 7960[0m
[0mCHECKING: 7962[0m

Name: 'combine +1con scrolls',  VNum: [ 7960], RNum: [  437]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: combine
Commands:
* By Hurin - so probably a better way to do it
if %cmd% == combine && %arg% /= 1con && %actor.inventory(7960)%
set num_7960 0
set i %actor.inventory%
while %i%
if %i.vnum% == 7960
eval num_7960 %num_7960% + 1
set next %i.next_in_list%
else
set next %i.next_in_list%
end
set i %next%
done
if %num_7960% > 1
%send% %actor% You combine the two +1con scrolls.
%purge% %actor.inventory(7960)%
%purge% %actor.inventory(7960)%
%load% obj 7961 %actor% inv
%purge% %actor.inventory(7900)%
else
%send% %actor% You dont have enough +1con scrolls to combine.
end
else
return 0
end

>[0;00m
[0mCHECKING: 7964[0m

Name: 'combine +1cha scrolls',  VNum: [ 7962], RNum: [  438]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: combine
Commands:
* By Hurin - so probably a better way to do it
if %cmd% == combine && %arg% /= 1cha && %actor.inventory(7962)%
set num_7962 0
set i %actor.inventory%
while %i%
if %i.vnum% == 7962
eval num_7962 %num_7962% + 1
set next %i.next_in_list%
else
set next %i.next_in_list%
end
set i %next%
done
if %num_7962% > 1
%send% %actor% You combine the two +1cha scrolls.
%purge% %actor.inventory(7962)%
%purge% %actor.inventory(7962)%
%load% obj 7963 %actor% inv
%purge% %actor.inventory(7900)%
else
%send% %actor% You dont have enough +1cha scrolls to combine.
end
else
return 0
end

>[0;00m
[0mCHECKING: 7966[0m

Name: 'combine -1align scrolls',  VNum: [ 7964], RNum: [  439]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: combine
Commands:
* By Hurin - so probably a better way to do it
if %cmd% == combine && %arg% /= 1align && %actor.inventory(7964)%
set num_7964 0
set i %actor.inventory%
while %i%
if %i.vnum% == 7964
eval num_7964 %num_7964% + 1
set next %i.next_in_list%
else
set next %i.next_in_list%
end
set i %next%
done
if %num_7964% > 1
%send% %actor% You combine the two -1align scrolls.
%purge% %actor.inventory(7964)%
%purge% %actor.inventory(7964)%
%load% obj 7965 %actor% inv
%purge% %actor.inventory(7900)%
else
%send% %actor% You dont have enough -1align scrolls to combine.
end
else
return 0
end

>[0;00m
Name: 'combine +1xp scrolls',  VNum: [ 7966], RNum: [  440]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: combine
Commands:
* By Hurin - so probably a better way to do it
if %cmd% == combine && %arg% /= 1xp && %actor.inventory(7966)%
set num_7966 0
set i %actor.inventory%
while %i%
if %i.vnum% == 7966
eval num_7966 %num_7966% + 1
set next %i.next_in_list%
else
set next %i.next_in_list%
end
set i %next%
done
if %num_7966% > 4
%send% %actor% You combine the five +1xp scrolls.
%purge% %actor.inventory(7966)%
%purge% %actor.inventory(7966)%
%purge% %actor.inventory(7966)%
%purge% %actor.inventory(7966)%
%purge% %actor.inventory(7966)%
%load% obj 7967 %actor% inv
%purge% %actor.inventory(7900)%
else
%send% %actor% You dont have enough +1xp scrolls to combine.
end
else
return 0
end

>[0;00m
[0mCHECKING: 7968[0m

Name: 'combine +1hr scrolls',  VNum: [ 7968], RNum: [  441]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: combine
Commands:
* By Hurin - so probably a better way to do it
if %cmd% == combine && %arg% /= 1hr && %actor.inventory(7968)%
set num_7968 0
set i %actor.inventory%
while %i%
if %i.vnum% == 7968
eval num_7968 %num_7968% + 1
set next %i.next_in_list%
else
set next %i.next_in_list%
end
set i %next%
done
if %num_7968% > 4
%send% %actor% You combine the five +1hr scrolls.
%purge% %actor.inventory(7968)%
%purge% %actor.inventory(7968)%
%purge% %actor.inventory(7968)%
%purge% %actor.inventory(7968)%
%purge% %actor.inventory(7968)%
%load% obj 7969 %actor% inv
%purge% %actor.inventory(7900)%
else
%send% %actor% You dont have enough +1hr scrolls to combine.
end
else
return 0
end

>[0;00m
[0mCHECKING: 7970[0m

Name: 'combine +1m_regen scrolls',  VNum: [ 7970], RNum: [  442]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: combine
Commands:
* By Hurin - so probably a better way to do it
if %cmd% == combine && %arg% /= 1m_regen && %actor.inventory(7970)%
set num_7970 0
set i %actor.inventory%
while %i%
if %i.vnum% == 7970
eval num_7970 %num_7970% + 1
set next %i.next_in_list%
else
set next %i.next_in_list%
end
set i %next%
done
if %num_7970% > 4
%send% %actor% You combine the five +1m_regen scrolls.
        %purge% %actor.inventory(7970)%
%purge% %actor.inventory(7970)%
%purge% %actor.inventory(7970)%
%purge% %actor.inventory(7970)%
%purge% %actor.inventory(7970)%
%load% obj 7971 %actor% inv
%purge% %actor.inventory(7900)%
else
%send% %actor% You dont have enough +1m_regen scrolls to combine.
end
else
return 0
end

>[0;00m
[0mCHECKING: 7972[0m

Name: 'combine 1hp_regen scrolls',  VNum: [ 7972], RNum: [  443]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: combine
Commands:
* By Hurin - so probably a better way to do it
if %cmd% == combine && %arg% /= 1hp_regen && %actor.inventory(7972)%
set num_7972 0
set i %actor.inventory%
while %i%
if %i.vnum% == 7972
eval num_7972 %num_7972% + 1
set next %i.next_in_list%
else
set next %i.next_in_list%
end
set i %next%
done
if %num_7972% > 4
%send% %actor% You combine the five +1hp_regen scrolls.
        %purge% %actor.inventory(7972)%
%purge% %actor.inventory(7972)%
%purge% %actor.inventory(7972)%
%purge% %actor.inventory(7972)%
%purge% %actor.inventory(7972)%
%load% obj 7973 %actor% inv
%purge% %actor.inventory(7900)%
else
%send% %actor% You dont have enough +1hp_regen scrolls to combine.
end
else
return 0
end

>[0;00m
[0mCHECKING: 7973[0m

Name: 'combine +5hp_regen scrolls',  VNum: [ 7973], RNum: [  444]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: combine
Commands:
* By Hurin - so probably a better way to do it
if %cmd% == combine && %arg% /= 5hp_regen && %actor.inventory(7973)%
set num_7973 0
set i %actor.inventory%
while %i%
if %i.vnum% == 7973
eval num_7973 %num_7973% + 1
set next %i.next_in_list%
else
set next %i.next_in_list%
end
set i %next%
done
if %num_7973% > 3
%send% %actor% You combine the four +5hp_regen scrolls.
        %purge% %actor.inventory(7973)%
%purge% %actor.inventory(7973)%
%purge% %actor.inventory(7973)%
%purge% %actor.inventory(7973)%
%load% obj 7974 %actor% inv
%purge% %actor.inventory(7900)%
else
%send% %actor% You dont have enough +5hp_regen scrolls to combine.
end
else
return 0
end

>[0;00m
[0mCHECKING: 7975[0m

Name: 'combine 1move_regen scrolls',  VNum: [ 7975], RNum: [  445]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: combine
Commands:
* By Hurin - so probably a better way to do it
if %cmd% == combine && %arg% /= 1move_regen && %actor.inventory(7975)%
set num_7975 0
set i %actor.inventory%
while %i%
if %i.vnum% == 7975
eval num_7975 %num_7975% + 1
set next %i.next_in_list%
else
set next %i.next_in_list%
end
set i %next%
done
if %num_7975% > 4
%send% %actor% You combine the five +1move_regen scrolls.
%purge% %actor.inventory(7975)%
%purge% %actor.inventory(7975)%
%purge% %actor.inventory(7975)%
%purge% %actor.inventory(7975)%
%purge% %actor.inventory(7975)%
%load% obj 7976 %actor% inv
%purge% %actor.inventory(7900)%
else
%send% %actor% You dont have enough +1move_regen scrolls to combine.
end
else
return 0
end

>[0;00m
[0mCHECKING: 7976[0m
[0mCHECKING: 7978[0m

Name: 'combine +5move_regen scrolls',  VNum: [ 7976], RNum: [  446]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: combine
Commands:
* By Hurin - so probably a better way to do it
if %cmd% == combine && %arg% /= 5move_regen && %actor.inventory(7976)%
set num_7976 0
set i %actor.inventory%
while %i%
if %i.vnum% == 7976
eval num_7976 %num_7976% + 1
set next %i.next_in_list%
else
set next %i.next_in_list%
end
set i %next%
done
if %num_7976% > 3
%send% %actor% You combine the four +5move_regen scrolls.
%purge% %actor.inventory(7976)%
%purge% %actor.inventory(7976)%
%purge% %actor.inventory(7976)%
%purge% %actor.inventory(7976)%
%load% obj 7977 %actor% inv
%purge% %actor.inventory(7900)%
else
%send% %actor% You dont have enough +5move_regen scrolls to combine.
end
else
return 0
end

>[0;00m
[0mCHECKING: 7979[0m

Name: 'combine +1ac scrolls',  VNum: [ 7978], RNum: [  447]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: combine
Commands:
* By Hurin - so probably a better way to do it
if %cmd% == combine && %arg% /= 1ac && %actor.inventory(7978)%
set num_7978 0
set i %actor.inventory%
while %i%
if %i.vnum% == 7978
eval num_7978 %num_7978% + 1
set next %i.next_in_list%
else
set next %i.next_in_list%
end
set i %next%
done
if %num_7978% > 4
%send% %actor% You combine the five +1ac scrolls.
%purge% %actor.inventory(7978)%
%purge% %actor.inventory(7978)%
%purge% %actor.inventory(7978)%
%purge% %actor.inventory(7978)%
%purge% %actor.inventory(7978)%
%load% obj 7979 %actor% inv
%purge% %actor.inventory(7900)%
else
%send% %actor% You dont have enough +1ac scrolls to combine.
end
else
return 0
end

>[0;00m
[0mCHECKING: 7981[0m

Name: 'combine +5ac scrolls',  VNum: [ 7979], RNum: [  448]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: combine
Commands:
* By Hurin - so probably a better way to do it
if %cmd% == combine && %arg% /= 5ac && %actor.inventory(7979)%
set num_7979 0
set i %actor.inventory%
while %i%
if %i.vnum% == 7979
eval num_7979 %num_7979% + 1
set next %i.next_in_list%
else
set next %i.next_in_list%
end
set i %next%
done
if %num_7979% > 3
%send% %actor% You combine the four +5ac scrolls.
%purge% %actor.inventory(7979)%
%purge% %actor.inventory(7979)%
%purge% %actor.inventory(7979)%
%purge% %actor.inventory(7979)%
%load% obj 7980 %actor% inv
%purge% %actor.inventory(7900)%
else
%send% %actor% You dont have enough +5ac scrolls to combine.
end
else
return 0
end

>[0;00m
Name: 'combine +1hp scrolls',  VNum: [ 7981], RNum: [  449]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: combine
Commands:
* By Hurin - so probably a better way to do it
if %cmd% == combine && %arg% /= 1hp && %actor.inventory(7981)%
set num_7981 0
set i %actor.inventory%
while %i%
if %i.vnum% == 7981
eval num_7981 %num_7981% + 1
set next %i.next_in_list%
else
set next %i.next_in_list%
end
set i %next%
done
if %num_7981% > 4
%send% %actor% You combine the five +1hp scrolls.
%purge% %actor.inventory(7981)%
%purge% %actor.inventory(7981)%
%purge% %actor.inventory(7981)%
%purge% %actor.inventory(7981)%
%purge% %actor.inventory(7981)%
%load% obj 7982 %actor% inv
%purge% %actor.inventory(7900)%
else
%send% %actor% You dont have enough +1hp scrolls to combine.
end
else
return 0
end

>[0;00m
[0mCHECKING: 7982[0m
[0mCHECKING: 7984[0m

Name: 'combine +5hp scrolls',  VNum: [ 7982], RNum: [  450]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: combine
Commands:
* By Hurin - so probably a better way to do it
if %cmd% == combine && %arg% /= 5hp && %actor.inventory(7982)%
set num_7982 0
set i %actor.inventory%
while %i%
if %i.vnum% == 7982
eval num_7982 %num_7982% + 1
set next %i.next_in_list%
else
set next %i.next_in_list%
end
set i %next%
done
if %num_7982% > 4
%send% %actor% You combine the five +5hp scrolls.
%purge% %actor.inventory(7982)%
%purge% %actor.inventory(7982)%
%purge% %actor.inventory(7982)%
%purge% %actor.inventory(7982)%
%purge% %actor.inventory(7982)%
%load% obj 7983 %actor% inv
%purge% %actor.inventory(7900)%
else
%send% %actor% You dont have enough +5hp scrolls to combine.
end
else
return 0
end

>[0;00m
Name: 'combine +1mana scrolls',  VNum: [ 7984], RNum: [  451]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: combine
Commands:
* By Hurin - so probably a better way to do it
if %cmd% == combine && %arg% /= 1mana && %actor.inventory(7984)%
set num_7984 0
set i %actor.inventory%
while %i%
if %i.vnum% == 7984
eval num_7984 %num_7984% + 1
set next %i.next_in_list%
else
set next %i.next_in_list%
end
set i %next%
done
if %num_7984% > 4
%send% %actor% You combine the five +1mana scrolls.
%purge% %actor.inventory(7984)%
%purge% %actor.inventory(7984)%
%purge% %actor.inventory(7984)%
%purge% %actor.inventory(7984)%
%purge% %actor.inventory(7984)%
%load% obj 7985 %actor% inv
%purge% %actor.inventory(7900)%
else
%send% %actor% You dont have enough +1mana scrolls to combine.
end
else
return 0
end

>[0;00m
[0mCHECKING: 7985[0m

Name: 'combine +5mana scrolls',  VNum: [ 7985], RNum: [  452]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: combine
Commands:
* By Hurin - so probably a better way to do it
if %cmd% == combine && %arg% /= 5mana && %actor.inventory(7985)%
set num_7985 0
set i %actor.inventory%
while %i%
if %i.vnum% == 7985
eval num_7985 %num_7985% + 1
set next %i.next_in_list%
else
set next %i.next_in_list%
end
set i %next%
done
if %num_7985% > 4
%send% %actor% You combine the five +5mana scrolls.
%purge% %actor.inventory(7985)%
%purge% %actor.inventory(7985)%
%purge% %actor.inventory(7985)%
%purge% %actor.inventory(7985)%
%purge% %actor.inventory(7985)%
%load% obj 7986 %actor% inv
%purge% %actor.inventory(7900)%
else
%send% %actor% You dont have enough +5mana scrolls to combine.
end
else
return 0
end

>[0;00m
[0mCHECKING: 7987[0m

Name: 'combine +1move scrolls',  VNum: [ 7987], RNum: [  453]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: combine
Commands:
* By Hurin - so probably a better way to do it
if %cmd% == combine && %arg% /= 1move && %actor.inventory(7987)%
set num_7987 0
set i %actor.inventory%
while %i%
if %i.vnum% == 7987
eval num_7987 %num_7987% + 1
set next %i.next_in_list%
else
set next %i.next_in_list%
end
set i %next%
done
if %num_7987% > 4
%send% %actor% You combine the five +1move scrolls.
%purge% %actor.inventory(7987)%
%purge% %actor.inventory(7987)%
%purge% %actor.inventory(7987)%
%purge% %actor.inventory(7987)%
%purge% %actor.inventory(7987)%
%load% obj 7988 %actor% inv
%purge% %actor.inventory(7900)%
else
%send% %actor% You dont have enough +1move scrolls to combine.
end
else
return 0
end

>[0;00m
[0mCHECKING: 7988[0m

Name: 'combine +5move scrolls',  VNum: [ 7988], RNum: [  454]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: combine
Commands:
* By Hurin - so probably a better way to do it
if %cmd% == combine && %arg% /= 5move && %actor.inventory(7988)%
set num_7988 0
set i %actor.inventory%
while %i%
if %i.vnum% == 7988
eval num_7988 %num_7988% + 1
set next %i.next_in_list%
else
set next %i.next_in_list%
end
set i %next%
done
if %num_7988% > 4
%send% %actor% You combine the five +5move scrolls.
%purge% %actor.inventory(7988)%
%purge% %actor.inventory(7988)%
%purge% %actor.inventory(7988)%
%purge% %actor.inventory(7988)%
%purge% %actor.inventory(7988)%
%load% obj 7989 %actor% inv
%purge% %actor.inventory(7900)%
else
%send% %actor% You dont have enough +5move scrolls to combine.
end
else
return 0
end

>[0;00m
[0mCHECKING: 7990[0m
[0mCHECKING: 7991[0m

Name: 'make perma pfe',  VNum: [ 7990], RNum: [  455]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: make
Commands:
if %cmd% == make && %arg% /= perma pfe scroll
 if %actor.inventory(7920)% && %actor.inventory(7921)% && %actor.inventory(7922)%
    %send% %actor% You carefully line up all the pieces of the scroll to complete a 4th of July Scroll!
        %load% obj 7990 %actor% inv
        %purge% %actor.inventory(7920)%
        %purge% %actor.inventory(7921)%
        %purge% %actor.inventory(7922)%
 else
  %send% %actor% You dont seem to have the right scroll pieces.
 end
else
return 0
end

>[0;00m
[0mCHECKING: 7992[0m

Name: 'make perma pfg',  VNum: [ 7991], RNum: [  456]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: make
Commands:
if %cmd% == make && %arg% /= perma pfg scroll
 if %actor.inventory(7923)% && %actor.inventory(7924)% && %actor.inventory(7925)%
    %send% %actor% You carefully line up all the pieces of the scroll to complete a 4th of July Scroll!
        %load% obj 7991 %actor% inv
        %purge% %actor.inventory(7923)%
        %purge% %actor.inventory(7924)%
        %purge% %actor.inventory(7925)%
 else
  %send% %actor% You dont seem to have the right scroll pieces.
 end
else
return 0
end

>[0;00m
Name: 'make perma detect invisibility',  VNum: [ 7992], RNum: [  457]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: make
Commands:
if %cmd% == make && %arg% /= perma detect invisibility scroll
 if %actor.inventory(7926)% && %actor.inventory(7927)% && %actor.inventory(7928)%
    %send% %actor% You carefully line up all the pieces of the scroll to complete a 4th of July Scroll!
        %load% obj 7992 %actor% inv
        %purge% %actor.inventory(7926)%
        %purge% %actor.inventory(7927)%
        %purge% %actor.inventory(7928)%
 else
  %send% %actor% You dont seem to have the right scroll pieces.
 end
else
return 0
end

>[0;00m
[0mCHECKING: 7993[0m

Name: 'make perma infravision',  VNum: [ 7993], RNum: [  458]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: make
Commands:
if %cmd% == make && %arg% /= perma infravision scroll
 if %actor.inventory(7929)% && %actor.inventory(7930)% && %actor.inventory(7931)%
    %send% %actor% You carefully line up all the pieces of the scroll to complete a 4th of July Scroll!
        %load% obj 7993 %actor% inv
        %purge% %actor.inventory(7929)%
        %purge% %actor.inventory(7930)%
        %purge% %actor.inventory(7931)%
else
  %send% %actor% You dont seem to have the right scroll pieces.
 end
else
return 0
end

>[0;00m
[0mCHECKING: 7994[0m

Name: 'make perma bless scroll',  VNum: [ 7994], RNum: [  459]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: make
Commands:
if %cmd% == make && %arg% /= perma bless scroll
 if %actor.inventory(7932)% && %actor.inventory(7933)% && %actor.inventory(7934)%
    %send% %actor% You carefully line up all the pieces of the scroll to complete a 4th of July Scroll!
        %load% obj 7994 %actor% inv
        %purge% %actor.inventory(7932)%
        %purge% %actor.inventory(7933)%
        %purge% %actor.inventory(7934)%
 else
  %send% %actor% You dont seem to have the right scroll pieces.
 end
else
return 0
end

>[0;00m
[0mCHECKING: 7995[0m

Name: 'make perma aid scroll',  VNum: [ 7995], RNum: [  460]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: make
Commands:
if %cmd% == make && %arg% /= perma aid scroll
 if %actor.inventory(7935)% && %actor.inventory(7936)% && %actor.inventory(7937)%
    %send% %actor% You carefully line up all the pieces of the scroll to complete a 4th of July Scroll!
        %load% obj 7995 %actor% inv
        %purge% %actor.inventory(7935)%
        %purge% %actor.inventory(7936)%
        %purge% %actor.inventory(7937)%
 else
  %send% %actor% You dont seem to have the right scroll pieces.
 end
else
return 0
end

>[0;00m
[0mCHECKING: 7996[0m

Name: 'make perma armor scroll',  VNum: [ 7996], RNum: [  461]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: make
Commands:
if %cmd% == make && %arg% /= perma armor scroll
 if %actor.inventory(7938)% && %actor.inventory(7939)% && %actor.inventory(7940)%
    %send% %actor% You carefully line up all the pieces of the scroll to complete a 4th of July Scroll!
        %load% obj 7996 %actor% inv
        %purge% %actor.inventory(7938)%
        %purge% %actor.inventory(7939)%
        %purge% %actor.inventory(7940)%
 else
  %send% %actor% You dont seem to have the right scroll pieces.
 end
else
return 0
end

>[0;00m
[0mCHECKING: 7997[0m
[0mCHECKING: 7998[0m

Name: 'make perma stone skin scroll',  VNum: [ 7997], RNum: [  462]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: make
Commands:
if %cmd% == make && %arg% /= perma stone skin scroll
if %actor.inventory(7941)% && %actor.inventory(7942)% && %actor.inventory(7943)%
    %send% %actor% You carefully line up all the pieces of the scroll to complete a 4th of July Scroll!
        %load% obj 7997 %actor% inv
        %purge% %actor.inventory(7941)%
        %purge% %actor.inventory(7942)%
        %purge% %actor.inventory(7943)%
 else
  %send% %actor% You dont seem to have the right scroll pieces.
 end
else
return 0
end

>[0;00m
[0mCHECKING: 7999[0m

Name: 'make perma regeneration scroll',  VNum: [ 7998], RNum: [  463]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: make
Commands:
if %cmd% == make && %arg% /= perma regeneration scroll
 if %actor.inventory(7944)% && %actor.inventory(7945)% && %actor.inventory(7946)%
    %send% %actor% You carefully line up all the pieces of the scroll to complete a 4th of July Scroll!
        %load% obj 7998 %actor% inv
        %purge% %actor.inventory(7944)%
        %purge% %actor.inventory(7945)%
        %purge% %actor.inventory(7946)%
 else
  %send% %actor% You dont seem to have the right scroll pieces.
 end
else
return 0
end

>[0;00m
[0mCHECKING: 8100[0m

Name: 'make perma invisibility scroll',  VNum: [ 7999], RNum: [  464]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: make
Commands:
if %cmd% == make && %arg% /= perma invisibility scroll
 if %actor.inventory(7947)% && %actor.inventory(7948)% && %actor.inventory(7949)%
    %send% %actor% You carefully line up all the pieces of the scroll to complete a 4th of July Scroll!
        %load% obj 7999 %actor% inv
        %purge% %actor.inventory(7947)%
        %purge% %actor.inventory(7948)%
        %purge% %actor.inventory(7949)%
 else
  %send% %actor% You dont seem to have the right scroll pieces.
 end
else
return 0
end

>[0;00m
[0mCHECKING: 8101[0m

Name: 'random attach 8299 NOT accounced',  VNum: [ 8100], RNum: [  465]
Trigger Intended Assignment: Mobiles
Trigger Type: Load , Numeric Arg: 100, Arg list: None
Commands:
end
end
end
done
%teleport% %self% 8100
set i 0
while %i% < 1
set num %random.25499%
if (%num.vnum% > 300 && ((%num.vnum% < 23600) || (%num.vnum% > 23999)))
if %num.people%
%teleport% %self% %num%
if %self.room.vnum(%num%)%
set char %random.char%
if !%char.is_pc%
attach 8299 %char.id%
*Gossip %char.name% must die!
eval i %i% + 1
end
end
end
end
done
%teleport% %self% 8100

>[0;00m
Name: 'drop christmas parts on death',  VNum: [ 8101], RNum: [  466]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
eval currentroom %self.room.vnum(%num%)%
mgoto 8100
%purge% cheer
eval anumber %random.100%
mgoto %currentroom%
if %anumber% < 10  
%load% obj 8129   *+1 minute access pass
elseif %anumber% < 16 
%load% obj 8106  *a ripped piece of cardstock
elseif %anumber% < 21 
%load% obj 8107  *a ripped piece of cardstock
elseif %anumber% < 26
%load% obj 8108  *a ripped piece of cardstock
elseif %anumber% < 31
%load% obj 8109  *a ripped piece of cardstock
elseif %anumber% < 36
%load% obj 8110  *a ripped piece of cardstock
elseif %anumber% < 41
%load% obj 8113  *a ripped piece of paper
elseif %anumber% < 46
%load% obj 8114  *a ripped piece of paper
elseif %anumber% < 51
%load% obj 8115  *a ripped piece of paper
elseif %anumber% < 56
%load% obj 8116  *a ripped piece of paper
elseif %anumber% < 61
%load% obj 8117  *a ripped piece of paper
elseif %anumber% < 66
%load% obj 8130  *+5 minute access pass
elseif %anumber% < 70
%load% obj 8119  *a piece of old halloween candy
elseif %anumber% < 71
%load% mob 8101
%echo% An elf comes running into the room looking for work to do...
elseif %anumber% < 74
%load% mob 8102
%echo% An elf comes running into the room looking for work to do...
elseif %anumber% < 76
%load% obj 8131   * +10 minute access pass
elseif %anumber% == 78
%load% obj 8101  *cha wish
elseif %anumber% == 80
%load% obj 8102  *dex wish
elseif %anumber% == 82
%load% obj 8103  *1int wish
elseif %anumber% == 84
%load% obj 8104  *1str wish
elseif %anumber% == 86
%load% obj 8105  *1wis wish
elseif %anumber% < 88
%load% obj 17932 *1 qp token
elseif %anumber% < 90
%load% obj 17933  *5 qp token
elseif %anumber% < 91
%load% obj 17934  *10 qp token
elseif %anumber% < 92
%load% obj 8574   *a lump of coal
elseif %anumber% < 95
%load% obj 875    *snowball
elseif %anumber% < 96
eval bnumber %random.5%
if %bnumber% < 2
%load% obj 8101
else
%load% obj 8574
end
elseif %anumber% < 97
%load% obj 8119  *a piece of old halloween candy
elseif %anumber% < 98
%load% obj 8119  *a piece of old halloween candy
elseif %anumber% < 99
%load% obj 8129 +1 minute access pass
else
%load% obj 25447
end
drop all
%echo% %self.name% drops something before taking their last breath.

>[0;00m
[0mCHECKING: 8102[0m

Name: 'to load cheer',  VNum: [ 8102], RNum: [  467]
Trigger Intended Assignment: Mobiles
Trigger Type: Load , Numeric Arg: 100, Arg list: None
Commands:
eval 8100_count %findmob.8100(8100)%
%echo% there are %8100_count%
if %8100_count% == 30
break
elseif %8100_count% < 30
eval cheer_needs 30 - %8100_count%
%echo% need to load %cheer_needs%
    while (%cheer_needs)>0)
       %load% m 8100
      eval cheer_needs %cheer_needs%-1
     done
end

>[0;00m
[0mCHECKING: 8103[0m
[0mCHECKING: 8104[0m

Name: 'elf random teleport',  VNum: [ 8103], RNum: [  468]
Trigger Intended Assignment: Mobiles
Trigger Type: Global Random Load , Numeric Arg: 50, Arg list: None
Commands:
set num %random.25499%
if (%num.vnum% > 300 && ((%num.vnum% < 23600) || (%num.vnum% > 23999)))
emote runs off to find more work to do.
%teleport% %self% %num%
else
break
end

>[0;00m
Name: 'elf drop christmast parts death',  VNum: [ 8104], RNum: [  469]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
eval anumber %random.100%
if %anumber% < 15
%load% obj 17932 *a bronze 1-point Quest Token
elseif %anumber% < 30
%load% obj 8148 *A magical 2018 +1move Christmas Ornament
elseif %anumber% < 40
%load% obj 8144 *A magical 2018 +1mana Christmas Ornament
elseif %anumber% < 50
%load% obj 8140 *A magical 2018 +1hp Christmas Ornament
elseif %anumber% < 60
%load% mob 8105
%echo% Santa enters the room looking for his elf..
elseif %anumber% < 70
%load% obj 8129 *+1 minute access pass
elseif %anumber% < 75
%load% obj 8135 *A fiery yule log
elseif %anumber% < 80
%load% obj 875 *a snowball carved from the corpse of Frosty the Snowman 
elseif %anumber% < 82
%load% obj 8137 *Froboz's New and Improved Liquid Nitrogen
elseif %anumber% < 84
%load% obj 8100 *a 2018 Christmas Wish +con
elseif %anumber% < 85
%load% obj 8138 *A small magical jewelers kit
elseif %anumber% < 86
%load% obj 8139 *A small magical hammer
elseif %anumber% < 89
%load% obj 8136 *A small blank, clay mold
elseif %anumber% < 94
%load% obj 25447 *a sprig of mistletoe
elseif %anumber% < 97
%load% obj 8119  *a piece of old halloween candy
else
%echo% With his dying breath the elf puts you on the naughty list!
end
drop all

>[0;00m
[0mCHECKING: 8108[0m

Name: 'frost recbomines',  VNum: [ 8108], RNum: [  470]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 100, Arg list: None
Commands:
wait 2
if %findmob.8101(8108)% && %findmob.8101(8109)% && %findmob.8101(8110)%
%purge% smallballsnow
%purge% mediumballsnow
%purge% bigballsnow
%echo% Some magic force causes all of the balls of snow to combine to form Frosty!
%load% mob 8197
%force% frosty gossip let's run, And we'll have some fun, before I melt away
end

>[0;00m
[0mCHECKING: 8109[0m

Name: 'room connection',  VNum: [ 8109], RNum: [  471]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
wait 1
%echo% Fierce wind and blowing snow obscures your vision, which way did you just come from?
%door% %self.vnum% northeast purge
%door% %self.vnum% southeast purge
%door% %self.vnum% southwest purge
%door% %self.vnum% east purge
eval current_room 8101 + %random.20%
%door% %self.vnum% east room %current_room%
eval anumber %random.100%
if %anumber% < 5
%door% %self.vnum% northeast room 8131
elseif %anumber% < 10
%door% %self.vnum% northwest room 8136 
elseif %anumber% < 15
%door% %self.vnum% southeast room 8126
elseif %anumber% < 20
%door% %self.vnum% southwest room 8137
end
end

>[0;00m
[0mCHECKING: 8110[0m

Name: 'ice cave room connection',  VNum: [ 8110], RNum: [  472]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
if %findmob.8138(8138)%
else
%load% mob 8138
end
wait 1
%door% 8138 northeast purge
wait 1
eval anumber %random.100%
if %anumber% < 50
%door% 8138 northeast room 8139
%echo% A huge piece of ice crashes into the ground narrowly missing you!
end
end

>[0;00m
[0mCHECKING: 8111[0m

Name: 'purge exit ice cave',  VNum: [ 8111], RNum: [  473]
Trigger Intended Assignment: Rooms
Trigger Type: Leave , Numeric Arg: 100, Arg list: None
Commands:
wait 1
%door% 8138 northeast purge

>[0;00m
[0mCHECKING: 8112[0m

Name: 'combine and tape gauntlet ticket',  VNum: [ 8112], RNum: [  474]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: tape
Commands:
if %cmd% == tape && %arg% /= ripped cardstock && %actor.inventory(8112)% 
 if %actor.inventory(8106)% && %actor.inventory(8107)% && %actor.inventory(8108)% && %actor.inventory(8109)% && %actor.inventory(8110)%
   %load% obj 8111 %actor% inv
   %purge% %actor.inventory(8106)%
   %purge% %actor.inventory(8107)%
   %purge% %actor.inventory(8108)%
   %purge% %actor.inventory(8109)%
   %purge% %actor.inventory(8110)%
   %send% %actor% You carefully line up all the ripped up pieces and tape them all together.
   %purge% %actor.inventory(8112)%
else
%send% %actor% You dont seem to have all the pieces
  end
else
return 0
end

>[0;00m
[0mCHECKING: 8113[0m

Name: 'combine and tape raffle clue',  VNum: [ 8113], RNum: [  475]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: tape
Commands:
if %cmd% == tape && %arg% /= ripped paper && %actor.inventory(8134)%
 if %actor.inventory(8113)% && %actor.inventory(8114)% && %actor.inventory(8115)% && %actor.inventory(8116)% && %actor.inventory(8117)%
   %load% obj 8118 %actor% inv
%purge% %actor.inventory(8113)%
%purge% %actor.inventory(8114)%
%purge% %actor.inventory(8115)%
%purge% %actor.inventory(8116)%
%purge% %actor.inventory(8117)%
   %send% %actor% You carefully line up all the ripped up pieces and tape them all together.
%purge% %actor.inventory(8134)%
end
else
%send% %actor% You dont seem to have all the pieces
end

>[0;00m
[0mCHECKING: 8119[0m
[0mCHECKING: 8120[0m

Name: 'unwrap old halloween candy',  VNum: [ 8119], RNum: [  476]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: unwrap
Commands:
if %cmd% == unwrap && %arg% /= candy
%send% %actor% You unwrap the candy, and junk the wrapper.
%echoaround% %actor% %actor.name% unwraps a piece of old halloween candy and junks the wrapper.
eval anumber %random.100%
if %anumber% < 15
%load% obj 8126 %actor% inv
elseif %anumber% < 30
%load% obj 8127 %actor% inv
elseif %anumber% < 45
%load% obj 8128 %actor% inv
elseif %anumber% < 55
%load% obj 8125 %actor% inv *halloween candy - Orb   
elseif %anumber% < 65
%load% obj 8124 %actor% inv *halloween candy - sanc
elseif %anumber% < 75
%load% obj 8120 %actor% inv *candy - 25% bonus to xp
elseif %anumber% < 82
%load% obj 8121 %actor% inv *candy - 50% bonus to xp
elseif %anumber% < 85
%load% obj 8122 %actor% inv *candy - 75% bonus to xp
elseif %anumber% < 86
%load% obj 8123 %actor% inv *candy - 100% bonus to xp
else
%load% obj 403 %actor% inv *candy bar
end
%purge% %actor.inventory(8119)%
else
return 0
end

>[0;00m
[0mCHECKING: 8195[0m

Name: 'purge candy on timer end',  VNum: [ 8120], RNum: [  477]
Trigger Intended Assignment: Objects
Trigger Type: Timer , Numeric Arg: 100, Arg list: None
Commands:
* By Hurin - so probably a better way to do it
* This gets rid of the chocolate after the timer is done.
%echo% The chocolate melts away, and nothing is left....
%purge% %self%

>[0;00m
Name: 'purge exit to ice cavern',  VNum: [ 8195], RNum: [  478]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 100, Arg list: None
Commands:
wait 1
%door% 8138 northeast purge

>[0;00m
[0mCHECKING: 8196[0m

Name: 'ice cave infine connection',  VNum: [ 8196], RNum: [  479]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 100, Arg list: None
Commands:
* by Hurin so probably a better way to do it.
* this is meant to create an endless room with a chance for an exit to another room
if %actor.is_pc%
if %findmob.8138(8138)%
else
%load% mob 8138
end
wait 1
%door% 8138 northeast purge
wait 1
eval anumber %random.100%
if %anumber% < 50
%door% 8138 northeast room 8139
%echo% A huge piece of ice crashes into the ground narrowly missing you!
end
end

>[0;00m
[0mCHECKING: 8197[0m

Name: 'connect unique rooms wonderland',  VNum: [ 8197], RNum: [  480]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 100, Arg list: None
Commands:
* by Hurin so probably a better way to do it.
* creates exits to unique parts of winter wonderland 
if %actor.is_pc%
wait 1
%echo% Fierce wind and blowing snow obscures your vision, which way did you just come from?
%door% %self.vnum% northeast purge
%door% %self.vnum% southeast purge
%door% %self.vnum% southwest purge
%door% %self.vnum% northwest purge
%door% %self.vnum% east purge
eval current_room 8101 + %random.20%
%door% %self.vnum% east room %current_room%
eval anumber %random.100%
if %anumber% < 5
%door% %self.vnum% northeast room 8131
elseif %anumber% < 10
%door% %self.vnum% northwest room 8136 
elseif %anumber% < 15
%door% %self.vnum% southeast room 8126
elseif %anumber% < 20
%door% %self.vnum% southwest room 8137
end
end

>[0;00m
[0mCHECKING: 8198[0m

Name: 'buddy unlocks door for you',  VNum: [ 8198], RNum: [  481]
Trigger Intended Assignment: Mobiles
Trigger Type: Speech , Numeric Arg: 100, Arg list: unlock
Commands:
wait 2
if %speech% == unlock north please
%door% 8126 north room 8127
%echo% Buddy the elf unlocks the door to the north, then skips off singing.
%purge% %self%
elseif %speech% == unlock east please
%door% 8126 east room 8129
%echo% Buddy the elf unlocks the door to the east, then skips off singing.
%purge% %self%
elseif %speech% == unlock northeast please
%door% 8126 northeast room 8128
%echo% Buddy the elf unlocks the door, then skips off singing.
%purge% %self%
elseif %speech% == unlock southeast please
%door% 8126 southeast room 8130
%echo% Buddy the elf unlocks the door, then skips off singing.
%purge% %self%
else
say "The best way to spread Christmas cheer is sing loud, for all to hear."
end

>[0;00m
[0mCHECKING: 8199[0m

Name: 'worshop door purge',  VNum: [ 8199], RNum: [  482]
Trigger Intended Assignment: Rooms
Trigger Type: Leave , Numeric Arg: 100, Arg list: None
Commands:
wait 2
%door% 8126 north purge
%door% 8126 northeast purge
%door% 8126 east purge
%door% 8126 southeast purge

>[0;00m
[0mCHECKING: 8200[0m

Name: 'random attach 8299 Announced',  VNum: [ 8200], RNum: [  483]
Trigger Intended Assignment: Mobiles
Trigger Type: Load , Numeric Arg: 100, Arg list: None
Commands:
set i 0
while %i% < 1
set num %random.25499%
if (%num.vnum% > 300 && ((%num.vnum% < 23600) || (%num.vnum% > 23999)))
if %num.people%
%teleport% %self% %num%
if %self.room.vnum(%num%)%
set char %random.char%
if !%char.is_pc%
attach 8299 %char.id%
Gossip %char.name% must die!
eval i %i% + 1
end
end
end
end
done
%purge% %self%

>[0;00m
[0mCHECKING: 8201[0m
[0mCHECKING: 8202[0m

Name: 'new trigger',  VNum: [ 8201], RNum: [  484]
Trigger Intended Assignment: Mobiles
Trigger Type: Global Random Load , Numeric Arg: 50, Arg list: None
Commands:
%purge% %self%



Name: 'random stat generator mask',  VNum: [ 8202], RNum: [  485]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: makestats
Commands:
*by Hurin, so probably a better way to do it
*loop1 all positives values
eval anumber %random.100%
if %anumber% < 100
*loop1a
eval bnumber %random.100% 
if %bnumber% == 1
nop %self.oset(apply damroll 1)%
elseif %bnumber% == 2
nop %self.oset(apply str 1)%
elseif %bnumber% == 3
nop %self.oset(apply EXP 5)%
elseif %bnumber% < 10
nop %self.oset(apply HIT 5)%
elseif %bnumber% < 20
nop %self.oset(apply mana 5)%
elseif %bnumber% < 30
nop %self.oset(apply move 5)%
elseif %bnumber% < 40
nop %self.oset(apply int 1)%
elseif %bnumber% < 50
nop %self.oset(apply wis 1)%
elseif %bnumber% < 60
nop %self.oset(apply con 1)%
elseif %bnumber% < 70
nop %self.oset(apply charisma 1)%
elseif %bnumber% < 75
nop %self.oset(apply HIT 20)%
nop %self.oset(apply str 1)%
nop %self.oset(apply int 1)%
break
elseif %bnumber% < 80
nop %self.oset(apply align -1)%
elseif %bnumber% < 85
nop %self.oset(apply MANA 20)%
nop %self.oset(apply str 1)%
nop %self.oset(apply wis 1)%
break
elseif %bnumber% < 90
nop %self.oset(apply MANA 20)%
nop %self.oset(apply str 1)%
nop %self.oset(apply int 1)%
break
elseif %bnumber% < 95
nop %self.oset(apply move 30)%
nop %self.oset(apply str 1)%
nop %self.oset(apply dex 1)%
break
else
nop %self.oset(apply HIT 20)%
nop %self.oset(apply str 1)%
nop %self.oset(apply dex 1)%
break
end
else
*loop1b not really enabled
eval bnumber %random.100% 
if %bnumber% < 5
eval cnumber %random.100%
if %cnumber% < 60
nop %self.oset(apply damroll 1)%
else
nop %self.oset(apply damroll -1)%
end
elseif %bnumber% < 10
eval cnumber %random.100%
if %cnumber% < 60
nop %self.oset(apply str 1)%
else
nop %self.oset(apply str -1)%
end
elseif %bnumber% < 15
eval cnumber %random.100%
if %cnumber% < 60
nop %self.oset(apply EXP 5)%
else
nop %self.oset(apply EXP -5)%
end
elseif %bnumber% < 40
eval cnumber %random.100%
if %cnumber% < 50
nop %self.oset(apply HIT 5)%
else
nop %self.oset(apply HIT -5)%
end
elseif %bnumber% < 50
eval cnumber %random.100%
if %cnumber% < 50
nop %self.oset(apply mana 5)%
else
nop %self.oset(apply mana -5)%
end
elseif %bnumber% < 60
eval cnumber %random.100%
if %cnumber% < 50
nop %self.oset(apply move 5)%
else
nop %self.oset(apply move -5)%
end
elseif %bnumber% < 70
eval cnumber %random.100%
if %cnumber% < 60
nop %self.oset(apply int 1)%
else
nop %self.oset(apply int -1)%
end
elseif %bnumber% < 80
eval cnumber %random.100%
if %cnumber% < 60
nop %self.oset(apply wis 1)%
else
nop %self.oset(apply wis -1)%
end
elseif %bnumber% < 90
eval cnumber %random.100%
if %cnumber% < 60
nop %self.oset(apply con 1)%
else
nop %self.oset(apply con -1)%
end
elseif %bnumber% < 100
eval cnumber %random.100%
if %cnumber% < 60
nop %self.oset(apply charisma 1)%
else
nop %self.oset(apply charisma -1)%
end
else
eval cnumber %random.100%
if %cnumber% < 60
nop %self.oset(apply alignment 1)%
else
nop %self.oset(apply alignment -1)%
end
end
end
*loop 2
eval bnumber %random.100% 
if %bnumber% == 1
eval cnumber %random.100%
if %cnumber% < 40
nop %self.oset(apply damroll 1)%
else
nop %self.oset(apply damroll -1)%
end
elseif %bnumber% < 3
eval cnumber %random.100%
if %cnumber% < 40
nop %self.oset(apply str 1)%
else
nop %self.oset(apply str -1)%
end
elseif %bnumber% < 4
eval cnumber %random.100%
if %cnumber% < 30
nop %self.oset(apply EXP 5)%
else
nop %self.oset(apply EXP -5)%
end
elseif %bnumber% < 30
eval cnumber %random.100%
if %cnumber% < 50
nop %self.oset(apply HIT 5)%
else
nop %self.oset(apply HIT -5)%
end
elseif %bnumber% < 40
eval cnumber %random.100%
if %cnumber% < 50
nop %self.oset(apply mana 5)%
else
nop %self.oset(apply mana -5)%
end
elseif %bnumber% < 50
eval cnumber %random.100%
if %cnumber% < 50
nop %self.oset(apply move 5)%
else
nop %self.oset(apply move -5)%
end
elseif %bnumber% < 60
eval cnumber %random.100%
if %cnumber% < 70
nop %self.oset(apply int 1)%
else
nop %self.oset(apply int -1)%
end
elseif %bnumber% < 70
eval cnumber %random.100%
if %cnumber% < 70
nop %self.oset(apply wis 1)%
else
nop %self.oset(apply wis -1)%
end
elseif %bnumber% < 80
eval cnumber %random.100%
if %cnumber% < 70
nop %self.oset(apply con 1)%
else
nop %self.oset(apply con -1)%
end
elseif %bnumber% < 90
eval cnumber %random.100%
if %cnumber% < 70
nop %self.oset(apply charisma 1)%
else
nop %self.oset(apply charisma -1)%
end
else
eval cnumber %random.100%
if %cnumber% < 50
nop %self.oset(apply str 1)%
else
nop %self.oset(apply str -1)%
end
end
*loop 3
eval bnumber %random.100% 
if %bnumber% == 1
eval cnumber %random.100%
if %cnumber% < 50
nop %self.oset(apply damroll 1)%
else
nop %self.oset(apply damroll -1)%
end
elseif %bnumber% < 3
eval cnumber %random.100%
if %cnumber% < 50
nop %self.oset(apply str 1)%
else
nop %self.oset(apply str -1)%
end
elseif %bnumber% < 4
eval cnumber %random.100%
if %cnumber% < 50
nop %self.oset(apply EXP 5)%
else
nop %self.oset(apply EXP -5)%
end
elseif %bnumber% < 30
eval cnumber %random.100%
if %cnumber% < 50
nop %self.oset(apply mana 5)%
else
nop %self.oset(apply mana -5)%
end
elseif %bnumber% < 40
eval cnumber %random.100%
if %cnumber% < 50
nop %self.oset(apply hit 5)%
else
nop %self.oset(apply hit -5)%
end
elseif %bnumber% < 50
eval cnumber %random.100%
if %cnumber% < 50
nop %self.oset(apply move 5)%
else
nop %self.oset(apply move -5)%
end
elseif %bnumber% < 60
eval cnumber %random.100%
if %cnumber% < 70
nop %self.oset(apply int 1)%
else
nop %self.oset(apply int -1)%
end
elseif %bnumber% < 70
eval cnumber %random.100%
if %cnumber% < 70
nop %self.oset(apply wis 1)%
else
nop %self.oset(apply wis -1)%
end
elseif %bnumber% < 80
eval cnumber %random.100%
if %cnumber% < 70
nop %self.oset(apply con 1)%
else
nop %self.oset(apply con -1)%
end
elseif %bnumber% < 90
eval cnumber %random.100%
if %cnumber% < 70
nop %self.oset(apply charisma 1)%
else
nop %self.oset(apply charisma -1)%
end
else
eval cnumber %random.100%
if %cnumber% < 70
nop %self.oset(apply wis 1)%
else
nop %self.oset(apply wis -1)%
end
end
*not used set mask_uniqueid %self.uniqueid%
*not used remote mask_uniqueid %actor.id%




Name: 'Not used mask change',  VNum: [ 8203], RNum: [  486]
Trigger Intended Assignment: Objects
Trigger Type: Timer , Numeric Arg: 100, Arg list: None
Commands:
* by hurin so probably a better way to do it
* especially since this isnt working right
* the unique id on transform doesnt properly apply ends up being -1
*not sure if this is because the length of it or what
*on purge check who is carrying it or wearing it and remove variable
if %self.worn_by%
eval actorid %self.worn_by%
%echo% actorid wearing this is %self.worn_by%
%echo% %actorid.mask_uniqueid%
if %actorid.varexists(mask_uniqueid)%
rdelete mask_uniqueid %actorid.id%
%echo% Its about time to stop using this mask.
%load% obj 8202 %actorid% inv
%purge% %self%
else
%transform% 8202
%echo% i transformed but didnt remove the variable on who is wearing me
end
elseif %self.carried_by%
eval actorid %self.carried_by%
%echo% actorid carrying this is %self.carried_by%
%echo% %actorid.mask_uniqueid%
if %actorid.varexists(mask_uniqueid)%
rdelete mask_uniqueid %actorid.id%
%echo% Its about time to stop using this mask.
%load% obj 17933 %actorid% inv
%purge% %self%
else
%transform% 8202
%echo% i transformed but didnt remove the variable on who is carrying me
end
else
%transform% 8202
%echo% i transformed as a last resort
end


[0mCHECKING: #8204[0m
[0mCHECKING: 8205[0m
That vnum does not exist.

>[0;00m
Name: 'mask transforms',  VNum: [ 8205], RNum: [  488]
Trigger Intended Assignment: Objects
Trigger Type: Timer , Numeric Arg: 100, Arg list: None
Commands:
* By hurin so probably a better way to do it
 eval actorid %self.carried_by%
%load% obj 8202 %actorid% inv
%purge% %self%

>[0;00m
[0mCHECKING: 8206[0m

Name: 'mask timer ends',  VNum: [ 8206], RNum: [  489]
Trigger Intended Assignment: Objects
Trigger Type: Timer , Numeric Arg: 100, Arg list: None
Commands:
nop %self.oset(apply damroll -50)%
nop %self.oset(apply move -5)%
nop %self.oset(apply EXP -5)%
nop %self.oset(apply alignment 5)%
nop %self.oset(apply str -10)%

>[0;00m
[0mCHECKING: 8207[0m

Name: 'new trigger',  VNum: [ 8207], RNum: [  490]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: checkmask
Commands:
if %obj.timer% < 1
%echo% time to get a new mask
elseif %obj.timer% > 600
%echo% there is along time left to use this mask
elseif %obj.timer% > 1
%echo% You might want to think about finding a new mask
end

>[0;00m
[0mCHECKING: 8298[0m

Name: 'on load goto room 8100',  VNum: [ 8298], RNum: [  491]
Trigger Intended Assignment: Mobiles
Trigger Type: Load , Numeric Arg: 100, Arg list: None
Commands:
%teleport% %self% 8100

>[0;00m
[0mCHECKING: 8299[0m

Name: 'droponDeath MemorialDay20',  VNum: [ 8299], RNum: [  492]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
* by hurin so probably a better way to do it
* this purge removes one mob from the load room
* ensures a limited number of active drop on death triggers
*in game at once.
eval currentroom %self.room.vnum(%num%)%
mgoto 8100
%purge% randomquestmob
mgoto %currentroom%
*
*now lets load some equipment on death
*
eval anumber %random.100%
if %anumber% < 10
eval bnumber %random.100%
if %bnumber% < 5
%load% obj 25401 *a set of jasper tassets 
elseif %bnumber% < 10
%load% obj 25402 *a set of sodalite tassets
elseif %bnumber% < 15
%load% obj 25357 *a ring of the druid
elseif %bnumber% < 20
%load% obj 25406 *a skull-shaped onyx lantern
elseif %bnumber% < 25
%load% obj 25407 *a rock with a blue aura                  
elseif %bnumber% < 30
%load% obj 25408 *a rock with a violet aura
elseif %bnumber% < 35
%load% obj 25409 *a rock with a red aura
elseif %bnumber% < 40
%load% obj 25416 *a rock with a green aura
elseif %bnumber% < 45
%load% obj 25417 *a rock with a golden aura
elseif %bnumber% < 50
%load% obj 25418 *a rock with a silvery aura
elseif %bnumber% < 60 *demi and a god item
eval cnumber %random.10%
if %cnumber% == 1
%load% obj 25493 *a mithril-plated mesh belt
elseif %cnumber% == 2
%load% obj 25420 *a carved bloodstone ring
elseif %cnumber% == 3
%load% obj 25496 *a bronze eagle-crested shield
elseif %cnumber% == 4
%load% obj 11119 *a ring of focus
elseif %cnumber% == 5
%load% obj 18441 *a pair of lapis lazuli earrings
else
%load% obj 17932 *1 qp token
end
else
%load% obj 17932 *1 qp token          
end
elseif %anumber% < 30
%load% obj 17932 *1 qp token
elseif %anumber% < 35
%load% obj 17933  *5 qp token
elseif %anumber% < 38
%load% obj 17934  *10 qp token
elseif %anumber% == 39
eval bnumber %random.10%
if %bnumber% == 1
%load% obj 25330  *a tanzanite sphere
elseif %bnumber% == 2
%load% obj 25331  *a tigereye sphere
elseif %bnumber% == 3
%load% obj 25332  *a garnet sphere
elseif %bnumber% == 4
%load% obj 25333  *a malachite sphere
elseif %bnumber% == 5
%load% obj 25334  *an onyx sphere
elseif %bnumber% == 6
%load% obj 25335  *a turquoise sphere
else
%load% obj 8119  *a piece of old halloween candy
end
elseif %anumber% == 40
eval cnumber %random.10%
if %cnumber% < 5
%load% obj 25170 *int american flag
else
break
end
elseif %anumber% == 41
eval cnumber %random.10%
if %cnumber% < 5
%load% obj 25511 *wis american flag
else
break
end
elseif %anumber% == 42
eval cnumber %random.10%
if %cnumber% < 5
%load% obj 25510 *dex american flag
else
break
end
elseif %anumber% == 43
%load% obj  8299 *gauntlet ticket
else
break
end
drop all
%echo% %self.name% drops something before taking their last breath.

>[0;00m
[0mCHECKING: 8300[0m
[0mCHECKING: 8304[0m

Name: 'Vidar speech',  VNum: [ 8300], RNum: [  493]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
* By AP
if (%actor.is_pc%)
   wait 30 sec
   say "None may pass to these hallowed halls!"
   wait 30 sec
   say "I'll not let ye by, %actor.name%."
   wait 30 sec
   say "I guard this path with my life!"
end

>[0;00m
[0mCHECKING: 8305[0m

Name: 'Idun speech',  VNum: [ 8304], RNum: [  494]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
* By AP
if (%actor.is_pc%)
   wait 1 sec
   say "%actor.name%, you look so tired.  Rest here a bit."
   wait 30 sec
   say "Eat of mine fruit, and ye shall be free!"
   wait 30 sec
   say "Take solace in my abode, %actor.name%."
   wait 30 sec
   say "Seek enlightenment to reach the greatest height in Valhalla and the ruler of all." 
   wait 30 sec
   say "The way ye seek is down the vat and up through the ceiling."
   wait 40 sec
end

>[0;00m
[0mCHECKING: 8306[0m

Name: 'Magni speech',  VNum: [ 8305], RNum: [  495]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
* By AP
if (%actor.is_pc%)
   wait 1 sec
   say "What are you looking at?"
   wait 30 sec
   say "%actor.name%, you're a limp-wristed, pencil-necked geek!"
   wait 30 sec
   say "Hey %actor.name%, bet I can bench more than you..."
   wait 30 sec
   say "Check out my gleuts.... go on, touch 'em!"
   wait 30 sec
   say "Ahnold be damned, I AM THE GREATEST!"
   wait 40 sec
end

>[0;00m
[0mCHECKING: 8307[0m

Name: 'Bragi speech',  VNum: [ 8306], RNum: [  496]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 1 sec
   say "There once was a girl from Draysin..."
   wait 10 sec
   say "She washed all her clothes in a basin..."
   wait 10 sec
   say "The stains went away..."
   wait 10 sec
   say "But at the end of the day..."
   wait 10 sec
   say "Her hands were less smooth than a raisin!"
   wait 50 sec

>[0;00m
Name: 'Aegir speech',  VNum: [ 8307], RNum: [  497]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 1 sec
   %echo% Aegir mumbles "Needs more yeast."
   wait 20 sec
   say "Perhaps a touch more molasses?"
   wait 20 sec
   say "How come the bottom of my kettle looks so bright?"
   wait 20 sec
   %echo% Aegir shouts "Blast it!  Eldir, more wood for the fire!"
   wait 20 sec
   %echo% Aegir shouts "Fimafeng, the secret sauce, quickly now!"
   wait 50 sec

>[0;00m
[0mCHECKING: 8311[0m

Name: 'Balder speech',  VNum: [ 8311], RNum: [  498]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
* By AP
if (%actor.is_pc%)
   wait 1 sec
   say "Well %actor.name%, if it is enlightenment ye seek, I will brighten your day!"
   wait 30 sec
   say "Through my Hall is the way of the light!"
   wait 30 sec
   say "Come to the light.  I will relieve you of all your worries and bless you with sweet oblivion!"
   wait 30 sec
end

>[0;00m
[0mCHECKING: 8315[0m

Name: 'Tyr speech',  VNum: [ 8315], RNum: [  499]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 1 sec
   say "I'll get that mangy mutt one of these days!"
   wait 20 sec
   say "Still haven't gotten the hang of swinging a sword with my left hand."
   wait 20 sec
   say "The things I do for Odin!"
   wait 20 sec
   say "Don't worry, Odin said, we'll hold his mouth open!"
   wait 20 sec

>[0;00m
[0mCHECKING: 8316[0m

Name: 'Hel speech',  VNum: [ 8316], RNum: [  500]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
* By AP
if (%actor.is_pc%)
   wait 1 sec
   say "Come to me, my child.  Your time is at an end!"
   wait 20 sec
   say "There is no rush... All come to me in the end!"
   wait 20 sec
   say "Are you prepared for the afterlife, %actor.name%?"
   wait 20 sec
end

>[0;00m
[0mCHECKING: 8318[0m

Name: 'Thor speech',  VNum: [ 8318], RNum: [  501]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
* By AP
if (%actor.is_pc%)
   wait 1 sec
   %echo% Thor booms "So %actor.name%, you've come to play!"
   wait 25 sec
   say "no harm will come to you if you leave now!"
   wait 25 sec
end

>[0;00m
[0mCHECKING: 8339[0m
[0mCHECKING: 8400[0m

Name: 'Charlie Gordon speech',  VNum: [ 8339], RNum: [  502]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
* By AP
if (%actor.is_pc%)
   wait 1 sec
   say "There were 247 toothpicks in the box.... Definitely 247 toothpicks..."
   wait 20 sec
   say "I gotta see Fred about an eel, I wanna cook one for supper."
   wait 20 sec
   say "Almost time for Wapner!"
   wait 20 sec
   say "I live in a VAN!  Down by the RIVER!"
   wait 20 sec
   say "Hey %actor.name%.... You got a fat buttox."
   wait 20 sec
end

>[0;00m
[0mCHECKING: 8401[0m

Name: 'mob block spells',  VNum: [ 8400], RNum: [  503]
Trigger Intended Assignment: Mobiles
Trigger Type: Cast , Numeric Arg: 100, Arg list: None
Commands:
if %spellname% == word of death || %spellname% == slay || %spellname% == petrify || %spellname% == petrification || %spellname% == disintegrate || %spellname% == brain implosion
%echo% %self.name% is protected by a shield spell negating %spellname%
return 0
else
return 1
end

>[0;00m
[0mCHECKING: 8402[0m

Name: 'block grapple ',  VNum: [ 8401], RNum: [  504]
Trigger Intended Assignment: Mobiles
Trigger Type: UNDEFINED , Numeric Arg: 100, Arg list: gra
Commands:
if %cmd.mudcommand% == grapple
%echo% %self.name% stumbles away from the attempted grapple...
else
return 0
end

>[0;00m
Name: 'general xmas elf no clues',  VNum: [ 8402], RNum: [  505]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
xmas elf speech - Hurin
   wait 15 sec
%echo% The elf looks around in fright at your arrival.
   wait 10 sec
%echo% In a nervous voice, he begins to tell his horrible story. 
   wait 10 sec
%echo% "I swear, we told the Big Guy not to drink that crazy whiskey stuff!"
   wait 10 sec
%echo% But he swore that he could handle it," continues the pitiful elf.
   wait 10 sec
%echo% "After the third bottle, he just snapped!  First he killed ALL of the reindeer.;Then he went hunting for anything else he could find."
   wait 10 sec
%echo% "It is said that he is still trying to find the few elves that escaped.;I hope he does not find me."
   wait 10 sec

>[0;00m
[0mCHECKING: 8403[0m

Name: 'load coal on death attached to santa 8400',  VNum: [ 8403], RNum: [  506]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 50, Arg list: None
Commands:
%load% obj 8574
drop coal

>[0;00m
[0mCHECKING: 8404[0m

Name: 'santa drop on death either coal or snout',  VNum: [ 8404], RNum: [  507]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
eval anumber %random.100%
if %anumber% < 80
  %load% obj 8574
   drop coal
else
   %load% obj 8572
drop snout
end

>[0;00m
[0mCHECKING: 8405[0m

Name: 'load santa on death attached to elfs',  VNum: [ 8405], RNum: [  508]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 10, Arg list: None
Commands:
%load% mob 8400
%echo% Santa comes stumbling into the room...

>[0;00m
[0mCHECKING: 8406[0m

Name: 'load 1 qp on death elf 8403',  VNum: [ 8406], RNum: [  509]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 25, Arg list: None
Commands:
%load% obj 17932
drop token

>[0;00m
[0mCHECKING: 8407[0m
[0mCHECKING: 8408[0m

Name: 'load 5 qp on death elf 8403',  VNum: [ 8407], RNum: [  510]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 7, Arg list: None
Commands:
%load% obj 17933
drop token

>[0;00m
[0mCHECKING: 8409[0m

Name: 'load 10 qp on death elf 8403',  VNum: [ 8408], RNum: [  511]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 3, Arg list: None
Commands:
%load% obj 17934
drop token

>[0;00m
[0mCHECKING: 8411[0m

Name: 'load 50qp on death elf 8403',  VNum: [ 8409], RNum: [  512]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 1, Arg list: None
Commands:
%load% obj 17935
drop token

>[0;00m
Name: 'load cha wish on death - stilicho',  VNum: [ 8411], RNum: [  513]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
%load% obj 8411
drop wish

>[0;00m
[0mCHECKING: 8412[0m

Name: 'load dex wish on death TIAMAT',  VNum: [ 8412], RNum: [  514]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
%load% obj 8412
drop wish

>[0;00m
[0mCHECKING: 8413[0m

Name: 'load int wish on death Andrus',  VNum: [ 8413], RNum: [  515]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 10, Arg list: None
Commands:
%load% obj 8413
drop wish

>[0;00m
[0mCHECKING: 8414[0m

Name: 'load str wish on death',  VNum: [ 8414], RNum: [  516]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 10, Arg list: None
Commands:
%load% obj 8414
drop wish

>[0;00m
[0mCHECKING: 8415[0m

Name: 'load wis wish on death Zeus',  VNum: [ 8415], RNum: [  517]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
%load% obj 8515
drop wish

>[0;00m
[0mCHECKING: 8420[0m
[0mCHECKING: 8421[0m

Name: 'test - room connection',  VNum: [ 8420], RNum: [  518]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
wait 1
%echo% Fierce wind and blowing snow obscures your vision, which way did you just come from?
%door% %self.vnum% east purge
eval current_room 8400 + %random.12%
%door% %self.vnum% east room %current_room%
%door% %self.vnum% west purge
 eval current_room 8400 + %random.12%
 %door% %self.vnum% west room %current_room%
%door% %self.vnum% south purge
 eval current_room 8400 + %random.12%
 %door% %self.vnum% south room %current_room%
%door% %self.vnum% north purge
 eval current_room 8400 + %random.12%
 %door% %self.vnum% north room %current_room%
end

>[0;00m
[0mCHECKING: 8422[0m

Name: 'test trigger enter character',  VNum: [ 8421], RNum: [  519]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
wait 1
%echo% %actor.name% just entered the room and now its time to die....
end

>[0;00m
[0mCHECKING: 8423[0m

Name: 'global random test',  VNum: [ 8422], RNum: [  520]
Trigger Intended Assignment: Rooms
Trigger Type: Global Random Enter , Numeric Arg: 100, Arg list: None
Commands:
%echo% This trigger commandlist is not complete!
wait 20

>[0;00m
[0mCHECKING: 8470[0m

Name: 'transform mob -1',  VNum: [ 8423], RNum: [  521]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
%transform% -1

>[0;00m
Name: 'assemble Xmas2017 reindeer bracelet 8471',  VNum: [ 8470], RNum: [  522]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: makereindeer1
Commands:
if %actor.inventory(8461)% && %actor.inventory(8462)% && %actor.inventory(8463)% && %actor.inventory(8464)% && %actor.inventory(8465)% && %actor.inventory(8466)% && %actor.inventory(8467)% && %actor.inventory(8468)% && %actor.inventory(8469)% && %actor.inventory(8470)%
%purge% %actor.inventory(8461)%
%purge% %actor.inventory(8462)%
%purge% %actor.inventory(8463)%
%purge% %actor.inventory(8464)%
%purge% %actor.inventory(8465)%
%purge% %actor.inventory(8466)%
%purge% %actor.inventory(8467)%
%purge% %actor.inventory(8468)%
%purge% %actor.inventory(8469)%
%send% %actor% You make a reindeer head bracelet.
%load% obj 8471 %actor% inv
%purge% %actor.inventory(8470)%
done
else
%send% %actor% You dont know how to make that.
end

>[0;00m
[0mCHECKING: 8497[0m

Name: 'purge obj trigger self',  VNum: [ 8497], RNum: [  523]
Trigger Intended Assignment: Objects
Trigger Type: Timer , Numeric Arg: 100, Arg list: 0
Commands:
%echo% i should be purging myself now
%purge% %self%
end

>[0;00m
[0mCHECKING: 8498[0m

Name: 'new trigger',  VNum: [ 8498], RNum: [  524]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: None
Commands:
Nothing.

>[0;00m
[0mCHECKING: 8499[0m
[0mCHECKING: 8501[0m

Name: 'on load put all bag',  VNum: [ 8499], RNum: [  525]
Trigger Intended Assignment: Mobiles
Trigger Type: Load , Numeric Arg: 100, Arg list: None
Commands:
wait 1 s
put all bag
hold bag

>[0;00m
[0mCHECKING: 8507[0m

Name: 'mob block spells',  VNum: [ 8501], RNum: [  526]
Trigger Intended Assignment: Mobiles
Trigger Type: Cast , Numeric Arg: 100, Arg list: None
Commands:
if %spellname% == word of death || %spellname% == slay
%echo% %self.name% is protected by a shield spell negating %spellname%
mkill %actor.name%
return 0
else
return 1
end

>[0;00m
Name: 'random tree load - object 807',  VNum: [ 8507], RNum: [  527]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 100, Arg list: s
Commands:
if %cmd.mudcommand% == shake && tree /= %arg%
eval anumber %random.100%
if %anumber% < 10
%load% obj 8574 *coal
%send% %actor% As you shake the tree a lump of coal falls onto the ground.
%echoaround% %actor% %actor.name% shakes a tree and a lump of coal falls onto the ground.
elseif %anumber% < 30
%load% obj 8140 *1hp
%send% %actor% As you shake the tree an ornament falls onto the ground.
%echoaround% %actor% %actor.name% shakes a tree and an ornament falls onto the ground.
elseif %anumber% < 50
%load% obj 8144 *1mana
%send% %actor% As you shake the tree an ornament falls onto the ground.
%echoaround% %actor% %actor.name% shakes a tree and an ornament falls onto the ground.
elseif %anumber% < 70
%load% obj 8148 *1move
%send% %actor% As you shake the tree an ornament falls onto the ground.
%echoaround% %actor% %actor.name% shakes a tree and an ornament falls onto the ground.
elseif %anumber% < 75
%load% obj 8141 *5hp
%send% %actor% As you shake the tree an ornament falls onto the ground.
%echoaround% %actor% %actor.name% shakes a tree and an ornament falls onto the ground.
elseif %anumber% < 80
%load% obj 8145 *5mana
%send% %actor% As you shake the tree an ornament falls onto the ground.
%echoaround% %actor% %actor.name% shakes a tree and an ornament falls onto the ground.
elseif %anumber% < 85
%load% obj 8149 *5move
%send% %actor% As you shake the tree an ornament falls onto the ground.
%echoaround% %actor% %actor.name% shakes a tree and an ornament falls onto the ground.
elseif %anumber% < 87
%load% mob 8103
%send% %actor% As you shake the tree a squirrel jumps out.
%echoaround% %actor% %actor.name% shakes a tree and a squirrel jumps out.
elseif %anumber% < 88
%load% mob 8106
%send% %actor% As you shake the tree a squirrel jumps out.
%echoaround% %actor% %actor.name% shakes a tree and a squirrel jumps out.
else
if %actor.class%==bard
%load% obj 8598 *- copy to 8198
%send% %actor% As you shake the tree a a 2018 reindeer head bracelet falls out.
%echoaround% %actor% %actor.name% shakes a tree and a 2018 reindeer head bracelet falls out.
elseif %actor.class%==cleric
%load% obj 8599 *- copy to 8199
%send% %actor% As you shake the tree a a 2018 reindeer head bracelet falls out.
%echoaround% %actor% %actor.name% shakes a tree and a 2018 reindeer head bracelet falls out.
  elseif %actor.class%==magic user
%load% obj 8599
%send% %actor% As you shake the tree a a 2018 reindeer head bracelet falls out.
%echoaround% %actor% %actor.name% shakes a tree and a 2018 reindeer head bracelet falls out.
else
%load% obj 8471 *- copy to 8191
%send% %actor% As you shake the tree a a 2018 reindeer head bracelet falls out.
%echoaround% %actor% %actor.name% shakes a tree and a 2018 reindeer head bracelet falls out.
end
end
%purge% %self%
else
return 0
end

>[0;00m
[0mCHECKING: 8516[0m

Name: 'xmas 2017 assemble baseblood necklace 8512 attached to 8516',  VNum: [ 8516], RNum: [  528]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: makebloodnecklace
Commands:
if %actor.inventory(8513)% && %actor.inventory(8514)% && %actor.inventory(8515)% && %actor.inventory(8516)%
%purge% %actor.inventory(8513)%
%purge% %actor.inventory(8514)%
%purge% %actor.inventory(8515)%
%load% obj 8512 %actor% inv
%send% %actor% You make a blood-stained hair necklace.
%purge% %actor.inventory(8516)%
done
else
%send% %actor% You dont know how to make that.
end

>[0;00m
[0mCHECKING: 8576[0m

Name: 'xmas 2017 assemble base weapon solid block of ice 8576 attached 8405',  VNum: [ 8576], RNum: [  529]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: makeiceblock
Commands:
if %actor.inventory(8400)% && %actor.inventory(8401)% && %actor.inventory(8402)% && %actor.inventory(8403)% && %actor.inventory(8404)% && %actor.inventory(8405)% && %actor.inventory(8575)%
%purge% %actor.inventory(8400)%
%purge% %actor.inventory(8401)%
%purge% %actor.inventory(8402)%
%purge% %actor.inventory(8403)%
%purge% %actor.inventory(8404)%
%purge% %actor.inventory(8575)%
%load% obj 8576 %actor% inv
%send% %actor% You make a solid block of ice
%purge% %actor.inventory(8405)%
done
else
%send% %actor% You dont know how to make that.
end

>[0;00m
[0mCHECKING: 8595[0m

Name: 'test assemble mask',  VNum: [ 8595], RNum: [  530]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: makemask
Commands:
if %actor.inventory(8400)% && %actor.inventory(8401)% && %actor.inventory(8402)% && %actor.inventory(8575)% && %actor.inventory(8572)% && %actor.inventory(8404)%
%purge% %actor.inventory(8400)%
%purge% %actor.inventory(8401)%
%purge% %actor.inventory(8402)%
%purge% %actor.inventory(8575)%
%purge% %actor.inventory(8404)%
%transform% 806
%send% %actor% You wash off the snout and affix the black leather strip to the nose
done
else
%send% %actor% You dont know how to make that.
end

>[0;00m
[0mCHECKING: 8596[0m

Name: 'xmas 2017 aseemble rudolphs base mask attached to 8572',  VNum: [ 8596], RNum: [  531]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: makemask
Commands:
if %actor.inventory(8400)% && %actor.inventory(8401)% && %actor.inventory(8402)% && %actor.inventory(8575)% && %actor.inventory(8572)% && %actor.inventory(8404)%
%purge% %actor.inventory(8400)%
%purge% %actor.inventory(8401)%
%purge% %actor.inventory(8402)%
%purge% %actor.inventory(8404)%
%purge% %actor.inventory(8575)%
%send% %actor% You wash off the snout and affix the black leather strip to the nose 
%load% obj 806 %actor% inv
%purge% %actor.inventory(8572)%
done
else
%send% %actor% You dont know how to make that.
end

>[0;00m
[0mCHECKING: 8597[0m
[0mCHECKING: 8598[0m

Name: 'xmas 2017 assemble christmas miracle 8597 attached 8574',  VNum: [ 8597], RNum: [  532]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: makemiracle
Commands:
if %actor.inventory(8411)% && %actor.inventory(8412)% && %actor.inventory(8413)% && %actor.inventory(8414)% && %actor.inventory(8415)% && %actor.inventory(8574)%
%purge% %actor.inventory(8411)%
%purge% %actor.inventory(8412)%
%purge% %actor.inventory(8413)%
%purge% %actor.inventory(8414)%
%purge% %actor.inventory(8415)%
%load% obj 8597 %actor% inv
%send% %actor% You make a christmas miracle.
%purge% %actor.inventory(8574)%
done
else
%send% %actor% You dont know how to make that.
end

>[0;00m
[0mCHECKING: 8599[0m

Name: 'assemble xmas2017 reindeer bracelet 8598',  VNum: [ 8598], RNum: [  533]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: makereindeer2
Commands:
if %actor.inventory(8461)% && %actor.inventory(8462)% && %actor.inventory(8463)% && %actor.inventory(8464)% && %actor.inventory(8465)% %actor.inventory(8466)% && %actor.inventory(8467)% && %actor.inventory(8468)% && %actor.inventory(8469)% && %actor.inventory(8470)%
%purge% %actor.inventory(8461)%
%purge% %actor.inventory(8462)%
%purge% %actor.inventory(8463)%
%purge% %actor.inventory(8464)%
%purge% %actor.inventory(8465)%
%purge% %actor.inventory(8466)%
%purge% %actor.inventory(8467)%
%purge% %actor.inventory(8468)%
%purge% %actor.inventory(8469)%
%load% obj 8598 %actor% inv
%send% %actor% You make a reindeer head bracelet.
%purge% %actor.inventory(8470)%
done
else
%send% %actor% You dont know how to make that.
end

>[0;00m
[0mCHECKING: 8900[0m

Name: 'assemble xmas2017 reindeer bracelet 8599',  VNum: [ 8599], RNum: [  534]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: makereindeer3
Commands:
if %actor.inventory(8461)% && %actor.inventory(8462)% && %actor.inventory(8463)% && %actor.inventory(8464)% && %actor.inventory(8465)% %actor.inventory(8466)% && %actor.inventory(8467)% && %actor.inventory(8468)% && %actor.inventory(8469)% && %actor.inventory(8470)%
%purge% %actor.inventory(8461)%
%purge% %actor.inventory(8462)%
%purge% %actor.inventory(8463)%
%purge% %actor.inventory(8464)%
%purge% %actor.inventory(8465)%
%purge% %actor.inventory(8466)%
%purge% %actor.inventory(8467)%
%purge% %actor.inventory(8468)%
%purge% %actor.inventory(8469)%
%load% obj 8599 %actor% inv
%send% %actor% You make a reindeer head bracelet.
%purge% %actor.inventory(8470)%
done
else
%send% %actor% You dont know how to make that.
end

>[0;00m
Name: 'wealtheo speech',  VNum: [ 8900], RNum: [  535]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
* By AP
if %actor.is_pc%
   wait 3 sec
   %echo% Wealtheo looks up from his work, intoning, "So %actor.name%, you have come to me for help.
   wait 5 sec
   %echo% In anger, he yells, "You will get none, thief!  The Vision of Wisdom is not for your kind, not for you!"
   wait 10 sec
   %echo% He continues, looking ever more carefully at you, "Begone from my sight and never trouble me again, lest I begin to think you have come to steal more from us."
end

>[0;00m
[0mCHECKING: 8901[0m

Name: 'demon xyzzy speech',  VNum: [ 8901], RNum: [  536]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 6, Arg list: None
Commands:
*
*  give the named pilgrims some speech
*
eval max %random.10%
set txt[1] A hollow voice says, "Plugh!"
sset txt[2] You are in a twisty maze of passageways, all alike!
set txt[3] Fee, fie, foe, foo!
set txt[4] You'll never get it up the steps.
set txt[5] A shadowy figures seems to be waving at me!
set txt[6] A pirate just stole all my treasure!
set txt[7] Stuck? Type e, s, s, s, n, e, e, and finally, nw.
set txt[8] Kill dragon. What with? Your bare hands?
set txt[9] You are in a twisty maze of passageways, all different!
set txt[10] Plover. 
set  speech %%txt[%max%]%%
eval speech %speech%
say %speech%

>[0;00m
[0mCHECKING: 8902[0m

Name: 'dwarven archer speech',  VNum: [ 8902], RNum: [  537]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 5, Arg list: None
Commands:
*
*  give the named pilgrims some speech
*
eval max %random.10%
set txt[1] ...and my axe!
sset txt[2] If anyone was to ask for my opinion, which I note they are not!
set txt[3] Roaring fires, malt beer, and ripe meat off the bone!
set txt[4] Let them come! There is one Dwarf in Moria who still draws breath!
set txt[5] Nobody tosses a Dwarf!
set txt[6] Well here's one Dwarf she won't ensnare so easily!
set txt[7] Ishkhaqwi ai durugnul!
set txt[8] Henceforth I will call nothing fair unless it be her gift to me.
set txt[9] Three days and nights' pursuit. No food, no rest, no sign of our quarry But what bare rock can tell!
set txt[10] Give me your name, Horse Master, and I shall give ye mine! 
set  speech %%txt[%max%]%%
eval speech %speech%
say %speech%

>[0;00m
[0mCHECKING: 8903[0m

Name: 'imagunafightu speech',  VNum: [ 8903], RNum: [  538]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 5, Arg list: None
Commands:
*
*  give the named pilgrims some speech
*
eval max %random.10%
set txt[1] I seriously don't get it.  Goblins and Orcs look nothing alike.
sset txt[2] I've met Sauron and he's much better looking than he appears on TV.
set txt[3] After the Isengard sequence wrapped, we'd hang with the Ents.
set txt[4] Mordor has the worst dentists.  Plus, nobody flosses.
set txt[5] Wargs are great but I prefer cats.
set txt[6] Did you really think we couldn't see Frodo?
set txt7 Mt. Doom has become a tourist trap.  It's ridiculous.
set txt[8] Shelob is a bitch.  That part was true.
set txt[9] We used to poke fun at how stupid the Uruk-Hai are until they ate my friend.
set txt[10] I'm currently staying at an AirBnB in the Shire, and no complaints!
set  speech %%txt[%max%]%%
eval speech %speech%
say %speech%

>[0;00m
[0mCHECKING: 8904[0m
[0mCHECKING: 8905[0m

Name: 'solo hyperloop travel fob',  VNum: [ 8904], RNum: [  539]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 1, Arg list: *
Commands:
*
* initial coding by hurin
* 03 Mar 24 - Aegon - added all old metro stations
*                     added commemorative tee-shirt for all station travel
*
context %actor.id%
set room %self.room%
*
if %cmd% == destinations
  %send% %actor% Welcome to the SpaceX / hyperLoop Transit System Partnership!
  %send% %actor% We are currently offering non-stop trips to the following locations:
  *
  %send% %actor%  1) Greater Midgaard Union Station
  %send% %actor%  2) Rome Central hVTS
  %send% %actor%  3) Abandoned Outpost Station
  %send% %actor%  4) New Thalos Metro Station
  %send% %actor%  5) Wamphyr Aerie Substation
  %send% %actor%  6) Greater Sanctuary Union Station
  %send% %actor%  7) Arctic Empire Subtation 
  %send% %actor%  8) Gyles Memorial Metro Station
  %send% %actor%  9) Parliament of Owls hVTS Pad 
  %send% %actor% 10) Imperial Ravenna hVTS Pad
  *
elseif %cmd% == travel
  *
  if %arg% < 1 || %arg% > 10 || !%arg%
    %send% %actor% Please type ""destinations"" to see the selection of cities we currently service.
    %send% %actor% To travel to a location, have a NFT in inventory, then simply type:
    %send% %actor% >travel <location ##>
    %send% %actor% For example: ""travel 8""  would transport you to the Gyles Memorial Metro Station.
  else
    if %actor.has_item(8965)%
      set in_station %%findmob.%room.vnum%(9918)%%
      eval in_station %in_station%
      if ! %in_station%
        %send% %actor% The led on the hyperLoop fob glows red, unable to find sync with the platform.
        return 1
        halt
      end
      if %random.100% == 100
        %send% %actor% The led on the hyperLoop fob blinks red... then fades to black.
        wait 2 s
        %echo% A small wisp of smoke curls from the key fob as it disintegrates.
        %purge% %self%
        halt 
      end
      *
      if !%pod_num%
        set pod_num 9901
        global pod_num
      elseif (%pod_num% < 9911)
        eval pod_num %pod_num% + 1
        global pod_num
      else
        set pod_num 9901
        global pod_num
      end
      *
      set dest_vnum[1] 3120
      set dest[1] Greater Midgaard Union Station
      *
      set dest_vnum[2] 12068
      set dest[2] Rome Central hVTS
      *
      set dest_vnum[3] 4562
      set dest[3] Abandoned Outpost Station
      *
      set dest_vnum[4] 12498
      set dest[4] New Thalos Metro Station
      *
      set dest_vnum[5] 4328
      set dest[5] Wamphyrie Aerie Substation
      *
      set dest_vnum[6] 23530
      set dest[6] Greater Sanctuary Union Station
      *
      set dest_vnum[7] 2671
      set dest[7] Arctic Empire Substation
      *
      set dest_vnum[8] 2183
      set dest[8] Gyles Memorial Metro Station
      *
      set dest_vnum[9] 8975
      set dest[9] Parliament of Owls hVTS Pad
      *
      set dest_vnum[10] 9748
      set dest[10] Imperial Ravenna hVTS Pad
      *
      eval dest_vnum %%dest_vnum[%arg%]%%
      eval dest_room %%dest[%arg%]%%
      *
      if (%dest_vnum% != %room.vnum%)
        *
        %send% %actor% A shiny new hyperLoop pod is sucked onto the transport tube, and you carefully step into it.
        %echoaround% %actor% A shiny new hyperLoop pod appears next to %actor.name% on the hyperLoop pad.
        wait 2 s
        %echoaround% %actor% %actor.name% steps into the pod, the hatch closes, and %actor.name% is whisked away.
        wait 1 s
        %teleport% %actor% %pod_num%
        %force% %actor% look
        %at% %pod_num% %echo% Your pod will be departing shortly, please take your seat.
        wait 3 s
        %at% %pod_num% %echo% You feel a wash of electrostastic charge as the pod begins its journey.
        wait 2 s
        set film_no %random.10%
        set film[1] The Perfect Storm
        set film[2] E.T. the Extra-Terrestrial
        set film[3] Pirates of the Caribbean: Curse of the Black Pearl
        set film[4] Pearl Harbor
        set film[5] Atlas
        set film[6] Last Voyage of the Demeter
        set film[7] Mission to Mars
        set film[8] Mars Attacks!
        set film[9] Mortal Kombat!
        set film[10] Mighty Joe Young
        set film %%film[%film_no%]%%
        eval film %film%
        %at% %pod_num% %echo% Your in-flight entertainment has started!  Today's film: "%film%."
        wait 8 s
        %at% %pod_num% %echo% The pod slows down as it reaches %dest_room% and is lowered into the docking cradle.
        wait 4 s
        %at% %pod_num% %echo% Welcome to %dest_room%.
        %teleport% %actor% %dest_vnum%
        %force% %actor% look
        *
        if ! %actor.varexists(hyperLooped)%
          set hyperLooped %dest_vnum%
        else
          if %actor.hyperLooped% < 0
            %send% %actor% The hot Associate purrs, "%actor.name%, you've already received your commemorative tee-shirt!  Wear it proudly!"
            return 0
            halt
          end
          *
          if ! (%actor.hyperLooped% /= %dest_vnum%)
            eval hyperLooped %actor.hyperLooped% %dest_vnum%
          end
        end
        *
        set next_station %hyperLooped%
        unset checksum
        *
        while %next_station%
          eval checksum %checksum% + %next_station.car%
          set next_station %next_station.cdr%
        done
        *
        if %checksum% == 83683
          %send% %actor% The hot hyperLoop Associate proclaims, "Congratulations %actor.name%! You've successfully completed a circumnavigation of the entire hyperLoop VTS!"
          %send% %actor% "Please wear our commemorative tee-shirt proudly!"
          *
          eval vnum 8960
          *
          if %actor.weight% < 50
            set size XS
          elseif %actor.weight% < 100
            set size SM
            eval vnum %vnum% + 1
          elseif %actor.weight% < 150
            set size MED
            eval vnum %vnum% + 2
          elseif %actor.weight% < 200
            set size LG
            eval vnum %vnum% + 3
          else
            set size XL
            eval vnum %vnum% + 4
          end
          *
          %load% obj %vnum% %actor% inv            
          %send% %actor% The hot hyperLoop Associate gives you a bright green hyperLoop tee-shirt in your size: %size%.
          set hyperLooped -1   
          *      
          %send% %actor% The Associate digs around in her shoulder bag...
          %send% %actor% She smiles at you and says, "Have this little extra token of our appreciation!"
          *
          * 17932 bronze  1
          * 17938 diamond 1000
          *
          if %random.100% == 100
            set token_offset 6
          elseif %random.100% >= 96
            set token_offset 5
          else
            eval token_offset %random.4%
          end
          *
          eval token 17931 + %token_offset%
          *
          %load% obj %token% %actor% inv 
          * 
        end
        *
        global hyperLooped
        remote hyperLooped %actor.id%
      else
        %echo% You're already here at %dest_room%!  Where would you like to go?
      end
    end
  else
    return 0
    halt
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 8906[0m

Name: 'poof you're a bitch!',  VNum: [ 8905], RNum: [  540]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 3, Arg list: advance
Commands:
set room %self.room%
if %actor.is_pc%
  if %cmd% == advance
    set vict %arg.car%
    set level %arg.cdr%
    if %vict% && %level%
      set target_char %room.people%
      set target_present 0
      while %target_char%
        set next_target %target_char.next_in_room%
        if %target_char.name% == %vict%
          set target_present 1
          set vict %target_char%
        end
        set target_char %next_target%
      done
      if %target_present%
        if (%level.charat(1)% /= 1 ||  if %level.charat(1)% /= 2 ||  %level.charat(1)% /= 3 )
          %send% %actor% You've just set %vict.name% to level %level%!
          nop %vict.level(%level%)%
          %send% %vict% %actor.name% employs the holy gestures and the room glows bright white!
          %send% %vict% poof bitch! You're now level %level%.
          nop %vict.maxhitp(324)%
          nop %vict.maxmana(400)%
          nop %vict.maxmove(139)%
          nop %vict.prac(100)%
        else
          %send% %actor% Invalid level: %level%.
          return 1
          halt
        end
      else
        %send% %actor% Beneficiary not present in room.
        return 1
        halt
      end
    else
      return 0
      halt
    end
  else
    return 0
  end
end

>[0;00m
[0mCHECKING: 8919[0m

Name: 'size matters',  VNum: [ 8906], RNum: [  541]
Trigger Intended Assignment: Objects
Trigger Type: Wear , Numeric Arg: 100, Arg list: None
Commands:
*
* make sure the shirts fit the wearers
*
if %actor.is_pc%
  switch %self.vnum%
    case 8960
      if %actor.weight% < 50
        return 1
        halt
      end
    break
    case 8961
      if %actor.weight% >= 50 && %actor.weight% < 100
        return 1
        halt
      end
    break
    case 8962
      if %actor.weight% >= 100 && %actor.weight% < 150
        return 1
        halt
      end
    break
    case 8963
      if %actor.weight% >= 150 %% %actor.weight% < 200
        return 1
        halt
      end
    break
    case 8964
      if %actor.weight% >= 200
        return 1
        halt
      end
    break
    default
      return 0
      halt
    break
  done
  %send% %actor% You struggle to pull the %self.name% over your head and shoulders, but try as you might, %actor.name%, %self.name% doesn't fit!
  return 0
  halt
else
  return 0
  halt
end

>[0;00m
Name: 'vole rebel speech',  VNum: [ 8919], RNum: [  542]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
* By AP
if %actor.is_pc%
   wait 3 sec
   %echo% The rebellious vole begs for you to help it.
   wait 5 sec
   %echo% It says, "%actor.name%, if you get the key from their leader, we can free my people."
end

>[0;00m
[0mCHECKING: 8929[0m

Name: 'chaucer owl speech',  VNum: [ 8929], RNum: [  543]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
* By AP
if %actor.is_pc%
   wait 1 sec
   %echo% The poet looks up from his happy work, saying "Welcome amongst the owls, %actor.name%."
   wait 3 sec
   %echo% "Long has it been since I have chatted with one of your kind.  Would you like to read my current work?  Parliament of Fowls..."
   wait 3 sec
   %echo% The poet chuckles, "I suppose not.  But if you get a chance, and can talk to our leader, you should discuss his book with him.  Mind you, you may need to be a bit sneaky to get inside."
end

>[0;00m
[0mCHECKING: 8931[0m

Name: 'vole speech',  VNum: [ 8931], RNum: [  544]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 3 sec
   %echo% Something squeaks in the dark, "Free us from the owls!"
   wait 20 sec

>[0;00m
[0mCHECKING: 9070[0m

Name: 'gigantopatheticus speech',  VNum: [ 9070], RNum: [  545]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% The giant ape stretches and yawns.
   wait 10 sec
   %echo% There is a cracking sound as the gigantopatheticus rips down a green stalk of bamboo.
   wait 10 sec
   %echo% After a minute or two of chewing it spits out the resulting masticated mass of pulverized greenery.
   wait 10 sec
   %echo% The massive ape shakes its head.  It looks dizzy and out of sorts.
   wait 10 sec
   %echo% The beast lies down on a sunny rock to take a nap.
   wait 20 sec

>[0;00m
[0mCHECKING: 9071[0m

Name: 'gigantopatheticus speech',  VNum: [ 9071], RNum: [  546]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% The giant ape looks around angrily and bellows.
   wait 20 sec
   %echo% Gigantopatheticus picks up a large rock and throws it at a fleeing zoo patron.
   wait 15 sec
   %echo% The colossal creature strides through the zoo, swatting at anyone who has the misfortune to get too close.
   wait 30 sec

>[0;00m
[0mCHECKING: 9078[0m
[0mCHECKING: 9079[0m

Name: 'zookeeper speech',  VNum: [ 9078], RNum: [  547]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   say "Please walk calmly to the nearest exit. We will have this situation under control shortly."
   wait 10 sec
   %echo% The zookeeper looks nervously down the zoo path, toward the screaming.
   wait 10 sec
   %echo% "Please, remain calm and exit the Zoo in an orderly fashion," the zookeeper declares loudly.
   wait 10 sec
   %echo% The zookeeper nervously hefts his Tazematic Animal Control Wand.
   wait 30 sec

>[0;00m
[0mCHECKING: 9080[0m

Name: 'panicked man speech',  VNum: [ 9079], RNum: [  548]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 3 sec
   %echo% A panicked zoo patron shoves past, his face a mask of fear.
   wait 15 sec
   %echo% "Maker help us!  It's gotten loose!"  the man screams in a shrill voice.
   wait 15 sec
   %echo% In his haste to flee the zoo, the man trips and falls in the middle of the path.
   wait 30 sec

>[0;00m
[0mCHECKING: 9081[0m

Name: 'panicked woman speech',  VNum: [ 9080], RNum: [  549]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 15 sec
   %echo% A woman begins to gibber hysterically.
   wait 10 sec
   %echo% A small child is knocked down as the woman rushes past.
   wait 15 sec
   %echo% "Get out!  Get out!  It's gone mad!  The great ape has gone mad!" the hysterical woman yells.
   wait 30 sec

>[0;00m
Name: 'crying toddler speech',  VNum: [ 9081], RNum: [  550]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% The toddler bursts into a fresh bout of tears.
   wait 15 sec
   %echo% A scared adult almost steps on the toddler where she stands in the middle of the chaos.
   wait 10 sec
   %echo% The toddler cries even louder.
   wait 15 sec
   %echo% The little girl's tears devolve into hiccoughing gasps.
   wait 10 sec
   %echo% More tears stream down the toddler's grimy face.
  wait 30 sec

>[0;00m
[0mCHECKING: 9082[0m

Name: 'panicked man speech',  VNum: [ 9082], RNum: [  551]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% "Run for your lives!  It's coming!" the terrified man shrieks.
   wait 10 sec
   %echo% Quavering with terror, the man tries to run along the path.
   wait 20 sec

>[0;00m
[0mCHECKING: 9083[0m

Name: 'frightened woman speech',  VNum: [ 9083], RNum: [  552]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% The woman looks around desperately.
   wait 10 sec
   %echo% "Lauren?  Lauren!  Has anyone seen my daughter?"  a woman yells in a high pitched, frightened voice.
   wait 20 sec

>[0;00m
[0mCHECKING: 9201[0m

Name: 'stop strike!',  VNum: [ 9201], RNum: [  553]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: strike
Commands:
if %actor.is_pc% 
  if %cmd% == strike && %actor.skill(strike)% > 0
    set aliases %self.alias%
    while %aliases%
      set alias %aliases.car%
      set aliases %aliases.cdr%
      if %arg% /= %alias%
        %send% %actor% %self.name% smiles and deftly grabs your fist, mid-strike!   Impressive!
        %echoaround% %actor% %actor.name%'s fist is intercepted by %self.name%.
        wait 1 s
        %send% %actor% %self.name% lifts you over their head. Uh-oh.
        %echoaround% %actor% %self.name% hoists %actor.name% into the air, and slams %actor.himher% to the ground.
        wait 1 s
        eval slam_damage %actor.hitp% - ( %actor.hitp% * .1)
        %send% %actor% You can see nothing but stars!
        %damage% %actor% %slam_damage%
        nop %actor.pos(Sitting)%
        return 1
        halt
      end
    done
    return 0
    halt
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 9308[0m

Name: 'arsenius hermit speech',  VNum: [ 9308], RNum: [  554]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
* By AP
if (%actor.is_pc%)
   wait 20 sec
   %echo% The monk barely notices you as you enter.
   wait 20 sec
   %echo% He looks up: "%actor.name%, have you been traveling?"
   wait 20 sec
   %echo% You hear him whisper, "If we seek God, he will show himself to us."
   wait 20 sec
   %echo% He says, "If we keep him, he will remain close to us."
   wait 20 sec
   %echo% Turning to you, he proclaims, "While still living in the palace, I prayed..."
   wait 20 sec
   %echo% He continues: "Lord, lead me in the way of salvation."
   wait 20 sec
   %echo% His eyes aglow, he says, "A voice came to me that day!"
   wait 20 sec
   %echo% Smiling, "It said, Arsenius, flee from Honorius and you will be saved!"
end

>[0;00m
[0mCHECKING: 9320[0m

Name: 'Prosper speech',  VNum: [ 9320], RNum: [  555]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% Prosper turns towards you and begins his recitation:
   wait 10 sec
   %echo% Admonish the heretics and misbelievers who claim that this world was
   wait 10 sec
   %echo% invented of late by the race of man. Surely it is they that will be
   wait 10 sec
   %echo% locked out when the gates begin to close! Say: this world, this heavenly
   wait 10 sec
   %echo% space has existed for all time. It is only now through the grace of
   wait 10 sec
   %echo% God that we have been shown the lock and given the key.
   wait 10 sec
   %echo% Admonish the late-comers, and those who doubt, and chastise them when
   wait 10 sec
   %echo% they say: surely man is all powerful. Why would the creator hesitate to
   wait 10 sec
   %echo% share this, the best of all things? Say: this is the last, and the fullest,
   wait 10 sec
   %echo% of the revelations. It contains the final proof, and the beginning of
   wait 10 sec
   %echo% the crossing over. You would credit this to man, who only now has begun to see?
   wait 10 sec
   %echo% This place is eternal, everlasting, and yet they say it exists at the
   wait 10 sec
   %echo% whim of mortals. Then surely they will have nothing to fear when the
   wait 10 sec
   %echo% gates close and the bridge begins to burn.
   wait 10 sec
   %echo% On that day, let them try to build it again!

>[0;00m
[0mCHECKING: 9605[0m
[0mCHECKING: 9612[0m

Name: 'ambrose',  VNum: [ 9605], RNum: [  556]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 50, Arg list: None
Commands:
*
* ambrose speec proc converted to trigger
*
eval max %random.5%
set action1 stands soberly above the bier, declaring
set action2 lifts %self.hisher% outstretched arms high above %self.hisher% head, and proclaims
set action3 searches each soldier's face from his battlefield pulpit, wondering aloud
set action4 straightens his ephod, smoothing the silk of his sleeves, proclaiming
set action5 lifts his voice to a mighty crescendo, casting awe into those that surround him, proclaiming
set  performance %%action0%%%
eval performance %performance%
*
set txt1 Let us bestow paternal affection on the children of the dead prince. Pay to his sons what you owe
set txt2 their father - you owe more to him now that he is dead than you owed to him while he was living,
set txt3 Who then will doubt that he will be a powerful protector for his sons in the House of God?
set txt4 By the favor of the Lord, Honorius knocks forthwithat the doors of manhood. Elsewhere, Theodosius,
set txt5 now at peace, rejoices that he has been snatched away from the cares of this world and lifts up his soul
set txt6 and directs it to that perpetual rest. He has also snatched his eyes from tears, for now is the age
set txt7 proclaimed of old when it was written that: He shall wipe away all tears from their eyes, and death
set txt8 shall be no more, nor sorrow, nor crying, nor pain, for the former things have passed away!
if ! %i%
  set i 1
else
  eval i %i% + 1
  if %i% > 8
    set i 1
  end
end
global i
*
set speech %%txt%{i}%%%
eval speech %speech%
%echo% %self.name.toupper% %performance%, '%speech%'

>[0;00m
[0mCHECKING: 9642[0m

Name: 'pope innocent I speech',  VNum: [ 9612], RNum: [  557]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 8, Arg list: None
Commands:
*
*  give the pope performance and speech
*
eval max %random.5%
set action[1] raises the host high above his mitre, declaring
set action[2] lifts %self.hisher% offering high above %self.hisher% head, and proclaims
set action[3] searches among his supplicants from his gilt pulpit, wondering aloud
set action[4] straightens his ephod, smoothing the silk of his sleeves, proclaiming
set action[5] lifts his voice to a mighty crescendo, casting awe into those that surround him, proclaiming
set  performance %%action[%max%]%%
eval performance %performance%
eval max %random.6%
set txt[1] Quis enim nescit, aut hoc non advertit, id quod a Petro Apostolorum principe datum est Romanae Ecclesiae, et usque in hodiernum diem servari, quid ab omnibus observandum sit? 
set txt[2] Nec addi debet aliquid, vel inferri legitimum, nec alibi quaerendum exemplar.
set txt[3] Quapropter apostolicae potestatis authoritate novarum notionum inventores declaramus, quae, ut apostolus Paulus dixit, nullius edificationis esse, sed stultissimas questiones gignere solemus, ecclesie communione priventur.
set txt[4] Et sic est quod Innocentius III dicit, quod necesse est obedire Papae in omnibus, quamdiu ipse, non contra universales ecclesiae consuetudines, sed contra universales consuetudines. Ecclesiae, 'sequendum non est'.
set txt[5] Si vis aliquid quod nunquam habuisti, debes velle facere quod nunquam fecisti.
set  speech %%txt[%max%]%%
eval speech %speech%
%echo% %self.name.toupper% %performance%, '%speech%'

>[0;00m
Name: 'gothic warrior speech and performance',  VNum: [ 9642], RNum: [  558]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 4, Arg list: None
Commands:
*
*  give the gothic warriors performance and speech
*
eval max %random.10%
set action[1] sheathes %self.hisher% weapon and attends to his friend's wound, whispering
set action[2] lifts %self.hisher% mailed fist over %self.hisher% head, and shouts
set action[3] survived the catastrophe at Adrianople only to find death here, says
set action[4] lays his massive hand on his weapon and turns to you and says
set action[5] blinks back tears as he holds his dying friend in his arms, lamenting
set action[6] stands steadfast before a line of soldiers, promising
set action[7] holds %self.hisher% weapon up, glances down the line, and shouts
set action[8] unsheathes %self.hisher% dagger and raises it toward the sky, pledging
set action[9] unsheathes %self.hisher% broadsword and raises it over his head, proclaiming
set action[10] stands head held high before %self.hisher% brothers, pledging
set  performance %%action[%max%]%%
eval performance %performance%
eval max %random.10%
set txt[1] Bi biuhtja gudjinassaus hlauts imma urrann du saljan, atgaggands in alh fraujins. 
set txt[2] Jah sai, manna �rutsfill habands durinnands inwait ina qi�ands�
set txt[3] Jah ni bigitandona ina gawandidedun sik in Iairusalem sokjandona ina.
set txt[4] Bi �ugkei� im auk ei in filuwaurdein seinai andhausjaindau.
set txt[5] Jah was managei beidandans Zakariins, jah sildaleikidedun hva latidedi ina in �izai alh.
set txt[6] Ni manna mag twaim fraujam skalkinon; unte jabai fijai� ainana, jah an�arana frijo�.
set txt[7] Hvileiks ist sa, ei jah windos jah marei ufhausjand imma?
set txt[8] Jah hairdjos wesun in �amma samin landa... 
set txt[9] Jah ai�ei is gafastaida �o waurda alla in hairtin seinamma.
set txt[10] I� �u fastands salbo haubi� �ein jah ludja �eina �wah.
set  speech %%txt[%max%]%%
eval speech %speech%
%echo% %self.name.toupper% %performance%, '%speech%'

>[0;00m
[0mCHECKING: 9651[0m

Name: 'Renatus speech',  VNum: [ 9651], RNum: [  559]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 15 sec
   %echo% "Have you seen the travelling merchant with the amazing yarn?" Renatus asks. 
   wait 15 sec
   %echo% "He bought it from an adventurer who said the task of obtaining it was sheer drudgery.
   wait 15 sec
   %echo% But it was the most amazing color of BLUE I have ever seen!
   wait 15 sec
   %echo% Please keep an eye out for it.
   wait 15 sec
   %echo% Now, what can I get for you today?"

>[0;00m
[0mCHECKING: 9660[0m

Name: 'imperial ravenna beggar speech',  VNum: [ 9660], RNum: [  560]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 4, Arg list: None
Commands:
*
*  give the beggars some witticisms 410 AD
*
eval max %random.10%
set txt[1] Mors nobis omnes ridet, sed omnes homines risu redigi possunt.
sset txt[2] Cogito, ergo sum. 
set txt[3] Perspectiva cernimus omnia, non veritas.
set txt[4] Si vis pacem, para bellum.
set txt[5] Panem et circenses.
set txt[6] Audentes fortuna iuvat.
set txt[7] Usus magister est omnium rerum,
set txt[8] Si vis arcus, habes cum pluvia.
set txt[9] Non semper quod scis, sed semper quod dicis,
set txt[10] Boni pastoris est oves tondere, non depellere,
set  speech %%txt[%max%]%%
eval speech %speech%
say %speech%

>[0;00m
[0mCHECKING: 9661[0m

Name: 'imperial ravenna beggar reward',  VNum: [ 9661], RNum: [  561]
Trigger Intended Assignment: Mobiles
Trigger Type: Bribe , Numeric Arg: 100, Arg list: None
Commands:
*
* beggar performance
*
if %actor.is_pc%
  set match %random.100%
  eval goal %match% * 150
  if %amount% >= %goal%
    follow %actor.name%
    %send% %actor% %self.name% says, 'Animam meam dabo pro te, fidelissime mi!'
    if %match% == (%amount% / 150)
      %load% mob 9678
      %echo% %self.name% removes his ragged cloak and reveals his true identity!  
      %send% %actor% You stand before Liberalitas the Benefactor!
      %echoaround% %actor.name% stands before the patrician Liberalitas, Champion of the Poor!
      %send% %actor% %actor.name%, propter misericordiam tuam pauperibus Sanctuarii, oro te hoc signum donare!
      %eval% vnum 17933 + %random.3%
      %load% obj %vnum% %actor% inv
      %purge% %self%
    end
  else
    The beggar hurries off with your coin.
    %purge% %self%
  end 
end

>[0;00m
[0mCHECKING: 9662[0m

Name: 'dog performances',  VNum: [ 9662], RNum: [  562]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 10, Arg list: None
Commands:
* By Rumble of The Builder Academy    tbamud.com 9091
*
* 17 Apr 24 - Aegon  - expanded performances 
*
eval number %random.15%
set txt[1] sniffs at your collection of sacks and bags.
set txt[2] whimpers for some attention.
set txt[3] growls menacingly at your feet.
set txt[4] watches your every movement suspiciously.
set txt[5] begs for a scrap of food.
set txt[6] follows warily at few steps behind you.
set txt[6] barks at you continuously.
set txt[7] chews lustily at a bone.
set txt[8] whimpers softly, desperate for a home.
set txt[9] snaps at your attempt to pet it.
set txt[10] keeps a safe distance from you.
set txt[11] licks its left paw.
set txt[12] chases its tail until satisfied.
set txt[13] cocks it head as if it understood you.
set txt[14] licks your hand.
set txt[15] pants raggedly in the heat.
*
set string %%txt[%number%]%%
eval string %string%
emote %string%

>[0;00m
[0mCHECKING: 9677[0m

Name: 'papal blessing',  VNum: [ 9677], RNum: [  563]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: kiss
Commands:
if %actor.is_pc%
  if %cmd% == kiss && %arg% == ring
    if ! %papal%
      set papal 1
    else
      eval papal %papal% + 1
    end
    global papal
    if %papal% <= 3
      %send% %actor% You kiss the ring.
      %echoaround% %actor% %actor.name% kisses %self.name%'s ring.
      %echo% %self.name.toupper% bestows %self.hisher% blessing upon those who pay their respects.
      %load% obj 9677 %actor% inv
    else
      %send% %actor% %self.name.toupper% is in conclave at the moment.  His holiness looks forward to your future visit.
      detach 9677 %self.id%
      unset papal
    end
  end
end

>[0;00m
[0mCHECKING: 9730[0m
[0mCHECKING: 9900[0m

Name: 'testing time',  VNum: [ 9730], RNum: [  564]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: what
Commands:
if (%cmd% == what && %arg% /= time)
  %echo% %time.month% months %time.day% days %time.hour% hours have elapsed since the beginning of the mud year %time.year%.
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 9901[0m

Name: 'passenger performances',  VNum: [ 9900], RNum: [  565]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 10, Arg list: None
Commands:
*
* Random passenger actions
* 01 Mar 24  - Aegon 99
*
eval max %random.15%
*
set action[1] bumps you with %self.hisher% satchel, then glares at you accusingly as %self.heshe% shoulders past, still trying to find a seat.
set action[2] grabs for a handhold as the Metro Car suddenly lurches.
set action[3] checks %self.hisher% bags before reaching up and pulling the bell cord.
set action[4] looks anxiously at %self.hisher% watch before settling in place.
set action[5] cranes %self.hisher% neck to look down the crowded aisle. 
set action[6] shifts uncomfortably on the bench seat.
set action[7] glances nervously about the car, apparently looking for someone.
set action[8] nods in and out of a fitful sleep, a long day behind %self.himher%.
set action[9] neatly trims %self.hisher% nails to the horror of %self.hisher% fellow passengers.
set action[10] shifts a collection of bags and sacks, stocked full of rations and potions.
set action[11] sees an open seat and sits down.
set action[12] stands up, adjusts %self.hisher% coat, and prepares to disembark.
set action[13] reaches down to pick up something under the seat.
set action[14] pulls the bell cord and stands up.
set action[15] is absentmindedly staring off into the distance.
*
set next_action %%action[%max%]%%
eval next_action %next_action%
set room %self.room%
set room_vnum %room.vnum%
if (%room_vnum.charat(1)% == 9 && %room_vnum.charat(2)% == 9)
  %echo% %self.name.toupper% %next_action%
end

>[0;00m
[0mCHECKING: 9902[0m

Name: 'solo hyperloop',  VNum: [ 9901], RNum: [  566]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: *
Commands:
*
* initial coding by hurin
* 03 Mar 24 - Aegon - added all old metro stations
*                     added commemorative tee-shirt for all station travel
*                     added in-room entertainment
*
set room %self.room%
*
if %cmd% == destinations
  %send% %actor% Welcome to the SpaceX / hyperLoop Transit System Partnership!
  %send% %actor% We are currently offering non-stop trips to the following locations:
  *
  %send% %actor%  1) Greater Midgaard Union Station
  %send% %actor%  2) Rome Central hVTS
  %send% %actor%  3) Abandoned Outpost Station
  %send% %actor%  4) New Thalos Metro Station
  %send% %actor%  5) Wamphyr Aerie Substation
  %send% %actor%  6) Greater Sanctuary Union Station
  %send% %actor%  7) Arctic Empire Subtation 
  %send% %actor%  8) Gyles Memorial Metro Station
  %send% %actor%  9) Parliament of Owls hVTS Pad 
  %send% %actor% 10) Imperial Ravenna hVTS Pad
  *
elseif %cmd% == travel
  *
  if %arg% < 1 || %arg% > 10 || !%arg%
    %send% %actor% Please type "destinations" to see the selection of cities we currently serve.
    %send% %actor% To travel to a location, have a NFT in inventory, then simply type:
    %send% %actor% >travel <location ##>
    %send% %actor% For example: "travel 8"  would transport you to the Gyles Memorial Metro Station.
  else
    if %actor.inventory(9914)%
      %purge% %actor.inventory(9914)%
      *
      if ! %pod_num%
        set pod_num 9901
        global pod_num
      elseif (%pod_num% < 9911)
        eval pod_num %pod_num% + 1
        global pod_num
      else
        set pod_num 9901
        global pod_num
      end
      *
      set dest_vnum[1] 3120
      set dest[1] Greater Midgaard Union Station
      *
      set dest_vnum[2] 12068
      set dest[2] Rome Central hVTS
      *
      set dest_vnum[3] 4562
      set dest[3] Abandoned Outpost Station
      *
      set dest_vnum[4] 12498
      set dest[4] New Thalos Metro Station
      *
      set dest_vnum[5] 4328
      set dest[5] Wamphyrie Aerie Substation
      *
      set dest_vnum[6] 23530
      set dest[6] Greater Sanctuary Union Station
      *
      set dest_vnum[7] 2671
      set dest[7] Arctic Empire Substation
      *
      set dest_vnum[8] 2183
      set dest[8] Gyles Memorial Metro Station
      *
      set dest_vnum[9] 8975
      set dest[9] Parliament of Owls hVTS Pad
      *
      set dest_vnum[10] 9748
      set dest[10] Imperial Ravenna hVTS Pad
      *
      eval dest_vnum %%dest_vnum[%arg%]%%
      eval dest_room %%dest[%arg%]%%
      *
      if (%dest_vnum% != %room.vnum%)
        *
        %send% %actor% A shiny new hyperLoop pod is sucked onto the transport tube, and you carefully step into it.
        %echoaround% %actor% A shiny new hyperLoop pod appears next to %actor.name% on the hyperLoop pad.
        wait 2 s
        %echoaround% %actor% %actor.name% steps into the pod, the hatch closes, and %actor.name% is whisked away.
        wait 1 s
        %teleport% %actor% %pod_num%
        %force% %actor% look
        %at% %pod_num% %echo% Your pod will be departing shortly, please take your seat.
        wait 3 s
        %at% %pod_num% %echo% You feel a wash of electrostastic charge as the pod begins its journey.
        wait 2 s
        set film_no %random.10%
        set film[1] The Perfect Storm
        set film[2] E.T. the Extra-Terrestrial
        set film[3] Pirates of the Caribbean: Curse of the Black Pearl
        set film[4] Pearl Harbor
        set film[5] Atlas
        set film[6] Last Voyage of the Demeter
        set film[7] Mission to Mars
        set film[8] Mars Attacks!
        set film[9] Mortal Kombat!
        set film[10] Mighty Joe Young
        set film %%film[%film_no%]%%
        eval film %film%
        %at% %pod_num% %echo% Your in-flight entertainment has started!  Today's film: "%film%."
        wait 8 s
        %at% %pod_num% %echo% The pod slows down as it reaches %dest_room% and is lowered into the docking cradle.
        wait 4 s
        %at% %pod_num% %echo% Welcome to %dest_room%.
        %teleport% %actor% %dest_vnum%
        %force% %actor% look
        *
        if ! %actor.varexists(hyperLooped)%
          eval hyperLooped %dest_vnum%
        else
          if %actor.hyperLooped% < 0
            %send% %actor% The hot Associate purrs, "%actor.name%, you've already received your commemorative tee-shirt!  Wear it proudly!"
            return 0
            halt
          end
          *
          if ! (%actor.hyperLooped% /= %dest_vnum%)
            eval hyperLooped %actor.hyperLooped% %dest_vnum%
          else
            eval hyperLooped %actor.hyperLooped%
          end
        end
        *
        set next_station %hyperLooped%
        unset checksum
        *
        while %next_station%
          eval checksum %checksum% + %next_station.car%
          set next_station %next_station.cdr%
        done
        *
        if %checksum% == 83683
          %send% %actor% The hot hyperLoop Associate proclaims, "Congratulations %actor.name%! You've successfully completed a circumnavigation of the entire hyperLoop VTS!"
          %send% %actor% "Please wear our commemorative tee-shirt proudly!"
          *
          eval vnum 8960
          *
          if %actor.weight% < 50
            set size XS
          elseif %actor.weight% < 100
            set size SM
            eval vnum %vnum% + 1
          elseif %actor.weight% < 150
            set size MED
            eval vnum %vnum% + 2
          elseif %actor.weight% < 200
            set size LG
            eval vnum %vnum% + 3
          else
            set size XL
            eval vnum %vnum% + 4
          end
          *
          %load% obj %vnum% %actor% inv            
          %send% %actor% The hot hyperLoop Associate gives you a bright green hyperLoop tee-shirt in your size: %size%.
          set hyperLooped -1   
          *      
          %send% %actor% The Associate digs around in her shoulder bag...
          %send% %actor% She smiles at you and says, "Have this little extra token of our appreciation!"
          *
          * 17932 bronze  1
          * 17938 diamond 1000
          *
          if %random.100% == 100
            set token_offset 6
          elseif %random.100% >= 96
            set token_offset 5
          else
            eval token_offset %random.4%
          end
          *
          eval token 17931 + %token_offset%
          *
          %load% obj %token% %actor% inv 
          * 
        end
        *
        *      context %actor.id%
        global hyperLooped
        remote hyperLooped %actor.id%
      else
        %echo% You're already here at %dest_room%!  Where would you like to go?
        %load% obj 9914 %actor% inv
      end
    else
      %send% %actor% I'm sorry, but you need a NFT to travel in the hyperLoop Vacuum Transit System.
    end
  else
    return 0
    halt
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 9903[0m

Name: 'token trigger for train',  VNum: [ 9902], RNum: [  567]
Trigger Intended Assignment: Objects
Trigger Type: Leave , Numeric Arg: 100, Arg list: None
Commands:
if %direction% == east
if %actor.inventory(9901)%
%purge% %actor.inventory(9901)%
%send% %actor% The conductor takes a token from you.
%send% %actor% You step through the train doors.
  else 
%send% %actor% The Conductor tells you, 'You'll need a token to get on the train!'
   return 0
 end
end

>[0;00m
Name: 'passenger debarcation',  VNum: [ 9903], RNum: [  568]
Trigger Intended Assignment: Mobiles
Trigger Type: Leave , Numeric Arg: 25, Arg list: None
Commands:
if ! %actor.is_pc%
     %purge% %actor%
end

>[0;00m
[0mCHECKING: 9904[0m

Name: 'hype the loop',  VNum: [ 9904], RNum: [  569]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 7, Arg list: None
Commands:
*
* 18 Mar 24 - Aegon - hyperLoop VTS upgrade
*
*  give the hyperLoop associate a spiel
*
eval max %random.10%
set txt[1] The hyperLoop is HyperSafe!  Help prove it for us!
set txt[2] Think of a giant vacuum-cleaner, but instead of sucking dust, we're sucking you!
set txt[3] Our hyperLoop VTS is 50%% safer than unlicensed deep sea submersibles!
set txt[4] Look at the kiosk for ticketing instructions.
set txt[5] Tired of 19th century metro tokens? You'll need our new hVTS NFTs to travel.
set txt[6] Acceleration may be instantaneous and infinite!  Prepare yourself!
set txt[7] Pick up a commemorative tee-shirt from one of our Associates after you visit every destination -- should you survive!
set txt[8] No selfies in the pods, please. 
set txt[9] Please sign up for our mailing list and we'll let you know when new stations have been added.
set txt[10] The hyperLoop design winners have been announced!  The first place trophy was awarded to Froboz, Inc. 
set  speech %%txt[%max%]%%
eval speech %speech%
say %speech%

>[0;00m
[0mCHECKING: 9905[0m

Name: 'metro tourist performances',  VNum: [ 9905], RNum: [  570]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 10, Arg list: None
Commands:
*
* Random wanering tourist actions
* 01 Mar 24  - Aegon 99
*
eval max %random.15%
*
set action[1] asks you for directions to the Inn.  %self.heshe% says, "Would you be so kind to help a weary traveler from out of town?
set action[2] wonders aloud if there is a bar in this town?
set action[3] smiles and greets you in a slightly foreign accent.  Definitely from somewhere in the Darkspine Mountains.
set action[5] hefts %self.hisher% pack and shoulders past.
set action[6] stops to consult a rather massive folding map.  
set action[7] smiles and asks you for directions to the Cleric's Guild.
set action[8] stops a moment, drops %self.hisher% pack, and asks you for directions to the local Bank.  
set action[9] is waiting here to meet a friend.  %self.heshe% asks, "How be you, friend?"  
set action[10] is checking their satchel, slings and pockets for a missing purse, apparently pickpocketed by a local crew.  
set action[11] is hoping you'll spend a little time with %self.himher% touring the city.
set action[12] stands up, adjusts %self.hisher% coat, and prepares to find a local tavern.
set action[13] reaches down to pick up something on the street.
set action[14] wanders along the narrow street, window shopping the local finery.
set action[15] is absentmindedly staring off into the distance until they met your gaze.  %self.heshe% smiles.
*
set next_action %%action[%max%]%%
eval next_action %next_action%
set room %self.room%
set room_vnum %room.vnum%
if ! (%room_vnum.charat(1)% == 9 && %room_vnum.charat(2)% == 9)
  %echo% %self.name.toupper% %next_action%
end

>[0;00m
[0mCHECKING: 9906[0m

Name: 'the governor calls in the national guard',  VNum: [ 9906], RNum: [  571]
Trigger Intended Assignment: Rooms
Trigger Type: Random Enter , Numeric Arg: 8, Arg list: None
Commands:
if %actor.is_pc%
  wait 3 s
  %zoneecho% 9915 An overhead speaker crackles to life and a distorted voice drones, "We have recently experienced a rash of violence on the trains."
  wait 15 s
  %zoneecho% 9915 The voice continues in a distorted monotone, "Steps have been taken to ensure your safety and the safety of your fellow passengers."
  wait 15 s
  %zoneecho% 9915 The hollow voice concludes, "Enjoy the rest of your trip and visit us again, thank you."
end

>[0;00m
[0mCHECKING: 9907[0m
[0mCHECKING: 9917[0m

Name: 'red button surprise',  VNum: [ 9907], RNum: [  572]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: push
Commands:
if %cmd% == push || %arg% == button
  switch %random.10%
    case 1
      set vnum 7842
    break
    case 2
      set vnum 25411
    break
    case 3
      set vnum 1405
    break
    case 4
      set vnum 12110
    break
    case 5
      set vnum 13318
    break
    default
      set vnum -1
    break
  done
  if %vnum%
    * %echo% loading vnum: %vnum%
    %load% obj %vnum% %actor% inv
    set object %actor.inventory(%vnum%)%
    set desc %object.shortdesc%
    %send% %actor% %desc.toupper% has been placed in your inventory!
    wait 3 s
  else
    %echo% Nothing seems to happen.
  end
else
  return 1
  halt
end

>[0;00m
[0mCHECKING: 10110[0m

Name: 'blue line metro movement',  VNum: [ 9917], RNum: [  573]
Trigger Intended Assignment: Rooms
Trigger Type: Global Random , Numeric Arg: 100, Arg list: None
Commands:
*
*  initial coding by Hurin
*  01 Mar 24  - Aegon   mob performance mods
*                                   extended train arrival/departure warnings to all rooms
*                                   extended train movement relative position to entire zone
*  
set wait 10
eval shortwait %wait% / 2
eval longwait %wait% * 3
set spawn_passengers 13
*
if !%jmm%
  set jmm 1
  global jmm
  halt
elseif (%jmm% < 4)
  eval jmm %jmm% + 1
  global jmm
  halt
else
  unset jmm
  wait %shortwait% s
  %echo% Emerging from the tunnel, the train slows and gently stops at the platform.
  %at% 3120 %echo% Emerging from the tunnel, the train slows and gently stops at the platform.
  %echo% An small wall speaker drones, "Welcome to the Midgaard Metro Station."
  wait %shortwait% s
  %echo% The train doors open to the west.
  %door% %self.vnum% west room 3120
  %door% 3120 east room 9917
  %at% 3120 %echo% The train doors open to the east.
  set metrocar 9915
  while %metrocar% < 9921
    %at% %metrocar% %echo% A small wall speaker crackles with static, and a voice announces,  "Train has arrived at the Midgaard Metro Station."
    eval metrocar %metrocar% + 1
  done
  %at% 12498 %echo% A wall speaker crackles with static, and a voice announces,  "Train has arrived at the Midgaard Metro Station."
  %at% 2183 %echo% A wall speaker crackles with static, and a voice announces,  "Train has arrived at the Midgaard Metro Station."
  wait %shortwait% s
  set target_char %self.people%
  if %target_char%
    if (%target_char.alias% /= tourist) || (%target_char.alias% /= traveler)
      %echo% %target_char.name% pushes past you and leaves west.
      %purge% %target_char%
    end
  end
  wait %wait% s
  if %random.100% < %spawn_passengers%
    if %random.100% > 50
      %load% mob 9900
      %echo% A young passenger jogs onto the train and grabs the hand rail.
      wait %shortwait% s
    else
      %load% mob 9917
      %echo% An attractive tourist rushes onto the train and pushes into the crowd.
      wait %shortwait% s
    end
  end
  set metrocar 9915
  while %metrocar% < 9921
    %at% %metrocar% %echo% "Train will soon depart Midgaard Metro Station outbound for New Thalos Metro Station."
    eval metrocar %metrocar% + 1
  done 
  %at% 12498 %echo% The station speaker hisses with static, announcing, "Passenger loading, Midgaard Metro Station."
  %at% 3120 %echo% The station speaker hisses with static, announcing, "Passenger loading, Midgaard Metro Station."
  %at% 2183 %echo% The  station speaker hisses with static, announcing, "Passenger loading, Midgaard Metro Station."
  wait %longwait% s
  set metrocar 9915
  while %metrocar% < 9921
    %at% %metrocar% %echo% A small wall speaker crackles with static, and a garbled voice announces,  "Train now departing Midgaard Metro Station outbound for New Thalos Metro Station."
    eval metrocar %metrocar% + 1
  done   
  %at% 12498 %echo% The speaker comes to life, announcing, "Train now departing Midgaard Metro Station outbound for New Thalos Metro Station."
  %at% 3120 %echo% The speaker comes to life, announcing, "Train now departing Midgaard Metro Station outbound for New Thalos Metro Station."
  %at% 2183 %echo% The speaker comes to life, announcing, "Train now departing Midgaard Metro Station outbound for New Thalos Metro Station."
  wait %shortwait% s
  %at% 3120 %echo% "Please stand back from the doors."
  %echo% "Please stand back from the doors."
  %door% 3120 east purge
  %at% 3120 %echo% The doors to the east close, and the train departs the station.
  %door% %self.vnum% west purge
  %echo% The train doors close.
  %echo% You grab a handrail as the train lurches forward into the dark tunnel ahead.
  wait %wait% sec
  %at% 12498 %echo% The lights along the length of the platform to your east begin to flash.
  set metrocar 9915
  while %metrocar% < 9921
    %at% %metrocar% %echo% The small wall speaker pops with static and announces, "Train now approaching New Thalos Metro Station, 
    eval metrocar %metrocar% + 1
  done  
  %echo% "Doors will be opening to the west."
  wait %shortwait% s
  %echo% Emerging from the tunnel, the train slows and gently stops at the platform.
  %at% 12498 %echo% Emerging from the tunnel, the train slows and gently stops at the platform.
  %echo% "Welcome to the New Thalos Metro station."
  wait %shortwait% s
  %echo% The train doors open to the west.
  %door% %self.vnum% west room 12498
  %door% 12498 east room 9917
  %at% 12498 %echo% The train doors open to the east.
  set metrocar 9915
  while %metrocar% < 9921
    %at% %metrocar% %echo% A small wall speaker crackles with static, and a voice announces, "The train has arrived at the New Thalos Metro Station."
    eval metrocar %metrocar% + 1
  done   
  %at% 3120 %echo% A wall speaker crackles with static, and a voice announces, "The train has arrived at the New Thalos Metro Station."
  %at% 2183 %echo% A wall speaker crackles with static, and a voice announces, "The train has arrived at the New Thalos Metro Station."
  wait %shortwait% s
  set target_char %self.people%
  if %target_char%
    if (%target_char.alias% /= tourist) || (%target_char.alias% /= traveler)
      %echo% %target_char.name% pushes past you and leaves west.
      %purge% %target_char%
    end
  end
  wait %wait% s
  if %random.100% < %spawn_passengers%
    if %random.100% > 50
      %load% mob 9901
      %echo% A young tourist jogs onto the train and slips into a seat.
      wait %shortwait% s
    else
      %load% mob 9915
      %echo% A younger woman just makes it aboard the train in time. 
      wait %shortwait% s
    end
  end
  set metrocar 9915
  while %metrocar% < 9921
    %at% %metrocar% %echo% "Train will soon depart New Thalos Metro Station outbound for Gyles Memorial Station."
    eval metrocar %metrocar% + 1
  done
  %at% 12498 %echo% The station speaker hisses with static, announcing, "Passenger loading, New Thalos Metro Station."
  %at% 3120 %echo% The station speaker hisses with static, announcing, "Passenger loading,  New Thalos Metro Station."
  %at% 2183 %echo% The  station speaker hisses with static, announcing, "Passenger loading, New Thalos Metro Station."
  wait %longwait% sec
  set metrocar 9915
  while %metrocar% < 9921
    %at% %metrocar% %echo% A small wall speaker crackles with static, and a garbled voice announces,  "Train now departing New Thalos Metro Station outbound for Gyles Memorial Station."
    eval metrocar %metrocar% + 1
  done  
  %at% 3120 %echo%  The speaker comes to life, announcing, "Train now departing New Thalos Metro Station outbound for Gyles Memorial Station."
  %at% 2183 %echo% The speaker comes to life, announcing, "Train now departing New Thalos Metro Station outbound for Gyles Memorial Station."
  wait %shortwait% s
  %at% 12498 %echo% "Please stand back from the doors."
  %echo% "Please stand back from the doors."
  %door% 12498 east purge
  %at% 12498 %echo% The doors to the east close, and the train departs the station.
  %door% %self.vnum% west purge
  %echo% The train doors close.
  %echo% You grab a handrail as the train lurches forward into the dark tunnel ahead.
  wait %wait% s
  %at% 2183 %echo% The lights along the length of the platform to your east begin to flash.
  set metrocar 9915
  while %metrocar% < 9921
    %at% %metrocar% %echo% A garbled voice from the small wall speaker announces, "Train now approaching Gyles Memorial Station."
    eval metrocar %metrocar% + 1
  done   
  %echo% "Doors will be opening to the west."
  wait %shortwait% sec
  %echo% Emerging from the tunnel, the train slows and gently stops at the platform.
  %at% 2183 %echo% Emerging from the tunnel, the train slows and gently stops at the platform.
  %echo% "Welcome to the Gyles Memorial Station."
  wait %shortwait% s
  %echo% The train doors open to the west.
  %door% %self.vnum% west room 2183
  %door% 2183 east room 9917
  %at% 2183 %echo% The train doors open to the east. 
  set metrocar 9915
  while %metrocar% < 9921
    %at% %metrocar% %echo% A small wall speaker crackles with static, and a voice announces,  "Train has arrived at the Gyles Memorial Station."
    eval metrocar %metrocar% + 1
  done   
  %at% 3120 %echo% A wall speaker crackles with static, and a voice announces, "The train has arrived at the Gyles Memorial Station."
  %at% 12498 %echo% A wall speaker crackles with static, and a voice announces, "The train has arrived at the Gyles Memorial Station."
  wait %shortwait% s
  set target_char %self.people%
  if %target_char%
    if (%target_char.alias% /= tourist) || (%target_char.alias% /= traveler)
      %echo% %target_char.name% pushes past you and leaves west.
      %purge% %target_char%
    end
  end
  wait %wait% s
  if %random.100% < %spawn_passengers%
    if %random.100% > 50
      %load% mob 9916
      %echo% An elderly passenger boards and waits for a seat.
      wait %shortwait% s
    else
      %load% mob 9914
      %echo% An older woman makes her way past you and into the metro car. 
      wait %shortwait% s
    end
  end
  set metrocar 9915
  while %metrocar% < 9921
    %at% %metrocar% %echo% "Train will soon depart from Gyles Memorial Station inbound for New Thalos Metro Station."
    eval metrocar %metrocar% + 1
  done
  %at% 12498 %echo% The station speaker hisses with static, announcing, "Passenger loading, Gyles Memorial Station."
  %at% 3120 %echo% The station speaker hisses with static, announcing, "Passenger loading, Gyles Memorial Station."
  %at% 2183 %echo% The  station speaker hisses with static, announcing, "Passenger loading, Gyles Memorial Station."    
  wait %longwait% sec
  set metrocar 9915
  while %metrocar% < 9921
    %at% %metrocar% %echo%  A small wall speaker crackles with static, and a garbled voice announces,  "Train now departing Gyles Memorial Station inbound for New Thalos Station."
    eval metrocar %metrocar% + 1
  done 
  %at% 12498 %echo% The speaker comes to life, announcing, "Train now departing Gyles Memorial Station inbound for New Thalos Station."
  %at% 3120 %echo% The speaker comes to life, announcing, "Train now departing Gyles Memorial Station inbound for New Thalos Station."
  %at% 2183 %echo%  The speaker comes to life, announcing, "Train now departing Gyles Memorial Station inbound for New Thalos Station."
  wait %shortwait% s
  %at% 2183 %echo% "Please stand back from the doors."
  %echo% "Please stand back from the doors."
  %door% 2183 east purge
  %at% 2183 %echo% The doors to the east close, and the train departs the station.
  %door% %self.vnum% west purge  
  %echo% The train doors close.
  %echo% You grab a handrail as the train lurches forward into the dark tunnel ahead.
  wait %wait% sec
  %at% 12498 %echo% The lights along the length of the platform to your east begin to flash.
  set metrocar 9915
  while %metrocar% < 9921
    %at% %metrocar% %echo% A garbled voice from the small wall speaker announces,  "Train now approaching New Thalos Metro Station."
    eval metrocar %metrocar% + 1
  done 
  %echo% "Doors will be opening to the west."
  wait %shortwait% sec
  %echo% Emerging from the tunnel, the train slows and gently stops at the platform.
  %at% 12498 %echo% Emerging from the tunnel, the train slows and gently stops at the platform.
  %echo% "Welcome to the New Thalos Metro station."
  wait %shortwait% s
  %echo% The train doors open to your west.
  %door% %self.vnum% west room 12498
  %door% 12498 east room 9917
  %at% 12498 %echo% The train doors open to the east.
  set metrocar 9915
  while %metrocar% < 9921
    %at% %metrocar% %echo% A small wall speaker crackles with static, and a voice announces,  "The train has arrived at the New Thalos Metro Station."
    eval metrocar %metrocar% + 1
  done  
  %at% 3120 %echo% A wall speaker crackles with static, and a voice announces,  "The train has arrived at the New Thalos Metro Station."
  %at% 2183 %echo% A wall speaker crackles with static, and a voice announces,  "The train has arrived at the New Thalos Metro Station."
  wait %shortwait% s
  set target_char %self.people%
  if %target_char%
    if (%target_char.alias% /= tourist) || (%target_char.alias% /= traveler)
      %echo% %target_char.name% pushes past you and leaves west.
      %purge% %target_char%
    end
  end
  wait %wait% s
  if %random.100% < %spawn_passengers%
    if %random.100% > 50
      %load% mob 9900
      %echo% A young tourist jogs onto the train and slips into a seat.
      wait %shortwait% s
    else
      %load% mob 9917
      %echo% A younger woman just makes it aboard the train in time. 
      wait %shortwait% s
    end
  end
  %at% 12498 %echo% The station speaker hisses with static, announcing, "Passenger loading, New Thalos Metro Station."
  %at% 3120 %echo% The station speaker hisses with static, announcing, "Passenger loading, New Thalos Metro Station."
  %at% 2183 %echo% The  station speaker hisses with static, announcing, "Passenger loading, New Thalos Metro Station."
  wait %longwait% sec 
  set metrocar 9915
  while %metrocar% < 9921
    %at% %metrocar% %echo% "Train will soon depart New Thalos Metro Station inbound for Greater Midgaard Union Station."
    eval metrocar %metrocar% + 1
  done  
  set metrocar 9915
  while %metrocar% < 9921
    %at% %metrocar% %echo% A small wall speaker crackles with static, and a garbled voice announces,  "Train now departing New Thalos Metro Station inbound for Midgaard Metro Station."
    eval metrocar %metrocar% + 1
  done  
  %at% 12498 %echo% The speaker comes to life, announcing, "Train now departing New Thalos Metro Station inbound for Midgaard Metro Station."
  %at% 3120 %echo%  The speaker comes to life, announcing, "Train now departing New Thalos Metro Station inbound for Midgaard Metro Station."
  %at% 2183 %echo% The speaker comes to life, announcing, "Train now departing New Thalos Metro Station inbound for Midgaard Metro Station."
  wait %shortwait% s
  %at% 2183 %echo% "Please stand back from the doors."
  %echo%  "Please stand back from the doors."
  %door% 12498 east purge
  %at% 12498 %echo% The doors to the east close, and the train departs the station.
  %door% %self.vnum% west purge
  %echo% The train doors close.
  %echo% You grab a handrail as the train lurches forward into the dark tunnel ahead.
  wait %wait% s
  %at% 3120 %echo% The lights along the length of the platform to your east begin to flash.
  set metrocar 9915
  while %metrocar% < 9921
    %at% %metrocar% %echo% A garbled voice from the small wall speaker announces, "Train now approaching Midgaard Metro Station."
    eval metrocar %metrocar% + 1
  done   
  %echo% "Doors will be opening to the west."
end

[0mCHECKING: 10110[0m
[0mCHECKING: 10111[0m
Name: 'socrates' speech',  VNum: [10110], RNum: [  574]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 12, Arg list: None
Commands:
eval max %random.14%
set txt[1]  Let him that would move the world, first move himself.
set txt[2]  Employ your time in improving yourself by other men's writings, so that you shall gain easily what others have labored hard for.
set txt[3]  No evil can befall a good man.
set txt[4]  You alone are in possession of the fundamental freedom of shaping your own attitude about what is going on.
set txt[5]  He is richest who is content with the least, for content is the wealth of nature.
set txt[6]  And in knowing that you know nothing, that makes you the smartest of all.
set txt[7]  To find yourself, think for yourself.
set txt[8]  My belief is that to have no wants is divine.
set txt[9]  I know nothing except the fact of my ignorance.
set txt[10]  By all means get married, If you get a good wife you'll become happy; If you get a bad one, you'll become a philosopher.
set txt[11]  As for me, all I know is that I know nothing.
set txt[12]  We have devised a series of operating signals. The second one says "yes," "go," "concur," "execute," "good." For this we use any two of anything - the most efficient signal except for the single beat "no" signal.
set txt[13]  Honor is often what remains after faith, love, and hope are lost.
set txt[14]  It is the wise leader who comes to the conclusion that he can't be had if he can't be made to feel guilty.
set  speech %%txt[%max%]%%
eval speech %speech%
say %speech%

>[0;00m
Name: 'plato speech',  VNum: [10111], RNum: [  575]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 8, Arg list: None
Commands:
* Plato - M21 - T184 By Rumble
eval max %random.22%
set txt[1] Wise men speak because they have something to say; Fools because they have to say something
set txt[2] Those who are too smart to engage in politics are punished by being governed by those who are dumber.
set txt[3] This I know - that I know nothing.
set txt[4] They do certainly give very strange, and newfangled, names to diseases.
set txt[5] The measure of a man is what he does with power.
set txt[6] The greatest wealth is to live content with little.
set txt[7] The man who makes everything that leads to happiness depend upon himself, and not upon other men, has adopted the very best plan for living happily.
set txt[8] For a man to conquer himself is the first and noblest of all victories.
set txt[9] And now I depart hence condemned by you to suffer the penalty of death, and they, too, go their ways condemned by the truth to suffer the penalty of villainy and wrong; and I must abide by my award - let them abide by theirs.
set txt[10] Be kind, for everyone you meet is fighting a harder battle.
set txt[11] Necessity, who is the mother of invention.
set txt[12] You can discover more about a person in an hour of play than in a year of conversation.
set txt[13] When men speak ill of you, live so as nobody may believe them.
set txt[14] Good people do not need laws to tell them to act responsibly, while bad people will find a way around the laws.
set txt[15] One of the penalties for refusing to participate in politics is that you end up being governed by your inferiors.
set txt[16] The life which is unexamined is not worth living.
set txt[17] Death is not the worst than can happen to men.
set txt[18] Never discourage anyone...who continually makes progress, no matter how slow.
set txt[19] Ignorance, the root and the stem of every evil.
set txt[20] No human thing is of serious importance.
set txt[21] Courage is simply endurance of the soul.
set txt[22] Courage must be exercised in the presence of fear.
set  speech %%txt[%max%]%%
eval speech %speech%
say %speech%

>[0;00m
[0mCHECKING: 10112[0m

Name: 'aristotle speech',  VNum: [10112], RNum: [  576]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 8, Arg list: None
Commands:
* Aristotle - M22 - T185 By Rumble
eval max %random.26%
set txt[1] Education is an ornament in prosperity and a refuge in adversity.
set txt[2] A good man with a flaw who had come to an unjustified bad end.
set txt[3] All paid jobs absorb and degrade the mind.
set txt[4] Education is the best provision for the journey to old age.
set txt[5] To perceive is to suffer.
set txt[6] The gods too are fond of a joke.
set txt[7] We are what we repeatedly do.
set txt[8] Misfortune shows those who are not really friends.
set txt[9] Hope is a waking dream.
set txt[10] Dignity consists not in possessing honors, but in the consciousness that we deserve them.
set txt[11] It is the mark of an educated mind to be able to entertain a thought without accepting it.
set txt[12] Man perfected by society is the best of all animals; he is the most terrible of all when he lives without law, and without justice.
set txt[13] I have gained this by philosophy: that I do without being commanded what others do only from fear of the law.
set txt[14] It is possible to fail in many ways...while to succeed is possible only in one way.
set txt[15] In poverty and other misfortunes of life, true friends are a sure refuge. The young they keep out of mischief; to the old they are a comfort and aid in their weakness, and those in the prime of life they incite to noble deeds.
set txt[16] Happiness is the meaning and the purpose of life, the whole aim and end of human existence.
set txt[17] He who is to be a good ruler must have first been ruled.
set txt[18] There was never a genius without a tincture of madness.
set txt[19] Those who educate children well are more to be honored than parents, for these only gave life, those the art of living well.
set txt[20] Those that know, do. Those that understand, teach.
set txt[21] I count him braver who overcomes his desires than him who conquers his enemies; for the hardest victory is over self.
set txt[22] The unfortunate need people who will be kind to them; the prosperous need people to be kind to.
set txt[23] Youth is easily deceived, because it is quick to hope.
set txt[24] Teaching is the highest form of understanding.
set txt[25] Excellence is an art won by training and habituation. We do not act rightly because we have virtue or excellence, but we rather have those because we have acted rightly. We are what we repeatedly do. Excellence, then, is not an act but a habitset txt[26] Courage is a man's ability to handle fear.
set  speech %%txt[%max%]%%
eval speech %speech%
say %speech%

>[0;00m
[0mCHECKING: 10113[0m

Name: 'diogenes speech',  VNum: [10113], RNum: [  577]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 8, Arg list: None
Commands:
* Diogenes was a Greek Philosopher (412 BC - 323 BC) famous for living in a barrel and speaking on any subject.
eval max %random.25%
set txt[1] I am called a dog because I fawn on those who give me anything, I yelp at those who refuse, and I set my teeth in rascals.
set txt[2] The foundation of every state is the education of its youth.
set txt[3] Wise kings generally have wise counselors; and he must be a wise man himself who is capable of distinguishing one.
set txt[4] We have two ears and one tongue so that we would listen more and talk less.
set txt[5] When I look upon seamen, men of science and philosophers, man is the wisest of all beings; when I look upon priests and prophets nothing is as contemptible as man.
set txt[6] The mob is the mother of tyrants.
set txt[7] Of what use is a philosopher who doesn't hurt anybody's feelings?
set txt[8] I know nothing, except the fact of my ignorance.
set txt[9] It is the privilege of the gods to want nothing, and of godlike men to want little.
set txt[10] Dogs and philosophers do the greatest good and get the fewest rewards.
set txt[11]There is only a finger's difference between a wise man and a fool.
set txt[12] In a rich man's house there is no place to spit but his face.
set txt[13] The vine bears three kinds of grapes: the first of pleasure, the second of intoxication, the third of disgust.
set txt[14] The great thieves lead away the little thief.
set txt[15] Great Thief Thieves Little Modesty is the color of virtue.
set txt[16] No man is hurt but by himself.
set txt[17] Calumny is only the noise of madmen.
set txt[18] The art of being a slave is to rule one's master.
set txt[19] Those who have virtue always in their mouths, and neglect it in practice, are like a harp, which emits a sound pleasing to others, while itself is insensible of the music.
set txt[20] He has the most who is most content with the least.
set txt[21] As a matter of self-preservation, a man needs good friends or ardent enemies, for the former instruct him and the latter take him to task.
set txt[22] I have nothing to ask but that you would remove to the other side, that you may not, by intercepting the sunshine, take from me what you cannot give.
set txt[23] I threw my cup away when I saw a child drinking from his hands at the trough.
set txt[24] Why not whip the teacher when the pupil misbehaves?
set txt[25] The sun, too, shines into cesspools and is not polluted.
set  speech %%txt[%max%]%%
eval speech %speech%
say %speech%

>[0;00m
[0mCHECKING: 10184[0m

Name: 'Mouse speech',  VNum: [10184], RNum: [  578]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 15 sec
   echo You hear a muffled squeak.

>[0;00m
[0mCHECKING: 10186[0m
[0mCHECKING: 10187[0m

Name: 'Desperate bum speech',  VNum: [10186], RNum: [  579]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP   
   wait 2 sec
   switch %random.3%
       case 1
          wait 15 sec
          %echo% The bum looks at you forlornly.  "Hey, Man, Spare some bread?"
          break
       case 2
          wait 10 sec
          %echo% The bum tugs at your sleeve, "Excuse me, sir, spare a coin for the less fortunate?"
          break
       case 3
          wait 20 sec
          %echo% The bum shakes his fist at you and shouts, "Give me some of your money, you popinjay! You have it all! C'mon, you don't need all that!"
          break
     done

>[0;00m
[0mCHECKING: 10300[0m

Name: 'Desperate bum leader speech',  VNum: [10187], RNum: [  580]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP   
   wait 2 sec
   switch %random.3%
       case 1
          wait 15 sec
          %echo% "NO MORE!" the bum shouts, "No more will we be kept down below our rightful place to eat, drink, and sleep dryly!"
          break
       case 2
          wait 10 sec
          %echo% "Those guards, they don't want us 'undesirables' on the streets, near their vendors.  I say we take them!", shouts the bum, shaking his fist in the air at the end.
          break
       case 3
          wait 20 sec
          %echo% The bum tries to incite the crowd more, "The vendors, making all that money, and can't spare us an apple or a spot of wine, they too must pay!"
          break
     done

>[0;00m
[0mCHECKING: 10301[0m

Name: 'Combine Monopoly tokens to make mustache',  VNum: [10300], RNum: [  581]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 3, Arg list: combine
Commands:
if %cmd% == combine && %arg% /= monopoly pieces
if %actor.inventory(10346)% && %actor.inventory(10347)% && %actor.inventory(10348)% && %actor.inventory(10349)% && %actor.inventory(10350)% && %actor.inventory(10351)%
%load% obj 10334 %actor% inv
%echoaround% %actor% %actor.name% starts to combine the monopoly pieces.
%echoaround% %actor% %actor.name% has created Mr Monopoly's Mustache.
%send% %actor% You begin to combine the Monopoly pieces.
%send% %actor% You bounce with excitement as you are rewarded with Mr Monopoly's Mustache!
%purge% %actor.inventory(10346)%
%purge% %actor.inventory(10347)%
%purge% %actor.inventory(10348)%
%purge% %actor.inventory(10351)%
%purge% %actor.inventory(10350)%
%purge% %actor.inventory(10349)%
else
%send% %actor% Want to try something different?
end
else
return 0
end

>[0;00m
Name: 'Turn Monopoly card to create random card',  VNum: [10301], RNum: [  582]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 3, Arg list: Turn
Commands:
if %cmd% == turn && %arg% /= card over && if %actor.inventory(10352)%
%echoaround% %actor% %actor.name% turns a Monopoly card over.
%send% %actor% You turn a Monopoly card over.
eval anumber %random.35%
if %anumber% == 1
%load% obj 10300 %actor% inv
%echoaround% %actor% %actor.name% just passed Go!
%send% %actor% You passed Go! Collect $200 + interest!
nop %actor.gold(+200000)%
elseif %anumber% == 2
%load% obj 10301 %actor% inv
elseif %anumber% == 3
%load% obj 10302 %actor% inv
elseif %anumber% == 4
%load% obj 10303 %actor% inv
elseif %anumber% == 5
%load% obj 10304 %actor% inv
elseif %anumber% == 6
%load% obj 10305 %actor% inv
elseif %anumber% == 7
%load% obj 10307 %actor% inv
elseif %anumber% == 8
%load% obj 10308 %actor% inv
elseif %anumber% == 9
%load% obj 10309 %actor% inv
elseif %anumber% == 10
%load% obj 10310 %actor% inv
elseif %anumber% == 11
%load% obj 10311 %actor% inv
%send% %actor% Luxury Tax! Enjoy the finer things in life, including paying for them.
nop %actor.gold(-200000)%
elseif %anumber% == 12
%load% obj 10312 %actor% inv
elseif %anumber% == 13
%load% obj 10313 %actor% inv
elseif %anumber% == 14
%load% obj 10314 %actor% inv
elseif %anumber% == 15
%load% obj 10315 %actor% inv
elseif %anumber% == 16
%load% obj 10316 %actor% inv
elseif %anumber% == 18
%load% obj 10318 %actor% inv
elseif %anumber% == 19
%load% obj 10319 %actor% inv
elseif %anumber% == 20
%load% obj 10320 %actor% inv
elseif %anumber% == 21
%load% obj 10321 %actor% inv
elseif %anumber% == 22
%load% obj 10306 %actor% inv
elseif %anumber% == 23
%load% obj 10344 %actor% inv
elseif %anumber% == 24
%load% obj 10324 %actor% inv
elseif %anumber% == 25
%load% obj 10325 %actor% inv
elseif %anumber% == 26
%load% obj 10326 %actor% inv
elseif %anumber% == 27
%load% obj 10327 %actor% inv
elseif %anumber% == 28
%load% obj 10328 %actor% inv
elseif %anumber% == 29
%load% obj 10329 %actor% inv
elseif %anumber% == 30
%load% obj 10330 %actor% inv
elseif %anumber% == 31
%load% obj 10331 %actor% inv
%send% %actor% Free Parking! It's free, and you can park...get the idea?
%send% %actor% Uncle Pennybags has just given you a financial boost! 
nop %actor.gold(+300000)%
elseif %anumber% == 32
%load% obj 10332 %actor% inv
%send% %actor% Income Tax! Time to fund dear ol' 'Merica!
nop %actor.gold(-100000)%
elseif %anumber% == 33
%load% obj 10340 %actor% inv
elseif %anumber% == 34
%load% obj 10341 %actor% inv
elseif %anumber% == 35
%load% obj 10342 %actor% inv
elseif %anumber% == 17
%load% obj 10317 %actor% inv
%echo% The jailor arrests %actor.name% and drags them off to jail.
%send% %actor% Go directly to jail! Do not pass Go! Do no collect $200!
%teleport% %actor% 10301
end
%purge% %actor.inventory(10352)%
else
return 0
end

>[0;00m
[0mCHECKING: 10302[0m

Name: 'Build green house from property cards',  VNum: [10302], RNum: [  583]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 3, Arg list: Build
Commands:
if %cmd% == build && %arg% /= green house
if %actor.inventory(10313)% && %actor.inventory(10314)% && %actor.inventory(10315)%
%load% obj 10353 %actor% inv
%echoaround% %actor% %actor.name% builds a green Monopoly house.
%send% %actor% Congratulations! You've built a green Monopoly house.
%purge% %actor.inventory(10313)%
%purge% %actor.inventory(10314)%
%purge% %actor.inventory(10315)%
else
%send% %actor% You dont know how to make that.
end

>[0;00m
[0mCHECKING: 10303[0m

Name: 'Build brown house from property cards',  VNum: [10303], RNum: [  584]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 3, Arg list: Build
Commands:
if %actor.inventory(10302)% && %actor.inventory(10301)%
%load% obj 10354 %actor% inv
%echoaround% %actor% %actor.name% builds a brown Monopoly house
%send% %actor% Congratulations! You've built a brown Monopoly house.
%purge% %actor.inventory(10301)%
%purge% %actor.inventory(10302)%
else
%send% %actor% You dont know how to make that.
end

>[0;00m
[0mCHECKING: 10304[0m

Name: 'Monopoly - Transform Evening Suit to Morning Suit',  VNum: [10304], RNum: [  585]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: Reverse
Commands:
if %cmd% == reverse && suit /= %arg%
if %self.vnum(10335)%
%transform% 10336
%send% %actor% You reverse Mr Monopoly's Suit
elseif %self.vnum(10336)%
%transform% 10335
%send% %actor% You turn Mr Monopoly's Suit back front-side outside inside again.
end
else
return 0
end

>[0;00m
[0mCHECKING: 10305[0m

Name: 'Build pink house from property cards',  VNum: [10305], RNum: [  586]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 3, Arg list: Build
Commands:
if %cmd% == build && %arg% /= pink house
if %actor.inventory(10324)% && %actor.inventory(10325)% && %actor.inventory(10326)%
%load% obj 10355 %actor% inv
%echoaround% %actor% %actor.name% builds a pink Monopoly house.
%send% %actor% Congratulations! You've built a pink Monopoly house.
%purge% %actor.inventory(10324)%
%purge% %actor.inventory(10325)%
%purge% %actor.inventory(10326)%
else
%send% %actor% You dont know how to make that.
end

>[0;00m
[0mCHECKING: 10306[0m

Name: 'Build orange house from property cards',  VNum: [10306], RNum: [  587]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 3, Arg list: Build
Commands:
if %cmd% == build && %arg% /= orange house
if %actor.inventory(10328)% && %actor.inventory(10329)% && %actor.inventory(10330)%
%load% obj 10356 %actor% inv
%echoaround% %actor% %actor.name% builds a orange Monopoly house
%send% %actor% Congratulations! You've built a orange Monopoly house
%purge% %actor.inventory(10328)%
%purge% %actor.inventory(10329)%
%purge% %actor.inventory(10330)%
else
%send% %actor% You dont know how to make that.
end

>[0;00m
[0mCHECKING: 10307[0m

Name: 'Build light blue house from property cards',  VNum: [10307], RNum: [  588]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 3, Arg list: Build
Commands:
if %cmd% == build && %arg% /= light blue house
if %actor.inventory(10320)% && %actor.inventory(10321)% && %actor.inventory(10309)%
%load% obj 10357 %actor% inv
%echoaround% %actor% %actor.name% builds a light blue Monopoly house
%send% %actor% Congratulations! You've built a light blue Monopoly house
%purge% %actor.inventory(10320)%
%purge% %actor.inventory(10321)%
%purge% %actor.inventory(10309)%
else
%send% %actor% You dont know how to make that.
end

>[0;00m
[0mCHECKING: 10308[0m
[0mCHECKING: 10309[0m

Name: 'Build yellow house from property cards',  VNum: [10308], RNum: [  589]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 3, Arg list: Build
Commands:
if %cmd% == build && %arg% /= yellow house
if %actor.inventory(10318)% && %actor.inventory(10316)% && %actor.inventory(10340)%
%load% obj 10358 %actor% inv
%echoaround% %actor% %actor.name% builds a yellow Monopoly house
%send% %actor% Congratulations! You've built a yellow Monopoly house
%purge% %actor.inventory(10318)%
%purge% %actor.inventory(10316)%
%purge% %actor.inventory(10340)%
else
%send% %actor% You dont know how to make that.
end

>[0;00m
[0mCHECKING: 10310[0m

Name: 'Build red house from property cards',  VNum: [10309], RNum: [  590]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 3, Arg list: Build
Commands:
if %cmd% == build && %arg% /= red house
if %actor.inventory(10341)% && %actor.inventory(10342)% && %actor.inventory(10344)%
%load% obj 10360 %actor% inv
%echoaround% %actor% %actor.name% builds a red Monopoly house
%send% %actor% Congratulations! You've built a red Monopoly house
%purge% %actor.inventory(10341)%
%purge% %actor.inventory(10342)%
%purge% %actor.inventory(10344)%
else
%send% %actor% You dont know how to make that.
end

>[0;00m
[0mCHECKING: 10311[0m

Name: 'Build dark blue house from property cards',  VNum: [10310], RNum: [  591]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 3, Arg list: Build
Commands:
if %cmd% == build && %arg% /= dark blue house
if %actor.inventory(10310)% && %actor.inventory(10312)%
%load% obj 10359 %actor% inv
%echoaround% %actor% %actor.name% builds a dark blue Monopoly house
%send% %actor% Congratulations! You've built a dark blue Monopoly house.
%purge% %actor.inventory(10310)%
%purge% %actor.inventory(10312)%
else
%send% %actor% You dont know how to make that.
end

>[0;00m
Name: 'Transfer to jail',  VNum: [10311], RNum: [  592]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 100, Arg list: None
Commands:
%send% %actor% Go directly to jail! Do not pass Go! Do no collect $200!
%echoaround% The jailor arrests %actor.name% and drags them off to jail.
wait 1s
%teleport% %actor% 10301
detatch all %self.id%

>[0;00m
[0mCHECKING: 10312[0m

Name: 'Jail - Prevent Quit',  VNum: [10312], RNum: [  593]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: quit
Commands:
if %cmd.mudcommand% == quit
  %send% %actor% You get up and bang your fists and head against the bars in rage....then you pass out.
else
return 0
end

>[0;00m
[0mCHECKING: 10313[0m

Name: 'Jailor Speech - Monopoly',  VNum: [10313], RNum: [  594]
Trigger Intended Assignment: Mobiles
Trigger Type: Random Greet , Numeric Arg: 10, Arg list: None
Commands:
%echo% The Jailor walks up to the bars of your cell and smiles.
wait 5 s
%echo% He then leans in and whispers discreetly, "For a small price, I can get you out of here before your sentence is up."  He holds out his palm expectantly.

>[0;00m
[0mCHECKING: 10314[0m

Name: 'Turn Community Chest Card Over',  VNum: [10314], RNum: [  595]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: turn
Commands:
if %cmd% == turn && %arg% /= chance over
if %actor.inventory(10308)%
%echoaround% %actor% %actor.name% turns a Chance card over.
%send% %actor% You turn a Chance card over.
eval anumber %random.11%
if %anumber% == 1
%send% %actor% Advance to Go! Collect $200000!
nop %actor.gold(+200000)%
elseif %anumber% == 2
%send% %actor% Bank pays you dividend of $50000
nop %actor.gold(+50000)%
elseif %anumber% == 3
%send% %actor% Pay Poor Tax, $15000
nop %actor.gold(-15000)%
elseif %anumber% == 4
%send% %actor% You've been elected chairman of the board, pay $25000
nop %actor.gold(-25000)%
elseif %anumber% == 5
%send% %actor% Get out of Jail Free!
%load% obj 10363 %actor% inv
elseif %anumber% == 6
%send% %actor% Make general repairs to all your properties, pay $50000!
nop %actor.gold(-50000)%
elseif %anumber% == 7
%send% %actor% Your building loan matures, collect $150000
nop %actor.gold(+150000)%
elseif %anumber% == 8
%send% %actor% You've won a crossword competition, Collect $100000
nop %actor.gold(+100000)%
elseif %anumber% == 9
%send% %actor% Advance to Illinois Avenue
%load% obj 10341 %actor% inv
elseif %anumber% == 10
%send% %actor% Advance to St Charles Place
%load% obj 10324 %actor% inv
elseif %anumber% == 11
%send% %actor% Go to Jail, Go directly to Jail, Do not pass Go, Do not collect $200!
%echo% The jailor arrests %actor.name% and drags them off to jail.
wait 3s
%teleport% %actor% 10301
end
%purge% %actor.inventory(10308)%
else
return 0
end

>[0;00m
[0mCHECKING: 10315[0m

Name: 'Jail Timer',  VNum: [10315], RNum: [  596]
Trigger Intended Assignment: Rooms
Trigger Type: Random , Numeric Arg: 25, Arg list: None
Commands:
*
* jail timer
*
set cooloff 6
*
set target %self.people%
while %target%
  set next_target %target.next_in_room%
  if %target.is_pc%
    if %target.varexists(monopoly_jail)%
      extract oday 1 %target.monopoly_jail%
      extract ohour 2 %target.monopoly_jail%
      if %time.day% > %oday%
        eval hour %time.hour% + 23
      else
        set hour %time.hour%
      end
      if %hour% > (%ohour% + %cooloff%)
        %echo% The Jailor growls, "%target.name%, you've served your time, begone!"
        %echoaround% %target% The Jailor boots %target.name% from the cell.
        %teleport% %target% 10302
        %force% %actor% look
        %at% 10302 %echo% %target.name% arrives.
        rdelete monopoly_jail %target.id%
      else
        %echo% %debug% checking stay: if HOUR: %hour% > OHOUR: %ohour% + COOLOFF: %cooloff%
      end
    else
      set monopoly_jail %time.day% %time.hour%
      global monopoly_jail
      remote monopoly_jail %target.id%
    end
  end
  set target %next_target%
done

>[0;00m
[0mCHECKING: 10316[0m
[0mCHECKING: 10317[0m

Name: 'Machine sells bribe',  VNum: [10316], RNum: [  597]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 100, Arg list: buy
Commands:
if %cmd.mudcommand% == buy && (%arg% /= donation || %arg% /= bribe)
  if %actor.gold% < 500000
    %send% %actor% You have insufficient funds to complete the transaction.
  else
    %load% obj 10338 %actor% inv
    %send% %actor%  You quickly grab your purchase as it tumbles from the machine.
    nop %actor.gold(-500000)%
  end
else
  return 0
end

>[0;00m
[0mCHECKING: 10318[0m

Name: 'Give GOOJF Card to Jailor',  VNum: [10317], RNum: [  598]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
*
*
*
if %object.vnum% == 10363
  wait 1 sec
  %send% %actor% The Jailor checks the authenticity of your document.
  %echoaround% %actor% The Jailor examines %actor.name%'s document.
  wait 2 sec
  %send% %actor% Satisfied everything is in order the Jailor boots you out of the cell.
  %echoaround% %actor% The Jailor nods at %actor.name% then shoves %actor.himher% out of the cell.  
  %teleport% %actor% 10302
  %at% 10302 %echo% %actor.name% has arrived.
  %force% %actor% look
  %purge% %object%
else
  %send% %actor% He doesn't seem interested in that.
  return 0
end

>[0;00m
Name: 'Turn Chance Card Over',  VNum: [10318], RNum: [  599]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: turn
Commands:
if %cmd% == turn && %arg% /= chance over
%echoaround% %actor% %actor.name% turns a Chance card over.
eval anumber %random.11%
if %anumber% == 1
%send% %actor% Advance to Go! Collect $200000!
nop %actor.gold(+200000)%
elseif %anumber% == 2
%send% %actor% Bank pays you dividend of $50000
nop %actor.gold(+50000)%
elseif %anumber% == 3
%send% %actor% Pay Poor Tax, $15000
nop %actor.gold(-15000)%
elseif %anumber% == 4
%send% %actor% You've been elected chairman of the board, pay $25000
nop %actor.gold(-25000)%
elseif %anumber% == 5
%send% %actor% Get out of Jail Free!
%load% obj 10363 %actor% inv
elseif %anumber% == 6
%send% %actor% Make general repairs to all your properties, pay $50000!
nop %actor.gold(-50000)%
elseif %anumber% == 7
%send% %actor% Your building loan matures, collect $150000
nop %actor.gold(+150000)%
elseif %anumber% == 8
%send% %actor% You've won a crossword competition, Collect $100000
nop %actor.gold(+100000)%
elseif %anumber% == 9
%send% %actor% Advance to Illinois Avenue
%load% obj 10341 %actor% inv
elseif %anumber% == 10
%send% %actor% Advance to St Charles Place
%load% obj 10324 %actor% inv
elseif %anumber% == 11
%send% %actor% Go to Jail, Go directly to Jail, Do not pass Go, Do not collect $200!
%echo% The jailor arrests %actor.name% and drags them off to jail.
wait 3s
%teleport% %actor% 10301
end
%purge% %actor.inventory(10308)%
else
return 0
end

>[0;00m
[0mCHECKING: 10319[0m

Name: 'Jail - Trap all cmds',  VNum: [10319], RNum: [  600]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: *
Commands:
*
*
*
if %cmd% == n || %cmd% == s || %cmd% == give || %cmd% == look || %cmd% == bal || %cmd% == withdraw || %cmd% == click || %cmd% == gaze
  return 0
elseif %cmd% == bribe || %cmd% == pay
  wait 1 s
  %send% %actor% If you want to bribe the Jailor, give him 50,000 gold coins.
  return 0
else
  %echo% The Jailor looms over you and threatens, "Looks like you have two choices: do the time or bribe the Jailor."  He winks at you expectantly.
  *
  * return while testing
  *
  return 0
end

>[0;00m
[0mCHECKING: 10320[0m

Name: 'Jail - Prevent exit with trump card',  VNum: [10320], RNum: [  601]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 2, Arg list: gaze
Commands:
if %cmd% == gaze && %arg% /= thalos
%send %actor% You really thought it would be that easy?
else
return 0
end

>[0;00m
[0mCHECKING: 10321[0m

Name: 'Ruby slipper fix',  VNum: [10321], RNum: [  602]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: click
Commands:
if %cmd.mudcommand% == click && %arg% == ruby
  %teleport% %actor% 10301
  %echo% blah blah
end

>[0;00m
[0mCHECKING: 10322[0m

Name: 'Bribe the Jailor',  VNum: [10322], RNum: [  603]
Trigger Intended Assignment: Mobiles
Trigger Type: Bribe , Numeric Arg: 1, Arg list: None
Commands:
set bribe_amt 50000
*
if %amount% >= %bribe_amt%
  wait 1 sec
  %send% %actor% The Jailor accepts your bribe.
  %echoaround% %actor% The Jailor accepts a bag of gold from %actor.name%.
  wait 2 sec
  %send% %actor% The Jailor nods at you, has a quick glance around the room, then shoves you out of the cell.
  %echoaround% %actor% The Jailor nods at %actor.name% then shoves %actor.himher% out of the cell.  
  %teleport% %actor% 10302
  %at% 10302 %echo% %actor.name% has arrived.
  %force% %actor% look
  if %actor.varexists(monopoly_jail)%
    rdelete monopoly_jail %actor.id%
  end
else
  %send% %actor% The Jailor sneers at you and says, "Your freedom must be worth more than thatl!"
end

>[0;00m
[0mCHECKING: 10400[0m
[0mCHECKING: 10401[0m

Name: 'Make gloves from eggs and silver basket',  VNum: [10400], RNum: [  604]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 3, Arg list: make
Commands:
if %cmd% == make && %arg% /= easter gloves
if %actor.inventory(10400)% && %actor.inventory(10401)% && %actor.inventory(10402)% && %actor.inventory(10403)% && %actor.inventory(10404)% && %actor.inventory(10405)% && %actor.inventory(10406)% && %actor.inventory(10407)% && %actor.inventory(10408)% && %actor.inventory(10421)%
%load% obj 10418 %actor% inv
%echoaround% %actor% %actor.name% offers a full basket of eggs to the Easter Bunny.
%send% %actor% The Easter Bunny gives you a reward, before hopping away with your eggs.
%purge% %actor.inventory(10400)%
%purge% %actor.inventory(10401)%
%purge% %actor.inventory(10402)%
%purge% %actor.inventory(10403)%
%purge% %actor.inventory(10404)%
%purge% %actor.inventory(10405)%
%purge% %actor.inventory(10406)%
%purge% %actor.inventory(10407)%
%purge% %actor.inventory(10408)%
%purge% %actor.inventory(10421)%
else
%send% %actor% Easter Bunny is not impressed.
end
else
return 0
end

>[0;00m
[0mCHECKING: 10402[0m

Name: 'Make bonnet from eggs peeps gold basket',  VNum: [10401], RNum: [  605]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 3, Arg list: make
Commands:
if %cmd% == make && %arg% /= easter bonnet
if %actor.inventory(10400)% && %actor.inventory(10401)% && %actor.inventory(10402)% && %actor.inventory(10403)% && %actor.inventory(10404)% && %actor.inventory(10405)% && %actor.inventory(10406)% && %actor.inventory(10407)% && %actor.inventory(10408)% && %actor.inventory(10409)% && %actor.inventory(10410)% && %actor.inventory(10411)% && %actor.inventory(10412)%
%load% obj 10415 %actor% inv
%echoaround% %actor% %actor.name% offers a full basket of eggs and peeps to the Easter Bunny.
%send% %actor% The Easter Bunny gives you a reward, before hopping away with your eggs and peeps.
%purge% %actor.inventory(10400)%
%purge% %actor.inventory(10401)%
%purge% %actor.inventory(10402)%
%purge% %actor.inventory(10403)%
%purge% %actor.inventory(10404)%
%purge% %actor.inventory(10405)%
%purge% %actor.inventory(10406)%
%purge% %actor.inventory(10407)%
%purge% %actor.inventory(10408)%
%purge% %actor.inventory(10412)%
%purge% %actor.inventory(10410)%
%purge% %actor.inventory(10411)%
%purge% %actor.inventory(10409)%
else
%send% %actor% Easter Bunny is not impressed.
end
else return 0
end

>[0;00m
Name: 'Easter Bonnet Reversible Trig',  VNum: [10402], RNum: [  606]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: Reverse
Commands:
eval temp  %self.extra(INSURED)%
if %cmd% == reverse && bonnet /= %arg%
  if %self.vnum(10415)%
    %transform% 10416
    if %temp%
      %object.insured(on)%
    end
    %send% %actor% You reverse your Easter 2019 bonnet.
  elseif %self.vnum(10416)%
    %transform% 10415
    if %temp%
      %object.insured(on)%
    end
    %send% %actor% You unreverse the reversing of your reversed Easter 2019 bonnet.
  end
else
  return 0
end

>[0;00m
[0mCHECKING: 10403[0m

Name: 'Blue Peeps load on death trig',  VNum: [10403], RNum: [  607]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
eval anumber %random.100%
if %anumber% > 95
%load% obj 10410
elseif %anumber% > 8
%load% obj 17932
elseif %anumber% > 3
%load% obj 17933
elseif %anumber% > 1
%load% obj 17934
elseif %anumber% == 1
%load% obj 17935
end
drop all

>[0;00m
[0mCHECKING: 10404[0m

Name: 'Red Peeps load on death trig',  VNum: [10404], RNum: [  608]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
eval anumber %random.100%
if %anumber% > 95
%load% obj 10411
elseif %anumber% > 8
%load% obj 17932
elseif %anumber% > 3
%load% obj 17933
elseif %anumber% > 1
%load% obj 17934
elseif %anumber% == 1
%load% obj 17935
end
drop all

>[0;00m
[0mCHECKING: 10405[0m

Name: 'Yellow Peeps load on death trig',  VNum: [10405], RNum: [  609]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
eval anumber %random.100%
if %anumber% > 95
%load% obj 10412
elseif %anumber% > 8
%load% obj 17932
elseif %anumber% > 3
%load% obj 17933
elseif %anumber% > 1
%load% obj 17934
elseif %anumber% == 1
%load% obj 17935
end
drop all

>[0;00m
[0mCHECKING: 10406[0m

Name: 'Mid Sized Bunny Egg and Qp Drop Trig',  VNum: [10406], RNum: [  610]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
eval anumber %random.100%
if %anumber% > 60
eval bnumber %random.9%
if %bnumber% == 1
%load% obj 10400
elseif %bnumber% == 2
%load% obj 10401
elseif %bnumber% == 3
%load% obj 10402
elseif %bnumber% == 4
%load% obj 10403
elseif %bnumber% == 5
%load% obj 10404
elseif %bnumber% == 6
%load% obj 10405
elseif %bnumber% == 7
%load% obj 10406
elseif %bnumber% == 8
%load% obj 10407
elseif %bnumber% == 9
%load% obj 10408
end
drop all
end
if %anumber% < 61
eval bnumber %random.100%
if %bnumber% > 20
%load% obj 17932
elseif %bnumber% > 5
%load% obj 17933
elseif %bnumber% > 1
%load% obj 17934
else %load% obj 17935
end
end
drop all

>[0;00m
[0mCHECKING: 10407[0m

Name: 'Crazy Sized Bunny Egg and Qp Drop Trig',  VNum: [10407], RNum: [  611]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
eval anumber %random.100%
if %anumber% > 40
  eval bnumber %random.9%
  if %bnumber% == 1
    %load% obj 10400
  elseif %bnumber% == 2
    %load% obj 10401
  elseif %bnumber% == 3
    %load% obj 10402
  elseif %bnumber% == 4
    %load% obj 10403
  elseif %bnumber% == 5
    %load% obj 10404
  elseif %bnumber% == 6
    %load% obj 10405
  elseif %bnumber% == 7
    %load% obj 10406
  elseif %bnumber% == 8
    %load% obj 10407
  elseif %bnumber% == 9
    %load% obj 10408
  end
  drop all
end
if %anumber% < 41
  eval bnumber %random.100%
  if %bnumber% > 50
    %load% obj 17932
  elseif %bnumber% > 20
    %load% obj 17933
  elseif %bnumber% > 3
    %load% obj 17934
  else %load% obj 17935
  end
end
drop all

>[0;00m
[0mCHECKING: 10408[0m
[0mCHECKING: 10409[0m

Name: 'Small Sized Bunny Egg and Qp Drop Trig',  VNum: [10408], RNum: [  612]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
eval anumber %random.100%
if %anumber% > 85
  eval bnumber %random.9%
  if %bnumber% == 1
    %load% obj 10400
  elseif %bnumber% == 2
    %load% obj 10401
  elseif %bnumber% == 3
    %load% obj 10402
  elseif %bnumber% == 4
    %load% obj 10403
  elseif %bnumber% == 5
    %load% obj 10404
  elseif %bnumber% == 6
    %load% obj 10405
  elseif %bnumber% == 7
    %load% obj 10406
  elseif %bnumber% == 8
    %load% obj 10407
  elseif %bnumber% == 9
    %load% obj 10408
  end
  drop all
end
if %anumber% < 86
  eval bnumber %random.100%
  if %bnumber% > 9
    %load% obj 17932
  elseif %bnumber% > 3
    %load% obj 17933
  elseif %bnumber% > 1
    %load% obj 17934
  else %load% obj 17935
  end
end
drop all

>[0;00m
[0mCHECKING: 10410[0m

Name: 'Make slippers from eggs and peeps',  VNum: [10409], RNum: [  613]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 3, Arg list: make
Commands:
if %cmd% == make && %arg% /= easter slippers
if %actor.inventory(10400)% && %actor.inventory(10401)% && %actor.inventory(10402)% && %actor.inventory(10403)% && %actor.inventory(10404)% && %actor.inventory(10405)% && %actor.inventory(10406)% && %actor.inventory(10407)% && %actor.inventory(10408)% && %actor.inventory(10410)% && %actor.inventory(10411)% && %actor.inventory(10412)%
%load% obj 10414 %actor% inv
%echoaround% %actor% %actor.name% offers many eggs and peeps to the Easter Bunny.
%send% %actor% The Easter Bunny gives you a reward, before hopping away with your eggs and peeps.
%purge% %actor.inventory(10400)%
%purge% %actor.inventory(10401)%
%purge% %actor.inventory(10402)%
%purge% %actor.inventory(10403)%
%purge% %actor.inventory(10404)%
%purge% %actor.inventory(10405)%
%purge% %actor.inventory(10406)%
%purge% %actor.inventory(10407)%
%purge% %actor.inventory(10408)%
%purge% %actor.inventory(10410)%
%purge% %actor.inventory(10412)%
%purge% %actor.inventory(10411)%
else
%send% %actor% Easter Bunny is not impressed.
end
else
return 0
end

>[0;00m
Name: 'Crazy Bunny Demi Eq Drop Trig',  VNum: [10410], RNum: [  614]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
eval anumber %random.100%
if %anumber% > 97
  eval bnumber %random.8%
  if %bnumber% == 1
    %load% obj 25330
  elseif %bnumber% == 2
    %load% obj 25331
  elseif %bnumber% == 3
    %load% obj 25332
  elseif %bnumber% == 4
    %load% obj 25333
  elseif %bnumber% == 5
    %load% obj 25334
  elseif %bnumber% == 6
    %load% obj 25335
  elseif %bnumber% == 7
    %load% obj 25496
  elseif %bnumber% == 8
    %load% obj 25498
  elseif %bnumber% == 9
    %load% obj 10408
  end
  drop all
end
if %anumber% < 4
  eval bnumber %random.8%
  if %bnumber% == 1
    %load% obj 25407
  elseif %bnumber% == 2
    %load% obj 25408
  elseif %bnumber% == 3
    %load% obj 25409
  elseif %bnumber% == 4
    %load% obj 25416
  elseif %bnumber% == 5
    %load% obj 25417
  elseif %bnumber% == 6
    %load% obj 25418
  elseif %bnumber% == 7
    %load% obj 25401
  elseif %bnumber% == 8
    %load% obj 25402
  end
end
drop all

>[0;00m
[0mCHECKING: 10411[0m

Name: 'activate timer',  VNum: [10411], RNum: [  615]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 7, Arg list: o
Commands:
* By Guts
* Will transform into a timer: bronze, silver, or gold.
* Object is just like a Union Card but with a timer
if %cmd.mudcommand% == open && egg /= %arg%
  %send% %actor% You attempt to open the delicate egg
  %echoaround% %actor% %actor.name% taps on the shell of the egg in an attempt to open it.
  eval number %random.100%
  if %number% >= 1 && %number% <= 91
    * First condition: 1-90
    %echoaround% %actor% %actor.name% crushes the egg while attempting to open it!
    %send% %actor% You oaf! You crushed the delicate egg with its contents!
  elseif %number% >= 92 && %number% <= 96
    * Second condition: 92-96
    %echoaround% %actor% %actor.name% opens the egg and a bronze timer emerges!
    %send% %actor% You carefully tap the egg and a bronze timer emerges!
    %load% obj 10425 %actor% inv
  elseif %number% >= 97 && %number% <= 99
    * Third condition: 97-99
    %echoaround% %actor% %actor.name% open the egg and a silver timer emerges!
    %send% %actor% You carefully tap the egg and a silver timer emerges!
    %load% obj 10426 %actor% inv
  elseif %number% == 100
    * Fourth condition: 100
    %echoaround% %actor% %actor.name% open the egg and a gold timer emerges!
    %send% %actor% You carefully tap the egg and a gold timer emerges!
    %load% obj 10427 %actor% inv
  end
  %purge% %self%
end

>[0;00m
[0mCHECKING: 10412[0m

Name: 'purge timer',  VNum: [10412], RNum: [  616]
Trigger Intended Assignment: Objects
Trigger Type: Timer , Numeric Arg: 100, Arg list: None
Commands:
%echo% The timer dissolves into nothingness!
%purge% %self%

>[0;00m
[0mCHECKING: 10413[0m

Name: 'sphere drop',  VNum: [10413], RNum: [  617]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
eval anumber %random.100%
if %anumber% > 99
  eval bnumber %random.7%
  if %bnumber% == 1
    %load% obj 25330
  elseif %bnumber% == 2
    %load% obj 25331
  elseif %bnumber% == 3
    %load% obj 25332
  elseif %bnumber% == 4
    %load% obj 25333
  elseif %bnumber% == 5
    %load% obj 25334
  elseif %bnumber% == 6
    %load% obj 25335
  elseif %bnumber% == 7
    %load% obj 25398
  end
  drop all
end

>[0;00m
[0mCHECKING: 10414[0m

Name: 'show time remaining',  VNum: [10414], RNum: [  618]
Trigger Intended Assignment: Objects
Trigger Type: Wear , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  if %self.timer%
    eval minutes (%self.timer% * 75) / 60
    *
    eval days_remaining %minutes% / 1440
    if %days_remaining%
      eval minutes %minutes% - (%days_remaining% * 1440)
    end
    *
    eval hours_remaining %minutes% / 60
    if %hours_remaining%
      eval minutes %minutes% - (%hours_remaining% * 60 )
    end
    *
%send% %actor% %self.shortdesc.toupper% has %days_remaining% days, %hours_remaining% hours and %minutes% minutes (IRL) remaining before it expires!
  end
end

>[0;00m
[0mCHECKING: 10415[0m
[0mCHECKING: 10416[0m

Name: 'mantle of heroes - summon soldier',  VNum: [10415], RNum: [  619]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 1, Arg list: call
Commands:
if %actor.is_pc%
  if (%cmd% == call) && (%arg% == soldier)
    if %actor.fighting%
      if %actor.hitp% < %actor.maxhitp% / 2
        if %actor.int% > 18
          if %actor.wis% > 18
            * if %actor.remorts% > 5
            if %random.100% > 75
              set room %self.room%
              eval vnum %room.vnum%
eval soldier_called %%findmob.%vnum%(10414)%%
              if ! %soldier_called%
                %echo% A ghostly soldier arrives to aid you in battle!
%load% mob 10414
              else
                %send% %actor% A ghostly soldier has already been unleased!
                return 1
                halt
              end
            else
              %send% %actor% Your ghostly soldier call failed.  Try again later.
              wait 10 s
              return 1
              halt
            end
            * else
            *  %send% %actor% You have not experienced enough reincarnations to call a ghostly soldier.
            * return 1
            * halt
            * end
          else
            %send% %actor% You are not wise enough to call a ghostly soldier.
            return 1
            halt
          end
        else
          %send% %actor% You are not intelligent enough to call a ghostly soldier.
          return 1
          halt
        end
      else
        %send% %actor% The ghostly soldier will only serve those who are in dire need.
        return 1
        halt
      end
    else
      %send% %actor% The ghostly soldier only serves those in battle.
      return 1
      halt
    end
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 10421[0m

Name: 'soldier farewell ',  VNum: [10416], RNum: [  620]
Trigger Intended Assignment: Mobiles
Trigger Type: Act , Numeric Arg: 1, Arg list: death cry
Commands:
wait 2 s
%echo% The soldiers essence returns to its eternal imprisonment.
%purge% %self%

>[0;00m
[0mCHECKING: 10440[0m

Name: 'fourth of july bomb pop',  VNum: [10421], RNum: [  621]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 3, Arg list: ass
Commands:
if (%cmd.mudcommand% == assemble && %arg% /= pride)
  if (%actor.has_item(10434)% && %actor.has_item(10435)% && %actor.has_item(10436)% && %actor.has_item(10437)% && %actor.has_item(10438)% && %actor.has_item(10439)%)
    %load% obj 10433 %actor% inv
    %echoaround% %actor% %actor.name% calls forth the pride of Independence Day, creating the most delicious treat!
    %send% %actor% You call forth the pride of Independence Day and create the most delicious treat!
    %purge% %actor.inventory(10434)%
    %purge% %actor.inventory(10435)%
    %purge% %actor.inventory(10436)%
    %purge% %actor.inventory(10437)%
    %purge% %actor.inventory(10438)%
    %purge% %actor.inventory(10439)%
  else
    %send% %actor% You dont know how to make that.
  end
else
  return 0
end

>[0;00m
Name: 'portable wormhole recall',  VNum: [10440], RNum: [  622]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 3, Arg list: enter
Commands:
if %cmd% == enter
  if %arg% /= wormhole || %arg% /= hole || %arg% /= portable
    %send% %actor% You step into the wormhole.
    %echoaround% %actor% %actor.name% steps inside the wormhole and disappears!
    %teleport% %actor% 3001
    %echoaround% %actor% %actor.name% has arrived out of nowhere.
    %force% %actor% look
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 10441[0m

Name: 'portable wormhole recall - NT',  VNum: [10441], RNum: [  623]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 3, Arg list: enter
Commands:
if %cmd% == enter
  if %arg% /= wormhole || %arg% /= hole || %arg% /= portable
    %send% %actor% You step into the wormhole.
    %echoaround% %actor% %actor.name% steps inside the wormhole and disappears!
    %teleport% %actor% 12200
    %echoaround% %actor% %actor.name% has arrived out of nowhere.
    %force% %actor% look
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 10442[0m

Name: 'portable wormhole recall - Skara',  VNum: [10442], RNum: [  624]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 3, Arg list: enter
Commands:
if %cmd% == enter
  if %arg% /= wormhole || %arg% /= hole || %arg% /= portable
    %send% %actor% You step into the wormhole.
    %echoaround% %actor% %actor.name% steps inside the wormhole and disappears!
    %teleport% %actor% 2101
    %echoaround% %actor% %actor.name% has arrived out of nowhere.
    %force% %actor% look
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 10443[0m

Name: 'sap test',  VNum: [10443], RNum: [  625]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 1, Arg list: ba
Commands:
if %cmd.mudcommand% == backstab && %arg%
  if %actor.is_pc%
    eval trap_damage %%random.%trap_damage%%
    %damage% %victim% %trap_damage%
    set obj %self.shortdesc%
    %send% %victim% %coobj.toupper% drains you [%trap_damage%]!
  end
end

>[0;00m
[0mCHECKING: 10600[0m

Name: 'pry jewel',  VNum: [10600], RNum: [  626]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: pry
Commands:
*
set odds 1
eval chance 100 - %odds%
*
if %actor.is_pc%
  if %cmd% == pry
    if %self.room.name% /= %arg.toupper%
      if %actor.inventory(7654)%
        switch %arg%
          case diamond
            set vnum 10785
          break
          case emerald
            set vnum 10786
          break
          case gold
            case pyrite
            set vnum 10787
          break
          case hematite
            set vnum 10788
          break
          case iolite
            set vnum 10789
          break
          case lapis
            case lazuli
            set vnum 10790
          break
          case malachite
            set vnum 10782
          break
          case ruby
            set vnum 7517
          break
          case sapphire
            set vnum 7519
          break
          case tanzanite
            set vnum 10781
          break
          case tourmaline
            set vnum 10780
          break
          default
            %send% %actor% You cannot pry that jewel from this plaque.
            return 1
            halt
          break
        done
        set room %self.room%
        set target %room.people%
        while %target%
          set next_target %target.next_in_room%
          if ! %target.is_pc%
            %send% %actor% I'd think twice about trying this with witnesses present!
            return 1
            halt
          end
          set target %next_target%
        done
        if %random.100% > %chance%
          %send% %actor% You pry a jewel loose!
          %load% obj %vnum% %actor% inv
          set object %actor.inventory(%vnum%)%
          set desc %object.shortdesc%
          %send% %actor% %desc.toupper% falls off the sign and into your inventory!
        else
          %send% %actor% Pry as you might, you can't pry the jewels loose.
          %echoaround% %actor% %actor.name% whips out a tool and tries to pry a jewel from the street sign.
          if %random.100% > %chance%
            wait 2 s
            %send% %actor% As you attempt to pry the stone free, your jeweler's tool breaks!  
            %echoaround% %actor% %actor.name% breaks his tool in the process!
            %purge% %actor.inventory(7654)%
          end
        end
      else
        %send% %actor% You'll need a jeweler's toolkit to pry jewels from the signs.
      end
    else
      %send% %actor% What would you like to pry?
    end
  else
    return 0
  end
end

>[0;00m
[0mCHECKING: 10601[0m

Name: 'Arcadian sentry Speech',  VNum: [10601], RNum: [  627]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
    wait 30 sec
    %echo% An Arcadian sentry yawns and rubs his eyes, quite obviously wishing that his shift was over.
    wait 30 sec
    %echo% An Arcadian sentry says, 'Would ya have a gander at all of the foreigners moving into town? I wager they bring naught but trouble.'
    wait 30 sec
    %echo% An Arcadian sentry looks at you and says, 'So what brings you up here? It's pretty boring, really, once you've seen the view.' 
    wait 15 sec
    %echo% An Arcadian sentry jumps suddenly and points excitedly across the wall.
    wait 10 sec
    %echo%  An Arcadian sentry says, 'Holy crow, what in the heck is THAT?'
    wait 30 sec
    %echo% An Arcadian sentry chuckles and says, 'Made ya look, didn't I?'

>[0;00m
[0mCHECKING: 10602[0m

Name: 'Arcadian man Speech',  VNum: [10602], RNum: [  628]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
    wait 30 sec
    %echo% An Arcadian man smiles and waves to you as he walks past. 
    wait 20 sec
    say 'Sorry I can't stop to chat. I've got places to be. You understand, I'm sure. You look quite busy yourself.'
    wait 20 sec
    say 'I hope we'll meet again when I have more time to stop and chat. You seem like someone I'd like to know.' 
    wait 80 sec

>[0;00m
[0mCHECKING: 10603[0m
[0mCHECKING: 10607[0m

Name: 'Arcadian woman Speech',  VNum: [10603], RNum: [  629]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 10, Arg list: None
Commands:
*
* arcadian women speech
*
eval max %random.22%
set txt1 When they discover the center of the Universe, a lot of people will be disappointed they are not it.
set txt2 I hide behind sarcasm because telling you to go fuck yourself is considered rude in most social situations.
set txt3 I've spent most of the year saying: What the Fuck is Happening?
set txt4 Mister Rogers did not adequately prepare me for the people in my neighborhood.
set txt5 Someone just honked to get me out of my parking spot faster, so now I have to sit here until both of us are dead.
set txt6 I am not responsible for what my face does while you talk.
set txt7 Tell me not to do something and I will do it twice and take pictures.
set txt8 I'm going to Hell on a full scholarship.
set txt9 I do not spew profanities: I enunciate them clearly like a fucking lady.
set txt10 I'm confident that my last words will be: Are you fucking kidding me?
set txt11 What does it mean when Holy Water sizzles when it hits your skin?  Asking for a friend.
set txt12 I'm mostly peace, love and light, and a little go fuck yourself.
set txt13 I'm just a girl, standing in front of a salad, asking it to be a donut.
set txt14 Show me a perfect mother and I'll show you a leprechaun riding a unicorn over a double rainbow with a fairy holding a pot of gold at the end of it.
set txt15 Sometimes I feel like giving up, but then i remember I have a lot of motherfuckers to prove wrong.
set txt16 Sometimes I have to tell myself it's not worth the jail time.
set txt17 Yesterday I wore black.  Today I'm wearing black.  Tomorrow I will wear black.
set txt18 It's not my job to blow sunshine up your ass.
set txt19 I should really let my inner bitch out more often, because, holy hell, does she ever get shit done!
set txt20 Sorry for being late -- I just got caught up enjoying my last few minutes of not being here.
set txt22 What can I say? I swear like a sailor and use please and thank you like a saint.  I'm complicated.
set  speech %%txt0%%%
eval speech %speech%
say %speech%

>[0;00m
[0mCHECKING: 10608[0m

Name: 'Arcadian woman Speech',  VNum: [10607], RNum: [  630]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
    wait 20 sec
    %echo% An Arcadian woman sighs heavily.
    wait 20 sec
    say 'My husband spends so much time away from home. He's too busy for me! It's so depressing.'
    wait 20 sec
    say 'If only he appreciated all the things I do. Then he wouldn't spend so much time away!'
    wait 80 sec

>[0;00m
[0mCHECKING: 10630[0m

Name: 'The Heretical Rant',  VNum: [10608], RNum: [  631]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
    wait 30 sec
    %echo% An Arcadian man smiles and waves to you as he walks past. 
    wait 20 sec
    say 'Sorry I can't stop to chat. I've got places to be. You understand, I'm sure. You look quite busy yourself.'
    wait 20 sec
    say 'I hope we'll meet again when I have more time to stop and chat. You seem like someone I'd like to know.' 
    wait 80 sec

>[0;00m
Name: 'holy hand grenade',  VNum: [10630], RNum: [  632]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 1, Arg list: toss
Commands:
if %actor.is_pc%
  if (%cmd% == toss)
    %send% %actor% You pull the pin on the Holy Hand Grenade.
    wait 5 s
    set room %self.room%
    if ! %arg%
      set room %self.room%
      %echo% A grenade lands near your feet.
    else
      eval room %%room.%arg%(vnum)%%
      %echo% The grenade sails %arg% into the next room.
    end
    wait 5 s
    eval target %room.people%
    %echo% A Holy Hand Grenade explodes!
    while %target%
      set next_target %target.next_in_room%
      if ! %target.is_pc%
        if %target.affect(sanctuary)%
          %damage% %target% 125
        else
          %damage% %target% 250
        end
      end
      set target %next_target%
    done
    %purge% %actor.eq(held)%
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 10707[0m

Name: 'gone fishin',  VNum: [10707], RNum: [  633]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 1, Arg list: cast
Commands:
*  10 Nov 23 - Aegon   initial coding
*  01 Dec 23 - Ching    added multiple fish, long odds big prize, and wooden stick, and twig 
*  10 Feb 24 - Guts      added fishing room arrays, cleaned up the logic to be simpler, should be easier to follow.
*  12 Mar 24 - Guts      reduced the win percent to 3% for most items if you already have the prize in your inventory the prize slips away
*  09 May 24 - Aegon - fixed broken invis logic - actor.canbeseen can only be used by mob triggers
*                                    fixed broken magic hour logic - typo in variable name
*                                    removed hide/sneak from logic since those affects broken by any non-movement action anyway
*                                    made pure fishing success more likely with bonus apply and max clamp for rndPct just to fishing outcomes
*                                    added storage of fish type and fish size with date stamp for future tournament play
*                                    changed multi vnum in inv from outright fish loss to existing fish purge to avoid prize loss
*                                    removed all the doc / debug and unnecessary echoarounds due to massive trigger len
*                                    added global controls for system-wide parameters
*                                    restored blackened laurel chances to .0001% / upped gear max to 1 per toon / add fish max limit control val
*                                    global controls
*
* density determines number of casts before hole is fished out
set fishDensity 5
* latency determines how many mud days a hole is fished out
set fishing_latency 5
* holes never get marked out if set to 1 
* this is useful for starting new tournaments
set reset_all_holes 1
set max_gear 2
set max_fish 6
set wait 0
*
set debug 0
*
if %actor.is_pc%
  if %arg% /= debug
    set debug 1
  end
  if (%cmd% == cast && %arg% /= line)
    eval room %actor.room%
    eval gonefishing_day %time.day%
    eval gonefishing_month %time.month%
    if !(%global_gonefishing_day% || %global_gonefishing_month% || %global_gonefishing_old_room%) || %reset_all_holes%
      set global_gonefishing_day %gonefishing_day%
      set global_gonefishing_month %gonefishing_month%
      set global_gonefishing_old_room 0
      global global_gonefishing_day
      global global_gonefishing_month
      global global_gonefishing_old_room
    end
    *
    if (%gonefishing_day% - %global_gonefishing_day% >= %fishing_latency% || (%gonefishing_month% - %global_gonefishing_month% == 1 && %gonefishing_day% + (35 - %global_gonefishing_day%) >= %fishing_latency%))
      set global_gonefishing_day %gonefishing_day%
      set global_gonefishing_month %gonefishing_month%
      unset global_gonefishing_old_room
    end
    *
    if %room.sector% != NOSWIM && %room.sector% != SWIM
      %send% %actor% To fish, you must first be in a location where you can fish!
      return 1
      halt
    end
    *
    if %global_gonefishing_old_room% /= %room.vnum%
      %echo% %actor.name% lifts %actor.hisher% pole slowly over %actor.hisher% head, and in a smooth whip-like motion, sends a cast toward %actor.hisher% prey.
      wait %wait% s
      %send% %actor% %actor.name%, you watch your line drift and bob.  
      %send% %actor% After a while, you reel your line back in.
      %send% %actor% This hole is fished out.  Perhaps you should move to a new spot.
      return 1
      halt
    end
    *
    * char position checks
    *
    eval charPos %actor.pos%
    if %charPos% == Sleeping
      %send% %actor% %actor.name%, even the best anglers can't fish while sleeping.
      return 1
      halt
    end
    if %charPos% == Stunned
      %send% %actor% %actor.name%, fishing while stunned?
      return 1
      halt
    end
    if %actor.fighting%
      %send% %actor% %actor.name%, even the best anglers can't fish while fighting.
      return 1
      halt
    end
    *** Any stat below 9 in str int wis or dex will end in a hooking and exit or Drunk==6***
    if %actor.str% < 9 || %actor.dex% < 9 || %actor.int% < 9 || %actor.wis% < 9 || %actor.drunk% > 5
      %send% %actor% %actor.name%, you somehow manage to hook yourself with your poor cast!
      %echoaround% %actor% %actor.name% somehow manages to hook %actor.himher%self with %actor.hisher% poor cast!
      eval hookDam %random.50%
      %damage% %actor% %hookDam%
      %force% %actor.name% say Ouch!  That hurt! (%hookDam%)
      return 1
      halt
    end
    *
    * bonuses
    * 
    set bonus 0
    if (%time.hour% > 6 && %time.hour% < 8) || (%time.hour% > 18 && %time.hour% < 20)
      eval bonus %bonus% + 20
    else
      %send% %actor% The best time to fish is during the magic hours, 6am - 8am or 6pm - 8pm!
    end
    if %actor.affect(invisible)%
      eval bonus %bonus% + 10
    else
      %send% %actor% It's best not to be seen!
    end
    if (%actor.drunk%) > 0 && (%actor.drunk% < 4)
      eval bonus %bonus% + 5
    else
      %send% %actor% A beer or two doesn't hurt!
    end
    if %charPos% == Resting
      eval bonus %bonus% + 5
    else
      %send% %actor% Fishing while comfortably reclining is a plus!
    end
    *
    set charStats 0
    eval strAdd 0
    if %actor.str% == 18
      eval strAdd %actor.stradd% / 10
    end
    eval charStats %actor.str% + %actor.dex% + %actor.int% + %actor.wis% + %strAdd%
    * 
    * penalties 
    * 
    set penalty 0
    if %actor.affect(BLIND)%
      eval penalty %penalty% + 20
    end
    if %actor.affect(POISON)%
      eval penalty %penalty% + 20
    end
    if %actor.hunger% < 10
      eval penalty %penalty% + 5
    end
    if %actor.thirst% < 10
      eval penalty %penalty% + 5
    end
    if !(%actor.affect(FLY)% || %actor.affect(WATERWALK)%)
      eval penalty %penalty% + 20
    end
    *
    * total possible positive: Max Stats + All Bonuses:
    * Stats: 18 *  4 + 10
    * Other: 20 + 10 + 5 + 5 
    * Prf Stats: 82 + 40  = 122
    * Avg Stats: 4  * 10.5 + 40 = 82 
    *
    set rndNum %random.78%
    eval catchPct %charStats% + %bonus% + %rndNum% - %penalty% 
    eval rndPrizeI %random.100%
    *
    * bonus to rndPrize for high catchPct
    *
    eval rndPrize %rndPrizeI% + (%catchPct% - 100)
    *
    if %debug%
      %echo% rndNum: %rndNum%
      %echo% charStats: %charStats%
      %echo% bonus: %bonus%
      %echo% penalty: %penalty%
      %echo% catchPct: %catchPct% 
      %echo% initial and adjusted rndPrize: %rndPrizeI% %rndPrize%
      *
    end
    *
    %echo% %actor.name% lifts %actor.hisher% pole slowly over %actor.hisher% head, and in a smooth whip-like motion, sends a cast toward %actor.hisher% prey.
    wait %wait% s
    *
    if %catchPct% < 100
      %echo% %actor.name% watches %actor.hisher% line drift and bob, but after a while, the fish seem uninterested and %actor.heshe% reels %actor.hisher% line back in.
    elseif %rndPrize% < 80
      %echo% %actor.name% watches %actor.hisher% line drift and bob, but after a while, the fish seem uninterested and %actor.heshe% reels %actor.hisher% line back in.
    elseif %rndPrize% < 85
      %echo% %actor.name%'s line grows taught, snagged in the debris of the murky depths.
      if (%actor.inventory(13029)% < %max_gear%)
        * 3% catches a stick 
        %load% obj 13029  %actor% inv
      else
        %echo% %actor.name%'s line grows slack as whatever was snagged sinks back to the depths.
      end
    elseif %rndPrize% < 88
      %echo% %actor.name%'s line grows taught, snagged in the debris of the murky depths.
      if (%actor.inventory(1852)% < %max_gear%)
        * A gnarled twig
        %load% obj 1852  %actor% inv
      else
        %echo% %actor.name%'s line grows slack as whatever was snagged sinks back to the depths.
      end
    elseif %rndPrize% < 91
      %echo% %actor.name%'s line grows taught, snagged in the debris of the murky depths. 
      if (%actor.inventory(308)% < %max_gear%)
        * 3% catches shoes
        %load% obj 308  %actor% inv
      else
        %echo% %actor.name%'s line grows slack as whatever was snagged sinks back to the depths.
      end
    elseif %rndPrize% < 94 
      %echo% %actor.name%'s line grows taught, snagged in the debris of the murky depths. 
      if (%actor.inventory(12292)% < %max_gear%)
        * 3% catches a str pot
        %load% obj 12292 %actor% inv
      else
        %echo% %actor.name%'s line grows slack as whatever was snagged sinks back to the depths.
      end
      *5% catches a fish
    elseif (%rndPrize% < 99 || %rndPrize% > 100)
      set rVnum %self.room.vnum%
      set terrainType 0
      *NOSWIM ROOMS
      set river1 900 901 902 904 906 2710 2712 2714 2716 2718 2720 2722 2724 2726 2728 2730 3151 3152
      set river2 3153 3154 3155 6144 6145 6147 6148 6149 6150 6151 6152 6153 6154 6603 6604 9324 9328 9331
      set river3 9347 9375 9411 9417 9604 9605 9606 9607 9608 9612 9623 9630 9633 9641 12283 12284 12285 12287
      set river4 12417 12418 12419 12420 12421 12422 12423 12424 12432 12433 12434 12435 12436 12437 12438 12439 12440 12441
      set river5 12442 12443 12444 12445 12446 12447 12458 12459 12460 12461 12462 12463 12464 12465 12466 12467 12468 12469
      set river6 12470 12471 12472 12473 12482 12483 16100 16101 16102 16103 16104 16107 16108 16109 16165 16605 16606 16607
      set sea1 908 2215 2216 2217 2218 2219 2220 2226 2227 2228 2229 2235 2237 2238 2244 2245 2246 2247
      set sea2 6900 6901 6902 6903 6904 6905 6906 6907 6908 6909 6910 6911 6912 6913 6914 6915 6916 6917
      set sea3 6918 6919 6920 6921 6922 6923 6924 6925 6926 6927 6928 6929 6930 6931 6932 6933 6934 6935
      set sea4 6936 6937 6938 6939 6940 6941 6942 6943 6944 6945 6946 6947 6948 6949 6950 6951 6952 6953
      set sea5 6954 6955 6957 6959 6960 6961 6962 6963 6964 6965 6966 6967 6968 6969 6971 6972 6973 6974
      set sea6 6975 6976 6977 6978 6979 6980 6981 6984 6985 6986 6987 6988 6990 6991 6992 6993 6994 6995
      set sea7 6996 6997 6998 6999 12484 12485 12486 12487 12494 12495 12502 12503 12504 12505
      set swamp1 9323 9325 9327 9329 9330 9332 9333 9334 9335 9336 9337 9338 9339 9340 9341 9342 9343 9344
      set swamp2 9345 9346 9367 9368 9369 9370 9371 9372 9373 9374 9401 9402 9403 9404 9405 9406 9407 9408
      set swamp3 9409 9410 9413 9414 9415 9416
      *SWIM ROOMS
      set lake1 2203 2204 2773 2781 2783 2785 2787 2789 2791 2793 2795 2797 3214 4165 4169 4170 5015 6700 6701 6702 6703 6704
      set lake2 6705 6706 10278 11820 12041 12048 12054 12057 12602 12605 12606 12607 12608 12610 12611 12612 12613 12614 
      set lake3 12616 12618 12620
      *DOCKS PIERS COMING SOON
      set pier1
      set dock1
      *
      if %sea1.contains(%rVnum%)% || %sea2.contains(%rVnum%)% || %sea3.contains(%rVnum%)% || %sea4.contains(%rVnum%)% || %sea5.contains(%rVnum%)% || %sea6.contains(%rVnum%)% || %sea7.contains(%rVnum%)% || %pier1.contains(%rVnum%)%
        eval terrainType 1
      end
      if %swamp1.contains(%rVnum%)% || %swamp2.contains(%rVnum%)% || %swamp3.contains(%rVnum%)%
        eval terrainType 2
      end
      if %river1.contains(%rVnum%)% || %river2.contains(%rVnum%)% || %river3.contains(%rVnum%)% || %river4.contains(%rVnum%)% || %river5.contains(%rVnum%)% || %river6.contains(%rVnum%)% || %dock1.contains(%rVnum%)%
        eval terrainType 3
      end
      if %lake1.contains(%rVnum%)% || %lake2.contains(%rVnum%)% || %lake3.contains(%rVnum%)%
        eval terrainType 2
      end
      *
      unset fish
      *
      switch %terrainType%
        *** Sea - seabass ***
        case 1
          set vnum 10710
          eval size 20+ %random.60%
          set fish seabass
        break
        *** Swamp - catfish ***
        case 2
          set vnum 10709 
          eval size 30+ %random.100%
          set fish catfish
        break   
        *** River - trout ***
        case 3
          set vnum 10708
          eval size 10 + %random.30%
          set fish trout
        break  
        *** Default if not a categorized room *** 
        default
          set vnum 10710     
          eval size 20 + %random.60%
          set fish seabass
        break
      done
      *
      * add fish sizes for potential tournament play
      *
      if %fish%
        %send% %actor% %actor.name%, you caught a %fish.trim% measuring %size% inches!
        %echoaround% %actor% %actor.name% caught a %fish%!
        if ! %actor.varexists(fisherman)%
          set fisherman %fish% %size% %time.year% %time.month% %time.day% 1
          global fisherman
          remote fisherman %actor.id%
        else
          extract ofish 1 %actor.fisherman%
          extract osize 2 %actor.fisherman%
          extract year 3 %actor.fisherman%
          extract mon 4 %actor.fisherman%
          extract day 5 %actor.fisherman%
          extract num_fish 6 %actor.fisherman% 
          *
          if %size% > %osize%
            %send% %actor% In fact, this %fish% sets a new catch record of %size% inches!
            set fisherman %fish% %size% %time.year% %time.month% %time.day%
          else
            set fisherman %ofish% %osize% %year% %mon% %day% 
          end
          eval num_fish %num_fish% + 1
          set fisherman %fisherman% %num_fish%
          global fisherman
          remote fisherman %actor.id%
        end
        eval tot_fish %actor.has_item(10708)% + %actor.has_item(10709)% + %actor.has_item(10710)%
        if %tot_fish% < %max_fish%
          %load% obj %vnum% %actor% inv
        end
      end
      *** 1% chance at a laurel here***
    elseif %rndPrize% == 100
      *** 1% of 1% chance at a laurel here***
      if %random.100% == 100
        %send% %actor% %actor.name%, you caught a blackened laurel crown!
        %echoaround% %actor% %actor.name% caught a blakened laurel crown!
        *A blackened laurel crown
        %load% obj 4529 %actor% inv
      else
        %echo% %actor.name% is snagged on something!
        %send% %actor% %actor.name%, you were able to free your hook and line!
      end
    end
    wait %wait% s
    eval fishedOut %%random.%fishDensity%%
    if %actor.name% == Cortez
      %echo% fishDensity: %fishDensity%
      %echo% fishedOut rand: %fishedOut%
    end
    if %fishedOut% == %fishDensity%
      %send% %actor% Looks like the action has dried up here.  It's time to move on and find another location.
      set global_gonefishing_old_room %gonefishing_old_room% %room.vnum%
      global global_gonefishing_old_room
      return 1
    end
    return 1
  else
    return 0
    halt
  end
end


[0mCHECKING: 10708[0m
Name: 'gone fishing test',  VNum: [10708], RNum: [  634]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 3, Arg list: cast
Commands:
*
*  cast a line and catch a fish!  
*  success dependent upon char attributes, etc.
*
* 10 Nov 2023 - Aegon
* initial coding
****
* 01 Dec 2023 - Ching
* added multiple fish, long odd big prize, and wooden stick, and twig
****
* 10 Feb 2024 - Guts
* added fishing room arrays, cleaned up the logic to be simpler, should be easier to follow.
****
* 12 March 2024 - Guts
* reduced the win percent to 3% for most items
* if you already have the prize in your inventory the prize slips away
****
if (%actor.is_pc% && %cmd.mudcommand% == cast && %arg% == line)
  eval room %actor.room%
  * Gets local day/month
  eval gonefishing_day %time.day%
  eval gonefishing_month %time.month%
  if !(%global_gonefishing_day% || %global_gonefishing_month% || %global_gonefishing_old_room%)
    set global_gonefishing_day %gonefishing_day%
    set global_gonefishing_month %gonefishing_month%
    set global_gonefishing_old_room 0
    global global_gonefishing_day
    global global_gonefishing_month
    global global_gonefishing_old_room
  end
  * Check if 8 days have passed
  if (%gonefishing_day% - %global_gonefishing_day% >= 8 || (%gonefishing_month% - %global_gonefishing_month% == 1 && %gonefishing_day% + (35 - %global_gonefishing_day%) >= 8))
    *%echo% localDay: %gonefishing_day%
    *%echo% localMonth: %gonefishing_month%
    *%echo% globalDay: %global_gonefishing_day%
    *%echo% globalMonth: %global_gonefishing_month%
    *%echo% global_gonefishing_old_room: %global_gonefishing_old_room%
    set global_gonefishing_day %gonefishing_day%
    set global_gonefishing_month %gonefishing_month%
    unset global_gonefishing_old_room
  end
  * * * * * * * * * * *
  * If not equiped    *
  * * * * * * * * * * *
  ***Wielded***
  if %actor.eq(wield)%
    eval wielded %actor.eq(wield)%
  end
  ***Held***
  if %actor.eq(hold)%
    eval held %actor.eq(hold)%
  end
  if ! (%wielded.name% /= sashimi || %held.name% /= sashimi)
    %send% %actor% To fish, you must first equip your fishing pole!
    return 1
    halt
  end
  ***In the right kind of room***
  if %room.sector% != NOSWIM && %room.sector% != SWIM
    %send% %actor% To fish, you must first be in a room where you can fish!
    return 1
    halt
  end
  ***fished out***
  if %global_gonefishing_old_room% /= %room.vnum%
    %send% %actor% You send out a mighty fine cast into the water.
    %echoaround% %actor% %actor.name% casts a line out into the water.
    wait 5 s
    %send% %actor% %actor.name%, you watch your line drift and bob.  
    %send% %actor% After a while, you reel your line back in.
    %send% %actor% This hole is fished out.  Perhaps you should move to a new spot.
    wait 2 s
    *%echo% wait 2 sec
    return 1
    halt
  end
  * * * * * * * * * * * * * *
  * char position check     *
  * * * * * * * * * * * * * *
  eval charPos %actor.pos%
  ***Sleeping***
  if %charPos% == Sleeping
    %send% %actor% %actor.name%, even the best anglers can't fish while sleeping.
    return 1
    halt
  end
  ***Stunned***
  if %charPos% == Stunned
    %send% %actor% %actor.name%, fishing while stunned?
    return 1
    halt
  end
  ***Fighting***
  if %actor.fighting%
    %send% %actor% %actor.name%, even the best anglers can't fish while fighting.
    return 1
    halt
  end
  *** Any stat below 9 in str int wis or dex will end in a hooking and exit or Drunk==6***
  if %actor.str% < 9 || %actor.dex% < 9 || %actor.int% < 9 || %actor.wis% < 9 || %actor.drunk% > 5
    %send% %actor% %actor.name%, you somehow manage to hook yourself with your poor cast!
    %echoaround% %actor% %actor.name% somehow manages to hook %actor.himher%self with %actor.hisher% poor cast!
    wait 1 s
    *%echo% wait 1 sec
    eval hookDam %random.50%
    %damage% %actor% %hookDam%
    %force% %actor.name% say Ouch!  That hurt! (%hookDam%)
    return 1
    halt
  end
  * * * * * * * * * * * * * *
  * bonuses for success     *
  * * * * * * * * * * * * * *
  set plusBonus 0
  ***Perfect Time***
  if (%time.hour% > 6 && %time.hour% < 8) || (%time.hour > 18 && %time.hour < 20%)
    eval plusBonus %plusBonus% + 20
  end
  ***Invis or Sneaking***
  if %actor.canbeseen%
    eval plusBonus %plusBonus% + 10
    *%send% %actor% Invis
  end
  *%send% %actor% seen: %actor.canbeseen%
  ***Tipsy***
  if (%actor.drunk%) > 0 && (%actor.drunk% < 4)
    eval plusBonus %plusBonus% + 5
    *%send% %actor% Tipsy
  end
  ***Resting***
  if %charPos% == Resting
    eval plusBonus %plusBonus% + 5
    *%send% %actor% Resting
  end
  ***Character Stats***
  set charStats 0
  eval strAdd 0
  if %actor.str% == 18
    eval strAdd %actor.stradd% / 10
  end
  eval charStats %actor.str% + %actor.dex% + %actor.int% + %actor.wis% + %strAdd%
  *%send% %actor% charStats: %charStats% 
  * * * * * * * * * * * * * *
  * neg bonuses for success *
  * * * * * * * * * * * * * *
  set negBonus 0
  ***Blind***
  if %actor.affect(BLIND)%
    eval negBonus %negBonus% + 20
  end
  ***Poison***
  if %actor.affect(POISON)%
    eval negBonus %negBonus% + 20
  end
  ***Hunger***
  if %actor.hunger% < 10
    eval negBonus %negBonus% + 5
  end
  ***Thirst***
  if %actor.thirst% < 10
    eval negBonus %negBonus% + 5
  end
  ***Notes***
  * total possible positive: Max Stats + All Bonuses:
  * Stats: 18 *  4 + 10
  * Other: 20 + 10 + 5 + 5 
  * Prf Stats: 82 + 40        = 122
  * Avg Stats: 4  * 10.5 + 40 = 82 
  set rndNum %random.78%
  eval catchPct %charStats% + %plusBonus% + %rndNum% - %negBonus% 
  *%send% %actor% rndNum: %rndNum%
  *%send% %actor% charStats: %charStats%
  *%send% %actor% plusBonus: %plusBonus%
  *%send% %actor% negBonus: %negBonus%
  *%send% %actor% catchPct: %catchPct%
  set rndPrize %random.100%
  %echo% RandomNum: %rndPrize%
  *** catchPct < 100 catches nothing ***
  %send% %actor% You send out a mighty fine cast into the water.
  %echoaround% %actor% %actor.name% casts a line out into the water.
  wait 5 s
  if %catchPct% < 100
    %send% %actor% %actor.name%, you watch your line drift and bob, but after a while, the fish seem uninterested and you reel your line back in.
    %echoaround% %actor% After a while, %actor.name% reels in %actor.hisher% line, disapointed in %actor.hisher% angling.
    wait 2 s
    *%echo% wait 2 sec
    *** 80% still catches nothing ***
  elseif %rndPrize% < 80
    %send% %actor% %actor.name%, you watch your line drift and bob, but after a while, the fish seem uninterested and you reel your line back in.
    %echoaround% %actor% After a while, %actor.name% reels in %actor.hisher% line, disapointed in %actor.hisher% angling.
    wait 2 s
    *%echo% wait 2 sec
    *** 3% catches a stick ***
  elseif %rndPrize% < 85
    %echo% %actor.name%'s line grows taught, snagged in the debris of the murky depths.
    %send% %actor% %actor.name%, you snagged some debris!
    %echoaround% %actor% %actor.name% snagged some debris!
    wait 2 s
    *%echo% wait 2 sec
    if !%actor.has_item(13029)%
      %load% obj 13029  %actor% inv
    else
      %echo% %actor.name%'s line grows slack as whatever was snagged sinks back to the depths.
      %send% %actor% %actor.name%, your line grows slack as the debris is released to the depths.
    end
    wait 2 s
    *%echo% wait 2 sec
    *** 3% catches a twig ***
  elseif %rndPrize% < 88
    %echo% %actor.name%'s line grows taught, snagged in the debris of the murky depths.
    %send% %actor% %actor.name%, you snagged some debris!
    %echoaround% %actor% %actor.name% snagged some debris!
    * A gnarled twig
    if !%actor.has_item(1852)%
      %load% obj 1852  %actor% inv
    else
      %echo% %actor.name%'s line grows slack as whatever was snagged sinks back to the depths.
      %send% %actor% %actor.name%, your line grows slack as the debris is released to the depths.
    end
    wait 2 s
    *%echo% wait 2 sec
    *** 3% catches shoes ***
  elseif %rndPrize% < 91
    %echo% %actor.name%'s line grows taught, snagged in the debris of the murky depths. 
    %send% %actor% %actor.name%, you snagged some debris!
    %echoaround% %actor% %actor.name% snagged some debris!
    if !%actor.has_item(308)%
      %load% obj 308  %actor% inv
    else
      %echo% %actor.name%'s line grows slack as whatever was snagged sinks back to the depths.
      %send% %actor% %actor.name%, your line grows slack as the debris is released to the depths.
    end
    wait 2 s
    *%echo% wait 2 sec
    *** 3% catches a str pot ***
  elseif %rndPrize% < 94
    %echo% %actor.name%'s line grows taught, snagged in the debris of the murky depths. 
    %send% %actor% %actor.name%, you snagged some debris!
    %echoaround% %actor% %actor.name% snagged some debris!
    if !%actor.has_item(12292)%
      %load% obj 12292 %actor% inv
    else
      %echo% %actor.name%'s line grows slack as whatever was snagged sinks back to the depths.
      %send% %actor% %actor.name%, your line grows slack as the debris is released to the depths.
    end
    wait 2 s
    *%echo% wait 1 sec
    *** 5% catches a fish***
  elseif %rndPrize% < 99
    set rVnum %self.room.vnum%
    *%echo% rNum: %rVnum%
    set terrainType 0
    *NOSWIM ROOMS
    set river1 900 901 902 904 906 2710 2712 2714 2716 2718 2720 2722 2724 2726 2728 2730 3151 3152
    set river2 3153 3154 3155 6144 6145 6147 6148 6149 6150 6151 6152 6153 6154 6603 6604 9324 9328 9331
    set river3 9347 9375 9411 9417 9604 9605 9606 9607 9608 9612 9623 9630 9633 9641 12283 12284 12285 12287
    set river4 12417 12418 12419 12420 12421 12422 12423 12424 12432 12433 12434 12435 12436 12437 12438 12439 12440 12441
    set river5 12442 12443 12444 12445 12446 12447 12458 12459 12460 12461 12462 12463 12464 12465 12466 12467 12468 12469
    set river6 12470 12471 12472 12473 12482 12483 16100 16101 16102 16103 16104 16107 16108 16109 16165 16605 16606 16607
    set sea1 908 2215 2216 2217 2218 2219 2220 2226 2227 2228 2229 2235 2237 2238 2244 2245 2246 2247
    set sea2 6900 6901 6902 6903 6904 6905 6906 6907 6908 6909 6910 6911 6912 6913 6914 6915 6916 6917
    set sea3 6918 6919 6920 6921 6922 6923 6924 6925 6926 6927 6928 6929 6930 6931 6932 6933 6934 6935
    set sea4 6936 6937 6938 6939 6940 6941 6942 6943 6944 6945 6946 6947 6948 6949 6950 6951 6952 6953
    set sea5 6954 6955 6957 6959 6960 6961 6962 6963 6964 6965 6966 6967 6968 6969 6971 6972 6973 6974
    set sea6 6975 6976 6977 6978 6979 6980 6981 6984 6985 6986 6987 6988 6990 6991 6992 6993 6994 6995
    set sea7 6996 6997 6998 6999 12484 12485 12486 12487 12494 12495 12502 12503 12504 12505
    set swamp1 9323 9325 9327 9329 9330 9332 9333 9334 9335 9336 9337 9338 9339 9340 9341 9342 9343 9344
    set swamp2 9345 9346 9367 9368 9369 9370 9371 9372 9373 9374 9401 9402 9403 9404 9405 9406 9407 9408
    set swamp3 9409 9410 9413 9414 9415 9416
    *SWIM ROOMS
    set lake1 2203 2204 2773 2781 2783 2785 2787 2789 2791 2793 2795 2797 3214 4165 4169 4170 5015 6700 6701 6702 6703 6704
    set lake2 6705 6706 10278 11820 12041 12048 12054 12057 12602 12605 12606 12607 12608 12610 12611 12612 12613 12614 
    set lake3 12616 12618 12620
    if %sea1.contains(%rVnum%)% || %sea2.contains(%rVnum%)% || %sea3.contains(%rVnum%)% || %sea4.contains(%rVnum%)% || %sea5.contains(%rVnum%)% || %sea6.contains(%rVnum%)% || %sea7.contains(%rVnum%)%
      eval terrainType 1
    end
    if %swamp1.contains(%rVnum%)% || %swamp2.contains(%rVnum%)% || %swamp3.contains(%rVnum%)%
      eval terrainType 2
    end
    if %river1.contains(%rVnum%)% || %river2.contains(%rVnum%)% || %river3.contains(%rVnum%)% || %river4.contains(%rVnum%)% || %river5.contains(%rVnum%)% || %river6.contains(%rVnum%)% 
      eval terrainType 3
    end
    if %lake1.contains(%rVnum%)% || %lake2.contains(%rVnum%)% || %lake3.contains(%rVnum%)%
      eval terrainType 2
    end
    *%echo% %terrainType%
    %send% %actor% %actor.name%, you caught a fish!
    %echoaround% %actor% %actor.name% caught a fish!
    switch %terrainType%
      *** Sea - seabass ***
      case 1
        if !%actor.has_item(10710)%
          %load% obj 10710 %actor% inv
        else
          %send% %actor% %actor.name%, at the last second the fish gets away!
          %echoaround% %actor% %actor.name% fumbles his net and lost the fish!
        end
      break
      *** Swamp - catfish ***
      case 2
        if !%actor.has_item(10709)%
          %load% obj 10709 %actor% inv
        else
          %send% %actor% %actor.name%, at the last second the fish gets away!
          %echoaround% %actor% %actor.name% fumbles his net and lost the fish!
        end
      break   
      *** River - trout ***
      case 3
        if !%actor.has_item(10708)%
          %load% obj 10708 %actor% inv
        else
          %send% %actor% %actor.name%, at the last second the fish gets away!
          %echoaround% %actor% %actor.name% fumbles his net and lost the fish!
        end     
      break  
      *** Default if not a categorized room *** 
      default
        if !%actor.has_item(10710)%
          %load% obj 10710 %actor% inv
        else
          %send% %actor% %actor.name%, at the last second the fish gets away!
          %echoaround% %actor% %actor.name% fumbles his net and lost the fish!
        end     
      break
    done
    wait 2 s
    *%echo% wait 2 sec
    *** 1% chance at a laurel here***
  elseif %rndPrize% > 99
    *** 1% of 1% chance at a laurel here***
    if %random.100% > 99
      %send% %actor% %actor.name%, you caught a blackened laurel crown!
      %echoaround% %actor% %actor.name% caught a blakened laurel crown!
      *A blackened laurel crown
      %load% obj 4529 %actor% inv
      wait 2 s
      *%echo% wait 2 sec
    else
      * you missed the blackened laurel crown, but you need to show that
      %send% %actor% %actor.name%, you are snagged on something!
      %echoaround% %actor% %actor.name% is snagged on something!
      wait 2 s
      *%echo% wait 2 sec
      %send% %actor% %actor.name%, you were able to free your hook and line!
      %echoaround% %actor% %actor.name% was able to free your hook and line!
    end
  end
  set fishedOut %random.3%
  if %fishedOut% == 1
    *%send% %actor% There's no point in trying to fish here, %actor.name%.
    %echoaround% %actor% %actor.name% fiddles with %actor.hisher% fishing gear.
    set global_gonefishing_old_room %gonefishing_old_room% %room.vnum%
    global global_gonefishing_old_room
    *%echo% global_gonefishing_old_room: %global_gonefishing_old_room%
    wait 2 s
    *%echo% wait 2 sec
    return 1
    halt
  end
  return 1
  halt
end
return 0


[0mCHECKING: 10712[0m
[0mCHECKING: 10714[0m
Name: 'a heretical rant',  VNum: [10712], RNum: [  635]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 8, Arg list: None
Commands:
*
*  give soothsayer a speech
*
eval max %random.15%
set action[1] gazes into %self.hisher% crystal ball, %self.hisher% eyes widen, and whispers
set action[2] takes a tarot card from %self.hisher% deck and lays it before %self.hisher%, whispering
set action[3] opens a small urn containing animal bones, stares at them, and whispers
set action[4] looks at the tarot cards before %self.hisher%, eyes narrowing, and whispers
set action[5] closes %self.hisher% eyes, touches the crystal ball, and speaks in a language you have never heard before, but somehow you comprehend
set action[6] hold her hands cupped before %self.hisher% until a small blue flame appears, chanting
set action[7] peers for a time deep into %self.hisher% crystal ball, then in a tremulous voice, whispers
set action[8] points to the King of Wands Reversed in %self.hisher% tarot deck, looks up at you, and prophesies
set action[9] points to the Four of Cups in %self.hisher% tarot deck, looks up at you, and prophesies
set action[10] points to the Hanged Man Reversed in %self.hisher% tarot deck, looks up at you, and prophesies
set action[11] points to the The Chariot in %self.hisher% tarot deck, looks up at you, and prophesies
set action[12] points to the The Fool Reversed in %self.hisher% tarot deck, looks up at you, and prophesies
set action[13] points to the Queen of Wizards in %self.hisher% tarot deck, looks up at you, and prophesies
set action[14] points to the Page of Swords in %self.hisher% tarot deck, looks up at you, and prophesies
set action[15] points to the Nine of Pentacles Reversed in %self.hisher% tarot deck, looks up at you, and prophesies
set  performance %%action[%max%]%%
eval performance %performance%
eval max %random.10%
set txt[1] Soon, without a glint of foreknowledge, your shadow will darken no doorway, nor righteous ground.
set txt[2] All you hold dear will soon be taken from you by a wrong turn in the night.
set txt[3] Those who follow you into the breech will curse your name and the name of your line for an Age and an Age.
set txt[4] You will lose concentration six times and six times will you suffer the plagues that befell Sodom.
set txt[5] You will gain a life level, but have little to show for it.  This you shall see three times and three times again within your lifetime.
set txt[6] You will lose your corpse and all that it contains before the cock crows and the shroud of Sister Moon swaddles you in despair.
set txt[7] You will curse the name of a high king, a lowly court jester, and thrice the names of maidens before the fortnight is spent.
set txt[8] You will be abandoned by every friend you once knew, and befriended by those you fail to comprehend.
set txt[9] Before the day is the past, you will be visited by three Spirits:  the Spirit of Indecision, the Spirit of Missed Opportunity and the Spirit of Regret.
set txt[10] You will visit me again, after much sorrow and tumult, and you shall be changed, ready for what is next.
set  speech %%txt[%max%]%%
eval speech %speech%
%echo% %self.name% %performance%, '%speech%'

>[0;00m
[0mCHECKING: 11800[0m

Name: 'assemble the tiara of arcadia',  VNum: [10714], RNum: [  636]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
*
* assemble a tiara!
*
* tiara of ice  625
*
* diamond 10785
* emerald 10786
* gold pyrite 10787
* hematite 10788
* iron iolite 10789
* lapis lazuli 10790
* malachite 10782
* ruby 7517
* sapphire 7519
* tanzanite 10781
* tourmaline10780
if %actor.is_pc%
  if %actor.has_item(625)%
    if %actor.has_item(10785)% && %actor.has_item(10786)% && %actor.has_item(10787)% && %actor.has_item(10788)%
      if %actor.has_item(10789)% && %actor.has_item(10790)% && %actor.has_item(10782)% && %actor.has_item(7517)%
        if %actor.has_item(7519)% && %actor.has_item(10781)% && %actor.has_item(10780)%
          %purge% %actor.inventory(625)%
          %purge% %actor.inventory(10785)%
          %purge% %actor.inventory(10786)%
          %purge% %actor.inventory(10787)%
          %purge% %actor.inventory(10788)%
          %purge% %actor.inventory(10789)%
          %purge% %actor.inventory(10790)%
          %purge% %actor.inventory(10782)%
          %purge% %actor.inventory(7517)%
          %purge% %actor.inventory(7519)%
          %purge% %actor.inventory(10781)%
          %purge% %actor.inventory(10780)%
          %echo% The jeweler accepts your gathered Arcadian jewels, and after a time, fashions the Tiara of Arcadia!
          wait 3 s
          %echo% Satisfied with %self.hisher% work, %selfheshe% hands you the Tiara.
          %load% obj 10783 %actor% inv
        else
          return 0
          %send% %actor% You're missing some of the jewels you'll need to fashion the Tiara.
        end
      else
        return 0
        %send% %actor% You're missing some of the jewels you'll need to fashion the Tiara.
      end
    else
      return 0
      %send% %actor% You're missing some of the jewels you'll need to fashion the Tiara.
    end
  else
    return 0
    %send% %actor% Would you mind obtaining a tiara of ice for me?  I'll not be able to mount your jewels without it.
  end
end

>[0;00m
Name: '(01) shopwoman greets',  VNum: [11800], RNum: [  637]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet Greet-All , Numeric Arg: 100, Arg list: None
Commands:
set gender one
if %actor.sex% == male
set gender lad
elseif %actor.sex% == female
set gender lady
end
wait 2 s
emote looks up and peers at you keenly as she smiles in greeting.
wait 2 s
say Why hello little %gender%.
wait 2 s
say Have a look around if it pleases you.
wait 2 s
say I hope you find what you are looking for.
wait 2 s
emote smiles strangely at you as she turns back to her work.

>[0;00m
[0mCHECKING: 11801[0m

Name: '(01) shopwoman comments on looking',  VNum: [11801], RNum: [  638]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: l
Commands:
return 0
wait 1 s
if %cmd.mudcommand% == look && dollhouse /= %arg% && %arg%
tell %actor.name% You like that do you?
wait 1 s
tell %actor.name% A piece worth examining closer if you want my opinion.
end

>[0;00m
[0mCHECKING: 11802[0m

Name: '(06) shopwoman comments on examination',  VNum: [11802], RNum: [  639]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: exa
Commands:
return 0
if %cmd.mudcommand% == examine && dollhouse /= %arg% && %arg%
wait 1 s
tell %actor.name% Aye, its a magnificent little toy that.
wait 1 s
tell %actor.name% Shame about that little doll that came with it.
end

>[0;00m
[0mCHECKING: 11803[0m

Name: '(09) doll teleports when taken',  VNum: [11803], RNum: [  640]
Trigger Intended Assignment: Objects
Trigger Type: Get , Numeric Arg: 100, Arg list: None
Commands:
if %actor.room.vnum% == 11802
%echoaround% %actor% %actor.name% takes something from the dollhouse and seems to fade mysteriously away, leaving no trace.
%teleport% %actor% 11801
wait 2 s
%send% %actor% You feel a little strange as everything starts to blur, shifting and changing shape until you are completely disorientated.
wait 2 s
%force% %actor% look
%force% %actor% xx
end

>[0;00m
[0mCHECKING: 11804[0m

Name: '(00) closed-eye girl greets',  VNum: [11804], RNum: [  641]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: xx
Commands:
wait 15 s
set gender shadow-creature
if %actor.sex% == male
  set gender shadow-man
elseif %actor.sex% == female
  set gender shadow-woman
end
if %actor.varexists(zn118_gravedone)%
  say Why %gender%, I believe you have passed through here before.
  wait 3 s
  say Did you really want to return?
  wait 3 s
  say Be aware that if you do, the cycle will begin again.
  wait 2 s
  say The words of the journal will be wiped clean.
  wait 3 s
else
  say What brings you to this private place %gender%?
  wait 3 s
  say There are answers here... but few care for the questions that invoke them.
  wait 3 s
end
%load% obj 11805
give eye %actor.name%
drop eye
wait 2 s
say The choice is yours...
wait 2 s
say Close it, and I shall send you back to your world...
wait 2 s
say Open it, and I shall send you to mine.

>[0;00m
[0mCHECKING: 11805[0m
[0mCHECKING: 11806[0m

Name: '(05) opening eye teleports in',  VNum: [11805], RNum: [  642]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 3, Arg list: o
Commands:
if %cmd.mudcommand% == open && eye /= %arg% && %arg%
  if %actor.varexists(zn118_knifestart)%
    rdelete zn118_knifestart %actor.id%
  end
  if %actor.varexists(zn118_gravedone)%
    rdelete zn118_gravedone %actor.id%
  end
  %teleport% %actor% 11822
  %send% %actor% You open the eye.
  wait 1 s
  %send% %actor% A hazy mist swirls up and around you, blurring your vision for a second before clearing away.
  wait 1 s
  %force% %actor% look
  wait 1 s
  %send% %actor% The voice of a young girl whispers: Please recover what I left there.
  wait 1 s
  %load% obj 11807
  %send% %actor% A leather-strapped journal suddenly materializes on the ground.
  wait 1 s
  %send% %actor% The voice of a young girl whispers: Give the journal to the ones you meet there, they will know what to do with it.
  %purge% self
else
  return 0
end

>[0;00m
[0mCHECKING: 11807[0m

Name: '(05) closing eye teleports out',  VNum: [11806], RNum: [  643]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 3, Arg list: c
Commands:
if %cmd.mudcommand% == close && eye /= %arg% && %arg%
%teleport% %actor% 11802
%echoaround% %actor% %actor.name% suddenly appears in a haze of mist.
%send% %actor% You close the eye.
wait 1 s
%send% %actor% A hazy mist swirls up and around you, blurring your vision for a second before clearing away. 
wait 1 s
%force% %actor% look
%purge% %self%
else
return 0
end

>[0;00m
[0mCHECKING: 11808[0m

Name: '(04) 4-yr-old gives different messages',  VNum: [11807], RNum: [  644]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: xx118xx
Commands:
eval room %self.room%
if (%room.vnum% == 11804)
  if !(%actor.varexists(zn118_a)%)
    emote walks into the room and peers at you.
    wait 2 s
    say You cant talk to the shadow-ones, they're not real...
    wait 2 s
    say at least not any more.
    wait 2 s
    say The others here aren't real either...
    wait 2 s
    say but then they never were.
    wait 1 s
    emote giggles as she runs off.
    set zn118_a 1
    remote zn118_a %actor.id%
  end
end
drop journal
%purge% %self%

>[0;00m
Name: '4-yr-old loads on entry',  VNum: [11808], RNum: [  645]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 100, Arg list: None
Commands:
wait 1 s
%load% mob 11804
%force% %actor% xx118xx

>[0;00m
[0mCHECKING: 11809[0m

Name: '(13) bird appears when taken',  VNum: [11809], RNum: [  646]
Trigger Intended Assignment: Objects
Trigger Type: Get , Numeric Arg: 100, Arg list: None
Commands:
set zn118_birdquest 1
remote zn118_birdquest %actor.id%
%load% mob 11805
%send% %actor% The little bird squirms free from your hand and flies joyfully to the higher parts of the room.
%purge% %self%

>[0;00m
[0mCHECKING: 11810[0m

Name: 'crunch',  VNum: [11810], RNum: [  647]
Trigger Intended Assignment: Objects
Trigger Type: Consume , Numeric Arg: 100, Arg list: None
Commands:
if %self.vnum% == 11816
%echo% GLUG GLUG GLUG...
elseif %self.vnum% == 11817
%echo% CRUNCH CRUNCH CRUNCH...
elseif %self.vnum% == 11818
%echo% CRUNCH CRUNCH CRUNCH...
end

>[0;00m
[0mCHECKING: 11811[0m

Name: '(39) grave quest',  VNum: [11811], RNum: [  648]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
if %object.vnum% == 11807
  wait 1 s
  set num 1
  if %actor.varexists(zn118_crayondone)%
    eval num %num% + 1
    if %actor.varexists(zn118_birddone)%
      eval num %num% + 1
      if %actor.varexists(zn118_ridleydone)% 
        eval num %num% + 1
        if %actor.varexists(zn118_knifedone)%
          eval num %num% + 1
          if %actor.varexists(zn118_tunneldone)%
            eval num %num% + 1 
            if %actor.varexists(zn118_ruthdone)%
              eval num %num% + 1
              if %actor.varexists(zn118_thindone)%
                eval num %num% + 1
                if %actor.varexists(zn118_mutedone)%
                  eval num %num% + 1
                  if %actor.varexists(zn118_runningdone)%
                    eval num %num% + 1
                    if %actor.varexists(zn118_angrydone)%
                      eval num %num% + 1
                      if %actor.varexists(zn118_blinddone)%
                        eval num %num% + 1
                        if %actor.varexists(zn118_weepingdone)%
                          eval num %num% + 1
                          if %actor.varexists(zn118_scarreddone)%
                            eval num %num% + 1
                          end
                        end
                      end
                    end
                  end
                end
              end
            end
          end
        end
      end
    end
  end
  if %num% == 14
    say Well done %actor.name%, all the words of this place have been captured.
    wait 1 s
    say And so the speakers need linger no more.
    wait 2 s
    say A terrible time... and a terrible story...
    wait 1 s
    emote brushes her fingers over the pages of the journal.
    wait 2 s
    say And now it passes into your keeping, as it has passed out of mine.
    wait 2 s
    say My time is over %actor.name%, now I must be destroyed, and my bones buried here... in this ruined garden.
    wait 3 s
    say The task falls upon you to finish this, bury me here, and I shall seal this quest.
    set zn118_gravequest 1
    remote zn118_gravequest %actor.id%
    rdelete zn118_crayondone %actor.id%
    rdelete zn118_birddone %actor.id%
    rdelete zn118_ridleydone %actor.id%
    rdelete zn118_knifedone %actor.id%
    rdelete zn118_tunneldone %actor.id%
    rdelete zn118_ruthdone %actor.id%
    rdelete zn118_thindone %actor.id%
    rdelete zn118_mutedone %actor.id%
    rdelete zn118_runningdone %actor.id%
    rdelete zn118_angrydone %actor.id%
    rdelete zn118_blinddone %actor.id%
    rdelete zn118_weepingdone %actor.id%
    rdelete zn118_scarreddone %actor.id%
    give journal %actor.name%
    drop journal
  elseif %actor.varexists(zn118_gravequest)%
    wait 1 s
    say Only one thing remains %actor.name%.
    wait 1 s
    say Kill me, and bury my corpse here in this garden.
    wait 1 s
    give journal %actor.name%
    drop journal
  else
    wait 1 s
    say I have been waiting for one such as you, %actor.name%.
    wait 2 s
    say But I am the last of all you must see here.
    wait 1 s
    say Return to me when the others have told their tales.
    wait 1 s
    give journal %actor.name%
    drop journal
  end
else
  say I do not think this is meant for me.
  give %object.name.car% %actor.name%
  drop %object.name.car%
end

>[0;00m
[0mCHECKING: 11812[0m

Name: 'pinball - shoot',  VNum: [11812], RNum: [  649]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 7, Arg list: shoot
Commands:
* No Script

>[0;00m
[0mCHECKING: 11813[0m
[0mCHECKING: 11814[0m

Name: 'random messages',  VNum: [11813], RNum: [  650]
Trigger Intended Assignment: Rooms
Trigger Type: Random , Numeric Arg: 40, Arg list: None
Commands:
switch %random.8%
  case 0
    %echo% Birds chirp serenly from the swaying branches of surrounding trees.
  break
  case 1
  %echo% A sudden chill breathes harshly down your neck.
  break
  case 2
%echo% A soft glow lights the place as a large spark flares and dies.
  break
  case 3
 %echo% The sound of gentle laughter echoes from nearby mountains.
  break
  case 4
%echo% An anguished scream pierces the air.
  break
  case 5
%echo% The leaves shiver uneasily as something invisible stirs the air.
  break
  case 6
 %echo% The warm scent of fresh baking bread wafts on the air.
  break
case 7
%echo% The soothing sound of a mother's voice can be heard singing gently.
break
case 8
%echo% The air grows suddenly still as though this place was holding its breath.
break
  default
%echo% A soft glow lights the place as a large spark flares and dies.
  break
done

>[0;00m
[0mCHECKING: 11815[0m

Name: '(02) colouring message',  VNum: [11814], RNum: [  651]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet Greet-All , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  if !%actor.varexists(zn118_b)%
    wait 1 s
    emote looks up and smiles at you.
    wait 1 s
    say I'm drawing monsters...
    wait 1 s
    say but I need my red crayon...
    wait 1 s
    say they took it away.
    wait 1 s
    emote sighs and goes back to her drawing.
    set zn118_b 1
    remote zn118_b %actor.id%
  end
end

>[0;00m
[0mCHECKING: 11816[0m

Name: 'shadow mobs won't take journal',  VNum: [11815], RNum: [  652]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
  return 0
  %send% %actor% %self.name% is not even aware of you.

>[0;00m
[0mCHECKING: 11817[0m

Name: 'certain mobs won't take journal',  VNum: [11816], RNum: [  653]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
if %object.vnum% == 11807
  %send% %actor% %self.name% can't take %object.shortdesc%.
  return 0
end

>[0;00m
Name: 'incorrect mobs refuse journal',  VNum: [11817], RNum: [  654]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
  wait 1 s
  emote shrugs uncertainly.
  wait 1 s
  say Somehow I don't think this is meant for me.
drop %object.name.car%

>[0;00m
[0mCHECKING: 11818[0m

Name: '(02) crayon child quest',  VNum: [11818], RNum: [  655]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
if %object.vnum% == 11807
  if %actor.varexists(zn118_crayondone)%
    wait 1 s
    say I have already written in that for you.
    give journal %actor.name%
    drop journal
  elseif %actor.varexists(zn118_crayonquest)%
    wait 1 s
    say Ah! Now, let me see...
    wait 1 s
    emote scribbles something into a leather-strapped journal.
    wait 1 s
    give journal %actor.name%
    drop journal
    nop %actor.exp(10000)%
    smile
    rdelete zn118_crayonquest %actor.id%
    set zn118_crayondone 1
    remote zn118_crayondone %actor.id%
  else
    wait 1 s
    say I would like to write something in that for you...
    wait 1 s
    say but I need my red crayon.
    wait 1 s
    give journal %actor.name%
    drop journal
  end
elseif %object.vnum% == 11808
  set zn118_crayonquest 1
  remote zn118_crayonquest %actor.id%
  wait 1 s
  smile
  wait 1 s
  hold crayon
  wait 1 s
  say Now I have my crayon I can write for you.
  wait 1 s
  smile %actor.name%
else
  wait 1 s
  say I don't think this is meant for me.
  give %object.name.car% %actor.name%
  drop %object.name.car%
end

>[0;00m
[0mCHECKING: 11819[0m

Name: '(71) bloodstone amulet awaken',  VNum: [11819], RNum: [  656]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 1, Arg list: awaken
Commands:
%send% %actor% You wrap your fingers around the bloodstone amulet and focus deeply.
%echoaround% %actor% %actor.name% wraps %actor.hisher% fingers around %actor.hisher% bloodstone amulet and closes %actor.hisher% eyes in concentration.
if %actor.varexists(zn118_focus_return)%
  eval place %actor.zn118_focus_return%
  wait 2 s
  %send% %actor% The amulet glows brightly, heating in your grasp and flickering with wisps of magic.
  %echoaround% %actor% The amulet glows brightly, flickering with wisps of magic as %actor.name% grasps it.
  wait 2 s
  %teleport% %actor% %place%
  rdelete zn118_focus_return %actor.id%
  %send% %actor% The amulet amplifies your focus, helping you re-emerge into reality.
  %echoaround% %actor% %actor.name% suddenly flickers into existance.
else
  wait 2 s
  %send% %actor% You are already fully awake to reality.
end

>[0;00m
[0mCHECKING: 11820[0m

Name: '(09) bird quest',  VNum: [11820], RNum: [  657]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
if %object.vnum% == 11807
  if %actor.varexists(zn118_birddone)%
    wait 1 s
    say I have already written in that for you.
    give journal %actor.name%
    drop journal
  elseif %actor.varexists(zn118_birdquest)%
    wait 1 s
    say Thank you %actor.name%. Now part of me feels free too.
    wait 2 s
    emote scribbles something into a leather-strapped journal.
    wait 2 s
    nop %actor.exp(10000)%
    give journal %actor.name%
    drop journal
    wait 1 s
    say That key will also open the middle way.
    rdelete zn118_birdquest %actor.id%
    set zn118_birddone 1
    remote zn118_birddone %actor.id%
  else
    wait 1 s
    say Yes, there is something I could write in that...
    wait 1 s
    say but would you do me a favour first?
    wait 2 s
    say My father keeps a little bird locked away...
    wait 2 s
    say would you release it?
    wait 1 s
    %load% obj 11823
    say Here... Pin will help you do it.
    wait 1 s
    give key %actor.name%
    drop key
    give journal %actor.name%
    drop journal
  end
else
  wait 1 s
  say I don't think this is meant for me.
  drop %object.name.car%
end

>[0;00m
[0mCHECKING: 11821[0m

Name: '(09) playing message',  VNum: [11821], RNum: [  658]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet Greet-All , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  if !%actor.varexists(zn118_c)%
    wait 1 s
    emote jumps as she realizes she's not alone.
    wait 1 s
    emote laughs.
    wait 1 s
    say Oh hiya...
    wait 2 s
    smile %actor.name%
    wait 1 s
    say Do you play games?
    wait 2 s
    %load% obj 11818
    give carrot %actor.name%
    drop carrot
    set zn118_c 1
    remote zn118_c %actor.id%
  end
end

>[0;00m
[0mCHECKING: 11822[0m
[0mCHECKING: 11823[0m

Name: 'new trigger',  VNum: [11822], RNum: [  659]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
%purge% corpse

>[0;00m
[0mCHECKING: 11824[0m

Name: 'test',  VNum: [11823], RNum: [  660]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 3, Arg list: read
Commands:
* No Script

>[0;00m
[0mCHECKING: 11825[0m

Name: '(17) clapping game 1',  VNum: [11824], RNum: [  661]
Trigger Intended Assignment: Mobiles
Trigger Type: Speech , Numeric Arg: 100, Arg list: *
Commands:
wait 1 s
if %speech% == My mother says...
  say not to play...
elseif %speech% == with the gypsies...
  say in the wood.
elseif %speech% == If I should...
  say she would say...
elseif %speech% == Naughty little child...
  say to disobey!
  wait 1 s
  giggle
else
  return 0
end

>[0;00m
Name: '(16) clapping game 2',  VNum: [11825], RNum: [  662]
Trigger Intended Assignment: Mobiles
Trigger Type: Speech , Numeric Arg: 100, Arg list: *
Commands:
wait 1 s
if %speech% == not to play...
  say with the gypsies...
elseif %speech% == in the wood.
  say If I should...
elseif %speech% == she would say...
  say Naughty little child...
elseif %speech% == to disobey!
  giggle
else
  return 0
end

>[0;00m
[0mCHECKING: 11826[0m

Name: '(16) random clapping game',  VNum: [11826], RNum: [  663]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 5, Arg list: None
Commands:
say My mother says...

>[0;00m
[0mCHECKING: 11827[0m

Name: '(11) when Ridley receives',  VNum: [11827], RNum: [  664]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
if %object.vnum%==11834
  if %actor.varexists(zn118_ridleyquest)%
    eval in_box %object.contents%
    while %in_box%
      set next_in_box %in_box.next_in_list%
      if %in_box.vnum%==11828
        set zn118_fruit 1
        remote zn118_fruit %actor.id%
      elseif %in_box.vnum%==11832
        set zn118_flower 1
        remote zn118_flower %actor.id%
      elseif %in_box.vnum%==11833
        set zn118_flying 1
        remote zn118_flying %actor.id%
      end
      set in_box %next_in_box%
    done
    if %actor.varexists(zn118_fruit)%
      if %actor.varexists(zn118_flower)%
        if %actor.varexists(zn118_flying)%
          rdelete zn118_fruit %actor.id%
          rdelete zn118_flower %actor.id%
          rdelete zn118_flying %actor.id%
          rdelete zn118_ridleyquest %actor.id%
          set zn118_ridleywrite 1
          remote zn118_ridleywrite %actor.id%
        end
      end
    end
    if %actor.varexists(zn118_ridleywrite)%
      wait 1 s
      say Thank you %actor.name%, I will restore them to their natural forms, evil though they be..
      wait 1 s
      %purge% box
      wait 1 s
      say And as for that book of yours, come let me write in it for you.
    else
      wait 1 s
      say Ah, it seems not everything is here.
      wait 1 s
      give box %actor.name%
      drop box
      wait 1 s
      say All of these I must reclaim... a flower, a fruit, and a flying thing.
      wait 1 s
      say Remember, do not kill the flying thing, only "capture" it.
    end
    if %actor.varexists(zn118_fruit)%
      rdelete zn118_fruit %actor.id%
      if %actor.varexists(zn118_flower)%
        rdelete zn118_flower %actor.id%
        if %actor.varexists(zn118_flying)%
          rdelete zn118_flying %actor.id%
        end
      end
    end
  else
    wait 1 s
    say Hmm, I am not sure why you had that.
  end
elseif %object.vnum%==11807
  if %actor.varexists(zn118_ridleywrite)%
    wait 2 s
    emote rearranges her blocks to spell W O R D S.
    wait 2 s
    say Words I promised you and words you shall have.
    wait 3 s
    emote weaves her hands over the blocks, drawing a dark shadow from them and guiding it into the journal.
    wait 3 s
    say There we are.
    rdelete zn118_ridleywrite %actor.id%
    set zn118_ridleydone 1
    remote zn118_ridleydone %actor.id%
    wait 1 s
    nop %actor.exp(10000)%
    give journal %actor.name%
    drop journal
    wait 1 s
    say I have something else for you too.
    wait 2 s
    emote rearranges her blocks to spell S W O R D.
    wait 2 s
    emote weaves her hands over the blocks, drawing a dark shadow from them and shaping it with her fingers.
    wait 3 s
    %load% obj 11835
    say Words can be a weapon...
    wait 1 s
    give sword %actor.name%
    drop sword
    wait 1 s
    say That will cut all bonds of silence. I can assure you that you will need it... though not for yourself.
  elseif  %actor.varexists(zn118_ridleyquest)%
    wait 1 s
    say Ah, first I must unmake what I have made.
    wait 1 s
    say I must have the box with the three items... the fruit, the flower, and the flying thing... remember only to 'capture' the flying thing, do not kill it.
    wait 2 s
    say If you have lost the box I gave you, I can make another... just say "another" if that be the case.
    wait 1 s
    give journal %actor.name%
    drop journal
  elseif %actor.varexists(zn118_ridleydone)%
    wait 1 s
    say I have already written in that for you %actor.name%.
    give journal %actor.name%
    drop journal
  else
    wait 1 s
    emote stops what she is doing and glances at the journal.
    wait 2 s
    emote sighs loudly.
    wait 1 s
    say Ah strange person you are, bringing a book of words to me...
    wait 2 s
    say Do you not know that I am a stealer of words?
    wait 2 s
    say So dangerous they are... and it is my job to make them safe.
    wait 2 s
    emote turns the journal over in her hands, studying it thoughtfully.
    wait 2 s
    say Perhaps it is time though...
    wait 2 s
    say Time to unmake what I have made, and let the cloak fall. I have spent long enough in deception.
    wait 4 s
    say Yes, words I will give you... if you return mine to me.
    wait 2 s
    give journal %actor.name%
    drop journal
    wait 1 s
    say Three things they are...
    wait 1 s
    say A fruit, a flower, and a flying thing...
    wait 2 s
    say Please do not kill the flying thing, only "capture" it.
    wait 1 s
    %load% obj 11834
    give box %actor.name%
    drop box
    wait 2 s
    say That box will hold them all safely, please return it to me when it contains them all.
    set zn118_ridleyquest 1
    remote zn118_ridleyquest %actor.id%
  end
else
  wait 1 s
  say I don't think this is meant for me.
  drop %object.name.car%
end

>[0;00m
[0mCHECKING: 11828[0m

Name: '(11) Ridley gives box',  VNum: [11828], RNum: [  665]
Trigger Intended Assignment: Mobiles
Trigger Type: Speech , Numeric Arg: 100, Arg list: another
Commands:
%load% obj 11834
wait 1 s
emote weaves her hands in the air, drawing darkness from the room into a solid shape.
wait 1 s
say Please do not lose it again.
wait 1 s
give box %actor.name%

>[0;00m
[0mCHECKING: 11829[0m

Name: '(21) insect can be captured',  VNum: [11829], RNum: [  666]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: capture
Commands:
if %arg% == insect
  %send% %actor% You make a quick grab for %self.name%, capturing it expertly in your hands.
  %echoaround% %actor% %actor.name% makes a quick grab for %self.name%, capturing it expertly in %actor.hisher% hands.
  %load% obj 11833 %actor% inv
  %purge% %self%
else
  %send% %actor% Capture what?
end

>[0;00m
[0mCHECKING: 11830[0m
[0mCHECKING: 11831[0m

Name: '(33) insect escapes after while',  VNum: [11830], RNum: [  667]
Trigger Intended Assignment: Objects
Trigger Type: Timer , Numeric Arg: 100, Arg list: None
Commands:
eval actor %self.carried_by%
if %actor.is_pc%
  %send% %actor% %self.shortdesc% suddenly squirms free from your hands and flies away.
  %echoaround% %actor% %self.shortdesc% suddenly squirms free of %actor.name%'s grasp and flies away.
  %load% mob 11821
  %purge% self
end

>[0;00m
[0mCHECKING: 11832[0m

Name: '(21) insect loads self on death',  VNum: [11831], RNum: [  668]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
%at% 11832 %load% mob 11821

>[0;00m
[0mCHECKING: 11833[0m

Name: '(22) score of secrets killed',  VNum: [11832], RNum: [  669]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
if %actor.varexists(zn118_tunnelquest)%
  eval zn118_tunnelquest %actor.zn118_tunnelquest% + 1
  remote zn118_tunnelquest %actor.id%
end
eval room %random.18%
eval room %room% + 11874
%at% %room% %load% mob 11822

>[0;00m
Name: '(22) tunnel-man quest',  VNum: [11833], RNum: [  670]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
if %object.vnum% == 11807
  if %actor.varexists(zn118_tunneldone)%
    wait 1 s
    say I have already written in that for you.
    give journal %actor.name%
    drop journal
  elseif %actor.varexists(zn118_tunnelquest)%
    eval score %actor.zn118_tunnelquest% - 1
    if %score% < 15
      wait 1 s
      say Thank you for your work %actor.name%, you have vanquished %score% secrets.
      wait 2 s
      say Though you will never defeat them all, would you please destroy some more?
      wait 2 s
      give journal %actor.name%
      drop journal
    else
      wait 1 s
      say Well done %actor.name%, you have rid us of %score% secrets.
      wait 2 s
      say As I promised, I shall write my piece.
      wait 1 s
      emote grasps a pen from thin air and writes something in a leather-strapped journal.
      rdelete zn118_tunnelquest %actor.id%
      set zn118_tunneldone 1
      remote zn118_tunneldone %actor.id%
      wait 3 s
      nop %actor.exp(10000)%
      give journal %actor.name%
      drop journal
      %load% obj 11855
      give key %actor.name%
      drop key
      wait 1 s
      say And here with the journal, a gift...
      wait 1 s
      say The way to the end is open before you.
      wait 1 s
      say Do you see?
      wait 1 s
    end
  else
    wait 1 s
    emote manoeuvres the journal, making it levitate and turn slowly in the air.
    wait 2 s
    say You are very trusting to give this to me shadow-person.
    wait 1 s
    say I have no name, though Ridley calls me Daniel... you would be wise to offer this to her if you have not done so already.
    wait 3 s
    emote turns his attention back to the twirling journal.
    wait 2 s
    say You do realise shadow-person... that this quest of yours will destroy me?
    wait 3 s
    say Indeed, not just myself, but all who dwell here.
    wait 2 s
    emote grows silent for a moment, apparently thinking.
    wait 3 s
    say Still... if our fall means purging of the evil along with us, then I would see it done.
    wait 3 s
    say I ask only this...that you prove to me your intentions.
    wait 2 s
    emote gestures toward the swirling tunnel.
    wait 2 s
    say Please enter it, destroy some of the evil you find there, though you will never kill them all.
    wait 2 s
    say Your willingness to do so will convince me.
    wait 1 s
    set zn118_tunnelquest 1
    remote zn118_tunnelquest %actor.id%
    give journal %actor.name%
    drop journal
  end
else
  wait 1 s
  say I don't think this is meant for me.
  give %object.name.car% %actor.name%
  drop %object.name.car%
end

>[0;00m
[0mCHECKING: 11834[0m

Name: '(31) enter vortex teleports',  VNum: [11834], RNum: [  671]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: enter
Commands:
%send% %actor% You enter the vortex.
%echoaround% %actor% %actor.name% enters the vortex.
if %self.vnum% == 11831
  %teleport% %actor% 11874
elseif %self.vnum% -- 11874
  %teleport% %actor% 11831
end
wait 1 s
%force% %actor% look

>[0;00m
[0mCHECKING: 11835[0m

Name: '(23) running girl runs',  VNum: [11835], RNum: [  672]
Trigger Intended Assignment: Mobiles
Trigger Type: Global Random , Numeric Arg: 100, Arg list: None
Commands:
if %self.room.vnum% == 11876
  wait 1 s
  s
else
  %teleport% %self% 11876
  s
end
wait 1 s
s
wait 1 s
say I've got to keep going...
s
wait 1 s
s
wait 1 s
say Back and forth...
w
wait 1 s
n
wait 1 s
n
wait 1 s
say It gets harder and harder...
n
wait 1 s
n
wait 1 s
e
say But keep going...
wait 1 s
emote gasps for air.

>[0;00m
[0mCHECKING: 11836[0m

Name: '(23) running girl does what told',  VNum: [11836], RNum: [  673]
Trigger Intended Assignment: Mobiles
Trigger Type: Speech , Numeric Arg: 100, Arg list: *
Commands:
if %actor.varexists(zn118_runningstart)%
  if %speech.contains(msend)% || %speech.contains(mecho)% || %speech.contains(mechoaround)% || %speech.contains(mdoor)% || %speech.contains(mforce)% || %speech.contains(mload)% || %speech.contains(mpurge)% || %speech.contains(mteleport)%
    %force% %actor% gos I just attempted to cheat by abusing a script.
  elseif %speech.contains(mdamage)% || %speech.contains(mzoneecho)% || %speech.contains(masound)% || %speech.contains(dg_affect)% || %speech.contains(dg_cast)% || %speech.contains(mat)% || %speech.contains(mtransform)% || %speech.contains(mhunt)%
    %force% %actor% gos I just attempted to cheat by abusing a script.
  elseif %speech.contains(mremember)% || %speech.contains(mforget)%  || %speech.contains(mgoto)% || %speech.contains(mkill)% || %speech.contains(mjunk)% || %speech.contains(mfollow)%
    %force% %actor% gos I just attempted to cheat by abusing a script.
  else
    %speech%
    wait 1
    if %self.room.vnum% == 11831
      rdelete zn118_runningstart %actor.id%
      set zn118_runningquest 1
      remote zn118_runningquest %actor.id%
      wait 1 s
      tell %actor.name% Thank you for getting me out of there.
      follow self
    end
  end
end

>[0;00m
[0mCHECKING: 11837[0m

Name: 'test missile',  VNum: [11837], RNum: [  674]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 1, Arg list: shoot
Commands:
if %arg% == north
  eval north %self.room.north(vnum)%
  eval room %self.room.north(room)%
  eval people %room.people%
  if %people%
    %send% %people% You are suddenly shot by %actor.name%.
    %at% %north% %damage% %people% 20
    %send% %actor% You shoot %people.name% and damage %people.himher%.
    %echoaround% %actor% %actor.name% shoots %people.name% and damages %people.himher%
  else
    %send% %actor% Theres no one there.
  end
elseif %arg% == east
  eval east %self.room.east(vnum)%
  eval room %self.room.east(room)%
  eval people %room.people%
  if %people%
    %send% %people% You are suddenly shot by %actor.name%.
    %at% %east% %damage% %people% 20
    %send% %actor% You shoot %people.name% and damage %people.himher%.
    %echoaround% %actor% %actor.name% shoots %people.name% and damages %people.himher%
  else
    %send% %actor% Theres no one there.
  end
elseif %arg% == south
  eval south %self.room.south(vnum)%
  eval room %self.room.south(room)%
  eval people %room.people%
  if %people%
    %send% %people% You are suddenly shot by %actor.name%.
    %at% %south% %damage% %people% 20
    %send% %actor% You shoot %people.name% and damage %people.himher%.
    %echoaround% %actor% %actor.name% shoots %people.name% and damages %people.himher%
  else
    %send% %actor% Theres no one there.
  end
elseif %arg% == west
  eval west %self.room.west(vnum)%
  eval room %self.room.west(room)%
  eval people %room.people%
  if %people%
    %send% %people% You are suddenly shot by %actor.name%.
    %at% %west% %damage% %people% 20
    %send% %actor% You shoot %people.name% and damage %people.himher%.
    %echoaround% %actor% %actor.name% shoots %people.name% and damages %people.himher%
  else
    %send% %actor% Theres no one there.
  end
elseif %arg% == up
  eval up %self.room.up(vnum)%
  eval room %self.room.up(room)%
  eval people %room.people%
  if %people%
    %send% %people% You are suddenly shot by %actor.name%.
    %at% %up% %damage% %people% 20
    %send% %actor% You shoot %people.name% and damage %people.himher%.
    %echoaround% %actor% %actor.name% shoots %people.name% and damages %people.himher%
  else
    %send% %actor% Theres no one there.
  end
elseif %arg% == down
  eval down %self.room.down(vnum)%
  eval room %self.room.down(room)%
  eval people %room.people%
  if %people%
    %send% %people% You are suddenly shot by %actor.name%.
    %at% %down% %damage% %people% 20
    %send% %actor% You shoot %people.name% and damage %people.himher%.
    %echoaround% %actor% %actor.name% shoots %people.name% and damages %people.himher%
  else
    %send% %actor% Theres no one there.
  end
else
  %send% %actor% You must specify a direction - north, east, west, south, up, or
  down.
end

>[0;00m
[0mCHECKING: 11838[0m
[0mCHECKING: 11839[0m

Name: 'test missile condensed',  VNum: [11838], RNum: [  675]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 1, Arg list: shoot
Commands:
if %arg% == north || %arg% ==  east || %arg% == south || %arg% == west || %arg% == up || %arg% == down
  eval dir %arg%
  eval direction %%self.room.%dir%(vnum)%%
  eval where %%self.room.%dir%(room)%%
  eval people %where.people%
  if %people%
    %send% %people% You are suddenly shot by %actor.name%.
    %at% %direction% %damage% %people% 20
    %send% %actor% You shoot %people.name% and damage %people.himher%.
    %echoaround% %actor% %actor.name% shoots %people.name% and damages %people.himher%
  else
    %send% %actor% Theres no one there.
  end
else
  %send% %actor% You must specify a direction - north, east, west, south, up, or down.
end

>[0;00m
[0mCHECKING: 11840[0m

Name: 'test bow/quiver',  VNum: [11839], RNum: [  676]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 1, Arg list: shoot
Commands:
if %arg% == north || %arg% ==  east || %arg% == south || %arg% == west || %arg% == up || %arg% == down
  eval dir %arg%
  eval direction %%self.room.%dir%(vnum)%%
  eval where %%self.room.%dir%(room)%%
  eval people %where.people%
  if %actor.has_item(2731)%
    %force% %actor% take arrow quiver
  end
  if %actor.inventory(2733)%
    if %people%
      switch %random.3%
        case 1
          %send% %people% You are suddenly shot by %actor.name%.
          %at% %direction% %damage% %people% 20
          %send% %actor% You shoot %people.name% and damage %people.himher%.
          %echoaround% %actor% %actor.name% shoots %people.name% and damages %people.himher%
          %purge% %actor.inventory(2733)%
          %load% obj 2733 %people% inv
        break
        case 2
          %send% %people% %actor.name% tries to shoot you but misses.
          %send% %actor% You try to shoot %people.name% but miss.
          %echoaround% %actor% %actor.name% tries to shoot %people.name% but misses
          %purge% %actor.inventory(2733)%
          %load% obj 2733
        break
        case 3
          %send% %people% You are suddenly shot by %actor.name%.
          %send% %people% The arrow breaks.
          %at% %direction% %damage% %people% 20
          %send% %actor% You shoot %people.name% and damage %people.himher%.
          %send% %actor% The arrow breaks.
          %echoaround% %actor% %actor.name% shoots %people.name% and damages %people.himher%
          %purge% %actor.inventory(2733)%
        break
        default
          %send% %people% You are suddenly shot by %actor.name%.
          %at% %direction% %damage% %people% 20
          %send% %actor% You shoot %people.name% and damage %people.himher%.
          %echoaround% %actor% %actor.name% shoots %people.name% and damages %people.himher%
          %purge% %actor.inventory(2733)%
          %load% obj 2733 %people% inv
        break
      done
    else
      %send% %actor% Theres no one there.
    end
  else
    %send% %actor% You can't shoot without arrows.
  end
else
  %send% %actor% You must specify a direction - north, east, west, south, up, or down.
end

>[0;00m
[0mCHECKING: 11841[0m

Name: 'test improved bow',  VNum: [11840], RNum: [  677]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 1, Arg list: shoot
Commands:
*
* As is this trigger is attached to bow 2732
* To be used with arrows - 2733, 2780, 2781, 2782.
* Can also be optionally used with quiver 2731
*
*
* Checks if there are any players/mobs in the room
* to the direction specified.
*
if %arg.mudcommand% == north || %arg.mudcommand% == east || %arg.mudcommand% == south || %arg.mudcommand% == west || %arg.mudcommand% == up || %arg.mudcommand% == down
  eval dir %arg.mudcommand%
  eval direction %%self.room.%dir%(vnum)%%
  eval where %%self.room.%dir%(room)%%
  eval people %where.people%
  *
  * These next three lines just make the actor withdraw
  * an arrow if he/she is carrying them in a quiver.
  * Is just intended to give the quiver a helpful feature.
  *
  if %actor.has_item(2731)%
    %force% %actor% take arrow quiver
  end
  *
  * Checks for the first item in inventory that is one of the 
  * specified arrows and sets its vnum as the one to be used.
  *
  eval inv %actor.inventory%
  while (%inv%)
    if %inv.vnum% == 2733 || %inv.vnum% == 2780 || %inv.vnum% == 2781 || %inv.vnum% == 2782
      eval arrow %inv.vnum%
      eval weapon %inv%
      %echo% %arrow%
      set inv 0
    else
      eval next %inv.next_in_list%
      set inv %next%
    end
  done
  *
  * Searchable array by Random, matches the chosen arrow
  * vnum with the damage stats and any affects to be used.
  *
  set type[1] 2733 3 2 0
  set type[2] 2780 5 3 0
  set type[3] 2781 8 4 0
  set type[4] 2782 4 3 poison
  set type[5] none * must be the last item in the array
  set i 1
  while %vnum% != none
    set temp %%type[%i%]%%
    eval temp %temp%
    eval vnum %temp.car%
    if %vnum% == %arrow%
      eval temp %temp.cdr%
      eval dam %temp.car%
      eval temp %temp.cdr%
      eval bonus %temp.car%
      eval temp %temp.cdr%
      eval spell %temp.car%
    end
    eval i %i% +1
  done
  %echo% arrow vnum = %arrow%, damage = %dam%, bonus = %bonus%, and spell = %spell%
  *
  * Just a calculation of the arrow stats using a
  * random number of dice between 1 and 3.
  *
  set dice %random.3%
  eval finaldam ((%dice% * %dam%) + %bonus%)
  %echo% Hits for total of %finaldam%.  
  *
  * If the actor has an arrow in inventory, and there are 
  * people in the room specified, one of three random things
  * happens - Actor shoots but misses, Actor shoots and damages,
  * Actor shoots, damages, but loses the arrow.
  *
  if %arrow%
    if %people%
      switch %random.3%
        case 1
          %send% %people% %actor.name% shoots you with %weapon.shortdesc%.
          %at% %direction% %damage% %people% %finaldam%
          %force% %people% mhunt %actor%
          if %spell%
            dg_cast '%spell%' %people%
          end
          %send% %actor% You shoot %people.name% with %weapon.shortdesc%.
          %echoaround% %actor% %actor.name% shoots %people.name% with %weapon.shortdesc%.
          %purge% %actor.inventory(%arrow%)%
          %load% obj %arrow% %people% inv
        break
        case 2
          %send% %people% %actor.name% tries to shoot you but misses.
          %send% %actor% You try to shoot %people.name% with %weapon.shortdesc% but miss.
          %echoaround% %actor% %actor.name% tries to shoot %people.name% but misses
          %purge% %actor.inventory(%arrow%)%
          %load% obj %arrow%
        break
        case 3
          %send% %people% %actor.name% shoots you with %weapon.shortdesc%.
          %send% %people% %weapon.shortdesc% breaks.
          %force% %people% mhunt %actor%
          %at% %direction% %damage% %people% %finaldam%
          if %spell%
            dg_cast '%spell%' %people%
          end
          %send% %actor% You shoot %people.name% with %weapon.shortdesc%.
          %send% %actor% %weapon.shortdesc% breaks.
          %echoaround% %actor% %actor.name% shoots %people.name% with %weapon.shortdesc%.
          %purge% %actor.inventory(%arrow%)%
        break
        default
          %echo% If you see this message, something is wrong. Please report it.
        break
      done
    else
      %send% %actor% Theres no one there.
    end
  else
    %send% %actor% You can't shoot without arrows.
  end
else
  %send% %actor% You must specify a direction - north, east, west, south, up, or down.
end

>[0;00m
Name: 'test asound',  VNum: [11841], RNum: [  678]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 7, Arg list: test
Commands:
* No Script

>[0;00m
[0mCHECKING: 11842[0m

Name: '(23) running quest given',  VNum: [11842], RNum: [  679]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
if %object.vnum% == 11807
  if %actor.varexists(zn118_runningdone)%
    wait 1 s
    say I have already written in that for you.
    give journal %actor.name%
    drop journal
  elseif %actor.varexists(zn118_runningquest)%
    wait 1 s
    emote pauses to think for a moment.
    wait 1 s
    emote scrawls something carefully into a leather-strapped journal.
    wait 1 s
    nop %actor.exp(10000)%
    give journal %actor.name%
    drop journal
    rdelete zn118_runningquest %actor.id%
    set zn118_runningdone 1
    remote zn118_runningdone %actor.id%
  else
    wait 1 s
    detach 11835 %self.id%
    emote comes to a halt.
    wait 1 s
    emote peers at you curiously.
    wait 2 s
    say There is not much that would give me hope enough to abandon this task.
    wait 3 s
    say But this is something I never dared to have the chance to write in...
    wait 3 s
    say Take me out of this tunnel-world and I will.
    wait 2 s
    say Whatever you say, I will do.
    set zn118_runningstart 1
    remote zn118_runningstart %actor.id%
    give journal %actor.name%
    drop journal
  end
else
  wait 1 s
  say I don't think this is meant for me.
  give %object.name.car% %actor.name%
  drop %object.name.car%
end

>[0;00m
[0mCHECKING: 11843[0m

Name: '(73) examining walls reveals word',  VNum: [11843], RNum: [  680]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: ex
Commands:
if %cmd.mudcommand% == examine
  if walls /= %arg%
    eval max %random.21%
    set  txt[1] PATRIS
    set  txt[2] PRODITIO
    set  txt[3] CRUCIATUS
    set  txt[4] DOLOR
    set  txt[5] PROFANO
    set  txt[6] PROBRUM
    set  txt[7] COACTU
    set  txt[8] CONNUBIUM
    set  txt[9] ABSCONDO
    set  txt[10] VULNERO
    set  txt[11] CRUENTO
    set  txt[12] MINUO
    set  txt[13] FORMIDILOSUS
    set  txt[14] PAVIDUS
    set  txt[15] TIMEO
    set  txt[16] FORO
    set  txt[17] LEDO
    set  txt[18] PERFRINGO
    set  txt[19] PUPUGI
    set  txt[20] CONSTUPRO
    set  txt[21] RAPIO
    set  word %%txt[%max%]%%
    eval word %word%
    %send% %actor% Your eyes scan the glowing walls and alight upon the word %word%[0;00m.
    if !%actor.varexists(zn118_blinddone)%
      set zn118_blindquest %word%
      remote zn118_blindquest %actor.id%
    end
  else
    return 0
  end
end

>[0;00m
[0mCHECKING: 11844[0m

Name: 'new trigger',  VNum: [11844], RNum: [  681]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: ge
Commands:
if %cmd.mudcommand% == get && %arg% == pick
  if !%taken%
    set taken 1
    global taken
  end
  if %taken% < 5
    %load% obj 2700 %actor% inv
    eval taken %taken% + 1
    global taken
    %send% %actor% You take a pick.
    %echoaround% %actor% %actor.name% gets a pick.
  else
    %send% %actor% There are no more picks.
  end
else
  %send% %actor% Get what?
end

>[0;00m
[0mCHECKING: 11845[0m

Name: 'test',  VNum: [11845], RNum: [  682]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: test
Commands:
set taken 1
global taken

>[0;00m
[0mCHECKING: 11846[0m
[0mCHECKING: 11847[0m

Name: '(24) blind quest given',  VNum: [11846], RNum: [  683]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
if %object.vnum% == 11807
  if %actor.varexists(zn118_blinddone)%
    wait 1 s
    say I have already written in that for you.
    give journal %actor.name%
    drop journal
  elseif %actor.varexists(zn118_blindword)%
    wait 1 s
    say Since you have proved yourself willing to read...
    wait 1 s
    say Here, I am willing to write.
    wait 1 s
    emote feels her way along the pages, and writes carefully into the journal.
    wait 2 s
    nop %actor.exp(10000)%
    give jounal %actor.name%
    drop journal
    rdelete zn118_blindword %actor.id%
    set zn118_blinddone 1
    remote zn118_blinddone %actor.id%
  else
    wait 1 s
    emote turns the journal over in her hands.
    wait 1 s
    say For years, I have written and none have read.
    wait 2 s
    emote gestures around her.
    wait 1 s
    say Or have all my words been wiped away?
    wait 2 s
    give journal %actor.name%
    drop journal
    wait 2 s
    say Eyes from your world do not always see the truth...
    wait 2 s
    say Borrow mine, for I still have them, though I choose not to see.
    wait 3 s
    %load% obj 11851
    give eyes %actor.name%
    drop eyes
    wait 2 s
    say Wear them, and look again.
    wait 8 s
    tell %actor.name% Examine the walls with those eyes, if it is words you seek...
    wait 2 s
    tell %actor.name% Speak what it is you see, and if it is truth I may write for you.
  end
elseif %object.vnum% == 11851
  wait 1 s
  say Thank you.
else
  wait 1 s
  say I don't think this is meant for me.
  drop %object.name.car%
end

>[0;00m
[0mCHECKING: 11848[0m

Name: '(24) blind girl checks matching word',  VNum: [11847], RNum: [  684]
Trigger Intended Assignment: Mobiles
Trigger Type: Speech , Numeric Arg: 100, Arg list: *
Commands:
if %actor.varexists(zn118_blindquest)%
  if %speech% /= %actor.zn118_blindquest%
    rdelete zn118_blindquest %actor.id%
    set zn118_blindword 1
    remote zn118_blindword %actor.id%
    wait 1 s
    emote smiles happily.
    wait 1 s
    say You are right %actor.name%. I believe I shall write for you after all.
  else
    wait 1 s
    emote shakes her head.
    wait 1 s
    say Try examining again %actor.name%, speak what it is you see.
  end
else
  return 1
end

>[0;00m
Name: '(51) wearing eyes teleports',  VNum: [11848], RNum: [  685]
Trigger Intended Assignment: Objects
Trigger Type: Wear , Numeric Arg: 100, Arg list: None
Commands:
%teleport% %actor% 11873

>[0;00m
[0mCHECKING: 11849[0m

Name: '(51) removing eyes teleports',  VNum: [11849], RNum: [  686]
Trigger Intended Assignment: Objects
Trigger Type: Remove , Numeric Arg: 100, Arg list: None
Commands:
%teleport% %actor% 11854

>[0;00m
[0mCHECKING: 11850[0m

Name: '(24/25) cannot leave with eyes',  VNum: [11850], RNum: [  687]
Trigger Intended Assignment: Mobiles
Trigger Type: Leave , Numeric Arg: 100, Arg list: None
Commands:
if %actor.has_item(11851)%
  say The eyes stay with me, %actor.name%.
  return 0
end

>[0;00m
[0mCHECKING: 11851[0m

Name: '(25) reacts to journal',  VNum: [11851], RNum: [  688]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
if %object.vnum% == 11807
  if %actor.varexists(zn118_blinddone)%
    wait 1 s
    say I have already written in that for you.
    give journal %actor.name%
    drop journal
  elseif %actor.varexists(zn118_blindword)%
    wait 1 s
    say Since you have proved yourself willing to read...
    wait 1 s
    say Here, I am willing to write.
    wait 1 s
    emote feels her way along the pages, and writes carefully into the journal.
    wait 2 s
    give journal %actor.name%
    drop journal
    rdelete zn118_blindword %actor.id%
    set zn118_blinddone 1
    remote zn118_blinddone %actor.id%
  else
    wait 1 s
    say Examine the walls %actor.name%, if it is words you seek.
    wait 2 s
    say Speak what it is you see, and if it be truth I shall write again for you.
    give journal %actor.name%
    drop journal
  end
else
  wait 1 s
  say I don't think this is meant for me.
  drop %object.name.car%
end

>[0;00m
[0mCHECKING: 11852[0m

Name: '(29) cup and ball game',  VNum: [11852], RNum: [  689]
Trigger Intended Assignment: Mobiles
Trigger Type: Speech , Numeric Arg: 100, Arg list: *
Commands:
if %actor.varexists(zn118_knifestart)%
if %speech% == start
  eval max %random.3%
  set txt[1] right
  set txt[2] middle
  set txt[3] left
  set ball %%txt[%max%]%%
  eval ball %ball%
  emote places the ball under the %ball% cup.
  wait 1 s
  set 1 left
  set 2 middle
  set 3 right
  set tries 7
  while %tries% > 1
    wait 2 s
    switch %random.7%
      case 1
      emote switches the first and third cup around.
      eval z %1%
      eval 1 %3%
      eval 3 %z%
      
    break
    case 2
      emote swaps the third cup with the second cup.
      eval z %2%
      eval 2 %3%
      eval 3 %z%
      
    break
    case 3
      emote switches the second cup with the first cup.
      eval z %2%
      eval 2 %1%
      eval 1 %z%
      
    break
    case 4
      emote slides the first cup to third place.
      eval z %1%
      eval 1 %2%
      eval 2 %3%
      eval 3 %z%
      
    break
    case 5
      emote moves the second cup to the third position.
      eval z %2%
      eval 2 %3%
      eval 3 %z%
      
    break
    case 6
      emote moves the second cup into first place.
      eval z %2%
      eval 2 %1%
      eval 1 %z%
      
    break
    case 7
      emote moves the third cup into the first position.
      eval z %3%
      eval 3 %2%
      eval 2 %1%
      eval 1 %z%
      
    break
    default
      %echo% Something is broken, please report.
      
    break
  done
  eval tries %tries% - 1
done
  wait 1 s
  say Please say which cup you think the ball is under... 1, 2, or 3?
  %context% %actor.id%
  if %1% == %ball%
    set answer 1
  elseif %2% == %ball%
    set answer 2
  elseif %3% == %ball%
    set answer 3
  end
  global answer
elseif %speech% < 4
  if %speech% == %answer%
    say Ah you are correct!
set answer void
global answer
    nop nop %actor.exp(1000)%
    if %actor.varexists(zn118_knifestart)%
      eval zn118_knifestart %actor.zn118_knifestart% + 1
      remote zn118_knifestart %actor.id%
    end
    wait 1 s
eval score %actor.zn118_knifestart% - 1
if %score% <= 0
set score 0
end
say You have won %score% times %actor.name%.
if %score% >= 3
wait 1 s
say You have won three times! As promised, I shall write in your journal if you give it to me.
    set zn118_knifequest 1
    remote zn118_knifequest %actor.id%
end
    wait 1 s
    say Say start if you want to try again.
elseif %answer% == void
say You have already answered for this game %actor.name%.
wait 1 s
say Say start if you want to play again.
  else
    say No, its under the number %answer% cup.
    wait 1 s
    emote slashes her arm with frustration.
    wait 1 s
    %damage% %self% 30
    if %actor.varexists(zn118_knifestart)%
      eval score %actor.zn118_knifestart% - 1
if %score% <= 0
set score 0
end
    end
    say You have won %score% times %actor.name%.
    wait 1 s
    say Say start if you want to try again.
  end
end
elseif %speech% == start
emote blinks at you.
wait 1 s
say I did not ask you to play.
end

>[0;00m
[0mCHECKING: 11853[0m
[0mCHECKING: 11854[0m

Name: 'mob does not load if already present',  VNum: [11853], RNum: [  690]
Trigger Intended Assignment: Mobiles
Trigger Type: Fight , Numeric Arg: 100, Arg list: None
Commands:
* This sets the vnum of the mob you are checking for, and loading/not loading[0;00m
set mobvnum 42500
* This tells the trigger to keep checking for people until there are none.[0;00m
set here %self.room.people%
while %here%
  set others %here.next_in_room%
* If the mob is in the room, the isthere variable is set.[0;00m
  if %here.vnum% == %mobvnum%
set mobid %here%
    set isthere 1
  end
  set here %others%
done
* If the mob is not in the room (variable is not set)[0;00m
* The mob will load.[0;00m
if !%isthere%
  %load% mob %mobvnum%
end

>[0;00m
[0mCHECKING: 11855[0m

Name: 'test death',  VNum: [11854], RNum: [  691]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
wait 1
%purge% self

>[0;00m
[0mCHECKING: 11856[0m

Name: 'new trigger',  VNum: [11855], RNum: [  692]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
if !%actor.varexists(13667_greeted)%
  tell %actor.name% Hallo!
  set 13667_greeted 1
  remote 13667_greeted %actor.id%
end

>[0;00m
Name: '(96) quiet room prevents player interacting',  VNum: [11856], RNum: [  693]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: *
Commands:
%teleport% %actor% 11897
return 0
wait 1
if %actor.room.vnum% == 11897
  %teleport% %actor% 11896
end

>[0;00m
[0mCHECKING: 11857[0m

Name: 'new trigger',  VNum: [11857], RNum: [  694]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: *
Commands:
if %self.master% == %actor%
  %echo% test
  if %cmd%==minv
    %send% %actor% your mules inv
  else
    return 0
  end
else
  return 0
end

>[0;00m
[0mCHECKING: 11858[0m

Name: 'while loop example',  VNum: [11858], RNum: [  695]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: test
Commands:
set var 0
while %var% < 10
  %damage% %self% -10
  %echo% %self.name% is surrounded with a healing aura.
  wait 1 s
  eval var %var% + 1
done

>[0;00m
[0mCHECKING: 11859[0m

Name: '(52) mirror gives reflection',  VNum: [11859], RNum: [  696]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 100, Arg list: *
Commands:
if %cmd.mudcommand% == look || %cmd.mudcommand% == examine
  if %self.name% /= %arg%
    return 0
    wait 1
    if %actor.cha% == 12
      set cha the confident
    elseif %actor.cha% < 12
      set cha an uncertain
    else
      set cha the charismatic
    end
    if %actor.align% == 0
      set align with a well balanced glow
    elseif %actor.align% < 0
      set align with a dark tinge of evil
    else
      set align with a purity of goodness
    end 
    if %actor.class% == Cleric
      set class healer
    elseif %actor.class% == Warrior
      set class fighter
    elseif %actor.class% == Thief
      set class sneaker
    else
      set class caster
    end
    if %actor.con% > 12
      set con hardy
    else
      set con vulnerable
    end
    if %actor.dex% > 12
      set dex agile
    else
      set dex clumsy
    end
    if %actor.int% > 12
      set int decisive
    else
      set int uncertain
    end
    if %actor.level% < 10
      set level an inexperienced
    elseif %actor.level% > 20
      set level a very experienced
    else
      set level a experienced
    end
    eval hitp %actor.maxhitp% / %actor.hitp%
    if %hitp% == 1
      set hitp Healthy
    elseif %hitp% < 3
      set hitp Injured
    else
      set hitp Badly injured
    end
    eval mana %actor.maxmana% / %actor.mana%
    if %mana% == 1
      set mana brightly
    elseif %mana% < 3
      set mana moderately
    else
      set mana faintly
    end
    eval move %actor.maxmove% / %actor.move%
    if %move% == 1
      set move energetic-looking
    elseif %move% < 3
      set move tired-looking
    else
      set move exhausted-looking
    end
    if %actor.sex% == male
      set sex man
    elseif %actor.sex% == female
      set sex woman
    else
      set sex person
    end
    if %actor.str% > 12
      set str Strong
    else
      set str Weak
    end
    if %actor.wis% > 12
      set wis wise
    else
      set wis naieve
    end
    if %actor.eq(wield)%
      eval wield %actor.eq(wield)%
      set wield is clutching %wield.shortdesc%
    else
      set wield appears weaponless
    end
    if %actor.eq(body)%
      eval body %actor.eq(body)%
      set body is clothed with %body.shortdesc% and
    else
      set body is bare-chested and
    end
    %send% %actor% You see the reflection of %level% %sex% with %cha% air of a %wis% %class% about %actor.himher%.
    %send% %actor% %str% and %con% looking, %actor.heshe% %body% %wield%, %actor.hisher% movements %int% and %dex%. %hitp% and %move%, %actor.hisher% magical aura shines %mana%, %align%.
  else
    return 0
  end
else
  return 0
end

>[0;00m
[0mCHECKING: 11860[0m

Name: '(27) weeping quest given',  VNum: [11860], RNum: [  697]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
if %object.vnum% == 11807
  if %actor.varexists(zn118_weepingdone)%
    wait 1 s
    say I have already written in that for you.
    give journal %actor.name%
    drop journal
  elseif %actor.varexists(zn118_weepingquest)%
    rdelete zn118_weepingquest %actor.id%
    set zn118_weepingdone 1
    remote zn118_weepingdone %actor.id%
    wait 1 s
    smile %actor.name%
    wait 1 s
    emote etches something into the journal with a piece of glass.
    wait 1 s
    nop %actor.exp(10000)%
    give journal %actor.name%
    drop journal
    wait 1 s
    say Thank you %actor.name%.
  else
    wait 1 s
    say Ah I cannot even see properly to write...
    wait 1 s
    say I so miss my garden.
    wait 1 s
    cry
    wait 1 s
    say I used to love it so much...
    wait 2 s
    say But there is a monster there now.
    wait 1 s
    shiver
    wait 1 s
    say Please %actor.name%, kill it for me.. and I shall dry my tears and write.
    set zn118_weepingstart 1
    remote zn118_weepingstart %actor.id%
    give journal %actor.name%
    drop journal
  end
else
  wait 1 s
  say I don't think this is meant for me.
  give %object.name.car% %actor.name%
  drop %object.name.car%
end

>[0;00m
[0mCHECKING: 11861[0m

Name: '(28) death completes quest',  VNum: [11861], RNum: [  698]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
if %actor.varexists(zn118_weepingstart)%
  rdelete zn118_weepingstart %actor.id%
  set zn118_weepingquest 1
  remote zn118_weepingquest %actor.id%
end

>[0;00m
[0mCHECKING: 11862[0m
[0mCHECKING: 11863[0m

Name: '(29) knife quest',  VNum: [11862], RNum: [  699]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
if %object.vnum% == 11807
  if %actor.varexists(zn118_knifedone)%
    wait 1 s
    say I have already written in that for you.
    give journal %actor.name%
    drop journal
  elseif %actor.varexists(zn118_knifequest)%
    rdelete zn118_knifequest %actor.id%
    set zn118_knifedone 1
    remote zn118_knifedone %actor.id%
    wait 1 s
    say you've played my game %actor.name%, so I'll play yours.
    wait 1 s
    emote carves something into the journal with her knife.
    wait 1 s
    nop %actor.exp(10000)%
    give journal %actor.name%
    drop journal
    wait 1 s
    say It was fun, I'll play with you anytime if you want the experience.
  elseif %actor.varexists(zn118_knifestart)%
    say Win three times %actor.name%, and ask me again.
    wait 1 s
    say Just say start if you want to play.
    give journal %actor.name%
    drop journal
  else
    wait 1 s
    say I see... it looks like you are giving me something, but in fact you want me to give to you.
    wait 1 s
    chuckle
    wait 1 s
    say I have already carved words... yes many words, but no one will see.
    wait 2 s
    say An interesting game you are playing %actor.name%...
    wait 2 s
    emote gets out three cups and a ball.
    wait 1 s
    say Play with me for a while... win three times, and I shall add to your book.
    wait 2 s
    say Just say start when you are ready.
    set zn118_knifestart 1
    remote zn118_knifestart %actor.id%
    give journal %actor.name%
    drop journal
  end
else
  wait 1 s
  say I don't think this is meant for me.
  give %object.name.car% %actor.name%
  drop %object.name.car%
end

>[0;00m
[0mCHECKING: 11864[0m

Name: '(33) Ruth quest',  VNum: [11863], RNum: [  700]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
if %object.vnum%==11856 || %object.vnum%==11857 || %object.vnum%==11858
  if %actor.varexists(zn118_ruthquest)%
    set zn118_%object.vnum% 1
    remote zn118_%object.vnum% %actor.id%
    wait 1 s
    say Thank you %actor.name%, this is one of the creatures dead.
    %purge% corpse
    if %actor.varexists(zn118_11856)%
      if %actor.varexists(zn118_11857)%
        if %actor.varexists(zn118_11858)%
          rdelete zn118_11856 %actor.id%
          rdelete zn118_11857 %actor.id%
          rdelete zn118_11858 %actor.id%
          rdelete zn118_ruthquest %actor.id%
          set zn118_ruthsecond 1
          remote zn118_ruthsecond %actor.id%
        end
      end
    end
    if %actor.varexists(zn118_ruthsecond)%
      rdelete zn118_ruthsecond %actor.id%
      set zn118_ruthpearl 1
      remote zn118_ruthpearl %actor.id%
      wait 1 s
      say Ah, thank you so much %actor.name%. You have killed the three creatures I spoke of...
      wait 3 s
      say I am afraid I must ask for one last thing...
      wait 2 s
      say Ridley will be grateful to you for your help here, it is within your power to ask something of her.
      wait 4 s
      say She holds one of the darkest secrets of this place.
      wait 2 s
      say Ask her about it and she will likely give it to you... you see, she knows only how to hide things, not to destroy.
      wait 6 s
      say Bring it to me, and I shall rid us of its haunting.
      wait 2 s
      say Do this last thing, and I shall ask no more.
    end
  else
    wait 1 s
    say I don't think this is meant for me.
    give %object.name.car% %actor.name%
    drop %object.name.car%
  end
elseif %object.vnum%== 11859
  if %actor.varexists(zn118_ruthpearl)%
    rdelete zn118_ruthpearl %actor.id%
    set zn118_ruthwrite 1
    say Thank you %actor.name%, give me your journal and I shall write.
    %purge% pearl
    remote zn118_ruthwrite %actor.id%
  else
    wait 1 s
    say I don't think this is meant for me.
    give %object.name.car% %actor.name%
    drop %object.name.car%
  end
elseif %object.vnum% == 11807
  if  %actor.varexists(zn118_ruthwrite)%
    wait 1 s
    say I have asked a lot of you, %actor.name%. All I have in return are my words.
    wait 3 s
    emote scrawls something carefully into the journal.
    wait 2 s
    say What you are doing will shake the foundations of this place.
    wait 2 s
    nop %actor.exp(10000)%
    give journal %actor.name%
    drop journal   
    rdelete zn118_ruthwrite %actor.id%
    set zn118_ruthdone 1
    remote zn118_ruthdone %actor.id%
  elseif %actor.varexists(zn118_ruthdone)%
    wait 1 s
    say I have already written in that for you %actor.name%.
    give journal %actor.name%
    drop journal
  elseif %actor.varexists(zn118_ruthquest)%
    wait 1 s
    say I have not yet all of the things I asked for.
    wait 1 s
    if %actor.varexists(zn118_11856)%
      say I have the fish.
    else
      say I am missing the fish.
    end
    if %actor.varexists(zn118_11857)%
      say I have the bird.
    else
      say I am missing the bird.
    end
    if %actor.varexists(zn118_11858)%
      say I have the toad.
    else
      say I am missing the toad.
    end
    wait 1 s
    give journal %actor.name%
    drop journal
    give %object.name.car% %actor.name%
    drop %object.name.car%
  elseif %actor.varexists(zn118_ruthpearl)%
    wait 1 s
    say Only one last thing I need from you, %actor.name%.
    wait 1 s
    say The secret Ridley holds.
    wait 1 s
    say Ask her about it, and she will no doubt give it to you.
    give %object.name.car% %actor.name%
    drop %object.name.car%
    give journal %actor.name%
    drop journal
  elseif  %actor.varexists(zn118_ruthwrite)%
    wait 1 s
    say You have given me all I asked for...
    wait 1 s
    say Now all I need is the journal to complete my part of the bargain.
    wait 1 s
    give %object.name.car% %actor.name%
    drop %object.name.car%
  else
    wait 1 s
    emote stares wide-eyed at the journal.
    wait 1 s
    say So you are the one Ridley spoke of!
    wait 2 s
    I am the one that came after her... she conceals, and I destroy.
    wait 2 s
    say She had the power to heal us then, but now, now it is my time.
    wait 3 s
    say Bring me three of her monster's corpses, and I will add my part to this quest.
    wait 4 s
    say A bird... a white bird, a fish, and a toad they are. Lurking in each of the three parts of this house.
    wait 5 s
    say Bring me their carcasses %actor.name%, and my words are yours.
    set zn118_ruthquest 1
    remote zn118_ruthquest %actor.id%
    give journal %actor.name%
    drop journal
  end
else
  wait 1 s
  say I don't think this is meant for me.
  give %object.name.car% %actor.name%
  drop %object.name.car%
end

>[0;00m
[0mCHECKING: 11865[0m

Name: 'different corpses loaded',  VNum: [11864], RNum: [  701]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
%teleport% %self% 11800
if %self.vnum% == 11830
  %at% 11895 xx118trig118xx
elseif %self.vnum% == 11831
  %at% 11838 xx118trig118xx
elseif %self.vnum% == 11832
  %at% 11849 xx118trig118xx
elseif %self.vnum% == 11839
  %at% 11848 xx118trig118xx
end

>[0;00m
Name: 'obj corpses decay',  VNum: [11865], RNum: [  702]
Trigger Intended Assignment: Objects
Trigger Type: Timer , Numeric Arg: 100, Arg list: None
Commands:
if %self.vnum% == 11870
%echo% %self.shortdesc% decays away, a few traces of dust blowing in the wind.
else
%echo% A quivering horde of maggots consumes %self.shortdesc%.
end
%purge% self

>[0;00m
[0mCHECKING: 11866[0m

Name: 'room obeys mob trigger',  VNum: [11866], RNum: [  703]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: xx118trig118xx
Commands:
if %actor.vnum% == 11830
  %load% obj 11856
elseif %actor.vnum% == 11831
  %load% obj 11857
elseif %actor.vnum% == 11832
  %load% obj 11858
elseif %actor.vnum% == 11839
  %load% obj 11869
end

>[0;00m
[0mCHECKING: 11867[0m

Name: '(11) Ridley responds to asking',  VNum: [11867], RNum: [  704]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: a
Commands:
if %cmd% == ask
  if %arg% /= Ridley
    if %arg% /= secret
      if %actor.varexists(zn118_ruthpearl)%
        if %actor.zn118_ruthpearl% == 1
          wait 1 s
          emote blinks at you.
          wait 1 s
          say Was it Ruth who spoke to you of this?
          wait 2 s
          sigh
          wait 1 s
          say Well perhaps she is right to send you...
          wait 1 s
          say You have done much for us... here, take my most guarded secret.
          wait 2 s
          %load% obj 11859
          set zn118_ruthpearl 2
          remote zn118_ruthpearl %actor.id%
          give pearl %actor.name%
drop pearl
        else
          tell %actor.name% I have already given you my secret.
        end
      else
        tell %actor.name% I have no desire to speak of it.
      end
    else
      return 0
    end
  else
    return 0
  end
else
  return 0
end

>[0;00m
[0mCHECKING: 11868[0m
[0mCHECKING: 11869[0m

Name: '(70) Hiding girl beckons',  VNum: [11868], RNum: [  705]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 100, Arg list: None
Commands:
if %direction% == west
  wait 1 s
  %send% %actor% You hear a shuffling sound from under the bed.
  wait 1 s
  %send% %actor% A child's voice whispers: Quick, crawl in here!
end

>[0;00m
[0mCHECKING: 11870[0m

Name: '(70/71) crawling takes you under bed',  VNum: [11869], RNum: [  706]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: cr
Commands:
if %self.vnum% == 11870
  %send% %actor% You drop to your knees and crawl under the bed.
  %echoaround% %actor% %actor.name% drops to %actor.hisher% knees and crawls under the bed.
  wait 1 s
  %at% 11871 %echo% %actor.name% crawls under the bed.
  %teleport% %actor% 11871
elseif %self.vnum% == 11871
  %send% %actor% You crawl awkwardly out from under the bed.
  %echoaround% %actor% %actor.name% crawls awkwardly out from under the bed.
  %at% 11870 %echo% %actor.name% crawls out from under the bed.
  wait 1 s
  %teleport% %actor% 11870
end
%force% %actor% look

>[0;00m
[0mCHECKING: 11871[0m

Name: '(34) random mumblings',  VNum: [11870], RNum: [  707]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 10, Arg list: None
Commands:
emote mumbles to herself 'He took the bread and broke it, saying: this means my body.'

>[0;00m
Name: '(60) hotdog damages when eaten',  VNum: [11871], RNum: [  708]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: eat
Commands:
if %cmd.mudcommand% == eat && hotdog /= %arg%
  %send% %actor% You feel an excruciating burning pain as it slides down your throat.
  eval amount %actor.maxhitp%/3
  if %amount% >= %actor.hitp%
    eval amount %actor.hitp%+3
  end
  %damage% %actor% %amount%
  %purge% self
else
  return 0
end

>[0;00m
[0mCHECKING: 11872[0m

Name: '(34) girl restores from death',  VNum: [11872], RNum: [  709]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: eat
Commands:
return 0
wait 3 s
if %cmd.mudcommand% == eat && hotdog /= %arg%
  if %actor.varexists(zn118_thinquest)%
    if %actor.hitp% > -3
      say It is not enough to taste pain. You must taste death.
      %load% obj 11860
      give hotdog %actor.name%
      drop hotdog
    else
      wait 3 s
      eval %amount% %actor.maxhitp%
      %damage% %actor% -9999
      %send% %actor% Just as you feel your life force ebbing away, a healing power draws it back.
      rdelete zn118_thinquest %actor.id%
      set zn118_thinwrite 1
      remote zn118_thinwrite %actor.id%
      wait 1 s
      smile %actor.name%
      wait 1 s
      say Ah, this is all the sacrifice I need %actor.name%.
      wait 2 s
      say Not the giving of your life, but the willingness to.
      wait 2 s
      say See, here now I am also willing.
      wait 1 s
      say Give me the journal, and I shall write...
    end
  end
end

>[0;00m
[0mCHECKING: 11873[0m

Name: '(34) emaciated quest',  VNum: [11873], RNum: [  710]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
if %object.vnum% == 11807
  if %actor.varexists(zn118_thindone)%
    wait 1 s
    say I have already written in that for you.
    give journal %actor.name%
    drop journal
  elseif %actor.varexists(zn118_thinwrite)%
    wait 2 s
    emote dips a finger in her glass of wine, dragging it over the pages of the journal.
    wait 2 s
    wait 1 s
    %load% obj 11862
    say A gift...
    wait 1 s
    give egg %actor.name%
    drop egg
    wait 1 s
    say Look after it... my only child.
    wait 1 s
    say It is done.
    nop %actor.exp(10000)%
    give journal %actor.name%
    drop journal
    rdelete zn118_thinwrite %actor.id%
    set zn118_thindone 1
    remote zn118_thindone %actor.id%
  else
    wait 1 s
    say Ah, another who would seek something of me.
    wait 2 s
    say I have already lost more than I ever chose to give.
    wait 2 s
    say All but my life has departed from me... the final unmade sacrifice.
    wait 3 s
    say Make this sacrifice %actor.name%?
    wait 2 s
    say Give up your life for the truth?
    wait 1 s
    %load% obj 11860
    say Taste of the same poison as I have, and it shall be done.
    wait 1 s
    give hotdog %actor.name%
drop hotdog
    wait 1 s
    give journal %actor.name%
    drop journal
    set zn118_thinquest 1
    remote zn118_thinquest %actor.id%
  end
else
  wait 1 s
  say I don't think this is meant for me.
  drop %object.name.car%
end

>[0;00m
[0mCHECKING: 11874[0m

Name: '(35) mute quest',  VNum: [11874], RNum: [  711]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
if %object.vnum% == 11807
  if %actor.varexists(zn118_mutedone)%
    wait 1 s
    say I have already written in that for you.
    give journal %actor.name%
    drop journal
  elseif %actor.varexists(zn118_mutewrite)%
    rdelete zn118_mutewrite %actor.id%
    set zn118_mutedone 1
    remote zn118_mutedone %actor.id%
    wait 1 s
    wait 1 s
    emote opens her mouth, words spilling out like tongues of fire into the pages of the journal.
    wait 3 s
    give journal %actor.name%
    drop journal
  else
    wait 1 s
    emote looks sadly at the journal as she runs her finger down the pages.
    wait 2 s
    emote looks back at you, gesturing toward her mouth as if there is something about her she wants you to see.
    wait 3 s
    emote closes the journal, looking hopefully into your eyes.
    wait 1 s
    give journal %actor.name%
    drop journal
  end
else
  wait 1 s
  say I don't think this is meant for me.
  drop %object.name.car%
end

>[0;00m
[0mCHECKING: 11875[0m

Name: '(35) cut command allows speaking',  VNum: [11875], RNum: [  712]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: cut
Commands:
if %actor.has_item(11835)%
  %send% %actor% Using the sword of words you slice at the metal stitching in the silent girl's mouth.
  wait 4 s
  %send% %actor% The sword does not cut the stitching, but they begin to glow a bright blue.
  wait 3 s
  smile %actor.name%
  wait 1 s
  say Thank you so much.
  wait 2 s
  say I will never be free of these bonds, but you have loosed me from their evil.
  wait 3 s
  say Give me the journal and I shall add my voice to it.
  set zn118_mutewrite 1
  remote zn118_mutewrite %actor.id%
else
  %send% %actor% You have nothing powerful enough to cut through this magic.
end

>[0;00m
[0mCHECKING: 11876[0m
[0mCHECKING: 11877[0m

Name: '(36) angry girl talks while fighting',  VNum: [11876], RNum: [  713]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
if %object.vnum% == 11807
  if %actor.varexists(zn118_angrydone)%
    wait 1 s
    say I already wrote in that for you.
    give journal %actor.name%
    drop journal
  elseif %actor.varexists(zn118_angryquest)%
    wait 1 s
    say Please %actor.name%, I only want a hug... just a hug.
    give journal %actor.name%
    drop journal
  elseif %actor.varexists(zn118_angrywrite)%
    wait 1 s
    say I'm sorry I attacked you, let me make it up with words.
    wait 2 s
    emote scrawls something carefully into the journal.
    wait 1 s
    rdelete zn118_angrywrite %actor.id%
    set zn118_angrydone 1
    remote zn118_angrydone %actor.id%
    give journal %actor.name%
    drop journal
  else
    wait 1 s
    give journal %actor.name%
    drop journal
    emote screams: I don't want anything from you!
    wait 1 s
    say What are you doing here?!
    wait 8 s
    if %actor.fighting% == %self%
      say I hate you!
      wait 8 s
      if %actor.fighting% == %self%
        emote begins to look tired.
        wait 8 s
        if %actor.fighting% == %self%
          emote starts to cry.
          wait 8 s
          if %actor.fighting% == %self%
            emote begins hitting you more weakly as she wears herself out.
            wait 8 s
            if %actor.fighting% == %self%
              emote dissolves into tears as her attack lessens.
              wait 8 s
              if %actor.fighting% == %self%
                say I can't do this any more!
                wait 2 s
                if %actor.fighting% == %self%
                  say I'm sorry... lets make it up...
                  wait 1 s
                  if %actor.fighting% == %self%
                    say Please give me a hug?
                    set zn118_angryquest 1
                    remote zn118_angryquest %actor.id%
                    %load% mob 11836
                    %purge% %self%
                  end
                end
              end
            end
          end
        end
      end
    end
  end
else
  wait 1 s
  say I don't want that.
  drop %object.name.car%
end

>[0;00m
[0mCHECKING: 11878[0m

Name: '(36) angry girl attacks',  VNum: [11877], RNum: [  714]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet Greet-All , Numeric Arg: 100, Arg list: None
Commands:
if !%actor.varexists(zn118_angrydone)%
  if !%actor.varexists(zn118_angryquest)%
    wait 1 s
    emote screams loudly!
    wait 1 s
    kill %actor.name%
  end
end

>[0;00m
[0mCHECKING: 11879[0m

Name: '(36) hug for angry girl',  VNum: [11878], RNum: [  715]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: None
Commands:
return 0
if %self.alias% /= %arg%
  if %actor.varexists(zn118_angryquest)%
    rdelete zn118_angryquest %actor.id%
    set zn118_angrywrite 1
    remote zn118_angrywrite %actor.id%
    wait 1 s
    smile %actor.name%
    wait 1 s
    say You are not as bad as I thought you were.
    wait 2 s
    say Let me see that journal?
  elseif %actor.varexists(zn118_angrywrite)%
    wait 1 s
    say Thank you %actor.name%, let me see your journal?
  else
    emote screams loudly.
  end
end

>[0;00m
Name: '(37) serpent loads tongue on death',  VNum: [11879], RNum: [  716]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
emote writhes in anguish as it collapses... a spiral of steam hissing from its crumpled body.
%load% obj 11863

>[0;00m
[0mCHECKING: 11880[0m

Name: '(62) egg hatches into serpent',  VNum: [11880], RNum: [  717]
Trigger Intended Assignment: Objects
Trigger Type: Timer , Numeric Arg: 100, Arg list: None
Commands:
%echo% %self.shortdesc% wriggles suddenly.
wait 5 s
%echo% %self.shortdesc% cracks loudly into two pieces and dissolves... releasing a serpent onto the ground.
%load% mob 11837
%purge% self

>[0;00m
[0mCHECKING: 11881[0m

Name: '(65) pines burn into page',  VNum: [11881], RNum: [  718]
Trigger Intended Assignment: Objects
Trigger Type: Timer , Numeric Arg: 100, Arg list: None
Commands:
%echo% %self.shortdesc% suddenly crackles and disintegrates into a dark page.
%load% obj 11866
%purge% self

>[0;00m
[0mCHECKING: 11882[0m

Name: '(65) pines send burning messages',  VNum: [11882], RNum: [  719]
Trigger Intended Assignment: Objects
Trigger Type: Random , Numeric Arg: 50, Arg list: None
Commands:
%echo% %self.shortdesc% crackles and burns, slowly growing blacker.

>[0;00m
[0mCHECKING: 11883[0m

Name: '(61) pines can be burned with candle',  VNum: [11883], RNum: [  720]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 7, Arg list: burn
Commands:
if %cmd% == burn
  if %self.name% /= %arg%
    if %actor.has_item(11867)%
      %send% %actor% You set fire to the pines with the candle.
      %echoaround% %actor% %actor.name% sets fire to the pines with %actor.hisher% candle.
      %load% obj 11865
      %purge% self
    else
      %send% %actor% You need something to burn it with.
    end
  else
    return 0
  end
else
  return 0
end

>[0;00m
[0mCHECKING: 11884[0m
[0mCHECKING: 11891[0m

Name: '(38) scarred quest',  VNum: [11884], RNum: [  721]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
if %object.vnum%==11866
  if %actor.varexists(zn118_scarredquest)%
    eval number %actor.zn118_scarredquest% + 1
    set zn118_scarredquest %number%
    remote zn118_scarredquest %actor.id%
    wait 1 s
    if %actor.zn118_scarredquest% >= 6
      say Thank you %actor.name%, this is the last of the pages.
      wait 2 s
      say I can finally make my book.
      %purge% page
      wait 1 s
      say Now come, let me write in yours...
      rdelete zn118_scarredquest %actor.id%
      set zn118_scarredwrite 1
      remote zn118_scarredwrite %actor.id%
    else
      say Thank you %actor.name%, this is one of the pages.. though more yet exist.
      %purge% page
    end
  else
wait 1 s
    say I don't think I asked you for this.
    give page %actor.name%
    drop page
  end
elseif %object.vnum% == 11807
  if  %actor.varexists(zn118_scarredwrite)%
    wait 1 s
    emote sinks deep into thought.
    wait 3 s
    emote writes a few words in the journal.
    wait 2 s
    say My book tells only my story, yours tells all of ours... when the story is told, the voices need not remain.
    wait 2 s
    nop %actor.exp(10000)%
    give journal %actor.name%
    drop journal   
    rdelete zn118_scarredwrite %actor.id%
    set zn118_scarreddone 1
    remote zn118_scarreddone %actor.id%
    wait 1 s
    %load% obj 11868
    say Do me one more favour?
    wait 1 s
    give book %actor.name%
    drop book
    wait 1 s
    say Put my book away somewhere? I cannot enter the house... but it belongs there.
    wait 2 s
    smile %actor.name%
  elseif %actor.varexists(zn118_scarreddone)%
    wait 1 s
    say I have already written in that for you %actor.name%.
    give journal %actor.name%
    drop journal
  elseif %actor.varexists(zn118_scarredquest)%
    wait 1 s
    say I do not have all the pages of my book yet.
    wait 1 s
    give journal %actor.name%
    drop journal
    give %object.name.car% %actor.name%
    drop %object.name.car%
  else
    wait 1 s
    emote blinks at the journal.
    wait 1 s
    say Ah you are writing a story? Our story?
    wait 1 s
    emote smiles wistfully.
    wait 1 s
    say I had a story... a secret one, but the pines came and choked it away.
    wait 3 s
    say I do not want them in my garden!
    wait 1 s
    say Please %actor.name%, burn them all down!
    wait 1 s
    %load% obj 11867
    give candle %actor.name%
    drop candle
    wait 1 s
    say You will find the pages amongst their ashes.
    wait 1 s
    say I must have my own story back before I can add to this.
    give journal %actor.name%
    drop journal
    set zn118_scarredquest 1
    remote zn118_scarredquest %actor.id%
  end
else
  wait 1 s
  say I don't think this is meant for me.
  give %object.name.car% %actor.name%
  drop %object.name.car%
end

>[0;00m
[0mCHECKING: 11892[0m

Name: '(07) journal entries',  VNum: [11891], RNum: [  722]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 3, Arg list: read
Commands:
if %self.name% /= %arg%
  if %actor.varexists(zn118_crayondone)% || %actor.varexists(zn118_gravedone)% || %actor.varexists(zn118_gravequest)%
    %send% %actor% .  I drew you the pictures, if only you'd see,
    %send% %actor% .  crayons instead of a voice.
  else
    %send% %actor% .  - - - - - - - - - - - - - - - - - - - - - - -
  end
  if %actor.varexists(zn118_birddone)% || %actor.varexists(zn118_gravedone)% || %actor.varexists(zn118_gravequest)%
    %send% %actor% .  I showed you with games I should never have played,
    %send% %actor% .  obedience rather than choice.
  else
    %send% %actor% .  - - - - - - - - - - - - - - - - - - - - - - -
  end
  %send% %actor% .    
  if %actor.varexists(zn118_ridleydone)% || %actor.varexists(zn118_gravedone)% || %actor.varexists(zn118_gravequest)%
    %send% %actor% .  Riddles to speak what couldn't be said
    %send% %actor% .  uncover the truth within
  else
    %send% %actor% .  - - - - - - - - - - - - - - - - - - - - - - -
  end
  if %actor.varexists(zn118_knifedone)% || %actor.varexists(zn118_gravedone)% || %actor.varexists(zn118_gravequest)%
    %send% %actor% .  I painted you answers enough for the whys -
    %send% %actor% .  scarlet, on a canvas of skin.
  else
    %send% %actor% .  - - - - - - - - - - - - - - - - - - - - - - -
  end
  %send% %actor% .    
  if %actor.varexists(zn118_tunneldone)% || %actor.varexists(zn118_gravedone)% || %actor.varexists(zn118_gravequest)%
    %send% %actor% .  The mind offers the chance for desperate escapes,
    %send% %actor% .  any place other than here.
  else
    %send% %actor% .  - - - - - - - - - - - - - - - - - - - - - - -
  end
  if %actor.varexists(zn118_ruthdone)% || %actor.varexists(zn118_gravedone)% || %actor.varexists(zn118_gravequest)%
    %send% %actor% .  Dark places become my mother's arms,
    %send% %actor% .  secret comfort in times of fear.
  else
    %send% %actor% .  - - - - - - - - - - - - - - - - - - - - - - -
  end
  %send% %actor% .    
  if %actor.varexists(zn118_thindone)% || %actor.varexists(zn118_gravedone)% || %actor.varexists(zn118_gravequest)%
    %send% %actor% .  Surrender means giving up all that you are,
    %send% %actor% .  forfeit if you cannot pay.
  else
    %send% %actor% .  - - - - - - - - - - - - - - - - - - - - - - -
  end  
  if %actor.varexists(zn118_mutedone)% || %actor.varexists(zn118_gravedone)% || %actor.varexists(zn118_gravequest)%
    %send% %actor% .  Silence is screaming its rage to the void,
    %send% %actor% .  run inside if you can't run away.
  else
    %send% %actor% .  - - - - - - - - - - - - - - - - - - - - - - -
  end
  %send% %actor% .    
  if %actor.varexists(zn118_runningdone)% || %actor.varexists(zn118_gravedone)% || %actor.varexists(zn118_gravequest)%
    %send% %actor% .  I showed you with actions,
    %send% %actor% .  and with words between words.
  else
    %send% %actor% .  - - - - - - - - - - - - - - - - - - - - - - -
  end 
  if %actor.varexists(zn118_angrydone)% || %actor.varexists(zn118_gravedone)% || %actor.varexists(zn118_gravequest)%
    %send% %actor% .  I lashed out and fought you,
    %send% %actor% .  as a creature that hurts.
  else
    %send% %actor% .  - - - - - - - - - - - - - - - - - - - - - - -
  end
  %send% %actor% .   
  if %actor.varexists(zn118_blinddone)% || %actor.varexists(zn118_gravedone)% || %actor.varexists(zn118_gravequest)%
    %send% %actor% .  How to show you a monster where you saw a man?
    %send% %actor% .  Tell you I hated the one that you loved?
  else
    %send% %actor% .  - - - - - - - - - - - - - - - - - - - - - - -
  end   
  if %actor.varexists(zn118_weepingdone)% || %actor.varexists(zn118_gravedone)% || %actor.varexists(zn118_gravequest)%
    %send% %actor% .  How to deny whose eyes I see in the mirror?
    %send% %actor% .  Disown what I'm bound to with blood.
  else
    %send% %actor% .  - - - - - - - - - - - - - - - - - - - - - - -
  end
  %send% %actor% .    
  if %actor.varexists(zn118_scarreddone)% || %actor.varexists(zn118_gravedone)% || %actor.varexists(zn118_gravequest)%
    %send% %actor% .  Ah time, the great healer, will pale the scars,
    %send% %actor% .  my book sealed and returned to its shelf.
  else
    %send% %actor% .  - - - - - - - - - - - - - - - - - - - - - - -
  end 
if %actor.varexists(zn118_gravedone)%
    %send% %actor% .  The ghosts shall be buried, I choose to forget,
    %send% %actor% .  and learn to forgive myself.
  else
    %send% %actor% .  - - - - - - - - - - - - - - - - - - - - - - -
  end
  %send% %actor% .    
else
  return 0
end

>[0;00m
[0mCHECKING: 11893[0m

Name: '(69) corpse can be buried',  VNum: [11892], RNum: [  723]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 7, Arg list: bury
Commands:
if %arg% == corpse
  %send% %actor% You carefully pile a mound over %self.shortdesc%.
  %echoaround% %actor% %actor.name% carefully piles a mound over %self.shortdesc%
  if %actor.varexists(zn118_gravequest)%
    rdelete zn118_gravequest %actor.id%
    set zn118_gravedone 1
    remote zn118_gravedone %actor.id%
    wait 2 s
    %send% %actor% You feel a slight chill against your shoulder as the air stirs.
    wait 3 s
    %send% %actor% The journal seems to open itself, the pages crinkling as they turn.
    wait 3 s
    %send% %actor% A cool breath wafts over the last page, condensing into frosty writing.
    wait 3 s
    %send% %actor% The wind whispers against your ear: It is done.
    wait 3 s
    %send% %actor% Suddenly you feel the surroundings blur around you... and fade away.
    %at% 11802 %echo% A young woman wanders into the shop.
    %at% 11802 %load% mob 11840
    %teleport% %actor% 11802
    wait 1 s
    %force% %actor% look
    %echoaround% %actor% %actor.name% emerges from a shadowy place in the shop.
    %force% %actor% xxtrigxx
    %purge% self
  end
else
  %send% %actor% Bury what?
end

>[0;00m
[0mCHECKING: 11894[0m

Name: '(40) final quest',  VNum: [11893], RNum: [  724]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: xxtrigxx
Commands:
wait 9 s
smile %actor.name%
wait 3 s
if %actor.has_item(11807)%
  tell %actor.name% Ah! I have been looking for a journal...
  wait 3 s
  tell %actor.name% In fact, the very journal you are carrying now.
  wait 3 s
  %send% %actor% %self.name% removes an amulet from around her neck.
  wait 3 s
  tell %actor.name% This amulet can take you to a place of safety... in times of need.
  wait 4 s
  tell %actor.name% My use for it is over. I will pass it to you gladly, if you will return to me my journal.
end

>[0;00m
[0mCHECKING: 11895[0m

Name: '(71) bloodstone amulet focus',  VNum: [11894], RNum: [  725]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 1, Arg list: focus
Commands:
%send% %actor% You wrap your fingers around the bloodstone amulet and focus deeply.
%echoaround% %actor% %actor.name% wraps %actor.hisher% fingers around %actor.hisher% bloodstone amulet and closes %actor.hisher% eyes in concentration.
if %self.timer% == 0
  eval zn118_focus_return %self.room.vnum%
  remote zn118_focus_return %actor.id%
  wait 2 s
  %send% %actor% The amulet glows brightly, heating in your grasp and flickering with wisps of magic.
  %echoaround% %actor% The amulet glows brightly, flickering with wisps of magic as %actor.name% grasps it.
  wait 2 s
  %send% %actor% The amulet amplifies your focus, letting you retreat deep inside your mind.
  %echoaround% %actor% %actor.name% starts to fade, %actor.hisher% physical body flickering away.
  %teleport% %actor% 11896
  %force% %actor% xxfocushealxx
  otimer 20
else
  wait 2 s
  %send% %actor% Alas, the bloodstone stays cold, not yet fully recharged.
end

>[0;00m
Name: '(40) woman exchanges amulet for journal',  VNum: [11895], RNum: [  726]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
if %object.vnum% == 11807
  %purge% journal
  wait 1 s
  smile %actor.name%
  wait 2 s
  tell %actor.name% Thank you so much.
  wait 2 s
  %load% obj 11871 %actor% inv
  %send% %actor% %self.name% gives you a fiery bloodstone amulet.
  wait 3 s
  tell %actor.name% You need only 'focus' to call on its powers, and 'awaken' whenever you wish to return.
  wait 4 s
  tell %actor.name% Using it will zap it of strength for a while, but its powers will return.
  wait 4 s
  tell %actor.name% Thank you... for everything.
  wait 2 s
  %echo% %self.name% leaves west.
  %teleport% %self% 11800
  rem all
  drop all
  %purge%
  %purge% %self%
else
  wait 1 s
  say I don't think this is meant for me.
  give %object.name.car% %actor.name%
  drop %object.name.car%
end

>[0;00m
[0mCHECKING: 11896[0m

Name: '(05) humming bird purges after while',  VNum: [11896], RNum: [  727]
Trigger Intended Assignment: Mobiles
Trigger Type: Load , Numeric Arg: 100, Arg list: None
Commands:
wait 20 s
%echo% %self.name% finds an open window and flies away.
%purge% %self%

>[0;00m
[0mCHECKING: 11897[0m

Name: '(33/62/65) sets timer on load',  VNum: [11897], RNum: [  728]
Trigger Intended Assignment: Objects
Trigger Type: Load , Numeric Arg: 100, Arg list: None
Commands:
wait 2 s
if %self.vnum% == 11862
  otimer 3
elseif %self.vnum% == 11865
  otimer 1
elseif %self.vnum% == 11833
  otimer 1
end

>[0;00m
[0mCHECKING: 11898[0m

Name: '(56,57,58,69,70) otimer set',  VNum: [11898], RNum: [  729]
Trigger Intended Assignment: Objects
Trigger Type: Load , Numeric Arg: 100, Arg list: None
Commands:
otimer 3

>[0;00m
[0mCHECKING: 11899[0m

Name: '(96) focus room heals',  VNum: [11899], RNum: [  730]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: xxfocushealxx
Commands:
if %cmd% == xxfocushealxx
  eval amount %actor.maxhitp%
  %damage% %actor% -%amount%
  dg_cast 'cure blind' %actor%
  dg_cast 'remove curse' %actor%
  dg_cast 'remove poison' %actor%
  %send% %actor% Your soul feels cleansed and refreshed.
else
  return 0
end

>[0;00m
[0mCHECKING: 12001[0m
[0mCHECKING: 12114[0m

Name: 'find a zone',  VNum: [12001], RNum: [  731]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: findzones
Commands:
set start %arg%
set end 12000
set i %start%
if %cmd% /= findzones
  while %i% < %end%
    if %arg.cdr% /= purge
      %at% %i% %purge% flag
    else
      %at% %i% %load% obj 12033
    end
    eval i %i% + 1
  done
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 12115[0m

Name: 'say cheese',  VNum: [12114], RNum: [  732]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 1, Arg list: snap
Commands:
*
* 29 Mar 2024 Aegon - initial coding for set mark/return tomark demi stat device
* 20 Jun 2024 Aegon - tag cameras per toon, tag picture record with object.id, add max film, max views
*
context %actor.id%
*
* variables
set max_film 16
set thresh_film 4
set max_views 20
*
if %actor.is_pc%
  if %cmd% /= snap && %arg% /= Polaroid
    if ! %actor.fighting%
      %send% %actor% You carefully look through the viewfinder.
      %echoaround% %actor% %actor.name% holds the camera up and looks through the viewfinder.
      wait 1 s
      set room %actor.room%
      *
      if (%room.roomflag(!ASTRAL)% || %room.roomflag(!SHSTRM)%)
        %send% %actor% You can't seem to find your camera focus in this room.
        return 1
        halt
      end
      *
      %send% %actor% You push down on the camera shutter.
      %echoaround% %actor% %actor.name% pushes down on the camera shutter.
      wait 1 s
      *
      if %actor.varexists(pictures)%
        extract serial 5 %actor.pictures%
        %echo% debug: serial found: %serial%
%echo% debug: camera uniqueid: %self.uniqueid%
        *
        if %serial% != %self.uniqueid% && ! (%arg% /= force)
          %send% %actor% %actor.name%, you are not paired with this Polaroid Land Camera!  You may only pair with one camera at a time!
          *          %send% %actor% debug: current camera: [%self.uniqueid%] stored serial: [%serial%]  
          return 1
          halt
        end
        *
        extract first 1 %actor.pictures%
        extract last 2 %actor.pictures%
        *
        extract remaining 4 %actor.pictures%
        eval remaining %remaining% - 1
        *
        if %remaining% == 0
          %send% %actor% Oh no! Just when you've lined up a memorable photo, you're out of film!
          %echoaround% %actor% %actor.name% tries to pull film from the camera, but it looks like %actor.heshe% is out of SX-70 film.
          %load% obj 12130 %actor% inv
          rdelete pictures %actor.id%
          %purge% %self%
          return 1
          halt
        elseif (%remaining% < %thresh%)
          %send% %actor% You're getting low on film!
        end  
        *
        if %arg% /= force
          set serial %self.uniqueid%
        end
        *
        set pictures %last% %room.vnum% 0 %remaining% %serial%
      else
        set pictures -1 %room.vnum% 0 %max_film% %self.uniqueid%
      end
      *
      global pictures
      remote pictures %actor.id%
      *
      %send% %actor% %actor.name%, you've successfully snapped a Polaroid in %room.name%!
      %echoaround% %actor% %actor.name% has just pulled a Polaroid film tab out of the camera and is fanning it madly. 
    else
      %send% %actor% Impossible!  You can't concentrate enough!
      return 1
      halt
    end
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 12116[0m

Name: 'the mighty polaroid',  VNum: [12115], RNum: [  733]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 3, Arg list: l
Commands:
*
* 17 Feb 24 Aegon 121
* 20 Jun 24 Aegon add toon owner tag, camera serial no, add max_film var, max_views var check
*
context %actor.id%
*
* variables
*
set max_film 16
set max_views 20
set thresh 15
*
if %actor.is_pc%
  if %cmd.mudcommand% /= look
    if ! %actor.fighting%
      if %arg% /= polaroid
        if %actor.varexists(pictures)%
          extract target 1 %actor.pictures%
          extract last 2 %actor.pictures%
          extract age 3 %actor.pictures%
          extract remaining 4 %actor.pictures%
          extract serial 5 %actor.pictures%
          *       
          if %serial% != %self.uniqueid% && ! %arg% /= force
            %send% %actor% %actor.name%, you are not paired with this Polaroid Land Camera.  You may only use one Polaroid Land Camera at a time.
            *            %send% %actor% debug: [%self.uniqueid%] serial: [%serial%]
            return 1
            halt
          end
          *
          if %arg% /= memory 
            %send% %actor% You have the following vnums queued for this toon in memory: [1:%target% age: %age% 2:%last%] for camera serial number %serial% remaining: %remaining%
            halt
          elseif %arg% /= clear
            %send% %actor% Wiping camera memory card.
            set pictures -1 -1 0 %remaining% %serial%
            global pictures
            remote pictures %actor.id%
            halt
          elseif %arg% /= reset
            %send% %actor% Resetting camera memory card.
            set pictures -1 -1 0 %max_film% %self.uniqueid%
            global pictures
            remote pictures %actor.id%
            halt  
          elseif %arg% /= purge
            %send% %actor% Purging camera memory card.
            rdelete pictures %actor.id%  
            halt
          end
          *
          if %target% == -1
            %send% %actor% Snap another polaroid in any non-restricted room to finish loading the image stack.
            return 1
            halt
          end
          *
          if %age% > %max_views%
            %send% %actor% The image has completely faded away and you can no longer travel astrally to this location.
            set pictures -1 %last% 0 %remaining% %serial%
            global pictures
            remote pictures %actor.id%
            return 1
            halt
          else
            eval age %age% + 1
            *
            if %age% > %thresh%
              %send% %actor% This image has begun to fade.  You have just a few viewings remaining!
            end    
            *
            set pictures %target% %last% %age% %remaining% %serial%
            global pictures
            remote pictures %actor.id%
          end
          *
          %teleport% %actor% %target%
          %echoaround% %actor% %actor.name% shimmers into existence beside you!
          %force% %actor% look
        else
          %send% %actor% You haven't taken any pictures yet!
          return 1
          halt
        end
      else
        return 0
        halt
      end
    else
      %send% %actor% Impossible!  You can't concentrate enough!
      return 1
      halt    
    end
  else
    return 0
    halt
  end 
end

>[0;00m
Name: 'giving the untakeable',  VNum: [12116], RNum: [  734]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: make
Commands:
*
* 090422 Aegon 350 Ice Fortress
*
if %actor.is_pc%
  if %actor.level% == 30 && %actor.admlvl% > 6
    if %cmd% /= make && %arg% 
      %load% obj %arg% %actor% 
      set object %actor.inventory(%arg%)%
      %send% %actor% Aegon whispers, "%actor.name%, I've granted your wish!"
      %send% %actor% Behold! A shiny new %object.shortdesc.cdr%!
    else
      return 0
      halt
    end
  else
    %send% %actor% Aegon whispers, "%actor.name%, you are not godly enough for such a request!"
  end
end

>[0;00m
[0mCHECKING: 12117[0m

Name: 'secret santa',  VNum: [12117], RNum: [  735]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
*
* 090322 Aegon 340 Ice Fortress
*
if %actor.is_pc%
  if %actor.level% == 30 && %actor.admlvl% > 6
    if (%object.type% == CONTAINER) && %object.contents%
      %send% %actor% Aegon tells you, "%actor.name%, I can't exchange an object that contains other objects, sorry."
      return 0
      halt 
    end
    %load% obj %object.vnum% %actor%
    %send% %actor% Aegon tells you, "%actor.name%, I have exchanged your %object.shortdesc.cdr% for the newest version."
    %purge% %object%
  else
    %send% %actor% Aegon tells you, "%actor.name%, you are not godly enough to exchange items. (%actor.admlvl%)"
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 12118[0m

Name: 'charming disarm',  VNum: [12118], RNum: [  736]
Trigger Intended Assignment: Mobiles
Trigger Type: Fight , Numeric Arg: 5, Arg list: None
Commands:
*
* 053022 Aegon 350 Ice Fortress
*
context %self.id%
if %actor.is_pc%
  if ! %already_disarmed%
    dg_cast 'detect invisibility' %actor%
    if %actor.eq(wield)%
      eval wield %actor.eq(wield)%
      %echo% %self.name.toupper% quickly disarms %actor.name%!
      %force% %actor% rem %wield.name%
    end
    set already_disarmed 1
    global already_disarmed
  else
    unset already_disarmed
  end
end

>[0;00m
[0mCHECKING: 12119[0m

Name: 'fresh film',  VNum: [12119], RNum: [  737]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 3, Arg list: load
Commands:
*
* load fresh film [12131] into empty camera [12130]
* or reset mis-matched owner camera [12129]
*
if %actor.is_pc%
  if %cmd% == load
    if %arg% /= film || %arg% /= cartridge
      if %actor.has_item(12131)%
        if ! %actor.fighting%
          %send% %actor% You load the fresh film cartridge into your Polaroid camera.
          %echoaround% %actor% %actor.name% is reloading %actor.hisher% Polaroid camera.
          %load% obj 12129 %actor% inv
          %purge% %actor.inventory(12131)%
          %purge% %self%
          return 1
          halt
        else
          %send% %actor% Impossible!  You can't concentrate enough!
          return 1
          halt
        end
      else
        %send% %actor% You search your things for a fresh film cartridge, but can't locate one.
        return 1
        halt
      end
    else
      return 0
      halt
    end
  end
end

>[0;00m
[0mCHECKING: 12120[0m

Name: 'eat a fist',  VNum: [12120], RNum: [  738]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: strike
Commands:
if %actor.is_pc% 
  if %cmd% == strike
    set aliases %self.alias%
    while %aliases%
      set alias %aliases.car%
      set aliases %aliases.cdr%
      if %arg% /= %alias%
        %send% %actor% %self.name% smiles and deftly grabs your fist, mid-strike!   Impressive!
        %echoaround% %actor% %actor.name%'s fist is intercepted by %self.name%.
        wait 1 s
        %send% %actor% %self.name% lifts you over their head. Uh-oh.
        %echoaround% %actor% %self.name% hoists %actor.name% into the air, and slams %actor.himher% to the ground.
        wait 1 s
        eval slam_damage %actor.hitp% - ( %actor.hitp% * .1)
        %send% %actor% You can see nothing but stars!
        %damage% %actor% %slam_damage%
        nop %actor.pos(Sitting)%
        return 1
        halt
      end
    done
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 12121[0m
[0mCHECKING: 12122[0m

Name: 'the tesla coil',  VNum: [12121], RNum: [  739]
Trigger Intended Assignment: Mobiles
Trigger Type: Global Random , Numeric Arg: 10, Arg list: None
Commands:
*
* 0803 Aegon 350 Ice Fortress
*
*  %echo% detected actor: %actor.name% con: %actor.con% hitp: %actor.hitp
*
if ! %self.fighting%
  %at% 2195 %echo% You hear a low rumble of thunder in the next room.
  if %random.char%
    set actor %random.char%
    *
    if %actor.is_pc%
      if %actor.con% < 18
        eval curhp %actor.hitp% 
        *      %echo% debug %actor.name% %curhp%
        eval curdamage %%random.%curhp%%
        *      %echo% debug %actor.name% %curdamage%
        %damage% %actor% %curdamage%
        %send% %actor% An arc of pure power leaps from %self.name%'s outstretched hand and electrocutes you!
        wait 2 s
        if (%random.100% < 5 && ! %actor.affect(hold)%)
          dg_cast 'hold' %actor%
          %send% %actor% You are paralyzed!
          wait 2 s
        end
      end
    end
  end
end

>[0;00m
[0mCHECKING: 12123[0m

Name: 'tribute for the gods',  VNum: [12122], RNum: [  740]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
*
* 20 Feb 24 Aegon 121 Statue Museum
*
* new statue proc
*
if %actor.is_pc% && %actor.canbeseen% && %actor.admlvl% < 1
  if ! %actor.varexists(aegon_defeats)%
    eval tribute 5000
    set heapsize a big pile
  elseif %actor.aegon_defeats% < 50
    eval tribute 10000
    set heapsize a large heap
  elseif %actor.aegon_defeats% < 100
    eval tribute 20000
    set heapsize an enormous mound
  else
    eval tribute 45000
    set heapsize an enormous mound
  end
  *
  if %actor.gold% >= %tribute%
    nop %actor.gold(-%tribute%
    %send% %actor% %self.name.toupper% removes %heapsize% of gold coins from your purse.
    %echoaround% %actor% %self.name.toupper% takes %heapsize% of gold coins from %actor.name%'s purse.
    wait 2 s
    %send% %actor% %self.name.toupper% bestows his graces upon you.
    if ! %actor.affect(haste)%
      dg_cast 'haste' %actor%
    end
    dg_cast 'bless' %actor%
    if ! %actor.affect(inspire)%
      dg_cast 'inspire' %actor%
    end
    wait 2 s
    return 1
    halt
  else
    %send% %actor% %actor.name.toupper%, the Gods demand tribute from those that traverse the mortal coil.
    wait 2 s
    %send% %actor% You have been judged unworthy, fool!
    if !%actor.affect(enrage)%
      dg_cast 'enrage' %actor%
    end
    wait 2 s
    %send% %actor% %self.name% grabs you by the neck and throws you from the room!
    %echoaround% %actor% %self.name% grabs %actor.name% by the neck and hurls him out of the room!
    %teleport% %actor% 2195
    eval curdamage %actor.hitp% / 4
    %damage% %actor% %curdamage%
    %force% %actor% look
    %echoaround% %actor% %actor.name% comes hurtling into the room!
    wait 1 s
    return 0
    halt
  end
end

>[0;00m
Name: 'e mori memoriam ',  VNum: [12123], RNum: [  741]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
*
* tracking defeats
*
if %actor.is_pc%
  context %actor.id%
  *
  if %actor.varexists(aegon_defeats)%
    eval aegon_defeats %actor.aegon_defeats% + 1
  else
    set aegon_defeats 1
  end
  *
  *
  global aegon_defeats
  remote aegon_defeats %actor.id%
  *
  *mod = a % b
  *c = int(a / b)
  *mod = a - b * c
  *
  *eval c %arg.car% / %arg.cdr%
  *eval mod %arg.car - (%arg.cdr% * %c%)
  *
  eval c %aegon_defeats% / 50
  eval mod %aegon_defeats% - (50 * %c%)
  * %echo% [T12123] debug: actor: %actor.name% defeats: %aegon_defeats% modulus 50 = %mod%
  *
  if !%mod%
    %send% %actor% %self.name% whispers, "Gratz on your %aegon_defeats%th victory.  Take this as a token of my admiration."
    %at% %self.room.vnum% congrats Gratz to %actor.name% and %actor.hisher% %aegon_defeats%th victory over %self.name%.
    eval vnum 17931 + %random.5%
    %load% obj %vnum% %actor%
  end
end

>[0;00m
[0mCHECKING: 12124[0m

Name: 'auld lang syne',  VNum: [12124], RNum: [  742]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
*
* adaptive mob proc block
*
set tier1 1
set tier2 5
set tier3 10
set tier4 25
*
if %actor.is_pc%  && %actor.canbeseen%
  wait 1 s
  context %actor.id%
  *
  if %actor.varexists(aegon_defeats)%
    if %self.fighting%
      dg_cast 'calm'
      %echo% %self.name% holds up a massive hand in a gesture of peace.
      wait 2 s     
    end
    %send% %actor% %self.name.toupper% says, "Ah, my old adversary, %actor.name%.  Perhaps this contest will be your last." [%actor.aegon_defeats%]
    %echoaround% %actor% %self.name.toupper% smiles at %actor.name%, recognizing an old adversary.
    wait 2 s
    if %actor.aegon_defeats% > %tier1% && %random.10% > 5
      set taunt giggles
      dg_cast 'magical vestment' %self%
      dg_cast 'stone skin' %self%
      dg_cast 'armor' %self%
      dg_cast 'blindness' %actor%
    end
    if %actor.aegon_defeats% > %tier2% && %random.10% > 5
      set taunt cackles
      dg_cast 'orb' %self%
      dg_cast 'enrage' %actor%
    end
    if %actor.aegon_defeats% > %tier3% && %random.10% > 5
      set taunt laughs maniacally
      dg_cast 'sanctuary' %self%
      dg_cast 'poison' %actor%
    end
    if %actor.aegon_defeats% > %tier4% && %random.10% > 5
      set taunt sneers
      %echo% %self.name% glows with a bright green light!
      nop %self.maxhitp(3000)%
      eval heal 3000-%self.hitp%
      nop %%self.hitp(%random.%heal%)%% 
    end
    send %actor% %self.name.toupper% %taunt%.
    wait 4 s
  end
end

>[0;00m
[0mCHECKING: 12125[0m

Name: 'modulus test',  VNum: [12125], RNum: [  743]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: mod
Commands:
*
*// mod = a % b
*
*c = int(a / b)
*
*mod = a - b * c
*
if %cmd% /= mod
  if %arg%
    eval c %arg.car% / %arg.cdr%
eval mod %arg.car% - (%arg.cdr% * %c%)
    *
    if !%mod%
      %send% %actor% the modulus of %arg.car% and %arg.cdr% is 0!
    else
      %send% %actor% has a remainder of %mod%.
    end
  else
    %send% %actor% args missing:  mod [a] [b]
  end
end

>[0;00m
[0mCHECKING: 12126[0m

Name: 'sands through an hourglass',  VNum: [12126], RNum: [  744]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
*
* timed floor trap
*
set time 30
set pause 3
set longpause 10
*
if %actor.is_pc%
  %echo% As the Statue of Aegon inverts the hourglass, sand begins to drain into the lower chamber.
  set timer %time%
  while %timer% > 0
    eval room %self.room%
    if !%room.people%
      return 0
      halt
    else
      eval timer %timer% - 1
    end
    wait 1 s
  done
  %echo% Half of the sand has dropped into the bottom vessel!
  set timer %time%
  while %timer% > 0
    eval room %self.room%
    if !%room.people%
      return 0
      halt
    else
      eval timer %timer% - 1
    end
    wait 1 s
  done
  eval target %room.people%
  if !%target%
    return 0
    halt
  else
    while %target% 
      set next_target %target.next_in_room%
      if %target.is_pc%
        set actor %target%
        if ! (%actor.dex% > 22 && %actor.class% == Thief)
          %echo% As the final grains of sand empty from the hourglass, the floor shakes violently!
          %at% 2195 %echo% You feel a low vibration from the room to the east.
          wait %pause% s
          %echoaround% %actor% A trapdoor opens under %actor.name% and %actor.heshe% disappears below!
          %send% %actor% A trapdoor opens under you!
          wait %pause% s
          eval curdamage %%random.%actor.hitp%%
          %teleport% %actor% 12118
          %damage% %actor% %curdamage%
          %force% %actor% look
          wait %longpause% s
          %echo% The trapdoor slowly closes with a metallic clack.
          %send% %actor% When you regain consciousness, you discover you have fallen into a dark passage strewn with bones.
        else
          %echo% %actor.name% recognizes the floor trap and quickly disarms it!
          wait %pause% s
        end
        return 0
        halt
      break
    else
      set target %next_target%
    end
  done
end

>[0;00m
[0mCHECKING: 12127[0m

Name: 'GutsStatue - Transfer PC to Chamber M12118',  VNum: [12127], RNum: [  745]
Trigger Intended Assignment: Mobiles
Trigger Type: Fight , Numeric Arg: 100, Arg list: None
Commands:
* Author: Guts
* Date: 08-15-2024
*
* Description:
* This script is designed to teleport a player character (PC) to a specific chamber (VNum: 12119) 
* after a certain delay when they engage in a fight with the Tauntun.
* The script checks if the global delay variable `guts_chamber_delay` exists and increments it 
* each time a fight occurs. Once the delay reaches 10, the PC is teleported to the chamber 
* with a message describing their sudden displacement.
*
* Flow:
* - If the global variable `guts_chamber_delay` doesn't exist, it initializes it to 0.
* - If the variable exists and is less than 10, it increments the delay.
* - If the delay reaches 10, the PC is teleported to the chamber, the delay is reset, 
*   and the PC is forced to look around the new room.
*
* Related Script(s): 12128 GutsStatue - set guts_chamber_delay to 0
if !varexists(guts_chamber_delay)
  * If the delay variable does not exist, initialize it to 0.
  set guts_chamber_delay 0
  global guts_chamber_delay
else
  * If the delay is less than 10, increment the delay and store it globally.
  if %guts_chamber_delay% < 10
    eval guts_chamber_delay %guts_chamber_delay% + 1
    global guts_chamber_delay
  else
    * If the delay reaches 10, teleport the PC to the chamber.
    %send% %actor% You are suddenly pulled into a void!
    %echoaround% %actor% %actor.name% is suddenly yanked from this reality!!
    %teleport% %actor% 12119
    * Force the PC to look around the chamber after teleportation.
    %force% %actor% look
    * Reset the delay to 1 to start the process over.
    set guts_chamber_delay 1
    global guts_chamber_delay
  end
end

>[0;00m
[0mCHECKING: 12128[0m
[0mCHECKING: 12129[0m

Name: 'GutsStatue - Reset Delay on Death M12118',  VNum: [12128], RNum: [  746]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
* Author: Guts
* Date: 08-15-2024
*
* Description:
* This script resets the global variable `guts_chamber_delay` to 0 when Tauntun dies.
* This ensures that any ongoing delay for teleportation in the related script (VNum: 12127) is reset,
* effectively preventing any unintended teleportation after the Tauntun's death.
*
* Flow:
* - If the Tauntaun dies, the script sets the global variable `guts_chamber_delay` to 0.
* - This action resets the countdown for teleportation in the related fight script (VNum: 12127).
*
* Related Script(s): 12127 GutsStatue - Transfer PC to Chamber
* Reset the global chamber delay variable to 0 upon the statue's death.
set guts_chamber_delay 0
global %guts_chamber_delay%

>[0;00m
[0mCHECKING: 12137[0m

Name: 'GutsStatue - toss everyone out R12119',  VNum: [12129], RNum: [  747]
Trigger Intended Assignment: Rooms
Trigger Type: Random , Numeric Arg: 50, Arg list: None
Commands:
* Author: Guts
* Date: 08-15-2024
*
* Description:
* This script counts the number of player characters (PCs) in the room. If there are 
* two or more PCs, it randomly selects one, applies damage, and ejects them from the 
* room with descriptive messaging. The ejected PC is then teleported to room 12120, 
* and the process continues until only one PC remains in the original room.
*
* Flow:
* - The script first counts the number of PCs in the room.
* - If two or more PCs are present, the script enters a loop to process them.
* - A random PC is selected, receives damage, and is teleported to room 12120 with 
*   appropriate messaging.
* - The script continues this process until only one PC remains in the room.
*
* Note:
* - The script assumes it is attached to a room or a trigger that activates based 
*   on the presence of PCs in the room.
*
* Related Script(s): 12127, 12128
* Initialize pc_count to track the number of PCs in the room
set pc_count 0
* Initialize target_char to the first person in the room
set target_char %self.people%
* Loop to count the number of PCs in the room
while %target_char%
  * Move to the next character in the room
  set tmp_target %target_char.next_in_room%
  * If the current character is a PC, increment the pc_count
  if %target_char.is_pc%
    eval pc_count %pc_count% + 1
  end
  * Update target_char to the next person in the room
  set target_char %tmp_target%
done
* Loop to process PCs while there are 2 or more in the room
while %pc_count% >= 2
  * Randomly select a character in the room
  set rchar %random.char%
  * If the selected character is a PC, proceed with ejection
  if %rchar.is_pc%
    * Echo message indicating the PC is affected by fumes
    %echo% The pungent fumes burn your lungs!
    * Calculate damage to leave the PC stunned
    eval stunned %rchar.hitp% - 40
    %damage% %rchar% %stunned%
    * Echo messages to the room and to the PC about the ejection
    %echoaround% %rchar.name% %rchar.name% is ejected through the end of the rectum and suffers intense pain!
    %send% %rchar.name% You are ejected through the end of the rectum and suffer intense pain!
    * Transfer the PC to room 12120
    %teleport% %rchar% 12120
    * Force the PC to look in the new room
    %force% %rchar% look
    * Additional messaging about the ejection
    %echoaround% %rchar.name% %rchar.name% is squeezed out the rear end of the tauntaun! What an ordeal!
    * Decrement the pc_count after a PC is ejected
    eval pc_count %pc_count% - 1
  end
done

>[0;00m
Name: 'hurl when worn',  VNum: [12137], RNum: [  748]
Trigger Intended Assignment: Objects
Trigger Type: Wear , Numeric Arg: 10, Arg list: None
Commands:
if %actor.is_pc%
  %echo% %actor.name% holds %self.shortdesc% aloft, and overcome by the smell, bends over to puke.
  if %actor.hunger% >= 8
    eval new_hunger %actor.hunger% - 8
    nop %actor.hunger(%new_hunger%)%
  end
end

>[0;00m
[0mCHECKING: 12212[0m

Name: 'Ahkeem speech',  VNum: [12212], RNum: [  749]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% Ahkeem gets an excited look in his eye.  He looks around suspiciously.
   wait 10 sec
   %echo% "A nomad merchant had some amazing scarlet yarn!" he says.
   wait 10 sec
   %echo% "But he refused to sell it to me for any price."
   wait 10 sec
   %echo% "I did learn that he obtained it from an adventurer, who said it could be found in the forest west of Midgaard."
   wait 10 sec
   %echo% I would love to have some!  A garment made from such yarn would be worth a Sultan's ransom."
   wait 50 sec
   %echo% Ahkeem fiddles nervously with some scissors, then regains his composure.  "May I help you with something?" he asks.
   wait 20 sec

>[0;00m
[0mCHECKING: 12221[0m

Name: 'bribe the minstrel',  VNum: [12221], RNum: [  750]
Trigger Intended Assignment: Mobiles
Trigger Type: Bribe , Numeric Arg: 1, Arg list: None
Commands:
if %amount% >= 50000
  %send% %actor% %self.name.toupper% smiles at you, puts the coin in %self.hisher% purse, then sings a beautiful melody about, 'yrl'.
  %echoaround% %actor% smiles at %actor.name%, puts the coin in %self.hisher% purse, then sings a beautiful melody about, 'yrl'.
  %send% %actor% You feel your feet leave the ground.
  *  dg_cast 'fly' %actor%
  dg_affect %actor% fly on 100
  %echoaround% %actor% As the song surrounds %actor.himher%, you see %actor.hisher% feet leave the ground.
else
  %send% %actor% %self.heshe.toupper%'s not keen on your offering.  You might want to sweeten the deal.
  return 0
  halt
end

>[0;00m
[0mCHECKING: 12239[0m

Name: 'kitty performances',  VNum: [12239], RNum: [  751]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 8, Arg list: None
Commands:
*
* give the kitties some performances
*
eval max %random.11%
*
set room %self.room%
set target %room.people%
while %target%
  set next_target %target.next_in_room%
  if %target.is_pc%
    set legwear %target.eq(legs)%
  end
  set target %next_target%
done
if %legwear% ==
  set legwear legs
end
set txt[1] rubs against your legs and purrs, begging to be petted.
set txt[2] playfully bats a passing leaf.
set txt[3] darts about after your shadow.
set txt[4] curls around your %legwear%, looking for some attention.
set txt[5] disappears behind a pile of dry goods looking for a mouse.
set txt[6] leaps effortlessly atop the stone wall.
set txt[7] slinks into the shadows at your approach.
set txt[8] hums a little tune as it passes by.
set txt[9] smiles at you and vanishes, leaving just a toothy grin.
set txt[10] chases a mouse into the nearest alley way.
set txt[11] zips around his human namesake like a crazy person.
set performance %%txt[%max%]%%
eval performance %performance.trim%
%echo% %self.name.toupper% %performance%

>[0;00m
[0mCHECKING: 12240[0m

Name: 'kitty reward',  VNum: [12240], RNum: [  752]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: *
Commands:
if (%cmd% == pet || %cmd% == rub || %cmd% == stroke) 
  if (%self.alias% /= %arg%)
    if %self.inventory(17933)%
      %purge% %self.inventory(17933)%
      %load% obj 17933 %actor% inv
      %send% %actor% Before the kitty curls up at your feet, purring happily, it gives you a reward.
    end
  else
    return 0
    halt
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 12241[0m
[0mCHECKING: 12242[0m

Name: 'kitty death purges reward',  VNum: [12241], RNum: [  753]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
if %self.inventory(17933)%
  %purge% %self.inventory(17933)%
end

>[0;00m
[0mCHECKING: 12317[0m

Name: 'dogs chase cats!',  VNum: [12242], RNum: [  754]
Trigger Intended Assignment: Mobiles
Trigger Type: Entry , Numeric Arg: 25, Arg list: None
Commands:
wait 1 s
if %self.name% /= dog || %self.name% /= fido
  set room %self.room%
  set vnum %room.vnum%
  if %findmob.%vnum%(12239)%
    %echo% The dog sees the cat charges across the room!
  end
end
wait 1 s
if %self.name% /= feline || %self.name% /= cat
  flee
end

>[0;00m
[0mCHECKING: 12350[0m

Name: 'zedit all crash cleric bar zload workaround',  VNum: [12317], RNum: [  755]
Trigger Intended Assignment: Rooms
Trigger Type: Zone Reset , Numeric Arg: 100, Arg list: None
Commands:
if ! %findmob.12317(12369)%
  %load% mob 12369
  eval mob %self.people%
  if ! %mob.is_pc%
    %load% obj 12400 %mob% inv
    %load% obj 12401 %mob% inv
    %load% obj 12402 %mob% inv
    %load% obj 12403 %mob% inv
    %load% obj 12404 %mob% inv
    %load% obj 13 %mob% inv
  end
end

>[0;00m
[0mCHECKING: 12351[0m

Name: 'Struggling musician speech',  VNum: [12350], RNum: [  756]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% The struggling musician smiles as you pass.  'Care for a tune?'
   wait 15 sec
   %echo% The struggling musician strums a familiar-sounding melody.
   wait 15 sec
   %echo% The struggling musician sings, 'There's a lady who's sure all that glitters is gold, and she's buying a stairway to heaven.'
   wait 15 sec
   %echo% The struggling musician sings, 'And when she gets there she knows if the stores are all closed with a word she can get what she came for.'
   wait 15 sec
   %echo% The struggling musician sings, 'Woe oh oh oh oh oh, and she's buying a stairway to heaven.'
   wait 15 sec
   %echo% A burly cityguard approaches, shouting something about copyright infringement.  The struggling musician swiftly changes chords and strikes up a much faster tune. 
   wait 15 sec
   %echo% The struggling musician sings, 'Early one morning just as the sun was rising, I heard a maiden singing in the vale below.'
   wait 15 sec
   %echo% The struggling musician sings, '"Oh, don't deceive me, oh, never leave me! How could you use a poor maiden so?"'
   wait 15 sec
   %echo% The burly cityguard glares at the musician and stalks off.  The musician looks relieved, but he refuses requests to return to his prior tune.
   wait 15 sec
   %echo% The struggling musician sings, '"Remember the vows that you made to your Mary! Remember the bower where you vowed to be true!"'
   wait 15 sec
   %echo% The struggling musician sings, '"Oh, don't deceive me, oh, never leave me! How could you use a poor maiden so?"'
   wait 15 sec
   %echo% The struggling musician sings, '"Gay is the garden and fresh are the roses; I twined a garland to bind o'er my brow."'
   wait 15 sec
   %echo% The struggling musician sings, '"Oh, don't deceive me, oh, never leave me! How could you use a poor maiden so?"'
   wait 15 sec
   %echo% The struggling musician wipes a tear from his eye, heartsick for the sake of the poor maiden so cruelly deceived by her beloved.
   wait 15 sec
   %echo% The struggling musician takes a moment to retune his lute.
   wait 15 sec
   %echo% The struggling musician looks around for cityguards, then grins mischievously.
   wait 15 sec
   %echo% The struggling musician sings at the top of his lungs, 'And as we wind on down the road, our shadows taller than our souls, there walks a lady we all know who shines white light and wants to show how everything still turns to gold...'
   wait 15 sec
   %echo% The struggling musician sings at the top of his lungs, 'And if you listen very hard the tune will come to you at last, when all are one and one is all, to be a rock and not to roll!'
   wait 15 sec
   %echo% The struggling musician looks very satisfied as the burly cityguard arrives too late to hear his latest tune.  He chuckles quietly as he pauses to retune his lute for a new melody.
   wait 15 sec
   %echo% The struggling musician grins mischievously. 'My father taught me this one.'
   wait 15 sec
   %echo% The struggling musician sings, 'I gave her cakes and I gave her ale, and I gave her sack and sherry...'
   wait 15 sec
   %echo% The struggling musician sings, 'I kissed her once and I kissed her twice, and we were wondrous merry.'
   wait 15 sec
   %echo% The struggling musician sings, 'I gave her beads and bracelets fine, and I gave her gold, down derry...
   wait 15 sec
   %echo% The struggling musician sings, 'I thought she was afeard till she stroked my Beard -- then we were wondrous merry!'
   wait 15 sec
   %echo% The struggling musician sings, 'Merry my hearts, merry my sweets, merry my sprights, merry merry merry my hey down derry...'
   wait 15 sec
   %echo% The struggling musician sings, 'I kissed her once and I kissed her twice, and we were wondrous merry!'
   wait 15 sec
   %echo% The cityguard claps appreciatively, then pinches a nearby maiden on the rump.  She slaps him.
   wait 15 sec
   %echo% The struggling musician grins, then takes a break to eat his apple.
   wait 15 sec
   %echo% The struggling musician tunes his lute and prepares to sing.
   wait 50 sec

>[0;00m
Name: 'Struggling female musician speech',  VNum: [12351], RNum: [  757]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% The minstrel greets you cheerfully.  'Good day, traveller!'
   wait 15 sec
   %echo% The minstrel takes a sip of mead and smiles.  'This song is called 'Death and the Lady.'
   wait 15 sec
   %echo% The minstrel sings, 'As I walked forth one day, one day, I met an old man by the way.  His head was bald, and his beard was gray...'
   wait 15 sec
   %echo% The minstrel sings, 'His clothing was made of the cold earthen clay, his clothing was made of the cold earthen clay.'
   wait 15 sec
   %echo% The minstrel sings, 'I said, "Old man, what man are you?  What country do you reel unto?" "My name is Death, cold Death I be..."'
   wait 15 sec
   %echo% The minstrel sings, '"All kings and princes bow down unto me!  All kings and princes bow down unto me."'
   wait 15 sec
   %echo% The minstrel sings, '"My name is Death, can not you see, lords, dukes, and maidens bow down unto me, and you are one of those righteous three...."'
   wait 15 sec
   %echo% The minstrel sings, '"And you, fair maid, must come along with me! You, fair maid, must come along with me!"'
   wait 15 sec
   %echo% The minstrel sings, '"I'll give you gold and jewels so rare, I'll give you costly rich robes to wear..."'
   wait 15 sec
   %echo% The minstrel sings, '"I'll give you the combs that hold my hair, if you'll let me live but another short year, if you'll let me live but another short year."'
   wait 15 sec
   %echo% The minstrel sings, '"Fair lady, lay your robes aside, no longer glory in your pride...'"
   wait 15 sec
   %echo% The minstrel sings, '"And, thus, sweet maid, make no delay, your time has come and you must away! Your time has come and you must away.'"
   wait 15 sec
   %echo% The minstrel sings, 'On that same night, this fair maid died, and on her tombstone these words were inscribed...'
   wait 15 sec
   %echo% The minstrel sings, '"Here lies a poor distressed maid.  By Death so cruelly she was betrayed, by death so cruelly she was betrayed.'"
   wait 15 sec
   %echo% The minstrel sets down her lyre and takes a sip of mead.
   wait 15 sec
   %echo% The minstrel takes a slim wooden recorder from her pocket, then plays a lively dancing tune.
   wait 15 sec
   %echo% The minstrel says, 'That's all for now, but I'll sing again in a few minutes.  Thank you for listening, and thank you for any donations.'
   wait 15 sec
   %echo% The minstrel says, "A wandering bard told me about his quest to recreate the legendary weapon of his ancestors.  If he succeeds, I should write a song about him.  He said he already had two parts, an impossibly thin and bright circle and a magical sphere with a wisp of smoke captured inside."
   wait 15 sec
   %echo% The minstrel plays a lilting melody on her recorder, then puts it away and prepares to sing again.
   wait 30 sec

>[0;00m
[0mCHECKING: 12352[0m

Name: 'Ahmad drops note on death',  VNum: [12352], RNum: [  758]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 50, Arg list: None
Commands:
%load% obj 7657
drop all

>[0;00m
[0mCHECKING: 12359[0m

Name: 'Pablo speech',  VNum: [12359], RNum: [  759]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
* By AP
if %actor.is_pc%
   wait 15 sec
   %echo% How may I help you, %actor.name%?
   wait 20 sec
   %echo% Use "List" to see what you can "Buy" in your adventuring.
   wait 50 sec
end

>[0;00m
[0mCHECKING: 12366[0m

Name: 'fuma kataro performance',  VNum: [12366], RNum: [  760]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
*
* getting the boot
*
if %actor.is_pc%
  wait 90 sec
  %echo% %self.name.toupper% says, "Well, %actor.name%?  Buy something or leave!"
  wait 30 s
  %echo% %self.name.toupper% says, "%actor.name%, I warned you!"
  wait 1 s 
  %send% %actor% The bartender puts a steel boot to your cuirass and sends you back out toward the street.
  %echoaround% %actor% The bartender punts %actor.name% back into the lobby.
  %teleport% %actor% 12508
  %echoaround% %actor% comes cartwheeling into the room and lands on %actor.hisher% cuirass.
  nop %actor.pos(Sitting)%
  %force% %actor% look
end

>[0;00m
[0mCHECKING: 12368[0m
[0mCHECKING: 12498[0m

Name: 'AustinPowers Assembly trigger',  VNum: [12368], RNum: [  761]
Trigger Intended Assignment: Rooms
Trigger Type: Speech , Numeric Arg: 0, Arg list: accio deathlyhallows
Commands:
eval target %self.people%
while %target%
  eval tmp_target %target.next_in_room%
    eval austin %target.vnum(12368)%
     if %austin% 
         break
     end
set target %tmp_target%
done
if (%austin%)
    if (%self.contents(12398)% && %self.contents(4535)% && %self.contents(18552)%)
      eval wand %self.contents(12398)%
      %purge% %wand%
      eval cloak %self.contents(4535)%
      %purge% %cloak%
      eval stone %self.contents(18552)%
      %purge% %stone%
      %echo% A clap of thunder echoes through the room.
      %load% obj 12399
      wait 2 sec
      %echo% AustinPowers congratulates you on successfully creating the Deathly Hallow
      return 0
      halt
    end
end

>[0;00m
[0mCHECKING: 12501[0m

Name: 'zedit all crash hyperLoop assoc zload workaround',  VNum: [12498], RNum: [  762]
Trigger Intended Assignment: Rooms
Trigger Type: Zone Reset , Numeric Arg: 100, Arg list: None
Commands:
if ! %findmob.12498(9918)%
  %load% mob 9918
  set mob %self.people%
  if ! %mob.is_pc%
    %load% obj 9914  %mob% inv
    %load% obj 9901  %mob% inv
  end
end

>[0;00m
[0mCHECKING: 12512[0m

Name: 'New Thalos Newbie Transporter',  VNum: [12501], RNum: [  763]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 1, Arg list: trans
Commands:
* By AP w/ help from Rumble TBAmud
set factory 400
set mistamere 19203
set zoo 9056
set crystal 300
if !%arg%
     * no argument provided
       set fail 1
else
     * Lets get the transporter working
    eval loc %%%arg.car%%%
    if %actor.level% > 8
        * If level greater then 8 fail 
        set fail 4
    end
    * If not one of the approved newbie zones fail lookup
    if %loc% == 400 
et pass 1
    elseif %loc% == 9056
et pass 1
    elseif %loc% == 300 
et pass 1
    elseif %loc% == 19203
et pass 1
    else
        set fail 3
    end
end
@ Lets give them their failure messages
f %fail% == 1
      	%echo% %actor.name%, Please specify one of the areas on the list.
	halt
nd
f %fail% == 3
	%echo% %actor.name%, The %arg.car% is not a location I know about.
	halt
nd
f %fail% == 4
	%echo% %actor.name%, You must be at least level 8 to go there.
	halt
nd
* We have an approved newbie zone, lets get them there.
if %pass% == 1
 %echoaround% %actor% %actor.name% has activated the transporter....
 wait 2 seconds
 %echoaround% %actor% %actor.name% shimmers and slowly fades out of sight.
 %send% %actor% The room shimmers slightly and fades from view.
 %send% %actor% When your vision clears, your surroundings are different.
 %teleport% %actor% %loc%
 %force% %actor% look
 wait 1 sec
 %echoaround% %actor% There is a faint humming and %actor.name% fades into sight.
end

>[0;00m
[0mCHECKING: 12515[0m

Name: 'zedit all crash sohei bar zload workaround',  VNum: [12512], RNum: [  764]
Trigger Intended Assignment: Rooms
Trigger Type: Zone Reset , Numeric Arg: 100, Arg list: None
Commands:
if ! %findmob.12512(12371)%
  %load% mob 12371
  eval mob %self.people%
  if ! %mob.is_pc%
    %load% obj 12410 %mob% inv
    %load% obj 12411 %mob% inv
    %load% obj 12412 %mob% inv
    %load% obj 12413 %mob% inv
    %load% obj 12414 %mob% inv
    %load% obj 13051 %mob% inv
  end
end

>[0;00m
Name: 'zedit all crash jedi bar zload workaround',  VNum: [12515], RNum: [  765]
Trigger Intended Assignment: Rooms
Trigger Type: Zone Reset , Numeric Arg: 100, Arg list: None
Commands:
if ! %findmob.12515(12370)%
  %load% mob 12370
  eval mob %self.people%
  if ! %mob.is_pc%
    %load% obj 12405 %mob% inv
    %load% obj 12406 %mob% inv
    %load% obj 12407 %mob% inv
    %load% obj 12408 %mob% inv
    %load% obj 12409 %mob% inv
    %load% obj 1250 %mob% inv
  end
end

>[0;00m
[0mCHECKING: 12528[0m

Name: 'keypad entry',  VNum: [12528], RNum: [  766]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: enter
Commands:
set room_vnum 12551
if %actor.is_pc%
  if %arg% /= keycode
    if %actor.varexists(door_keycode)%
      if %arg% /=  %actor.door_keycode%
        %teleport% %actor% %room_vnum%
        %echoaround% %actor% %actor.name% enters %actor.hisher% door keycode and disappears through the door.
        %send% %actor% You enter your door keycode on the keypad and step into your keep.
        wait 1 s
        %echo% The door closes silently after %actor.name% enters %actor.hisher% keep.
        %at% %room_vnum% %echo% The door closes silently behind you.
      else
        %send% %actor% That keycode is invalid.
        %echoaround% %actor% Taps lightly on the keypad, and after a moment, it flashes briefly red.
      end
    else
      %send% %actor% You have not set your door keycode yet!
    end
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 12529[0m

Name: 'set door keycode',  VNum: [12529], RNum: [  767]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: set
Commands:
if %actor.is_pc%
  if %cmd% /= set
    if %arg% /= keycode
      set keycode %arg.cdr%
      if %actor.varexists(door_keycode)%
        %send% %actor% Replacing old door keycode [%actor.door_keycode%] with new keycode %keycode%!
      else
        %send% %actor% Setting door keycode to %keycode%!
      end
      set door_keycode %keycode%
      global door_keycode
      remote door_keycode %actor.id%
    else
      return 0
      halt
    end
  else 
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 12601[0m

Name: 'a mariner's wager',  VNum: [12601], RNum: [  768]
Trigger Intended Assignment: Mobiles
Trigger Type: Act , Numeric Arg: 1, Arg list: flick
Commands:
*
* 28 Feb 24 Aegon init coding
* 29 Oct 24             modify outcome with lucky objects
*
context %actor.id%
set cost 25000
set luck 4
*
set arg_list %arg%
*
set reset 0
*
if %reset% == 1
  set mariner_dieroll 0 0 0 
  global mariner_dieroll
  remote mariner_dieroll %actor.id%
end
*
if %arg_list% /= With a flick of the wrist, 
  *
  set i 1
  *
  while %arg_list%        
    switch %i%
      case 1
      if ! %arg_list.car% /= With
        %echo% %self.name.toupper% frowns at %actor.name% and says, "I would never have thought you a cheater, %actor.name%"
        return 1
        halt
      end
    break
    case 10
      eval roll %arg_list.car%
    break
    case 13
      eval die %arg_list.car%
    break
    default
    break
  done
  set arg_list %arg_list.cdr%
  eval i %i% + 1
done
if %actor.is_pc%
  if %actor.gold% > 25000
    if %die% == 100
      nop %actor.gold(-25000)%
      set my_roll %random.100%
      * 
      * modify roll with lucky objects
      *
      if %actor.has_item(15408)%
        eval my_roll %my_roll% - %luck%
        %send% %actor% %self.name.toupper% eyes your lucky charm.
      end
      if %actor.has_item(19213)%
        eval my_roll %my_roll% - %luck%
        %send% %actor% %self.name.toupper% eyes your lucky coin.
      end
      if %actor.has_item(19214)%
        eval my_roll %my_roll% - (%luck% * 2)
        %send% %actor% %self.name.toupper% suspects you may have appealed to the Gods!
      end
      if %my_roll% < 1
        set my_roll 1
      end
      *
      * get actor history
      *
      if %actor.varexists(mariner_dieroll)%
        extract actor_wins 1 %actor.mariner_dieroll%
        extract mariner_wins 2 %actor.mariner_dieroll%
        extract prizes 3 %actor.mariner_dieroll%
        extract streak 4 %actor.mariner_dieroll%
      else
        set actor_wins 0
        set mariner_wins 0
        set prizes 0
        set streak 0
      end
      *
      *
      %echo% With a flick of the wrist, %self.name.toupper% rolls a %my_roll% on a 100 sided die.
      if (%roll% >= %my_roll% - 1) && (%roll% <= %my_roll% + 1) 
        %send% %actor% %self.name.toupper% smiles at you and says, "Har! We rolled nearly the same number!  Here's a commemorative trinket for ye!  Let's play again!"
        nop %actor.gold(22500)%
        %load% obj 17932 %actor% inv
        %log% [T12601] awarded 1 QT to player: %actor.name%
        *
        eval prizes %prizes% + 1
        eval streak %streak% + 1
        set mariner_dieroll %actor_wins% %mariner_wins% %prizes% %streak%
        global mariner_dieroll
        remote mariner_dieroll %actor.id%
        *
        return 0
        halt
      elseif %roll% > %my_roll%
        %echo% %self.name.toupper% says, "Congratulations %actor.name%!  You won, ya lout!  Let's play again!"
        %echo% %self.name.toupper% shrugs in defeat and hands over an enormous mound of gold coins to %actor.name%.
        %echo% %self.name.toupper% says, 'The house keeps 10%% as a rake.'
        wait 5 s
        nop %actor.gold(22500)%
        *
        eval actor_wins %actor_wins% + 1
        eval streak %streak% + 1
        set mariner_dieroll %actor_wins% %mariner_wins% %prizes% %streak%
        global mariner_dieroll
        remote mariner_dieroll %actor.id%
        return 0
        halt
      else
        %echo% %self.name.toupper% smiles at %actor.name% and says, "Har! I won!  Let's play again."
        %echo% %self.name.toupper% collects an enormous mound of gold coins from the table and smiles contentedly.
        eval mariner_wins %mariner_wins% + 1
        set streak 0
        set mariner_dieroll %actor_wins% %mariner_wins% %prizes% %streak%
        global mariner_dieroll
        remote mariner_dieroll %actor.id%
        return 0
        halt
      end
      *
      * streak
      *
      if %streak% == 8
        %echo% %self.name.toupper% says, 'Congratulations, %actor.name%! You've beat me eight times in a row!  Here's a little token of my respect!
        %load% obj %actor% 17934 inv
        %log% [T12601] award 10 QT to player %actor.name%
      elseif %streak% == 10
        %echo% %self.name.toupper% says, 'Congratulations, %actor.name%! You've beat me ten times in a row!  Here's a little token of my respect!
        %load% obj %actor% 17935 inv
        %log% [T12601] awarded 50 QT to player %actor.name% 
        set streak 0
        set mariner_dieroll %actor_wins% %mariner_wins% %prizes% %streak%
        global mariner_dieroll
        remote mariner_dieroll %actor.id%
      end
      *
    else
      %echo% %self.name.toupper% looks at you a moment, then says, "%actor.name%, roll a 100 sided die with me or begone!"
      return 1
      halt
    end
  else
    %echo% %self.name.toupper% says, "%actor.name%, you'll need 25,000 gold coin to dieroll me.  I'll wait here while you get it."
    return 1
    halt
  end
else
  %echo% %self.name.toupper% looks at %actor.name% and laughs, adding, "I don't dieroll pets."
  return 1
  halt
end

>[0;00m
[0mCHECKING: 12602[0m

Name: 'liar's dice',  VNum: [12602], RNum: [  769]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  %echo% %self.name.toupper% rolls some dice from a cup onto the table.
  wait 5 s
  %echo% %self.name.toupper% says, "Wud ye like to wager some gold there, lubber?"
  wait 5 s
  %echo% He continues, "If ye'r interested, have 25,000 gold pieces an then dieroll 100.  Simple as that."
  wait 15 s
  %echo% He smiles and nods, "I'll tell ye one secret ye may not know."
  wait 5 s
  %echo% He smiles and nods, "Should we'n roll nearly the same number, there's a prize innit for ye."
  wait 5 s
  %echo% %self.name.toupper% winks, "Come now, %actor.name%, let's wager.   I been cold o' my luck o' late."
  wait 5 s
end

>[0;00m
[0mCHECKING: 12603[0m

Name: 'liar's accounting',  VNum: [12603], RNum: [  770]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: dieroll
Commands:
if %actor.is_pc%
  if (%cmd% == dieroll && %arg% /= record)
    if %actor.varexists(mariner_dieroll)%
      *
      extract actor_wins 1 %actor.mariner_dieroll%
      extract mariner_wins 2 %actor.mariner_dieroll%
      extract prizes 3 %actor.mariner_dieroll% 
      *
      %send% %actor% Win Loss Tie 
      %send% %actor% %actor_wins%    %mariner_wins%    %prizes% 
      eval delta (%actor_wins% * 40000) - (%mariner_wins% * 50000)
      if %delta% > 0
        %send% %actor% %actor.name%, you are up %delta% coins.
      else
        %send% %actor% %actor.name%, you are down %delta% coins.
      end
    else
      %send% %actor% You have yet to roll dice with the Mariner.
    end
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 12604[0m
[0mCHECKING: 12804[0m

Name: 'the mariner is out',  VNum: [12604], RNum: [  771]
Trigger Intended Assignment: Mobiles
Trigger Type: Time , Numeric Arg: 1, Arg list: None
Commands:
%echo% %self.name.toupper% grabs his dice game and tosses it into his sack.
wait 2 s
%echo% Standing abruptly, he announces his retirement for the night.
wait 2 s
%echo% Wobbling slightly from ale and excitement, he disappears up the wooden stairway.
%purge% %self%

>[0;00m
[0mCHECKING: 12813[0m

Name: 'Edwin speech',  VNum: [12804], RNum: [  772]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 20 sec
   %echo% "Can you help me?  I seem to be lost," Edwin asks in a lost little voice.
   wait 15 sec
   %echo% "I came in here to help Iris.  Now I am as lost as she," the cityguard complains in his reedy voice.
   wait 75 sec

>[0;00m
[0mCHECKING: 12818[0m

Name: 'Hand Troll speech',  VNum: [12813], RNum: [  773]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 25 sec
   %echo% The severed hand drags itself around using its stained talons.
   wait 40 sec

>[0;00m
Name: 'Rubicon speech',  VNum: [12818], RNum: [  774]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 5 sec
   %echo% There is a streak of scarlet as the shrike dives at your face. It veers off at the last second and climbs back into the sky for another pass.
   wait 30 sec
   %echo% The rubicon shrike vanishes over the wall of the maze for a moment before returning to haunt you.
   wait 60 sec

>[0;00m
[0mCHECKING: 12819[0m

Name: 'Emerald butterfly speech',  VNum: [12819], RNum: [  775]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% The emerald butterfly lands on a leaf.  Its camouflage renders it nearly invisible.
   wait 15 sec
   %echo% With a quiver of its wings, an emerald butterfly takes to the sky.  It flutters like a living jewel.
   wait 60 sec

>[0;00m
[0mCHECKING: 12820[0m

Name: 'yellow butterfly speech',  VNum: [12820], RNum: [  776]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 15 sec
   %echo% The tiny yellow butterfly lands on a twig.
   wait 10 sec
   %echo% After a moment, the tiny butterfly returns to its post, circling restlessly in the air.
   wait 47 sec

>[0;00m
[0mCHECKING: 12821[0m

Name: 'crimson butterfly speech',  VNum: [12821], RNum: [  777]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 15 sec
   %echo% The crimson butterfly fans its wings.  They sparkle with jeweled hues of emerald and velvety black.
   wait 10 sec
   %echo% The crimson butterfly flaps aloft and flies to a new perch.
   wait 47 sec

>[0;00m
[0mCHECKING: 12822[0m

Name: 'tiger swallowtail butterfly speech',  VNum: [12822], RNum: [  778]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% The large yellow butterfly flits from plant to plant.
   wait 20 sec
   %echo% The butterfly drifts lazily on an unfelt breath of air.
   wait 50 sec

>[0;00m
[0mCHECKING: 12824[0m

Name: 'long-eared rabbit speech',  VNum: [12824], RNum: [  779]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% The tan rabbit looks at you inquisitively.
   wait 20 sec
   %echo% The rabbit wiggles its nose at you and chews on a mouthful of tender clover.
   wait 50 sec

>[0;00m
[0mCHECKING: 12825[0m
[0mCHECKING: 12826[0m

Name: 'long-eared rabbit speech',  VNum: [12825], RNum: [  780]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% A fat rabbit romps through the sweet grass.
   wait 20 sec
   %echo% The rabbit's ears swivel to follow your every movement.
   wait 50 sec

>[0;00m
[0mCHECKING: 12827[0m

Name: 'long-eared rabbit speech',  VNum: [12826], RNum: [  781]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% The hare hops from place to place, contained by the walls of the maze.
   wait 20 sec
   %echo% The rabbit wiggles its nose at you and chews on a flower.
   wait 50 sec

>[0;00m
[0mCHECKING: 12828[0m

Name: 'long-eared rabbit speech',  VNum: [12827], RNum: [  782]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% The hare hops from place to place, constrained by the walls of the maze.
   wait 20 sec
   %echo% The rabbit wiggles its nose at you and chews on a blade of grass.
   wait 50 sec

>[0;00m
[0mCHECKING: 12875[0m

Name: 'jeweled hummingbird speech',  VNum: [12828], RNum: [  783]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 15 sec
   %echo% The tiny jeweled hummingbird darts from place to place.
   wait 10 sec
   %echo% The hummingbird darts at your face, trying to get a better look.
   wait 30 sec

>[0;00m
Name: 'blind gardener speech',  VNum: [12875], RNum: [  784]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% "That's a good plant.  You stay put," the girl whispers.
   wait 15 sec
   %echo% "Have you come to free Iris?  She's ever so lonely," the little girl asks in a sad voice.
   wait 50 sec

>[0;00m
[0mCHECKING: 12890[0m

Name: 'garbage golem speech',  VNum: [12890], RNum: [  785]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% The shambling mass of garbage rustles slowly from place to place.
   wait 20 sec
   %echo% The garbage golem picks up a discarded phonebook.
   wait 20 sec
   %echo% A moldy loaf of pipeweed bread drops from the golem's shoulder, landing with a splat on the ground.
   wait 20 sec
   %echo% Bluebottle flies buzz annoyingly around the humanoid mass of trash.
   wait 20 sec
   %echo% The garbage golem takes a step forward.  The step looks something like a barely controlled avalanche of empty potion bottles, crumpled brochures from the Museum of the Gods, rotten fruit, and gold coins.
   wait 20 sec
   %echo% The shambling mass of garbage rustles slowly from place to place.
   wait 20 sec
   %echo% A half-eaten apple falls out of the golem's leg near the knee and rolls across the floor.
   wait 20 sec
   %echo% The garbage golem slowly collapses into a heap of unrecognizable detritus.  A vaguely human face peers out at the world from its supine position.
   wait 20 sec
   %echo% A stained bit of parchment drifts down from the golem's shoulder. It looks like a diploma from the Bardic Colleges.
   wait 20 sec
   %echo% The pile of garbage shivers and slowly rises from the ground. The smelly humanoid golem stretches its arms.
   wait 20 sec
   %echo% An old boot tumbles off the golem's chest.  It stoops over and replaces it in its place of honor.
   wait 20 sec
   %echo% A battered marble head from a statue rolls off the golem's foot. The construct nudges the head with its toe, reabsorbing it into its body.
   wait 20 sec
   %echo% Bluebottle flies buzz annoyingly around the humanoid mass of trash.
   wait 40 sec

>[0;00m
[0mCHECKING: 13028[0m

Name: 'spell teacher speech',  VNum: [13028], RNum: [  786]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 25, Arg list: None
Commands:
if %actor.is_pc%
  say Feel free to pour yourself a cup of coffee, %actor.name%.
end

>[0;00m
[0mCHECKING: 13048[0m

Name: 'master of illusion',  VNum: [13048], RNum: [  787]
Trigger Intended Assignment: Mobiles
Trigger Type: Fight , Numeric Arg: 25, Arg list: None
Commands:
*
set msg[1] The illusion recklessly charges you!
set msg[2] The illusion pummels away at you!
set msg[3] The illusion swings at you!
set msg[4] You stagger from the illusion's mighty blow.
set msg[5] The illusion calls upon the gods to destroy you!
set msg[6] The illusion attempts to behead you!
eval max %random.6%
*
set attack %%msg[%max%]%%
eval attack %attack%
*
%echo% %attack%
%damage% %actor% %random.50%

>[0;00m
[0mCHECKING: 13049[0m
[0mCHECKING: 13053[0m

Name: 'necromancer speech',  VNum: [13049], RNum: [  788]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 25 sec
   %echo% The necromancer shouts, "It's not stoppable! It can't be stopped!"
   wait 25 sec
   %echo% The necromancer shouts, "I can feel them ripping their way from the earth! It's agony!"
   wait 25 sec
   %echo% The necromancer shouts, "I feel the pain of each one's death as it comes alive!"
   wait 25 sec
   %echo% The necromancer writhes in agony and curses in a language you do not know.
   wait 25 sec
   %echo% The necromancer whispers, "Now we will all die: you, me, Yamus, Narcisse. Even Deloria."
   wait 25 sec
   %echo% The necromancer whispers, "But we will never escape the pain."
   wait 50 sec

>[0;00m
[0mCHECKING: 13064[0m

Name: 'high librarian performance',  VNum: [13053], RNum: [  789]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 16, Arg list: None
Commands:
*
*  give the Librarian some clues
*
*
if !%koofmax%
  set koofmax 1
  global koofmax
  halt
else
  if %koofmax% > 10
    set koofmax 1
    global koofmax
  end
  *
  set txt[1] Saraka has often been present here in the High Tower's Library.
  set txt[2] I believe the third volume of Queen de Grance's Encyclopedia must be assembled.
  set txt[3] Have you seen the Ice Fortress northwest of Skara Brae?
  set txt[4] Find Saraka to discover the location of the Fortress.
  set txt[5] The Fortress is unlike any castle you have experienced.
  set txt[6] Gather all ten volumes if you can.
  set txt[7] The third volume must be assembled by Queen Julia de Grance.
  set txt[8] Seek Julia in the Sieged Castle.
  set txt[9] Do not abandon the hopes of mankind.
  set txt[10] Have you seen the pictures of my grandchild's college graduation?
  set  speech %%txt[%koofmax%]%%
  eval speech %speech%
  if (%koofmax% == 1 || %koofmax% == 6)
    %echo% %self.name.toupper% blinks at you slowly, like an overfed cow.  He takes a breath, carefully choosing his next words.
  end
  say %speech%
  *
  eval koofmax %koofmax% + 1
  global koofmax
end

>[0;00m
Name: 'coffee maker',  VNum: [13064], RNum: [  790]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: pour
Commands:
if %cmd% == pour && (%arg% == coffee || %arg% == carafe)
  if ! %cups%
    set cups 8
    global cups
    halt
  else
    if %cups% > 1
      %echo% %actor.name% pours a cup of coffee from the carafe.
      %load% obj 3201 %actor% inv
      %echo% Cups remaining: %cups%
      eval cups %cups% - 1
      global cups
    else
      %echo% The carafe is empty! 
      detach 13064 %self.id%
      return 1
      halt
    end
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 13067[0m

Name: 'which hag speech',  VNum: [13067], RNum: [  791]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 15 sec
   %echo% A witch shakes her head, saying, "She thinks to stop the coming darkness, but she only hastens it, instead."
   wait 5 sec
   %echo% Another witch approaches, sniffs you, says, "Bah!" and returns to her work.
   wait 5 sec
   %echo% The third witch says, "Eh?  You seek a glimpse of the coming Shadows?"
   wait 5 sec
   %echo% All three witches snicker and shake their heads.
   wait 5 sec
   %echo% The third witch says, "Here then is what you must do: you must make the Trump of the Shadows."
   wait 5 sec
   %echo% All three nod their heads in affirmation.
   wait 5 sec
   %echo% "Your canvas shall be the Darkness which Protects," says the first.
   wait 5 sec
   %echo% The third adds, "The paint must be an elixir of the blackest Nightshade."
   wait 5 sec
   %echo% The second witch comments, "Use a stylus blazing with the color of shadow."
   wait 15 sec
   %echo% The first hesitates, then adds, "And your subject matter will be the countenance of the Sultan-Daemon whose name no lips dare speak aloud."
   wait 5 sec
   %echo% All three hastily return to their work and pretend you never existed.
   wait 30 sec
   %echo% A witch throws something unidentifiable into the cauldron, which hisses ominously.
   wait 50 sec

>[0;00m
[0mCHECKING: 13101[0m

Name: 'green dragonscale shirt',  VNum: [13101], RNum: [  792]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 1, Arg list: recite
Commands:
if %actor.is_pc%
  if %cmd% == recite && %arg% /= inscription
    if %actor.race% != Elf
      %echo% The magical inscription glows with the flowing script of the Eldar before it vanishes from sight.
      wait 2 s
      halt
    else
      if %actor.mana% >= 30
        %echo% You utter the blessing of the Eldar! 'Elohim aurae iliu cantria iluiello picia ollo traiellue!'
        dg_cast 'rejuvenate' %actor%
        nop %actor.mana(-30)%
      else
        %echo% Nothing happens.
        halt
      end
    end
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 13309[0m

Name: 'lorelei avenged',  VNum: [13309], RNum: [  793]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: pick
Commands:
if (%cmd% == pick && (%arg% /= lock || %arg% /= chain))
  if (%actor.class% == Thief && %actor.skill(pick)%)
    %load% obj 13332 %actor% inv
    %send% %actor% You pick the lock of the manacle, and gently wrap the remains of the Innkeeper's daughter in a shroud.
    %purge% %self%
  else
    %send% %actor% You have no idea how to do that.
    return 0
    halt
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 13311[0m

Name: 'Nicholas speech',  VNum: [13311], RNum: [  794]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 25 sec
   %echo% Nicholas gives you a friendly smile as he greets you, then pauses to answer your query.
   wait 25 sec
   %echo% He says, "Yes, I have recently run across something unusual, actually! The other day I was strolling through the market when I was stopped by, of all things, a kender. The little fellow told me he was looking for a man he had met earlier in the day."
   wait 25 sec
   %echo% Nicholas continues, "When I asked, the kender told me the man had spoken to him and asked at great length about all the news, events and stories the kender could think of. He even asked him to sing that little trailsong kender are so fond of."
   wait 25 sec
   %echo% Nicholas chuckles as he adds, "I would have told the man he was wasting his time listening to kender nonsense, but the kender told me the man was very pleased and wrote down everything he heard in a small book, thanked him kindly, and continued on his way."
   wait 25 sec
   %echo% He continues, "When I asked the kender why he was trying to find the man again, his cherubic face became sad as he pulled a handful of pages from one of his many pouches and told me the man must have dropped them. Shaking my head, I checked my belongings to make sure everything was still there, wished the kender good luck and quickly left back the way I had came."
   wait 25 sec
   say "Later in the evening while I was having a meal at the inn, the kender and I crossed paths again. I asked him how his search went, but he had had no luck finding the man."
   wait 25 sec
   %echo% "He told me, however, that he had run into a friend of this man who took the pages and said she'd return them for the kender. He went on in considerable detail describing her but I wasn't really paying him much attention."
   wait 35 sec
   %echo% Nicholas pauses as a fellow villager asks him a question, then shakes his head.  "No, I'm sorry. Aside from the fact that she was beautiful but strange-looking, I don't remember anything else specifically."
   wait 24 sec
   %echo% Nicholas waves you farewell, then goes on about his business.
   wait 50 sec

>[0;00m
[0mCHECKING: 13338[0m

Name: 'load the march hare!',  VNum: [13338], RNum: [  795]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: taunt
Commands:
*
* set a taunt threshhold
*
context %actor.id%
*
if ! %bunny_tries%
  set bunny_tries 1
else
  set bunny_tries %bunny_tries% + 1
end
global bunny_tries
*
set thresh 25
set max_attempts 4
*
if %actor.is_pc%
  if %cmd% == taunt && %arg% == bunny
    if %random.100% < %thresh%
      %load% mob 13339
      %echo% Wait! The Easter Bunny is real!
      set bunny_tries 0
      global bunny_tries
      %purge% %self%
    else
      %send% %actor% The bunny ignores your antics.
      wait 10 s
      if %bunny_tries% >= %max_attempts%
        %echo% The little bunny fucks off before you can mess with it
        %purge% %self%
      end
    end
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 13908[0m
[0mCHECKING: 13911[0m

Name: 'Driver ant speech',  VNum: [13908], RNum: [  796]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 30 sec
   %echo% The Driver Ant shouts to the workers, "The Queen demands that this tunnel be completed!"
   wait 30 sec
   %echo% The Driver Ant shouts, "Hey, YOU, get back to work!"
   wait 30 sec
   %echo% The Driver Ant cracks its whip across the back of one or the workers.

>[0;00m
[0mCHECKING: 14301[0m

Name: 'Young boy speech',  VNum: [13911], RNum: [  797]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 30 sec
   %echo% The boy jumps up in pain as an ant bites his ankle!
   wait 30 sec
   %echo% "I will get you for that, you little booger!" swears the boy.
   wait 30 sec
   %echo% The child stomps the ground trying to smash the tiny ants.
   wait 30 sec

>[0;00m
[0mCHECKING: 14303[0m

Name: 'leper speech',  VNum: [14301], RNum: [  798]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% The man shuffles despondently around you on his way to somewhere else.
   wait 50 sec

>[0;00m
Name: 'leper speech',  VNum: [14303], RNum: [  799]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 5 sec
   %echo% After a moment, the potter returns to his work of throwing simple bowls on his primitive pottery wheel.
   wait 75 sec

>[0;00m
[0mCHECKING: 14304[0m

Name: 'teenage leper speech',  VNum: [14304], RNum: [  800]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 5 sec
   %echo% The leper scowls at your presence.  You don't belong here.
   wait 75 sec

>[0;00m
[0mCHECKING: 14305[0m

Name: 'disfigured leper speech',  VNum: [14305], RNum: [  801]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 5 sec
   %echo% The leper watches you warily.
   wait 75 sec

>[0;00m
[0mCHECKING: 14306[0m

Name: 'girl leper speech',  VNum: [14306], RNum: [  802]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 5 sec
   %echo% The leper avoids your gaze.
   wait 75 sec

>[0;00m
[0mCHECKING: 14307[0m

Name: 'girl leper speech',  VNum: [14307], RNum: [  803]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 5 sec
   %echo% The leper avoids your gaze.
   wait 75 sec

>[0;00m
[0mCHECKING: 14317[0m
[0mCHECKING: 14319[0m

Name: 'king zymosis leper speech',  VNum: [14317], RNum: [  804]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% Zymosis, king of the lepers, looks up when you enter the room.
   wait 10 sec
   %echo% "We'll have to finish this later," he mutters to the messenger.
   wait 50 sec

>[0;00m
[0mCHECKING: 14322[0m

Name: 'cream and grey cat speech',  VNum: [14319], RNum: [  805]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 5 sec
   %echo% The cream-colored cat bathes its paws.
   wait 50 sec

>[0;00m
[0mCHECKING: 14325[0m

Name: 'nun speech',  VNum: [14322], RNum: [  806]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 5 sec
   %echo% The nun walks from person to person, looking to help the unwell.
   wait 50 sec

>[0;00m
[0mCHECKING: 14326[0m

Name: 'doctor speech',  VNum: [14325], RNum: [  807]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% The odd man bends over the keyhole on the big blue box.
   wait 10 sec
   %echo% "Now, why won't you go in, hnmmm?" he asks the key curiously.
   wait 10 sec
   %echo% The man notices you watching him and stands up with welcoming smile.
   wait 10 sec
   %echo% "Hello!  Who would you be then?" he asks, his voice vibrant with energy and curiosity.
   wait 10 sec
   %echo% "Not one to waste words, I see.  A pity.  I was hoping you could tell me where in the galaxy I am," the man asks in a doubtful tone.
   wait 10 sec
   %echo% The figure looks at you again, his eyes roving over your armor, weapons and other miscellaneous gear.
   wait 10 sec
   %echo% "Or perhaps when might be the better question?  That's the problem when you travel by Tardis, you could end up anywhere," he muses, mostly to himself.
   wait 10 sec
   %echo% His eyes get distant for a second and he begins to mutter to himself.  You only catch a few of the words.
   wait 10 sec
   %echo% "Obviously I'm not in the normal time stream.  I should know.  If anyone would know, it would be me.  One of the advantages of being me, I suppose."
   wait 10 sec
   %echo% The man begins to pace, his odd sneakers  squeaking on the yellow and green tiles.
   wait 10 sec
   %echo% "Fantastic!" he shouts after a minute.  "We're not in a where or a when, we're in a what!"
   wait 10 sec
   %echo% "Did you know this is all a delusion of your ridiculously overactive psyche?" he asks in a brightly curious voice.
   wait 10 sec
   %echo% "I mean, just look at the place.  It can't be real, now can it? I've never had the pleasure of being pulled into such an elaborate fabrication of a human's imagination," he continues in a slightly breathless voice, a huge grin plastered across his face.
   wait 10 sec
   %echo% The figure looks you over again and whistles appreciatively, then begins to chuckle. 
   wait 10 sec
   %echo% "It's fun and games until someone loses an eye!  Better be careful with that thing."
   wait 10 sec
   %echo% "It's time to wake up now.  You wake up, I get to go home. That's how this works.  All you need to do is accept reality.  That's it! Accept reality and this all goes away," the man says with a mischievous grin.
   wait 10 sec
   %echo% "Allons!  Any time now, friend.  Just embrace reality and away we go!"
   wait 20 sec
   %echo% "No really.  It's very simple.  Accept reality.  Just accept it.  And don't blink.  If you blink, you're dead," he continues in a more serious voice. 
   wait 10 sec
   %echo% "Just joking about that last part.  Nothing can hurt you here.  I would like to go now, though.  Really.  Now would be nice."
   wait 20 sec
   %echo% With a sigh the man turns and walks back over to the big blue box. He peers intently at the door.  
   wait 50 sec

>[0;00m
Name: 'humanoid god speech',  VNum: [14326], RNum: [  808]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% The gray clad figure looks at you with glowing white eyes.  In the glow of the room you can see a nightmare tangle of tentacles where its mouth should be.
   wait 15 sec
   %echo% The figure raises a hand.  In the hand is a white sphere.
   wait 15 sec
   %echo% "We must feed," the creature intones in a mellow monotone, the sphere glowing bright white while it speaks.
   wait 15 sec
   %echo% The menacing figure walks toward you.
   wait 15 sec
   %echo% "We must feed," the creature repeats in its unearthly voice, the sphere glowing bright white while it speaks.
   wait 15 sec
   %echo% The figure keeps approaching until it is looming over you.
   wait 15 sec
   %echo% "We must feed." the creature begins, then thumps the glowing white sphere with the heel of its other hand, "... you if you are hungry."
   wait 15 sec
   %echo% The creature blinks its beady eyes.
   wait 15 sec
   %echo% "We must feed you if you are hungry," it repeats again in its reasonable, yet unbelievably creepy voice.
   wait 50 sec

>[0;00m
[0mCHECKING: 14327[0m

Name: 'judoon speech',  VNum: [14327], RNum: [  809]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% The bizarre figure whirls around and marches briskly toward you, its boots making sonorous thudding sounds on the tile floor.
   wait 15 sec
   %echo% "Rho cho so lo fro go!" it demands in a guttural voice. 
   wait 15 sec
   %echo% Noting your startled appearance it raises an odd cylinder and points it at you.  The cylinder hums for a second, throwing a blue light into your eyes.  After a second it chirps.
   wait 15 sec
   %echo% The rhinoceran figure lowers the device and looks at a display on the side, then puts the base of the cylinder against a disk on its chest.
   wait 15 sec
   %echo% "Species catalogued as human," the creature growls in a menacing voice.  "Why have you brought me here?  Where are the rest of the Judoon in my platoon, we were landing soon on an airless moon."
   wait 15 sec
   %echo% The Judoon scowls at your lack of response.  Its hand creeps down to a weapon hanging from its black leather belt.
   wait 15 sec
   %echo% "The penalty for kidnapping is death.  Justice is swift," the creature intones in its gravelly voice.
   wait 15 sec
   %echo%  After a second, the Judoon flicks an elongated ear at you like you are some sort of pest, then whirls and stomps away down the hall.
   wait 50 sec

>[0;00m
[0mCHECKING: 14338[0m

Name: 'make a wish',  VNum: [14338], RNum: [  810]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: toss
Commands:
*
*  2% chance of bronze timer
*  2% chance of +100 sac  
*  2% chance of fly timer (8 irl hours)
*  2% chance of !hunger/thirst (8 irl hours) 
*
if %actor.is_pc%
  if %cmd% == toss
    if %arg% /= coin || %arg% /= token
      if %actor.varexists(wishdate)%
        if %time.day% == %actor.wishdate%
          %send% %actor% The Wishing Well says, '%actor.name%, you'll have to wait until tomorrow to make another wish.'
          return 1
          halt
        end
      end
      if %actor.inventory(17932)%
        %purge% %actor.inventory(17932)%
        %echo% %actor.name% tosses a bronze token into the wishing well and makes a wish!
        switch %random.10%
          case 1
            %send% %actor% Your wish was granted!
            set wishdate %time.day%
            global wishdate
            remote wishdate %actor.id% 
            switch %random.5%
              case 1
                * bronze timer
                * %load% obj 10425 %actor% inv
                %echo% timer
                break
              case 2
                * provide 999 turns of fly
                * %dg_affect% %actor.name% fly on 500
                %echo% fly affect
                break
              case 3
                * affect does not yet exist
                * %dg_affect% %actor.name% hunger on -1
                %echo% hunger affect
                break
              case 5
                * a token of sacrifice (+100 hp)
                * %load% obj 14349 %actor% inv
                %echo% token 
                break
              default
                * empty
                break
            done            
  break
          default
            %echo% You hear your coin fall into the well water, far below... KERPLUNK!
            wait 2 s
            %echo% After a short while, you realize your wish will go unfulfilled.  :(
            break
        done
      else
        %send% %actor% You'll need a bronze token to make a wish!
        halt
      end
    else
      return 0
      %send% %actor% Toss what?
    end
  end
end

>[0;00m
[0mCHECKING: 14350[0m

Name: 'the captive speech',  VNum: [14350], RNum: [  811]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% "Oh, hello there!" the boy exclaims.
   wait 15 sec
   %echo% "Did the Prince-Governor send you to find me?  Some men took me from my bed chamber several nights ago.  I know that he will be furious."
   wait 15 sec
   %echo% The boy sighs unhappily.
   wait 15 sec
   %echo% "I don't know who wanted me here, but in a week I have my birthday and then I'll be old enough to come into my inheritance."
   wait 15 sec
   %echo% "If you help me get home maybe there would be a reward?" the boy suggests hopefully.
   wait 15 sec
   %echo% The boy gazes mournfully out the window.
   wait 50 sec

>[0;00m
[0mCHECKING: 14355[0m

Name: 'inmate speech',  VNum: [14355], RNum: [  812]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 5 sec
   %echo% The inmate of the asylum moans piteously.
   wait 50 sec

>[0;00m
[0mCHECKING: 14356[0m
[0mCHECKING: 14357[0m

Name: 'inmate speech',  VNum: [14356], RNum: [  813]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 5 sec
   %echo% The inmate of the asylum moans piteously.
   wait 50 sec

>[0;00m
[0mCHECKING: 14358[0m

Name: 'inmate speech',  VNum: [14357], RNum: [  814]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 5 sec
   %echo% The inmate of the asylum moans piteously.
   wait 50 sec

>[0;00m
[0mCHECKING: 14359[0m

Name: 'sarah inmate speech',  VNum: [14358], RNum: [  815]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 5 sec
   %echo% The muscular inmate struggles against her bonds.  Her eyes look angry and so very, very cold.
   wait 50 sec

>[0;00m
[0mCHECKING: 14380[0m

Name: 'inmate speech',  VNum: [14359], RNum: [  816]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 5 sec
   %echo% The inmate of the asylum struggles against his bonds and tries to escape the grip of his tormentors.
   wait 50 sec

>[0;00m
[0mCHECKING: 14381[0m

Name: 'bedraggled leper speech',  VNum: [14380], RNum: [  817]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 12 sec
   %echo% The unfortunate leper cowers in fear.
   wait 12 sec
   %echo% The leper tries to slink into the shadows, looking for an escape.
   wait 3 sec
   %echo% "Let me go!  I'm trying to find the Refuge," the leper whimpers.
   wait 50 sec

>[0;00m
Name: 'angry man speech',  VNum: [14381], RNum: [  818]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 3 sec
   %echo% The angry townsman wedges his fingers into a crack in the pavement and tries to work a cobblestone free.
   wait 15 sec
   %echo% "Get out of our town, you filthy leper!" the man growls.
   wait 15 sec
   %echo% The cobblestone comes out of the street with a muted pop.
   wait 15 sec
   %echo% The man stands and throws the rough stone at the unfortunate leper.
   wait 28 sec

>[0;00m
[0mCHECKING: 14382[0m

Name: 'scared woman speech',  VNum: [14382], RNum: [  819]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% The girl pulls a rotten head of lettuce from her basket and hefts it in her hand.
   wait 5 sec
   %echo% "Unclean!"  she shouts, then throws the rotten vegetable at the unfortunate man with all of her might.
   wait 11 sec
   %echo% "Please, someone make him go!" the girl sobs.
   wait 50 sec

>[0;00m
[0mCHECKING: 14383[0m

Name: 'victim bedraggled leper speech',  VNum: [14383], RNum: [  820]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 15 sec
   %echo% The unfortunate leper cowers in fear.
   wait 15 sec
   %echo% The leper tries to slink into the shadows, looking for an escape.
   wait 3 sec
   %echo% "Let me go!  I'm trying to find the Refuge," the leper whimpers.
   wait 50 sec

>[0;00m
[0mCHECKING: 14384[0m

Name: 'angry man speech',  VNum: [14384], RNum: [  821]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 3 sec
   %echo% The angry townsman wedges his fingers into a crack in the pavement and tries to work a cobblestone free.
   wait 15 sec
   %echo% "Get out of our town, you filthy leper!" the man growls.
   wait 15 sec
   %echo% The cobblestone comes out of the street with a muted pop.
   wait 15 sec
   %echo% The man stands and throws the rough stone at the unfortunate leper.
   wait 28 sec

>[0;00m
[0mCHECKING: 14385[0m
[0mCHECKING: 14386[0m

Name: 'scared woman speech',  VNum: [14385], RNum: [  822]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% The girl pulls a rotten head of lettuce from her basket and hefts it in her hand.
   wait 5 sec
   %echo% "Unclean!"  she shouts, then throws the rotten vegetable at the unfortunate man with all of her might.
   wait 11 sec
   %echo% "Please, someone make him go!" the girl sobs.
   wait 50 sec

>[0;00m
[0mCHECKING: 14387[0m

Name: 'victim bedraggled leper speech',  VNum: [14386], RNum: [  823]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 15 sec
   %echo% The unfortunate leper cowers in fear.
   wait 15 sec
   %echo% The leper tries to slink into the shadows, looking for an escape.
   wait 3 sec
   %echo% "Let me go!  I'm trying to find the Refuge," the leper whimpers.
   wait 50 sec

>[0;00m
[0mCHECKING: 14388[0m

Name: 'angry man speech',  VNum: [14387], RNum: [  824]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 3 sec
   %echo% The angry townsman wedges his fingers into a crack in the pavement and tries to work a cobblestone free.
   wait 15 sec
   %echo% "Get out of our town, you filthy leper!" the man growls.
   wait 15 sec
   %echo% The cobblestone comes out of the street with a muted pop.
   wait 15 sec
   %echo% The man stands and throws the rough stone at the unfortunate leper.
   wait 28 sec

>[0;00m
[0mCHECKING: 14603[0m

Name: 'scared woman speech',  VNum: [14388], RNum: [  825]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   %echo% The girl pulls a rotten head of lettuce from her basket and hefts it in her hand.
   wait 5 sec
   %echo% "Unclean!"  she shouts, then throws the rotten vegetable at the unfortunate man with all of her might.
   wait 11 sec
   %echo% "Please, someone make him go!" the girl sobs.
   wait 50 sec

>[0;00m
Name: 'the nurse speech',  VNum: [14603], RNum: [  826]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 15 sec
   %echo% A wounded minotaur stirs in the bed.
   wait 15 sec
   %echo% The nurse looks up at you and says, "He said something about his brother."
   wait 15 sec
   %echo% The nurse pouts before continuing.
   wait 15 sec
   %echo% "He said that he had to leave his brother at the waterfall."
   wait 15 sec
   %echo% "Can you go find the poor creature?  Please?  He must be in grave danger!"

>[0;00m
[0mCHECKING: 14604[0m

Name: 'King de Grance speech',  VNum: [14604], RNum: [  827]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 40 sec
   %echo% The King barely looks up as he plaintively says, "That woman never listens to me.  I told her not to interfere with the Dragons."
   wait 10 sec
   %echo% He pauses for a moment, then adds, "Look at what happened the last time... I mean, a whole city?!"
   wait 30 sec
   %echo% After a much longer pause, he continues: "She truly believes that those shields can be made, and if it's true, I suppose its worth it."
   wait 20 sec
   %echo% His features clearly reflect his doubt as he continues, "I've heard tales of one shield, made from the scales of different colored dragons - a multicolored shield of sorts.  Of the other, I have no idea."
   wait 30 sec
   %echo% With a heavy sigh, he adds, "Well, I hope that poor knight makes it home.  She should have had concern for his family when she sent him out with her blessing."

>[0;00m
[0mCHECKING: 14605[0m

Name: 'the elixir of life',  VNum: [14605], RNum: [  828]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 3, Arg list: m
Commands:
if (%cmd.mudcommand% == make && (%arg% == elixir || %arg% == vitae))
  if %actor.level% == 30
    if (%actor.has_item(14615)% && %actor.has_item(14616)% && %actor.has_item(14617)% && %actor.has_item(14618)% && %actor.has_item(14619)%)
      %send% %actor% You tinker with some items and create the Elixir Vitae!
      %echoaround% %actor% %actor.name% tinkers with some items and creates the Elixir Vitae!
      %purge% %actor.inventory(14615)%
      %purge% %actor.inventory(14617)%
      %purge% %actor.inventory(14618)%
      %purge% %actor.inventory(14619)%
      %load% obj 14620 %actor% inv
      %purge% %actor.inventory(14616)%
    else
      %send% %actor% You can't seem to figure out how to make %assembly%.  You'll need three elemental vials, a treatise and a manuscript to complete your research.
    end
  else
    %send% %actor% You are not experienced enough to make this item.
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 14606[0m

Name: 'benjamin button',  VNum: [14606], RNum: [  829]
Trigger Intended Assignment: Objects
Trigger Type: Wear , Numeric Arg: 100, Arg list: None
Commands:
*
* nop age functions still don't work
*
if %actor.is_pc%
  if ! %actor.varexists(reduced_age)%
    eval min_age 17 + 150
    if %actor.age% > %min_age%
      eval reduced_age %actor.age% - 150
      nop %%actor.age(%reduced_age%)%%
      global reduced_age
      remote reduced_age %actor.id%
    end
  end
end

>[0;00m
[0mCHECKING: 14607[0m

Name: 'benjamin unbutton',  VNum: [14607], RNum: [  830]
Trigger Intended Assignment: Objects
Trigger Type: Remove , Numeric Arg: 100, Arg list: None
Commands:
if %actor.varexists(reduced_age)%
  eval reset_age %actor.reduced_age% + 150
  nop %actor.age(%reset_age%)%
  rdelete reduced_age %actor.id%
  unset reduced_age
end

>[0;00m
[0mCHECKING: 14608[0m

Name: 'accio grygylynum vol 3',  VNum: [14608], RNum: [  831]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
if %self.fighting%
  halt
end
if %actor.inventory(35102)%
  %echo% %self.name% says, '%actor.name%, I see from your reading material, you have met my half-dragon, half-demon friend from the Ice Fortress!'
  wait 3 s
  if %self.fighting%
    halt
  end
  if %actor.inventory(35176)%
    %echo% continues, 'Let me aid you in seeking further truths regarding the threat the Ice Avatar poses to our Age of Heroes.'
    wait 3 s
    if %self.fighting%
      halt
    end
    %echo% She rummages behind a tapestry, revealing a secret alcove, and produces a gilt leather-bound volume.
    wait 3 s
    if %self.fighting%
      halt
    end
    %load% obj 35175 %actor% inv
    %echo% %self.name% says, 'Best of luck, Hero!'
  else
    %echo% %self.name% says, 'Have you seen my second volume, by chance?'
    %echo% %self.name% smiles, and returns to her mirror.
  end
else
  %echo% %self.name% says, 'Have you seen my friend Saraka?'
  wait 3 s
  %echo% %self.name% says, 'Bring me the first two volumes to unlock the third.'
  wait 2 s
  %echo% Her countenance darkens, the importance of her role weighs heavily upon her.
end

>[0;00m
[0mCHECKING: 15423[0m
[0mCHECKING: 15425[0m

Name: 'fisherman speech',  VNum: [15423], RNum: [  832]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 15 sec
   mecho The fisherman looks up at you, squinting, as if lost in thought.
   wait 15 sec
   mecho "Well, well," he chuckles. "I never thought I'd see the day..."
   wait 15 sec
   mecho He fiddles with his fishing pole, mumbling to himself.
   wait 15 sec
   mecho "It's been a long time since we've had any of your kind out this way."
   wait 15 sec
   mecho Then, gazing out to sea, "A very long time."
   wait 15 sec
   mecho "I wish you luck, stranger." And he falls silent.

>[0;00m
[0mCHECKING: 15427[0m

Name: 'the holy man speech',  VNum: [15425], RNum: [  833]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 15 sec
   mecho "Praise be to the Creator.
   wait 15 sec
   mecho He has shown me a vision of an Ephod, which will protect us from the evil, so that we might find ourselves better able to defeat it.
   wait 15 sec
   mecho The Creator has inspired a great craftsman of the desert to make it.
   wait 15 sec
   mecho All praise to the creator for giving us what we need!"

>[0;00m
Name: 'the high priest speech',  VNum: [15427], RNum: [  834]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 15 sec
   mecho The old priest smiles, and bids you greetings.
   wait 15 sec
   mecho "Come, friend. Join me in prayer. Tis our only hope."

>[0;00m
[0mCHECKING: 15435[0m

Name: 'the Portmaster speech',  VNum: [15435], RNum: [  835]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
* By AP
if %actor.is_pc%
   wait 15 sec
%echo% A closed smile crosses his fact as the portmaster looks your party over.
   wait 15 sec
%echo% So you're the one they call %actor.name%," he nods in approval.
   wait 15 sec
%echo% I'd heard the word, but i would not have believed it true."
   wait 15 sec
%echo% A distant look in his eyes, and, "We haven't had a single one..."
   wait 15 sec
%echo% "Not since that warrior, anyway, andyou know what happened to her!"
   wait 15 sec
%echo% He looks away, apparently tired out by all the excitement.
   wait 15 sec
%echo% "it could have been me once, you know. I danced with the greatest of names.
   wait 15 sec
%echo% The lanes to Skara Brae were dangerous, even before the siege began.
   wait 15 sec
%echo% We heard their cries, and did what we could, but there were not many...
   wait 15 sec
%echo% at least, not by the end of the voyage."
   wait 15 sec
%echo% Another long silence, his eyes closing.
   wait 15 sec
%echo% And suddenly, "I fought with the elves when the first village fell!"
   wait 15 sec
%echo% I fled, I ran, and I left them to die... I hear the screaming still."
   wait 30 sec
end

>[0;00m
[0mCHECKING: 15436[0m

Name: 'jannie waitress speech',  VNum: [15436], RNum: [  836]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 15 sec
   mecho Jannie looks up at you and smiles before returning to her work.
   wait 50 sec
   mecho  Jannie pauses to smile at the troubadour, then blushes and continues her work.
   wait 40 sec
   mecho Jannie brings a nearby customer another mug of ale.

>[0;00m
[0mCHECKING: 15437[0m

Name: 'the troubadour speech',  VNum: [15437], RNum: [  837]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   mecho The troubadour sings, 'There were three men came out of the west their fortunes for to try, and these three men made a solemn vow John Barleycorn should die.'
   wait 15 sec
   mecho The troubadour sings, 'They plowed, they sowed, they harrowed him, threw clods upon his head, and these three men made a solemn vow John Barleycorn was dead.'
   wait 15 sec
   mecho The troubadour sings, 'Then they let him lie for a very long time, till the rain from heaven did fall, but little Sir John sprung up his head and soon amazed them all.'
   wait 15 sec
   mecho The troubadour sings, 'They let him stand till midsummer day, till he looked both pale and wan, and little Sir John grew a long, long beard and so became a man.'
   wait 15 sec
   mecho The troubadour sings, 'They hired men with the scythes so sharp to cut him off at the knee.  They rolled him and tied him by the waist, serving him most barbarously.'
   wait 15 sec
   mecho The troubadour sings, 'They hired men with the sharp pitchforks, who pricked him to the heart, and the loader, he served him worse than that, for he bound him to the cart.'
   wait 15 sec
   mecho The troubadour sings, 'They wheeled him around and around the field till they came unto the barn, and there they made a solemn vow on poor John Barleycorn.'
   wait 15 sec
   mecho The troubadour sings, 'They hired men with the crabtree sticks to cut him skin from bone, and the miller served him worse than that, for he ground him between two stones.'
   wait 15 sec
   mecho The troubadour sings, 'Here's little Sir John in the nutbrown bowl, and here's whiskey in a glass.  And little Sir John in the nutbrown bowl proves the strongest man at last.'
   wait 15 sec
   mecho The troubadour sings, 'For the huntsman, he can't hunt the fox, nor so loudly blow his horn, nor the minstrel sing his cheerful songs without a little John Barleycorn.'
   wait 15 sec
   mecho The troubadour calls for another drink and takes a break to converse with the patrons.
   wait 50 sec
   mecho The troubadour sips his whiskey and smiles to you.
   wait 30 sec

>[0;00m
[0mCHECKING: 15504[0m

Name: 'the high priest speech',  VNum: [15504], RNum: [  838]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 15 sec
   %echo% The sounds of the chants and the thickness of the smoke overwhelm you...
   wait 15 sec
   %echo%  a ceremony so mysterious and unspeakable that your mind refuses to comprehend.
   wait 15 sec
   %echo% And the high priest looks up briefly, smiling.
   wait 15 sec
   %echo% You will become part of the act.
   wait 30 sec

>[0;00m
[0mCHECKING: 16164[0m

Name: 'moving room fix redux',  VNum: [16164], RNum: [  839]
Trigger Intended Assignment: Rooms
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
*
set room %self%
set actor %room.people%
while %actor%
set next_actor %actor.next_in_room%
wait 15 s
switch %self.vnum%
  case 16164
    set vnum 16165
  break
  case 16165
    set vnum 16165
  break
  case 16166
    set vnum 16167
    %teleport% %actor% %vnum%
    %send% %actor% You finish your journey across the river.
    halt
  break
  default
  break
done
%teleport% %actor% %vnum%
%send% %actor% You travel across the river Styx.
set actor %next_actor%
done

>[0;00m
[0mCHECKING: 16613[0m
[0mCHECKING: 16614[0m

Name: 'sacrifice yourself',  VNum: [16613], RNum: [  840]
Trigger Intended Assignment: Rooms
Trigger Type: Drop , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  if (%object.vnum% == -1 && %object.sdesc% /= %actor.name%)
    if %findmob.16613(16650)%
      %echo% The High Priest intones the final portion of the ritual, chanting "Ash Nazg durbatuluk, ash nazg gimbatul, ash nazg thrakatuluk, agh burzum ishi krimpatul!"
      wait 2 s
      %send% %actor% You begin glowing with a bright light!
      %echoaround% %actor% %actor.name% begins glowing with a bright light!
      dg_cast 'aura of darkness' %actor%
    end
  end
end

>[0;00m
[0mCHECKING: 16645[0m

Name: 'acid trap',  VNum: [16614], RNum: [  841]
Trigger Intended Assignment: Rooms
Trigger Type: Random , Numeric Arg: 15, Arg list: None
Commands:
*
* 0803 Aegon 350 Ice Fortress
*
*  %echo% detected actor: %actor.name% con: %actor.con% hitp: %actor.hitp
*
if %self.people%
  set actor %random.char%
  *
  if %actor.is_pc%
    if %actor.con% < 18
      eval curhp %actor.hitp% / 2
      *      %echo% debug %actor.name% %curhp%
      eval curdamage %%random.%curhp%%
      *      %echo% debug %actor.name% %curdamage%
      %damage% %actor% %curdamage%
      %send% %actor% You've stepped into an acid pool!
      wait 2 s
      if (%random.100% < 5 && ! %actor.affect(hold)%)
        dg_cast 'hold' %actor%
        %send% %actor% You are paralyzed!
        wait 2 s
      end
    end
  end
end

>[0;00m
[0mCHECKING: 16646[0m

Name: 'the diploma',  VNum: [16645], RNum: [  842]
Trigger Intended Assignment: Objects
Trigger Type: Wear , Numeric Arg: 100, Arg list: None
Commands:
set testing 0
*
if %actor.int%  && ! %testing%
  return 0
  %send% %actor% You already have a brain, silly!
end

>[0;00m
[0mCHECKING: 16650[0m

Name: 'diploma int check',  VNum: [16646], RNum: [  843]
Trigger Intended Assignment: Objects
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
*
set actor %self.worn_by%
*
if ! %actor%
  halt
end
*
if %actor.is_pc%
  *
  if %actor.int% > 10
    %send% %actor% You've grown a brain!  Congrats!
    %force% %actor% remove diploma
  end
end

>[0;00m
Name: 'High Priest speech',  VNum: [16650], RNum: [  844]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 15 sec
   %echo% The high priest chants in a low voice: "Ash Nazg durbatuluk..."
   wait 15 sec
   %echo% The next line is an eerie echo. "ash nazg gimbatul..."
   wait 15 sec
   %echo% Hidden voices seem to join his, now: "ash nazg thrakatuluk..."
   wait 15 sec
   %echo% And climb together towards climax: "agh burzum ishi krimpatul!"
   wait 15 sec
   %echo% He turns to you, awaiting your sacrifice.

>[0;00m
[0mCHECKING: 16660[0m

Name: 'Minotaur Quest Greeting',  VNum: [16660], RNum: [  845]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
   *Minotaur Taunts if Player is on Quest
   *is the player on the quest?
   if (%actor.vnum% != -1)
   halt
   end
   if (%actor.quest(1)% == 1)
    wait 2
   say So you're on a mission from god?
    wait 2
    %echo% The minotaur lets out a rough laugh.
    wait 4
   say You've come for my hide, but you'll be lucky to leave with yours.
   end

>[0;00m
[0mCHECKING: 16661[0m

Name: 'Death of the Minotaur',  VNum: [16661], RNum: [  846]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
* Minotaur's Death Script
if (%actor.vnum% != -1)
    halt
end
if (%actor.quest(1)% == 1)
    mload obj 16642
    mquest %actor% 1 2
    actor.qpoints(1)
end

>[0;00m
[0mCHECKING: 17021[0m

Name: 'tractor beam mob control',  VNum: [17021], RNum: [  847]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 100, Arg list: None
Commands:
* Author: Guts
* Date: 08-09-2024
*
* Description:
* This script checks for the presence of specific mobs in a designated source room.
* It only executes if a lever with an even VNUM (indicating the ON position) is in the room.
* If a mob is missing from the room, it will be loaded into the room.
* If the mob exists in the room, it will attack the actor.
* There is a 3-second delay before the script proceeds to the next mob.
*
* Related Script(s): 17021
*
set source_room %self.vnum%
if %actor.is_pc%
eval target %source_room.people%
while %target%
*%echo% target: %target%
*%echo% target.is_pc: %target.is_pc%
*%echo% target.name: %target.name%
*%echo% actor.name: %actor.name%
if %target.is_pc% && %target.name% != %actor.name%
%send% %actor% Another player is already in the room. You cannot enter.
return 0
halt
end
eval target %target.next_in_room%
done
end
set moblist 17143 17144 17145 17146 17147
set source_room 17068
if %actor.is_pc%
wait 1 s
* Check if the lever in the room is in the ON position (even VNUM)
eval inroom %source_room.contents%
set lever_found 0
while %inroom%
if %inroom.vnum% == 17032 || %inroom.vnum% == 17034 || %inroom.vnum% == 17036 || %inroom.vnum% == 17038 || %inroom.vnum% == 17040
set lever_found 1
break
end
eval inroom %inroom.next_in_list%
done
if %lever_found%
while %moblist%
set mob %moblist.car%
eval target %source_room.people%
set mob_present 0
while %target%
if %target.vnum% == %mob%
set mob_present 1
break
end
eval target %target.next_in_room%
done
if !%mob_present%
%load% mob %mob%
end
eval target %source_room.people%
while %target%
if %target.vnum% == %mob%
%echoaround% %actor.name% Intruder detected! Keep the tractor beams on! Kill the rebel!!!
%force% %target% kill %actor.name%
break
end
eval target %target.next_in_room%
done
wait 3 s
eval moblist %moblist.cdr%
done
else
*%send% %actor% The tractor beam control lever is not in the ON position. No mobs will be loaded.
end
end
return 0

>[0;00m
[0mCHECKING: 17022[0m
[0mCHECKING: 17023[0m

Name: 'flip the tractor beam lever',  VNum: [17022], RNum: [  848]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: pull
Commands:
* Author: Guts
* Date: 08-09-2024
*
* Description:
* This script toggles a tractor beam control lever between ON and OFF states.
* There are 5 pairs of VNUMs, where:
* - Even VNUMs represent the lever in the ON position (17032, 17034, 17036, 17038, 17040).
* - Odd VNUMs represent the lever in the OFF position (17033, 17035, 17037, 17039, 17041).
*
* When the lever is pulled:
* - If the lever's VNUM is odd, the script loads the next VNUM (ON position).
* - If the lever's VNUM is even, the script loads the previous VNUM (OFF position).
*
* The lever will only be flipped if none of the specified mobs are in the room.
*
* Related Script(s): 17021
*
*%echo% self.room: %self.room%
if %cmd% == pull && %arg.car% == lever
set source_room %self.room%
*%echo% source_room.people: %source_room.people%
eval target %source_room.people%
set mobs_present 0
* Start checking for mobs in the room
while %target%
*%echo% Checking target with VNUM: %target.vnum%
if %target.vnum% >= 17401 && %target.vnum% <= 17405
*%echo% Mob found with VNUM: %target.vnum%
set mobs_present 1
break
end
eval target %target.next_in_room%
done
*%echo% mobs_present: %mobs_present%
if %mobs_present%
%send% %actor% The lever cannot be flipped while mobs are present in the room.
halt
end
* Check if the lever is in the OFF position (odd VNUMs)
if %self.vnum% == 17033 || %self.vnum% == 17035 || %self.vnum% == 17037 || %self.vnum% == 17039 || %self.vnum% == 17041
* VNUM is odd, indicating OFF, toggle to ON
eval next_vnum %self.vnum% - 1
%echoaround% %actor% %actor.name% pulls the lever, and the machinery hums to life as the tractor beam reactivates.
%send% %actor% You pull the lever, and the machinery hums to life as the tractor beam reactivates.
else
* VNUM is even, indicating ON, toggle to OFF
eval next_vnum %self.vnum% + 1
%echoaround% %actor% %actor.name% pulls the lever, and the machinery powers down as the tractor beam is deactivated.
%send% %actor% You pull the lever, and the machinery powers down as the tractor beam is deactivated.
end
* Remove the current lever object and load the toggled one
*%echo% next_vnum: %next_vnum%
%load% obj %next_vnum%
%purge% %self%
end

>[0;00m
[0mCHECKING: 17024[0m

Name: 'test damroll',  VNum: [17023], RNum: [  849]
Trigger Intended Assignment: Objects
Trigger Type: Wear , Numeric Arg: 100, Arg list: None
Commands:
%echo% Damroll: %actor.damroll%
%echo% Dex: %actor.dex%
set weapon %actor.eq(wield)%
if %weapon%  
  set sum 0
  set count 0
  set val2 %weapon.val2%
  while %count% < %weapon.val1%
    eval sum %sum% + %%random.%val2%%%
    *eval sum %sum% + %tmpTot%    
    eval count %count% + 1
  done
  %echo% Weapon die roll Total: %sum%
else
  %echo% Weapon not wielded
end
eval room  %self.room%
%log% Room: %room.vnum()% Actor: %actor.name% Item: 2 x Gold QP

>[0;00m
[0mCHECKING: 17030[0m

Name: 'kill pc just entered',  VNum: [17024], RNum: [  850]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
* No Script
if %actor.is_pc%
  kill %actor.name%
end

>[0;00m
Name: 'test format',  VNum: [17030], RNum: [  851]
Trigger Intended Assignment: Objects
Trigger Type: Wear , Numeric Arg: 100, Arg list: None
Commands:
if is_pc(%actor%)
  %echo% You are a player character!
  set inner_counter 0
  set counter 0
  while (%counter% < 3)
    %echo% Counter: %counter%
    switch %counter%
      case 0
        %echo% Counter is zero.
        if %counter% == 0
          %echo% Counter is zero.
        end
        while (%inner_counter% < 3)
          %echo% inner_counter: %inner_counter%
          eval inner_counter %inner_counter% + 1
        done
        break
      case 1
        %echo% Counter is one.
        break
      case 2
        %echo% Counter is two.
        break
      default
        %echo% Unexpected counter value.
        break
    done
    eval counter %counter% + 1
  done
else
  %echo% You are not a player character!
end

>[0;00m
[0mCHECKING: 17031[0m

Name: 'Test Ansi',  VNum: [17031], RNum: [  852]
Trigger Intended Assignment: Objects
Trigger Type: Wear , Numeric Arg: 100, Arg list: None
Commands:
* Test script to display all ANSI colors with space parsing
* Normal Foreground Colors
%echo%  The brown fox jumped over the lazy dog
%echo%  The brown fox jumped over the lazy dog
%echo%  The brown fox jumped over the lazy dog
%echo%  The brown fox jumped over the lazy dog
%echo%  The brown fox jumped over the lazy dog
%echo%  The brown fox jumped over the lazy dog
%echo%  The brown fox jumped over the lazy dog
%echo%  The brown fox jumped over the lazy dog
* Bold Foreground Colors
%echo%  The brown fox jumped over the lazy dog
%echo%  The brown fox jumped over the lazy dog
%echo%  The brown fox jumped over the lazy dog
%echo%  The brown fox jumped over the lazy dog
%echo%  The brown fox jumped over the lazy dog
%echo%  The brown fox jumped over the lazy dog
%echo%  The brown fox jumped over the lazy dog
%echo%  The brown fox jumped over the lazy dog
* Background Colors
%echo% k The brown fox jumped over the lazy dog
%echo% r The brown fox jumped over the lazy dog
%echo% g The brown fox jumped over the lazy dog
%echo% y The brown fox jumped over the lazy dog
%echo% b The brown fox jumped over the lazy dog
%echo% m The brown fox jumped over the lazy dog
%echo% c The brown fox jumped over the lazy dog
%echo% w The brown fox jumped over the lazy dog
* Plain Text and Mixed
%echo% Plain text
%echo%  Red [0;00m  Blue [0;00m
%echo%  This [0;00m is  a [0;00m test

>[0;00m
[0mCHECKING: 17032[0m

Name: 'unused',  VNum: [17032], RNum: [  853]
Trigger Intended Assignment: Mobiles
Trigger Type: NOBITS , Numeric Arg: 100, Arg list: None
Commands:
* No Script

>[0;00m
[0mCHECKING: 17033[0m

Name: 'unused',  VNum: [17033], RNum: [  854]
Trigger Intended Assignment: Mobiles
Trigger Type: NOBITS , Numeric Arg: 100, Arg list: None
Commands:
* No Script

>[0;00m
[0mCHECKING: 17034[0m

Name: 'unused',  VNum: [17034], RNum: [  855]
Trigger Intended Assignment: Mobiles
Trigger Type: NOBITS , Numeric Arg: 100, Arg list: None
Commands:
* No Script

>[0;00m
[0mCHECKING: 17035[0m
[0mCHECKING: 17036[0m

Name: 'unused',  VNum: [17035], RNum: [  856]
Trigger Intended Assignment: Mobiles
Trigger Type: NOBITS , Numeric Arg: 100, Arg list: None
Commands:
* No Script

>[0;00m
[0mCHECKING: 17050[0m

Name: 'unused',  VNum: [17036], RNum: [  857]
Trigger Intended Assignment: Mobiles
Trigger Type: NOBITS , Numeric Arg: 100, Arg list: None
Commands:
* No Script

>[0;00m
[0mCHECKING: 17051[0m

Name: 'march platoon leaders',  VNum: [17050], RNum: [  858]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
*
* set the full route including the starting room at the end
* note: assumed that there is a cycle
* need the list of directions to get from vnum to vnum also
* since goto acts as a goto, I rather get the natural movement
* and the ability to follow
*
*set patrol_path 17000 17001 17004 17003 17005 17002 17000
*set patrol_dirs n e s s w n
set patrol_path 17296 17294 17292 17293 17295 17300 17298 17297 17299 17002 17000 17001 17302 17004 17003 17005 17303 17301 17296
set patrol_dirs n n n n e s s s e n n n se s s sw w w
* get the current room the mob is in
set inroom %self.room%
eval mob_room %inroom.vnum%
*%echo% inroom: %inroom%
* pare the list down until matches the current room
set doit 1
while %doit% == 1
  eval first %patrol_path.car%
  if %mob_room.contains(%first%)%
    eval rest %patrol_path.cdr%
    set next %patrol_dirs.car%
    set nextVnum %rest.car%
    set doit 0
  else
    eval patrol_path %patrol_path.cdr%
    eval patrol_dirs %patrol_dirs.cdr%
  end
done
* is the room he wants to move to empty of himself?
* never want stacking except for when there is a fight
* nextVnum is the target room to check
set tmp_occupied 0
set occupied 0
eval tmp_occupied %%findmob.%nextVnum%(17006)%%
if tmp_occupied
  eval occupied %tmp_occupied%
end
set doit 1
set nextroom }200%nextVnum%
set target_char %nextroom.people%
set fighters 0
while %target_char%
  *%echo% person: %target_char%
  if %target_char.fighting%
    *%echo% fighting: %target_char.fighting%
    set fighters %fighters% + 1
  end
  set tmp_target %target_char.next_in_room%
  set target_char %tmp_target%
done
*%echo% nextroom: %nextroom%
*%echo% nextVnum: %nextVnum%
*%echo% nextDir: %next%
*%echo% occupied: %occupied%
if %occupied% == 0 || %fighters% > 0
  * next now contains the direction he should move
  *wait 8 s
  %next%
end

>[0;00m
[0mCHECKING: 17052[0m

Name: 'Lord Gravitron Toss Random',  VNum: [17051], RNum: [  859]
Trigger Intended Assignment: Rooms
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* Toss all except vnum 17219 (Lord Gravitron)
*
set toss_rooms 17152 17153 17154 17156 17157 17159 17158 17160
set victim %random.char%
if %victim.vnum% == 17219
  halt
  return 0
end
set choice %random.4%
*%echo% choice: %choice%
set doit 1
*%echo% roomList: %toss_rooms%
while %doit%
  if %doit%==%choice%
    eval toss_to_room %toss_rooms.car%
    set doit 0
  else
    eval toss_rooms %toss_rooms.cdr%
    eval doit (%doit% + 1)
    *%echo% doit: %doit%
  end
done
%send% %victim% You lose your balance and are tossed in a random direction!
%echoaround% %victim% %victim.name% loses his balance and tumbles out of the room!
*%echo% toss_to_room: %toss_to_room%
%teleport% %victim% %toss_to_room%
%force% %victim% look
%echoaround% %victim% %victim.name% flies into the room tumbling head over heels!
return 0

>[0;00m
Name: 'unused',  VNum: [17052], RNum: [  860]
Trigger Intended Assignment: Mobiles
Trigger Type: NOBITS , Numeric Arg: 100, Arg list: None
Commands:
* No Script

>[0;00m
[0mCHECKING: 17053[0m

Name: 'unused',  VNum: [17053], RNum: [  861]
Trigger Intended Assignment: Mobiles
Trigger Type: NOBITS , Numeric Arg: 100, Arg list: None
Commands:
* No Script

>[0;00m
[0mCHECKING: 17054[0m

Name: 'unused',  VNum: [17054], RNum: [  862]
Trigger Intended Assignment: Mobiles
Trigger Type: NOBITS , Numeric Arg: 100, Arg list: None
Commands:
* No Script

>[0;00m
[0mCHECKING: 17055[0m

Name: 'unused',  VNum: [17055], RNum: [  863]
Trigger Intended Assignment: Mobiles
Trigger Type: NOBITS , Numeric Arg: 100, Arg list: None
Commands:
* No Script

>[0;00m
[0mCHECKING: 17056[0m

Name: 'Gravitron Toss Random Valid Direction',  VNum: [17056], RNum: [  864]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 100, Arg list: None
Commands:
set room %self.vnum%
wait 1 s
set victim %room.people%
while %victim%
  *%echo% victim: %victim%
  *%echo% victim.name: %victim.name%
  eval tmp_victim %victim.next_in_room%
  %echo% Gravitational forces toss you out of the room!
  nop %victim.pos(standing)%
  %force% %victim.name% %random.dir%
  eval victim %tmp_victim%
done
return 0

>[0;00m
[0mCHECKING: 17060[0m
[0mCHECKING: 17401[0m

Name: 'Stores Purge',  VNum: [17060], RNum: [  865]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
* 20241024 Guts
* Adjusted to also get rid of mobs in self room
* 10-20-2022 Guts
* This trigger ensures that the greek alphabet mobs
* are killed in order. Mobs must have ascending vnums
* and hardcoded vnums are used below. 17185 and 17210
* When killed out of order the death triggers the
* removal/disintegration of all store guardians
set stores 17134 17135 17136 17140 17141 17144 17145 17146
eval tmp_stores %stores%
eval store %stores.car%
set purgeit 0
set me %self%
set mevnum %me.vnum%
set them 0
* %echo% mevnum: %mevnum%
* Step 1: Check if order is respected across all rooms, including the current room
* Check mobs in the current room first
eval current_room_people %room.people%
eval target %current_room_people%
while %target%
  eval tmp_target %target.next_in_room%
  if %target.name%
    eval them %target.vnum%
    if (%mevnum% > %them%) && (%them% > 17185)
      * %echo% current room target: %target% vnum: %them%
      eval purgeit (%purgeit% + 1)
    end
  end
  eval target %tmp_target%
done
* Check other rooms
while %store%
  eval tmp_stores %tmp_stores.cdr%
  set testroom }200%store%
  eval target %testroom.people%
  while %target%
    eval tmp_target %target.next_in_room%
    if %target.name%
      eval them %target.vnum%
      if (%mevnum% > %them%) && (%them% > 17185)
        * %echo% room: %store% target: %target% vnum: %them%
        eval purgeit (%purgeit% + 1)
      end
    end
    eval target %tmp_target%
  done
  eval store %tmp_stores.car%
done
* Step 2: Only purge mobs if order was not respected (i.e., purgeit is non-zero)
if %purgeit%
  * %echo% Order was not respected, purging mobs...
  * Purge mobs in the current room
  eval current_room_people %room.people%
  eval target %current_room_people%
  while %target%
    eval tmp_target %target.next_in_room%
    eval them %target.vnum%
    if (%them% > 17185) && (%them% < 17210) && (%them% != %mevnum%)
      %at% %target% %echo% The Guardian disintegrates!
      %purge% %target%
    end
    eval target %tmp_target%
  done
  * Purge mobs in other rooms
  eval tmp_stores %stores%
  eval store %stores.car%
  while %store%
    eval tmp_stores %tmp_stores.cdr%
    set testroom }200%store%
    eval target %testroom.people%
    while %target%
      eval tmp_target %target.next_in_room%
      eval them %target.vnum%
      if (%them% > 17185) && (%them% < 17210) && (%them% != %mevnum%)
        %at% %target% %echo% The Guardian disintegrates!
        %purge% %target%
      end
      eval target %tmp_target%
    done
    eval store %tmp_stores.car%
  done
  %echo% Stability was not maintained!
  %echo% All the Stores Guardians disintegrate!
else
  %echo% Stability is maintained!
  * Optional event for specific case (mevnum == 17209)
  if (%purgeit% == 0 && %mevnum% == 17209)
    if %random.100% > 95
      %echo% Omega drops his load!!!
      %load% 200
    end
  end
end
return 0

>[0;00m
[0mCHECKING: 17402[0m

Name: 'unused',  VNum: [17401], RNum: [  866]
Trigger Intended Assignment: Mobiles
Trigger Type: NOBITS , Numeric Arg: 100, Arg list: None
Commands:
* No Script

>[0;00m
[0mCHECKING: 17811[0m

Name: 'unused',  VNum: [17402], RNum: [  867]
Trigger Intended Assignment: Mobiles
Trigger Type: NOBITS , Numeric Arg: 100, Arg list: None
Commands:
* No Script

>[0;00m
Name: 'bottled charisma',  VNum: [17811], RNum: [  868]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 3, Arg list: drink
Commands:
if %actor.is_pc%
  if (%cmd.mudcommand% == drink && %self.name% /= %arg%)
    if %self.val1%
      set room %self.room%
      if ! (%room.roomflag(!MAGIC)% && %room.roomflag(MOB_MAGIC)%)
        %send% %actor% Ah! There's something sexy about drinking a beer served at room temperature with a creamy head almost as tall as your glass!
        dg_cast 'charisma' %actor%
      end
    end
  end
end
return 0

>[0;00m
[0mCHECKING: 17813[0m

Name: 'Jewler speech',  VNum: [17813], RNum: [  869]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 15 sec
   %echo% The Jeweler looks outside, then looks at you and whispers,
   wait 15 sec
   %echo% "I will tell you of an item which I would love to obtain."
   wait 15 sec
   %echo% "It is a pair of onyx seals!  Never before have I seen such craftsmanship!"
   wait 15 sec
   %echo% "A vassal of deGrance wanted to be assured that it was a gift worthy of a noble before he would give them."
   wait 15 sec
   %echo% The Jeweler glances about, then whispers even more softly,
   wait 15 sec
   %echo% "I have also heard a rumor that there are other items of great craftsmanship in circulation."

>[0;00m
[0mCHECKING: 17820[0m

Name: 'load sewing kit to tailor',  VNum: [17820], RNum: [  870]
Trigger Intended Assignment: Rooms
Trigger Type: Zone Reset , Numeric Arg: 1, Arg list: None
Commands:
if %findmob.17820(17815)%
%load% obj 7668 tailor inv
end

>[0;00m
[0mCHECKING: 17821[0m

Name: 'load jeweler kit to jeweler',  VNum: [17821], RNum: [  871]
Trigger Intended Assignment: Rooms
Trigger Type: Zone Reset , Numeric Arg: 1, Arg list: None
Commands:
if %findmob.17821(17813)%
%load% obj 7654 jeweler inv
end

>[0;00m
[0mCHECKING: 17915[0m
[0mCHECKING: 17924[0m

Name: 'the General of the Red Army speech',  VNum: [17915], RNum: [  872]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
if %actor.is_pc%
   wait 10 sec
   %echo% "Hello %actor.name%, I imagine you are wondering why we started this war."
   wait 15 sec
   %echo% The General looks at you and sighs, "Let's start at the beginning."
   wait 20 sec
   %echo% "When I was a young child, I spent most of my time playing and laughing with my three brothers."
   wait 15 sec
   %echo% He continues, "One day our father fell suddenly ill, and he passed away soon after."
   wait 15 sec
   %echo% He adds, "The troubles started shortly after that. You see, my father possessed four very valuable objects. Four rings with four different stones."
   wait 20 sec
   %echo% He continues, "My father, always being a prankster, decided it would be in good fun to leave our favorite objects to a different brother."
   wait 20 sac
   %echo% The General pulls out his ring and says, "To me, he left this Blue Sapphire Ring. One of my brothers had coveted this ring since he was a child."
   wait 20 sec
   %echo% He says, "So now, many years later, we have each formed an army to try to take back what we feel is rightfully our own."
   wait 20 sec
   %echo% The General cracks his knuckles. "For me, that is the Ruby Ring, which the Blue Army has. So, whose side will you take?"
end

>[0;00m
Name: 'the General of the Blue Army speech',  VNum: [17924], RNum: [  873]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
if %actor.is_pc%  
   wait 10 sec
   %echo% "Hello %actor.name%, I imagine you are wondering why we started this war."
   wait 15 sec
   %echo% The General looks at you and sighs, "Let's start at the beginning."
   wait 20 sec
   %echo% "When I was a young child, I spent most of my time playing and laughing with my three brothers."
   wait 15 sec
   %echo% He continues, "One day our father fell suddenly ill, and he passed away soon after."
   wait 15 sec
   %echo% He adds, "The troubles started shortly after that. You see, my father possessed four very valuable objects. Four rings with four different stones."
   wait 20 sec
   %echo% He continues, "My father, always being a prankster, decided it would be in good fun to leave our favorite objects to a different brother."
   wait 20 sac
   %echo% The General pulls out his ring and says, "To me, he left this Ruby Ring. One of my brothers had coveted this ring since he was a child."
   wait 20 sec
   %echo% He says, "So now, many years later, we have each formed an army to try to take back what we feel is rightfully our own."
   wait 20 sec
   %echo% "For me, that is the Blue Sapphire Ring, which the Red Army has. So, whose side will you take?"
end

>[0;00m
[0mCHECKING: 17933[0m

Name: 'the General of the Black Army speech',  VNum: [17933], RNum: [  874]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
if %actor.is_pc%  
   wait 10 sec
   %echo% "Hello %actor.name%, I imagine you are wondering why we started this war."
   wait 15 sec
   %echo% The General looks at you and sighs, "Let's start at the beginning."
   wait 20 sec
   %echo% "When I was a young child, I spent most of my time playing and laughing with my three brothers."
   wait 15 sec
   %echo% He continues, "One day our father fell suddenly ill, and he passed away soon after."
   wait 15 sec
   %echo% He adds, "The troubles started shortly after that. You see, my father possessed four very valuable objects. Four rings with four different stones."
   wait 20 sec
   %echo% He continues, "My father, always being a prankster, decided it would be in good fun to leave our favorite objects to a different brother."
   wait 20 sac
   %echo% The General pulls out his ring and says, "To me, he left this Pearl Ring. One of my brothers had coveted this ring since he was a child."
   wait 20 sec
   %echo% He says, "So now, many years later, we have each formed an army to try to take back what we feel is rightfully our own."
   wait 20 sec
   %echo% "For me, that is the Black Diamond Ring, which the White Army has. So, whose side will you take?"
end

>[0;00m
[0mCHECKING: 17942[0m

Name: 'the General of the White Army speech',  VNum: [17942], RNum: [  875]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
if %actor.is_pc%
  
   wait 10 sec
   %echo% "Hello %actor.name%, I imagine you are wondering why we started this war."
   wait 15 sec
   %echo% The General looks at you and sighs, "Let's start at the beginning."
   wait 20 sec
   %echo% "When I was a young child, I spent most of my time playing and laughing with my three brothers."
   wait 15 sec
   %echo% He continues, "One day our father fell suddenly ill, and he passed away soon after."
   wait 15 sec
   %echo% He adds, "The troubles started shortly after that. You see, my father possessed four very valuable objects. Four rings with four different stones."
   wait 20 sec
   %echo% He continues, "My father, always being a prankster, decided it would be in good fun to leave our favorite objects to a different brother."
   wait 20 sac
   %echo% The General pulls out his ring and says, "To me, he left this Black Diamond Ring. One of my brothers had coveted this ring since he was a child."
   wait 20 sec
   %echo% He says, "So now, many years later, we have each formed an army to try to take back what we feel is rightfully our own."
   wait 20 sec
   %echo% "For me, that is the Pearl Ring, which the Black Army has. So, whose side will you take?"
end

>[0;00m
[0mCHECKING: 18403[0m

Name: 'General Bunny speech',  VNum: [18403], RNum: [  876]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 15 sec
   %echo% The General looks your way as you approach, his stare appraising.
   wait 10 sec
   %echo% "What do you want, maggot?" he inquires, his good eye narrowing.
   wait 10 sec
   %echo% His lip curls in a slight snarl, showing sharp teeth. "Go on, then. Run along."
   wait 10 sec
   %echo% After a moment, he pauses, his head tilting slightly to the side as he eyes you up and down.
   wait 10 sec
   %echo% "Oh, I see," he says, a sly grin spreading across his face. "You want a fight."
   wait 10 sec
   %echo% "Well, maggot, you've found it."

>[0;00m
[0mCHECKING: 18412[0m

Name: 'Questing beast speech',  VNum: [18412], RNum: [  877]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
  wait 40 sec
  %echo% The beast bays with a sound like unto the questing of thirty couple hounds.
  wait 40 sec

>[0;00m
[0mCHECKING: 18601[0m
[0mCHECKING: 18602[0m

Name: 'viper call',  VNum: [18601], RNum: [  878]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 1, Arg list: call
Commands:
*
* death viper call obj command
* currently required to be fighting, low hp POOR, int>18 wis>18
* 25% success with 10 sec cooldown
* called viper mob can't already be in room
*
if %actor.is_pc%
  if (%cmd% == call) && (%arg% == viper)
    if %actor.fighting%
      if %actor.hitp% < %actor.maxhitp% / 3
        if %actor.int% > 18
          if %actor.wis% > 18
            * if %actor.remorts% > 5
            if %random.100% > 75
              set room %self.room%
              eval vnum %room.vnum%
              eval viper_called %%findmob.%vnum%(18620)%%
              if ! %viper_called%
                %echo% A death viper arrives in a column of dark smoke.
                %load% mob 18620
              else
                %send% %actor% A death viper has already been unleased!
                return 1
                halt
              end
            else
              %send% %actor% Your death viper call failed.  Try again later.
              wait 10 s
              return 1
              halt
            end
            * else
            *  %send% %actor% You have not experienced enough reincarnations to call a death viper.
            * return 1
            * halt
            * end
          else
            %send% %actor% You are not wise enough to call a death viper.
            return 1
            halt
          end
        else
          %send% %actor% You are not intelligent enough to call a death viper.
          return 1
          halt
        end
      else
        %send% %actor% The death viper will only serve those who are in dire need.
        return 1
        halt
      end
    else
      %send% %actor% The death viper only serves those in battle.
      return 1
      halt
    end
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 18610[0m

Name: 'vipers farewell',  VNum: [18602], RNum: [  879]
Trigger Intended Assignment: Mobiles
Trigger Type: Act , Numeric Arg: 1, Arg list: death cry
Commands:
wait 2 s
%echo% The viper's essence returns to its eternal imprisonment.
%purge% %self%

>[0;00m
[0mCHECKING: 18621[0m

Name: 'Yamus speech',  VNum: [18610], RNum: [  880]
Trigger Intended Assignment: Mobiles
Trigger Type: Global , Numeric Arg: 100, Arg list: None
Commands:
* By AP
if %actor.is_pc%
   wait 30 sec
   %echo% Yamus mutters, "Cast out. Insulted. And now you seek my counsel."
   wait 30 sec
   %echo% Yamus looks you in the eye.
   wait 30 sec
   say "Ah, perhaps YOU are different, %actor.name%."
   wait 5 sec
   say "I suppose I could offer you some advice."
   wait 5 sec
   %echo% Yamus shouts, "The rest of you, LEAVE!"
   wait 5 sec
   say "Fine."
   wait 5 sec
   say "The only other person in this world with the knowledge to read that book is that foul necromancer who makes his home in the high tower."
   wait 15 sec
   say "I am certain that he is the one that helped Narcisse to cast the spell."
   wait 15 sec
   say "Do what you like with that information."
   wait 15 sec
   say "I have graves to dig."
   wait 50 sec
end

>[0;00m
[0mCHECKING: 19300[0m

Name: 'amulet of chaos',  VNum: [18621], RNum: [  881]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  if %object.vnum% == 18626
    if ! %actor.varexists(bound_reward)%
      set bound_reward 1
      global bound_reward
      remote bound_reward %actor.id%
      %purge% %object%
      %load% obj 17934 %actor% inv
      %load% obj 17934 %actor% inv
      wait 5 s
      %send% %actor% Valiant Knight %actor.name%, I hereby award you twenty quest tokens for your service!
      wait 2 s
      %echo% The female bound spirit smiles as she fades away, free from the thralldom of the Necromancer.
      %purge% %self%
    else
      return 0
      %send% %actor% %actor.name%, you have already completed this quest!
      halt
    end
  else
    return 0
    %send% %actor% The bound spirit is not interested in your offering.
  end
end

>[0;00m
Name: 'ephemeral eq fades ',  VNum: [19300], RNum: [  882]
Trigger Intended Assignment: Objects
Trigger Type: Timer , Numeric Arg: 100, Arg list: None
Commands:
%send% %self.carried_by.name% %self.shortdesc% fades into a memory....
%send% %self.worn_by% %self.shortdesc% fades into a memory....
%purge% %self%

>[0;00m
[0mCHECKING: 19301[0m

Name: 'ephemeral timer on wear',  VNum: [19301], RNum: [  883]
Trigger Intended Assignment: Objects
Trigger Type: Wear , Numeric Arg: 100, Arg list: None
Commands:
eval anumber %random.50% + %random.50% + 60
otimer %anumber%

>[0;00m
[0mCHECKING: 21600[0m

The sun slowly begins to disappear over the western horizon.
Name: 'vive la resistance!',  VNum: [21600], RNum: [  884]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 75, Arg list: None
Commands:
if ! %actor.is_pc%
  if %actor.name% /= dragon
    mkill %actor%
  end
end

>[0;00m
[0mCHECKING: 21601[0m

Name: 'smile you're on candid camera',  VNum: [21601], RNum: [  885]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: smile
Commands:
if %actor.is_pc%
  if %cmd% == smile
    %echo% The statue descends from its base and pushes you back into the chair. 
    wait 2 s
    %echo% After examining your #8 lingual occlusal surface, the statue books you for a follow up appointment. 
    wait 2 s
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 21629[0m

Name: 'worship and tribute',  VNum: [21629], RNum: [  886]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 25, Arg list: None
Commands:
if ! %actor.is_pc%
  if %actor.name% /= slave
    %echo% %actor.name.toupper% solemnly enters the Temple, eyes downcast.
    switch %random.10%
      case 1
        set vnum 3105
      break
      case 2
        set vnum 5404
      break
      case 3
        set vnum 16130
      break
      case 4
        set vnum 619
      break
      case 5
        set vnum 13010
      break
      case 6
        set vnum 13011
      break
      case 7
        set vnum 906
      break
      case 8
        set vnum 279
      break
      case 9
        set vnum 34
      break
      case 10
        set vnum 1401
      break
      default
      break
    done
    wait 3 s
    %echo% %actor.name.toupper% drops to %actor.hisher% knees, offers a prayer to the Great Salmizan, and leaves an offering.
    %load% obj %vnum% %self%
  end
end

>[0;00m
[0mCHECKING: 21767[0m
[0mCHECKING: 21768[0m

Name: 'mantle of the honorary master',  VNum: [21767], RNum: [  887]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: show
Commands:
if %actor.is_pc%
  if %cmd% == show
    if %arg% /= equipment
      if ! %actor.varexists(masters_mantle)%
        if (%actor.has_item(2193)% && %actor.has_item(12403)% && %actor.has_item(3130)% && %actor.has_item(2199)% && %actor.has_item(12365)% && %actor.has_item(3116)% && %actor.has_item(3149)% && %actor.has_item(2236)% && %actor.has_item(12413)%)
          %purge% %actor.inventory(2193)%
          %purge% %actor.inventory(12403)%
          %purge% %actor.inventory(3130)%
          %purge% %actor.inventory(2199)%
          %purge% %actor.inventory(12365)%
          %purge% %actor.inventory(3116)%
          %purge% %actor.inventory(3149)%
          %purge% %actor.inventory(2236)%
          %purge% %actor.inventory(12413)%
          if %actor.eq(about)%
            set about %actor.eq(about)%
            set about_kw %about.name.car%
            %force% %actor% remove %about_kw%
          end
          %load% obj 21730 %actor% about
          %send% %actor% Mistress Zay smiles at you and thanks you for your service to King Welmar.  She places the Mantle of the Master around your shoulders.
          set masters_mantle -1
          global masters_mantle
          remote masters_mantle %actor.id%
        else
          %send% %actor% Mistress Zay looks at your offering, and then looks at you, sighing, 'Something seems to be missing, %actor.name%.  Make sure you have a representative item from nine clases.'
          halt
        end
      else
        %send% %actor% Mistress Zay smiles and reminds you that you've already received an Hononrary Master's Mantle, %actor.name%.
        halt
      end
    else
      %send% %actor% Mistress Zay asks if you'd like to show her the equipment you've gathered for King Welmar's Training Grounds.
      halt
    end
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 23001[0m

Name: 'indian giving',  VNum: [21768], RNum: [  888]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  %send% %actor% Thank you, %actor.name%, I'll give a copy of this item to our smiths.
  wait 3 s
  %send% %actor% Meanwhile, hang onto this.  You'll need it later.
  give %object.name.car% %actor.name%
end

>[0;00m
[0mCHECKING: 23002[0m

Name: 'Glowing Philosopher Stone exchange',  VNum: [23001], RNum: [  889]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: exchange
Commands:
*
* 02252024 Guts 230 Sanctuary
*
if %actor.is_pc%
  if %cmd% == exchange && %arg% == philosopher
    if %actor.inventory(14601)% && %actor.inventory(17936)%
      *14614 - glowing philosopher stone
      *14601 - philosopher stone
      *17936 - sapphire 100 Quest Token
      %purge% %actor.inventory(14601)%
      %purge% %actor.inventory(17936)%
      %load% obj 14614 %actor% 
      set object %actor.inventory(14614)%
      %send% %actor% Ranthir whispers, "%actor.name%, %object.shortdesc% has been placed in your inventory."
    else
      %send% %actor% Ranthir whispers, "%actor.name%, you need both a philsopher stone and a sapphire quest token in your inventory!"
    end
    return 1
    halt
  end
end

>[0;00m
Name: 'door closes behind you',  VNum: [23002], RNum: [  890]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  wait 2 s
  %echo% The door closes softly behind you.
  %door% 23340 south flags b
end

>[0;00m
[0mCHECKING: 23003[0m

Name: 'Open Sesame Code',  VNum: [23003], RNum: [  891]
Trigger Intended Assignment: Mobiles
Trigger Type: Entry , Numeric Arg: 100, Arg list: o
Commands:
%echo% ranthir_password: %ranthir_password%

>[0;00m
[0mCHECKING: 23004[0m

Name: 'divulge ranthir store pw',  VNum: [23004], RNum: [  892]
Trigger Intended Assignment: Mobiles
Trigger Type: Fight , Numeric Arg: 100, Arg list: None
Commands:
set ranthir_password test
global ranthir_password

>[0;00m
[0mCHECKING: 23005[0m

Name: 'Cappen Varra speech',  VNum: [23005], RNum: [  893]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 15 sec
   %echo% Cappen Varra sings, 'My love she is a stitcher, a tailoress by trade, and many a fancy waistcoat for me my love has made...'
   wait 3 sec
   %echo% Cappen Varra sings, 'She gets up in the morning and stitches away till nine; then her highheeled boots go clattering down the Knickerbocker line.'
   wait 3 sec
   mech Cappen Varra sings, 'Oh, watch her, trail her, pipe her as she goes, in her high heeled boots and her patent leather toes...'
   wait 3 sec
   %echo% Cappen Varra sings, 'That she was one of those flash girls I soon found out in time, as her high boots go clattering down the knickerbocker line.'
   wait 3 sec
   %echo% Cappen Varra sings, 'When I first met this pretty girl in High Street she did dwell; she nearly took my breath away, she was such a swell.'
   wait 3 sec
   %echo% Cappen Varra sings, 'She had a nifty hat with feathers on, and didn't she cut a shine; she looked so neat as she clattered her feet on the knickerbocker line.'
   wait 3 sec
   %echo% Cappen Varra sings, 'Oh, watch her, trail her, pipe her as she goes, in her high heeled boots and her patent leather toes...'
   wait 3 sec
   %echo% Cappen Varra sings, 'That she was one of those flash girls I soon found out in time, as her high boots go clattering down the knickerbocker line.'
   wait 3 sec
   %echo% Cappen Varra sings, 'I took her into town one day, to the theatre we did go; the way they all were staring at her, you'd think she was the show...'
   wait 3 sec
   %echo% Cappen Varra sings, 'When coming out she stopped me, and particular asked the time, then skedaddled with my ticker down the knickerbocker line.'
   wait 3 sec
   %echo% Cappen Varra sings, 'Oh, watch her, trail her, pipe her as she goes, in her high heeled boots and her patent leather toes...'
   wait 3 sec
   %echo% Cappen Varra sings, 'That she was one of those flash girls I soon found out in time, as her high boots go clattering down the knickerbocker line.'
   wait 3 sec
   %echo% Cappen Varra sings, 'Well, when i found my ticker gone, I raised a hue and cry, and I called out to the barly as he was passing by...'
   wait 3 sec
   %echo% Cappen Varra sings, 'The barly said, "Now, come with me," and marched her off so fine, "for three months you must skip along the knickerbocker line."'
   wait 3 sec
   %echo% Cappen Varra sings, 'Oh, watch her, trail her, pipe her as she goes, in her high heeled boots and her patent leather toes...'
   wait 3 sec
   %echo% Cappen Varra sings, 'That she was one of those flash girls I soon found out in time, as her high boots go clattering down the knickerbocker line.'
   wait 3 sec
   %echo% Cappen Varra says, 'That song is dedicated to Doc, a true patron of the arts. Now, let us have a drink and be merry!'
   wait 40 sec
   %echo% Cappen Varra chuckles in response to a question from a bystander. 'Yes, everyone keeps asking me about the legends concerning that sword, but I know little more than you do.'
   wait 5 sec
   %echo% Cappen Varra says, 'According to an old manuscript I saw as a youth, such a sword once existed. It wasn't a particularly reliable manus cript, though -- it was one of the most inaccurate histories of the land that I've ever seen. For what it's worth, it claimed that creation of the sword required seven songs, seven magical items, and seven of some five other things I can't recall. But all I remember beyond that is that just thinking about it made me want seven cups of mead!'
   wait 40
   %echo% Cappen Varra prepares to sing.
   wait 5 sec

>[0;00m
[0mCHECKING: 23008[0m

Name: 'Hakiem speech',  VNum: [23008], RNum: [  894]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 15 sec
   %echo% Hakiem has been watching your approach. He sizes you up carefully.
   wait 15 sec
   %echo% "You are not a child come to me for adventure stories," he says deliberately.
   wait 15 sec
   mech "I can see that you have adventures of your own to tell about."
   wait 15 sec
   %echo% He stops to draw thoughtfully on his pipe, his eyes twinkling mischievously.
   wait 15 sec
   %echo% "I have heard it said that the greatest wizard in all of Sanctuary is seeking some perfectly made linen twist.
   wait 15 sec
   %echo% They say he has divined that he might use it to remove the curse which torments him."

>[0;00m
[0mCHECKING: 23067[0m

Name: 'Beggar speech',  VNum: [23067], RNum: [  895]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 4, Arg list: None
Commands:
*
*  give the beggars some witticisms
*
eval max %random.10%
set txt[1] Quoting Aristotle, "Poverty is the parent of revolution and crime."
set txt[2] Quoting Nelson Mandela, "Poverty is not an accident. Like slavery and apartheid, it is man-made and can be removed by the actions of human beings."
set txt[3] Quoting Mahatma Ghandi, "Poverty is the worst form of violence."
set txt[4] Poverty is the thief of dreams.
set txt[5] Quoting Franlin D. Roosevelt, "The test of our progress is not whether we add more to the abundance of those who have much; it is whether we provide enough for those who have too little."
set txt[6] Quoting Pearl S, Buck, "Hunger makes a thief of any man."
set txt[7] Quoting Toni Morrison, "The function of freedom is to free someone else."
set txt[8] Quoting Muhammad Ali, "Wars of nations are fought to change maps. But wars of poverty are fought to map change."
set txt[9] Quoting Helen Keller, "Our worst foes are ignorance, poverty, and the unconscious cruelty of our commercial society."
set txt[10] Quoting Anne Frank, "How wonderful it is that nobody need wait a single moment before starting to improve the world."
set  speech %%txt[%max%]%%
eval speech %speech%
say %speech%

>[0;00m
[0mCHECKING: 23068[0m
[0mCHECKING: 23088[0m

Name: 'beggar's master',  VNum: [23068], RNum: [  896]
Trigger Intended Assignment: Mobiles
Trigger Type: Bribe , Numeric Arg: 100, Arg list: None
Commands:
*
* beggar performance
*
if %actor.is_pc%
  set goal %random.15000%
  if %amount% >= %goal%
    follow %actor.name%
    %send% %actor% %self.name% says, 'I will give my life for you, my liege!'
  elseif %amount% == %goal%
    %load% mob 23071
    %echo% %self.name% removes his ragged cloak and reveals his true identity!  
    %send% %actor% You stand before Feltheryn, a mime, a performer, a benefactor!
    %echoaround% %actor.name% stands before the actor Feltheryn, Champion of the Poor!
    %send% %actor% %actor.name%, for your kindness to the poor of Sanctuary,  please let us bestow this token upon you!
    %eval% vnum 17933 + %random.3%
    %load% obj %vnum% %actor% inv
    %purge% %self%
  else
    The beggar hurries off with your coin.
    %purge% %self%
  end 
end

>[0;00m
[0mCHECKING: 23501[0m

Name: 'load some patrons to the vulgar uni',  VNum: [23088], RNum: [  897]
Trigger Intended Assignment: Rooms
Trigger Type: Zone Reset , Numeric Arg: 5, Arg list: None
Commands:
if %findmob.23090(23057)% < 2
  %load% mob 23057
  %echo% The man arrives.
  %load% mob 23058
  %echo% The woman arrives.
  %load% mob 23069
  %echo% The dockworker arrives.
end

>[0;00m
[0mCHECKING: 23503[0m

Name: 'practice makes perfect',  VNum: [23501], RNum: [  898]
Trigger Intended Assignment: Mobiles
Trigger Type: Fight , Numeric Arg: 100, Arg list: None
Commands:
*
* 05 Mar 24 Aegon 350 - Battle automaton reports true damage rec'd
*                                      store mob info for leaderboard
*
if %actor.is_pc%
  eval curdamage 20000 - %self.hitp%
  %send% %actor% You connected for %curdamage% damage.
  eval hitp %self.maxhitp% - %self.hitp% + 1
  nop %self.hitp(%hitp%)%
  * 
  if %self.varexists(tower_leader)%
    *
    set tower_leader %self.tower_leader.trim%
    *
    set leader_class %tower_leader.car%
    set tower_leader %tower_leader.cdr%
    set leader_level %tower_leader.car%
    set tower_leader %tower_leader.cdr%
    set leader_name %tower_leader.car%
    set tower_leader %tower_leader.cdr%
    set leader_damage %tower_leader.car% 
    set tower_leader %tower_leader.cdr%
    *
    set second_class %tower_leader.car%
    set tower_leader %tower_leader.cdr%
    set second_level %tower_leader.car%
    set tower_leader %tower_leader.cdr%
    set second_name %tower_leader.car%
    set tower_leader %tower_leader.cdr%
    set second_damage %tower_leader.car% 
    set tower_leader %tower_leader.cdr%
    *
    set third_class %tower_leader.car%
    set tower_leader %tower_leader.cdr%
    set third_level %tower_leader.car%
    set tower_leader %tower_leader.cdr%
    set third_name %tower_leader.car%
    set tower_leader %tower_leader.cdr%
    set third_damage %tower_leader.car% 
    set tower_leader %tower_leader.cdr%
    *
    * extract leader_name 3 %self.tower_leader%
    * extract leader_class 1 %self.tower_leader%
    * extract leader_level 2 %self.tower_leader%
    * extract leader_damage 4 %self.tower_leader%  
    * 
    * extract second_name 7 %self.tower_leader%
    * extract second_class 5 %self.tower_leader%
    * extract second_level 6 %self.tower_leader%
    * extract second_damage 8 %self.tower_leader%  
    *
    * extract third_name 11 %self.tower_leader%
    * extract third_class 9 %self.tower_leader%
    * extract third_level 10 %self.tower_leader%
    * extract third_damage 12 %self.tower_leader%  
    *
  end
  *
  * replace yourself if you're in the leaderboard
  *
  if %curdamage% > %leader_damage%
    if %leader.name% != %actor.name% 
      eval third_name %second_name% 
      eval third_class %second_class%
      eval third_level %second_level%
      eval third_damage %second_damage%
      *   
      eval second_name %leader_name% 
      eval second_class %leader_class%
      eval second_level %leader_level%
      eval second_damage %leader_damage%
      *
      eval leader_name %actor.name% 
      eval leader_class %actor.class%
      eval leader_level %actor.level%
      eval leader_damage %curdamage% 
    else
      eval leader_damage %curdamage%    
    end
    *
  elseif %curdamage% > %second_damage%
    if (%leader_name% != %actor.name%)
      if (%second_name% != %actor.name%) 
        eval third_name %second_name% 
        eval third_class %second_class%
        eval third_level %second_level%
        eval third_damage %second_damage%
        *
        eval second_name %actor.name% 
        eval second_class %actor.class%
        eval second_level %actor.level%
        eval second_damage %curdamage%
      else
        eval second_damage %curdamage%
      end
    end
    *
  elseif %curdamage% > %third_damage%
    if (%leader_name% != %actor.name% && %second_name% != %actor.name%)
      if (%third_name% != %actor.name%) 
        eval third_name %actor.name% 
        eval third_class %actor.class%
        eval third_level %actor.level%
        eval third_damage %curdamage%
      else
        eval third_damage %curdamage%
      end
    end
  else
    halt
  end
  *
  eval tower_leader %leader_class% %leader_level% %leader_name% %leader_damage% 
  eval tower_leader %tower_leader% %second_class% %second_level% %second_name% %second_damage%
  eval tower_leader %tower_leader% %third_class% %third_level% %third_name% %third_damage%
  eval tower_leader %tower_leader.trim%
  *
  * write the leaderboard into the mob record
  *
  remote tower_leader %self.id%
end

>[0;00m
Name: 'trapping strikes and backstabs',  VNum: [23503], RNum: [  899]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: *
Commands:
*
*  trapping strikes and backstabs
*
if %cmd.mudcommand% == strike 
  %send% %actor% "For striking practice, please use the heavy-duty strike reinforced automaton located in the West Maze Guardhouse."
  return 1
  halt
elseif (%cmd.mudcommand% == backstab) || (%cmd.mudcommand% == circle)
  %send% %actor% "For backstabbing practice, please use the heavy-duty backstab reinforced automaton located in the East Maze Guardhouse."
  return 1
  halt
else
  return 0
end

>[0;00m
[0mCHECKING: 23504[0m

Name: 'follow the combat leader',  VNum: [23504], RNum: [  900]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: l
Commands:
*
* get the basic combat leaderboard
*
* set up the spacing strings
*
set spc[1]  .
set spc[2]  ..
set spc[3]  ...
set spc[4]  ....
set spc[5]  .....
set spc[6]  ......
set spc[7]  .......
set spc[8]  ........
set spc[9]  .........
set spc[10]  ..........
set spc[11]  ...........
set spc[12]  ............
set spc[13]  .............
set spc[14]  ..............
set spc[15]  ...............
*
if %actor.is_pc%
  if (%cmd.mudcommand% == look) && (%arg% /= lead)
    if %self.varexists(tower_leader)%
      set tower_leader %self.tower_leader.trim%
      *
      set leader_class %tower_leader.car%
      set tower_leader %tower_leader.cdr%
      set leader_level %tower_leader.car%
      set tower_leader %tower_leader.cdr%
      set leader_name %tower_leader.car%
      set tower_leader %tower_leader.cdr%
      set leader_damage %tower_leader.car% 
      set tower_leader %tower_leader.cdr%
      *
      set second_class %tower_leader.car%
      set tower_leader %tower_leader.cdr%
      set second_level %tower_leader.car%
      set tower_leader %tower_leader.cdr%
      set second_name %tower_leader.car%
      set tower_leader %tower_leader.cdr%
      set second_damage %tower_leader.car% 
      set tower_leader %tower_leader.cdr%
      *
      set third_class %tower_leader.car%
      set tower_leader %tower_leader.cdr%
      set third_level %tower_leader.car%
      set tower_leader %tower_leader.cdr%
      set third_name %tower_leader.car%
      set tower_leader %tower_leader.cdr%
      set third_damage %tower_leader.car% 
      set tower_leader %tower_leader.cdr%
      *  
      %send% %actor%  BASIC COMBAT LEADERBOARD
      %send% %actor% ==========================
      %send% %actor% CL LV CHAR            DAM
      %send% %actor% -- -- ------------    ---
      *
      eval spcs (14 - %leader_name.strlen%)
      set leader_spc %%spc[%spcs%]%%
      eval leader_spc %leader_spc%
      set leader_class %leader_class.charAt(1)%
      *
      %send% %actor% %leader_class.toupper%  %leader_level% %leader_name.toupper% %leader_spc% %leader_damage%
      *
      eval spcs (14 - %second_name.strlen%)
      set second_spc %%spc[%spcs%]%%
      eval second_spc %second_spc%
      set second_class %second_class.charAt(1)%
      *
      %send% %actor% %second_class.toupper%  %second_level% %second_name.toupper% %second_spc% %second_damage%
      *
      eval spcs (14 - %third_name.strlen%)
      set third_spc %%spc[%spcs%]%%
      eval third_spc %third_spc%
      set third_class %third_class.charAt(1)%
      *
      %send% %actor% %third_class.toupper%  %third_level% %third_name.toupper% %third_spc% %third_damage%
    else
      %send% %actor% Basic Combat leaderboard not found.
    end
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 23505[0m

Name: 'scaring the shit out of them',  VNum: [23505], RNum: [  901]
Trigger Intended Assignment: Rooms
Trigger Type: Random , Numeric Arg: 50, Arg list: None
Commands:
*
*  multiple msgs that seem like an imminent DT
*
eval max %random.10%
set txt[1]  From beyond your torch light, a large wet sound moves clumsily, inexorably.  The sound of death.  Does it yet come?
set txt[2]  Your breath grows labored in the foul air.  You begin to panic.  Is this the way back?
set txt[3]  A tiny voice in your head begins to wail toward insanity.  You face the realization that you will perish here.  You scream into the blackness.
set txt[4]  As the last light of your lamp flickers to darkness, you begin to lose your mind.  Don't abandon me.  The final card.   A joker.
set txt[5]  Perhaps you shall sleep, dream of better times, days of sunshine and endless potential.  Shattered now.
set txt[6]  You wouldn't be stuck in this place had you not pushed it so far.  Why?  Why.  Recriminations.  Despair.  Horror.
set txt[7]  A lullabye from childhood suddenly occurs to you.  Surrounded by darkness, this memory comes unbidden.
set txt[8]  Someone whispers, 'Sleep now.  All is behind you.  Embrace death.  You are finished.'
set txt[9]  Bravery! Ha.  All of this, all of these years to end this way?  Rage and denial.  No recourse.  An end befitting a lifetime's choices.
set txt[10]  You begin to hallucinate, the visions of blood, the faces of your many victims swirl about you.  Begone!  Leave me to die in peace.
*
if ! %rankan_trap_clues%
  set rankan_trap_clues 1
end
*
while %rankan_trap_clues% < 11
  set  speech %%txt[%rankan_trap_clues%]%%
  eval speech %speech%
  %echo% %speech%
  eval rankan_trap_clues %rankan_trap_clues% + 1
  wait 10 s
  %echo% [clue: %rankan_trap_clues%]
done
set rankan_trap_clues 1
global rankan_trap_clues
*
set  speech %%txt[%max%]%%
eval speech %speech%
%echo% %speech%

>[0;00m
[0mCHECKING: 23506[0m

Name: 'experience of a lifetime',  VNum: [23506], RNum: [  902]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 100, Arg list: None
Commands:
*
* trap start experience prior to practice session
*
if %actor.is_pc%
  context %actor.id%
  set start_exp %actor.exp%
  global start_exp
  %echo% character %actor.name% start_exp: %start_exp%
end

>[0;00m
[0mCHECKING: 23507[0m

Name: 'loss of innocence',  VNum: [23507], RNum: [  903]
Trigger Intended Assignment: Rooms
Trigger Type: Leave , Numeric Arg: 100, Arg list: None
Commands:
*
*  remove practice experience gained
*
context %actor.id%
if %actor.is_pc%
  if %start_exp%
    set end_exp %actor.exp%
    eval exp_gained %end_exp% - %start_exp%
    eval exp_gained  0 - %exp_gained%
    nop %actor.exp(%exp_gained%)%
    %send% %actor% experience gained during the practice session has been deducted.
  end
end

>[0;00m
[0mCHECKING: 23508[0m
[0mCHECKING: 23639[0m

Name: 'bossing the magic dummies',  VNum: [23508], RNum: [  904]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: o
Commands:
*
* 02 16 2024 Aegon 350 Ice Fortress
* 02 16 2024 magic! version
*
context %actor.id%
*
if ! %start_exp%
  if %actor.varexists(start_exp)%
    set start_exp %actor.start_exp%
  end
end
*
if %cmd.mudcommand% /= order
  switch %arg%
    case calm
      case stop
      %load% mob 23503
      %purge% %self%
    break
    case glow
      dg_cast 'sanctuary' %self%
      %echo% |%self.name.toupper% is surrounded by a white sphere.
    break
    case orb
      dg_cast 'orb' %self%
      %echo% |%self.name.toupper% is surrounded by a translucent orb.
    break
    case vestment
      dg_cast 'magical vestment' %self%
      %echo% |%self.name.toupper% glows faintly blue.
    break
    case stone
      dg_cast 'stone skin' %self%
      %echo% |%self.name.toupper%'s skin hardens.
    break
    case armor
      dg_cast 'armor' %self%
      %echo% |%self.name.toupper% is magically protected.
    break
    case blur
      dg_cast 'blur' %self%
      %echo% |%self.name.toupper%'s shape blurs.
    break
    case purge
      %echo% %self.name.toupper% is purged!
      mtransform 23503
    break
    default
      return 0
    break
  done
elseif (%cmd% == train) && (%arg% == guildmaster)
  if %start_exp%
    set end_exp %actor.exp%
    eval exp_gained %end_exp% - %start_exp%
    eval exp_gained  0 - %exp_gained%
    if %exp_gained% < 0
      nop %actor.exp(%exp_gained%)%
      %send% %actor% %actor.name%, your experience gained during the practice session has been deducted.
    end
  end
  *
  context 0
  unset magic_in_use
  *
  %send% %actor% The automaton points its articulated finger at you and you are blinded by a flash!
  %echoaround% %actor% The automaton receives an order and points at %actor.name%, who disappears in a bright flash!
  switch %actor.class%
    case Cleric
      %teleport% %actor% 3061
    break
    case Mage
      %teleport% %actor% 3071
    break
    case Jedi
      %teleport% %actor% 3065
    break
    case Paladin
      %teleport% %actor% 3069
    break
    case Antipaladin
      %teleport% %actor%  3036
    break
    case Ninja
      %teleport% %actor% 3051
    break
    case Thief
      %teleport% %actor% 3059
    break
    case Warrior
      %teleport% %actor% 3055
    break
    case Sohei
      %teleport% %actor% 3063
    break
    case Bard
      %teleport% %actor% 3146
    break
    case Ranger
      %teleport% %actor% 6011
    break
    default
    break
  done
  %echoaround% %actor% %actor.name% arrives in a puff of smoke.
  %force% %actor% look
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 25040[0m

Name: 'Gravely wounded minotaur speech',  VNum: [23639], RNum: [  905]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 25 sec
   %echo% The gravely wounded minotaur snarls at you menacingly, resulting in a violent, wet-sounding cough to wrack its gruesomely mangled body.
   wait 5 sec
   %echo% The gravely wounded minotaur tries to stanch the flow of blood from one particularly monstrous gash on his abdomen.
   wait 25 sec
   %echo% The horribly wounded creature stirs again and mumbles, "Algodo..." before lapsing back into its agonizing stupor.

>[0;00m
[0mCHECKING: 25080[0m

Name: 'dt jump scare hallway',  VNum: [25040], RNum: [  906]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 10, Arg list: None
Commands:
%echo% You trip and fall through the floor, ending your brief stay in 
%echo% Warrim's Haunted House!
%echo%.
%echo% Welcome to JediMUD!
%echo% 0) Exit from JediMud.
%echo% 1) Enter the game.
%echo% 2) Enter description.
%echo% 3) Read the background story.
%echo% 4) Change password.
%echo% 5) Delete this character.
%echo% 6) Check the status of this character.
%echo% 7) Change Email address.
%echo%.
%echo%   Make your choice: 5
%echo%.
%echo%Goodybye.

>[0;00m
Name: 'dt jump scare cornfields',  VNum: [25080], RNum: [  907]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 10, Arg list: None
Commands:
%echo% You are cut down by a crazed cornfield murderer, ending your brief stay in
%echo% Warrim's Haunted House!
%echo%.
%echo% Welcome to JediMUD!
%echo% 0) Exit from JediMud.
%echo% 1) Enter the game.
%echo% 2) Enter description.
%echo% 3) Read the background story.
%echo% 4) Change password.
%echo% 5) Delete this character.
%echo% 6) Check the status of this character.
%echo% 7) Change Email address.
%echo%.
%echo%   Make your choice: 5
%echo%.
%echo%Goodybye.

>[0;00m
[0mCHECKING: 25150[0m

Name: 'check for a shovel, spade or pick',  VNum: [25150], RNum: [  908]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 100, Arg list: None
Commands:
if %direction% == south
  if ! (%actor.has_item(25284)% || %actor.has_item(25285)% || %actor.has_item(25286))
    %echo% The ghost of the Grave Keeper says, '%actor.name%, you'll _still_ need sumthin' to dig wit' before ye can enter.'
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 25151[0m

Name: 'dt jump scare graveyard',  VNum: [25151], RNum: [  909]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 10, Arg list: None
Commands:
%echo% You stumble into an open grave, ending your brief stay in
%echo% Warrim's Haunted House!
%echo%.
%echo% Welcome to JediMUD!
%echo% 0) Exit from JediMud.
%echo% 1) Enter the game.
%echo% 2) Enter description.
%echo% 3) Read the background story.
%echo% 4) Change password.
%echo% 5) Delete this character.
%echo% 6) Check the status of this character.
%echo% 7) Change Email address.
%echo%.
%echo%   Make your choice: 5
%echo%.
%echo%Goodybye.

>[0;00m
[0mCHECKING: 25153[0m

Name: 'you moved the headstones but you didn't move the bodies',  VNum: [25153], RNum: [  910]
Trigger Intended Assignment: Rooms
Trigger Type: Zone Reset , Numeric Arg: 100, Arg list: None
Commands:
*
* 250 Aegon 31 Oct 2024 - halloween quest
*
wait 1 s
set boss 0
set deadend 0
*
set boss_chance 20
set deadend_chance 20
*
while !%boss% || !%deadend%
  set vnum 25153
  *
  while %vnum% < 25164
    %echo% configuring room %vnum%
    if (%random.100% < %boss_chance%) && %boss% == 0
      %echo% loading boss grave marker
      %at% %vnum% %load% obj 25278
      set boss 1
    elseif (%random.100% < %deadend_chance%) && (%deadend% < 2)
      %echo% loading deadend grave marker
      %at% %vnum% %load% obj 25277
      eval deadend %deadend% + 1
    end
    eval vnum %vnum% + 1
  done
done

>[0;00m
[0mCHECKING: 25154[0m

Name: 'yeet the boy scouters',  VNum: [25154], RNum: [  911]
Trigger Intended Assignment: Rooms
Trigger Type: Zone Reset , Numeric Arg: 100, Arg list: None
Commands:
*
* tp ld players to hts
*
eval target %self.people%
while %target%
set next_target %target.next_in_room%
if %target.is_pc% 
switch %random.5%
case 1
set vnum 3001
break
case 2
set vnum 12200
break
case 3
set vnum 2101
break
case 4
set vnum 5200
set vnum 3101
break
case 5
set vnum 9603
set vnum 12200
break
default
set vnum 3717
set vnum 2101
break
done
%echoaround% %actor% %actor.name% comes tumbling down out of the sky and lands headfirst in the ground nearby.
%teleport% %target% %vnum%
%force% %actor% look
end
set target %next_target%
done

>[0;00m
[0mCHECKING: 25165[0m
[0mCHECKING: 25166[0m

Name: 'purge and reset the witches',  VNum: [25165], RNum: [  912]
Trigger Intended Assignment: Rooms
Trigger Type: Zone Reset , Numeric Arg: 100, Arg list: None
Commands:
*
* 250 Aegon 31 Oct 2024 - halloween quest
*
* rem old witch
*
wait 3 s
set target %self.people%
while %target%
  set next_target %target.next_in_room%
  if (%target.vnum% == 25222 || %target.vnum% == 25223)
    %purge% %target%
    * %zoneecho% %self.vnum% removing old witch %target.vnum% in room %self.vnum%
  end
  set target %next_target%
done
*
* load a new witch
*
set death_chance 75
set tp_chance 100
*
if %random.100% <= %death_chance%
  %load% mob 25222
  * %zoneecho% %self.vnum% loading new bad witch in room %self.vnum%
elseif %random.100% <= %tp_chance%
  %load% mob 25223
  *%zoneecho% %self.vnum% loading new good witch in room %self.vnum%
end

>[0;00m
[0mCHECKING: 25167[0m

Name: 'replace one bitch with another witch',  VNum: [25166], RNum: [  913]
Trigger Intended Assignment: Rooms
Trigger Type: Zone Reset , Numeric Arg: 100, Arg list: None
Commands:
*
* 250 Aegon 31 Oct 2024 - halloween quest
*
* rem old witch
*
wait 4 s
set target %self.people%
while %target%
  set next_target %target.next_in_room%
  if (%target.vnum% == 25222 || %target.vnum% == 25223)
    %purge% %target%
    %zoneecho% %self.vnum% removing old witch %target.vnum% in room %self.vnum%
  end
  set target %next_target%
done
*
* load a new bitch
*
set bad_witch_chance 75
*
if %random.100% < %bad_witch_chance% || %good_witch% == 1
  %load% mob 25222
  %zoneecho% %self.vnum% loading new bad witch in room %self.vnum%
else
  %load% mob 25223
  set good_witch 1
  global good_witch
  %zoneecho% %self.vnum%loading new good witch in room %self.vnum%
end

>[0;00m
[0mCHECKING: 25168[0m

Name: 'replace one bitch with another witch',  VNum: [25167], RNum: [  914]
Trigger Intended Assignment: Rooms
Trigger Type: Zone Reset , Numeric Arg: 100, Arg list: None
Commands:
*
* 250 Aegon 31 Oct 2024 - halloween quest
*
* rem old witch
*
wait 6 s
set target %self.people%
while %target%
  set next_target %target.next_in_room%
  if (%target.vnum% == 25222 || %target.vnum% == 25223)
    %purge% %target%
    %zoneecho% %self.vnum% removing old witch %target.vnum% in room %self.vnum%
  end
  set target %next_target%
done
*
* load a new bitch
*
set bad_witch_chance 75
*
if %random.100% < %bad_witch_chance% || %good_witch% == 1
  %load% mob 25222
  %zoneecho% %self.vnum% loading new bad witch in room %self.vnum%
else
  %load% mob 25223
  set good_witch 1
  global good_witch
  %zoneecho% %self.vnum%loading new good witch in room %self.vnum%
end

>[0;00m
[0mCHECKING: 25178[0m

Name: 'replace one bitch with another witch',  VNum: [25168], RNum: [  915]
Trigger Intended Assignment: Rooms
Trigger Type: Zone Reset , Numeric Arg: 100, Arg list: None
Commands:
*
* 250 Aegon 31 Oct 2024 - halloween quest
*
* rem old witch
*
wait 8 s
set target %self.people%
while %target%
  set next_target %target.next_in_room%
  if (%target.vnum% == 25222 || %target.vnum% == 25223)
    %purge% %target%
    %zoneecho% %self.vnum% removing old witch %target.vnum% in room %self.vnum%
  end
  set target %next_target%
done
*
* load a new bitch
*
set bad_witch_chance 75
*
if %random.100% < %bad_witch_chance% || %good_witch% == 1
  %load% mob 25222
  %zoneecho% %self.vnum% loading new bad witch in room %self.vnum%
else
  %load% mob 25223
  set good_witch 1
  global good_witch
  %zoneecho% %self.vnum%loading new good witch in room %self.vnum%
end

>[0;00m
Name: 'dt jump scare cauldron room',  VNum: [25178], RNum: [  916]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 10, Arg list: None
Commands:
%echo% You stumble into a boiling cauldron, ending your brief stay in
%echo% Warrim's Haunted House!
%echo%.
%echo% Welcome to JediMUD!
%echo% 0) Exit from JediMud.
%echo% 1) Enter the game.
%echo% 2) Enter description.
%echo% 3) Read the background story.
%echo% 4) Change password.
%echo% 5) Delete this character.
%echo% 6) Check the status of this character.
%echo% 7) Change Email address.
%echo%.
%echo%   Make your choice: 5
%echo%.
%echo%Goodybye.

>[0;00m
[0mCHECKING: 25200[0m

Name: 'the horseman cracks the whip',  VNum: [25200], RNum: [  917]
Trigger Intended Assignment: Rooms
Trigger Type: Zone Reset , Numeric Arg: 100, Arg list: None
Commands:
wait 5 s
%zoneecho% 3001 You hear the distant crack of the Horseman's Whip!  You wet yourself, slightly.
%zoneecho% 12200 You hear the distant crack of the Horseman's Whip!  You wet yourself, slightly.
%zoneecho% 2101 You hear the distant crack of the Horseman's Whip!  You wet yourself, slightly.

>[0;00m
[0mCHECKING: 25201[0m

Name: 'upperlevel',  VNum: [25201], RNum: [  918]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 100, Arg list: None
Commands:
%echo% This trigger commandlist is not complete!

>[0;00m
[0mCHECKING: 25202[0m

Name: 'mazenpcs',  VNum: [25202], RNum: [  919]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
* No Script

>[0;00m
[0mCHECKING: 25204[0m

Name: 'Reversable Trigger - 2024 Halloween Quest Shield',  VNum: [25204], RNum: [  920]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: focus
Commands:
eval temp  %self.extra(INSURED)%
if %cmd% == focus && shield /= %arg%
  if %self.vnum(25272)%
    %transform% 25273
    if %temp%
      %object.insured(on)%
    end
    %send% %actor% You focus your mind, channeling the power of intellect into the shield.
  elseif %self.vnum(25273)%
    %transform% 25272
    if %temp%
      %object.insured(on)%
    end
    %send% %actor% You focus your mind, channeling the power of wisdom into the shield.
  end
else
  return 0
end

>[0;00m
[0mCHECKING: 25210[0m
[0mCHECKING: 25219[0m

Name: 'make a spade or a pick',  VNum: [25210], RNum: [  921]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: make
Commands:
*
* tiered 2024 halloween quest souvenir assembly
*
if %cmd% == make
  if %arg% == spade
    if %actor.has_item(25284)%
      set shovel %actor.inventory(25284)%
      set shovels 0
      while %shovel%
        set next_shovel %shovel.next_in_list%
        eval shovels %shovels% + 1
        set shovel %next_shovel%
      done
      if %shovels% >= 10
        %purge% %actor.inventory(25284)%
        %purge% %actor.inventory(25284)% 
        %purge% %actor.inventory(25284)%
        %purge% %actor.inventory(25284)%
        %purge% %actor.inventory(25284)%
        %purge% %actor.inventory(25284)%
        %purge% %actor.inventory(25284)%
        %purge% %actor.inventory(25284)%
        %purge% %actor.inventory(25284)%
        %purge% %actor.inventory(25284)%
        %load% obj %actor% 25285 inv
        %send% %actor% %self.name.toupper% takes ten of your shovels and replaces them with a spade! 
      else
        %send% %actor% %actor.name%, you don't have enough shovels to make a spade!
        return 1
        halt
      end
    else
      %send% %actor% %actor.name%, you don't have a single shovel.
      return 1
      halt
    end
  elseif %arg% == pick
    if %actor.has_item(25285)%
      set spade %actor.inventory(25285)%
      set spades 0
      while %spade%
        set next_spade %spade.next_in_list%
        eval spades %spades% + 1
        set spade %next_spade%
      done
      if %spades% >= 10
        %purge% %actor.inventory(25285)%
        %purge% %actor.inventory(25285)% 
        %purge% %actor.inventory(25285)%
        %purge% %actor.inventory(25285)%
        %purge% %actor.inventory(25285)%
        %purge% %actor.inventory(25285)%
        %purge% %actor.inventory(25285)%
        %purge% %actor.inventory(25285)%
        %purge% %actor.inventory(25285)%
        %purge% %actor.inventory(25285)%
        %load% obj %actor% 25286 inv
        %send% %actor% %self.name.toupper% takes ten of your spades and replaces them with a pick! 
      else
        %send% %actor% %actor.name%, you don't have enough spades to make a pick!
        return 1
        halt
      end
    else
      %send% %actor% %actor.name%, you don't have a single shovel.
      return 1
      halt
    end
  else
    send %actor% Make what?
  end
end

>[0;00m
[0mCHECKING: 25220[0m

Name: 'noxious mist',  VNum: [25219], RNum: [  922]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 25, Arg list: None
Commands:
set target %self.room.people%
%send% %target% You gag on the evil noxious gas!
%damage% %target% %random.100%

>[0;00m
[0mCHECKING: 25277[0m

Name: 'spawn a good witch',  VNum: [25220], RNum: [  923]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
%load% mob 25225
%teleport% %self.room.people% 25187

>[0;00m
Name: 'check for a shovel, spade or pick',  VNum: [25277], RNum: [  924]
Trigger Intended Assignment: Mobiles
Trigger Type: Leave , Numeric Arg: 100, Arg list: None
Commands:
if %direction% == north
  if ! (%actor.has_item(25284)% || %actor.has_item(25285)% || %actor.has_item(25286))
    %echo% %self.name.toupper% says, '%actor.name%, you'll be needin' sumthin' to dig wit' before ye can enter here, ye twit.'.
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 25278[0m

Name: 'dig grave boss room transport',  VNum: [25278], RNum: [  925]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: dig
Commands:
if %actor.is_pc%
  if %cmd% /= dig 
    if %self.name% /= %arg%
      if %actor.eq(wield)%
        set wield %actor.eq(wield)%
        if (%wield.vnum% == 25284 || %wield.vnum% == 25285 || %wield.vnum% == 25286)
          wait 1 s
          %echo% You dig the headstone.
          wait 1 s
          %echo% A hollow voice moans, 'Beware the ghosts of All Hallows Eve!'
          %teleport% all 25109
          %force% %actor% look
          %echoaround% %actor% arrives.
          %purge% %self%
        else
          %send% %actor% %actor.name%, you'll need to wield that shovel before you can dig up this grave.
          return 1
          halt
        end
      else
        if (%actor.has_item(25284)% || %actor.has_item(25285)% || %actor.has_item(25286)%) 
          %send% %actor% %actor.name%, you'll need to wield that shovel before you can dig up this grave.
        else
          %send% %actor% %actor.name%, you'll need to find a shovel before you can dig here.
        end
        return 1
        halt
      end
    else
      %echo% Dig what?
      return 1
      halt
    end
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 25279[0m

Name: 'dig grave dead end room transport',  VNum: [25279], RNum: [  926]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: dig
Commands:
if %actor.is_pc%
  if %cmd% /= dig 
    if %self.name% /= %arg%
      if %actor.eq(wield)%
        set wield %actor.eq(wield)%
        if (%wield.vnum% == 25284 || %wield.vnum% == 25285 || %wield.vnum% == 25286)
          wait 1 s
          %echo% You dig the headstone.
          wait 1 s
          %echo% A hollow voice moans, 'Beware the ghosts of All Hallows Eve!'
          %teleport% all 25199
          %force% %actor% look
          %echoaround% %actor% arrives.
          %purge% %self%
        else
          %send% %actor% %actor.name%, you'll need to wield that shovel before you can dig up this grave.
          return 1
          halt
        end
      else
        if (%actor.has_item(25284)% || %actor.has_item(25285)% || %actor.has_item(25286)%) 
          %send% %actor% %actor.name%, you'll need to wield that shovel before you can dig up this grave.
        else
          %send% %actor% %actor.name%, you'll need to find a shovel before you can dig here.
        end
        return 1
        halt
      end
    else
      %echo% Dig what?
      return 1
      halt
    end
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 25283[0m

Name: 'ticket transporter',  VNum: [25283], RNum: [  927]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 3, Arg list: use
Commands:
if %cmd% == use
  if %arg% /= ticket
    %echoaround% %actor% %actor.name% suddenly disappears in a cloud of noxious green smoke.
    %teleport% %actor% 25200
    %echoaround% %actor% %actor.name% arrives in a cloud of noxious green smoke.
    %force% %actor% look
    %purge% %self%
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 25298[0m

Name: 'room moves a warrior on entrance',  VNum: [25298], RNum: [  928]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 100, Arg list: None
Commands:
if %findmob.25202(25298)%
if %actor.class%==warrior
wait 1
%send% %actor% A crazed lizard man runs in from the north and grabs you....
%echoaround% %actor% A crazed lizardman enters from the north and grabs %actor.name% before running off
%teleport% %actor% 25202
elseif %actor.class%==cleric
%echo% %actor% A loud crazed shreik from the north sends shivers down your spine.
end
end

>[0;00m
[0mCHECKING: 25299[0m

Name: 'Bull hurts warriors',  VNum: [25299], RNum: [  929]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
wait 1
if %actor.class%==warrior
%send% %actor% A bull charges you and
%echoaround% %actor% %actor.name% is launched across the room as the bull slams into him with full force.
nop %actor.pos(sitting)%
eval all_but_one_hitp %actor.hitp% - 1
if %all_but_one_hitp% > 0
%damage% %actor% %all_but_one_hitp%
end
elseif %actor.class%==cleric
%send% %actor% A bull glances your way and snorts
%echoaround% %actor% %actor.name% glances nervously at the bull.
end

>[0;00m
[0mCHECKING: 25301[0m
[0mCHECKING: 25314[0m

Name: 'Bazalel craftsman speech',  VNum: [25301], RNum: [  930]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 3 sec
   %echo% Bazalel turns to look you in the eye, then says,
   wait 3 sec
   %echo% "Why do all of the merchants see only profit in what we make?
   wait 3 sec
   %echo% Some of what we make can be blended to make something far greater than the sum of its parts."
   wait 3 sec
   %echo% Bazalel sighs, and returns to searching for just the right color.
   wait 25 sec
   %echo% Bazalel kneels in prayer for several minutes, then returns to his work.
   wait 25 sec

>[0;00m
[0mCHECKING: 25331[0m

Name: 'general bunny speech',  VNum: [25314], RNum: [  931]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 15 sec
   %echo% The General looks your way as you approach, his stare appraising.
   wait 10 sec
   %echo% "What do you want, maggot?" he inquires, his good eye narrowing.
   wait 10 sec
   %echo% His lip curls in a slight snarl, showing sharp teeth. "Go on, then. Run along."
   wait 10 sec
   %echo% After a moment, he pauses, his head tilting slightly to the side as he eyes you.
   wait 10 sec
   %echo% "Oh, I see," he says, a sly grin spreading across his face. "You want a fight."
   wait 10 sec
   %echo% "Well, maggot, you've found it."
   wait 10 sec

>[0;00m
[0mCHECKING: 25341[0m

Name: 'Robot Santa speech',  VNum: [25331], RNum: [  932]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 30 sec
   %echo% Santa shouts, "Your mistletoe is no match for my TOW missile!"
   wait 30 sec
   %echo% Santa yells at you, "I'm going to tear off your skin like wrapping paper and deck the halls with your guts!!"
   wait 30 sec
   %echo% Santa cheers, "Ho Ho Ho!  It's time to get jolly on your naughty asses!"
   wait 30 sec
   %echo% Santa claims, "I'm gunna shove coal so far up your stocking, you'll be coughing up diamonds!"
   wait 30 sec

>[0;00m
Name: 'George Bush preseident speech',  VNum: [25341], RNum: [  933]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 25 sec
   %echo% "We will not tire, we will not falter, and we will not fail."
   wait 25 sec
   %echo% "Every nation in every region now has a decision to make. Either you are with us, or you are with the terrorists."
   wait 25 sec
   %echo% "America will never seek a permission slip to defend the security of our people."
   wait 25 sec
   %echo% "We will always remember. We will always be proud. We will always be prepared, so we may always be free."
   wait 25 sec
   %echo% "Leadership to me means duty, honor, country. It means character, and it means listening from time to time."
   wait 25 sec

>[0;00m
[0mCHECKING: 25405[0m

Name: 'Saiwyn speech',  VNum: [25405], RNum: [  934]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 15 sec
   %echo% Siawyn waves his sword in the air and proclaims, 'Give me candy or I'll lay your lands to waste!'

>[0;00m
[0mCHECKING: 25411[0m

Name: 'Tiamat speech',  VNum: [25411], RNum: [  935]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 10 sec
   say 'Trick or treat!'
   wait 30 sec
   %echo% Tiamat stands on tiptoe to peer into your gear, looking for more candy.
   wait 25 sec

>[0;00m
[0mCHECKING: 25420[0m

Name: 'Gingerbread man speech',  VNum: [25420], RNum: [  936]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
* By AP
   wait 5 sec
   say 'Oh no! Some mudders! They're looking for a snack!'
   wait 3 sec
   say 'And this Gingerbread Man, he'll never look back!'
   wait 3 sec
   say 'Run, run, as fast as you can!'
   wait 3 sec
   say 'You can't catch me, I'm the Gingerbread Man!'
   wait 30 sec

>[0;00m
[0mCHECKING: 25500[0m
[0mCHECKING: 25501[0m

Name: 'Spider Speech Trigger',  VNum: [25500], RNum: [  937]
Trigger Intended Assignment: Mobiles
Trigger Type: Random Speech Greet , Numeric Arg: 100, Arg list: None
Commands:
say It's halloween, so there can be only one question.
wait 1s
say Trick or Treat?
wait 10000000s
detach 25500 %self.id%

>[0;00m
[0mCHECKING: 25502[0m

Name: 'Spider Trick Trig Level 1',  VNum: [25501], RNum: [  938]
Trigger Intended Assignment: Mobiles
Trigger Type: Speech Load , Numeric Arg: 100, Arg list: trick
Commands:
detach 25500 %self.id%
eval anumber %random.100%
if %anumber% > 20
%echo% The Small Spider makes no attempt to hide an evil grin
wait 2s
%echo% The Small Spider says, 'I was hoping you'd say that!'
wait 2s
%echo% The Small Spider crawls away.
wait 2s
%load% mob 25502
%echo% The Skeleton says, 'I've got a bone to pick with you!'
%purge% %self%
end
if %anumber% < 21
%load% obj 17932
say What a shame, looks like your fun is over for now.
say Have a token gesture.
Drop all
%echo% The spider scuttles away.
%purge% %self%
end

>[0;00m
[0mCHECKING: 25503[0m

Name: 'Spider Treat Trig Level 1',  VNum: [25502], RNum: [  939]
Trigger Intended Assignment: Mobiles
Trigger Type: Speech Load , Numeric Arg: 100, Arg list: treat
Commands:
detatch 25500 %self.id%
say Aww, you're no fun!
eval anumber %random.100%
if %anumber% > 50
%load% obj 17932
say This time you got lucky
%echo% The spider scuttles away.
drop all
%purge% %self%
end
if %anumber% < 51
say What a shame, looks like we're all out of candy
%echo% The spider scuttles away.
%purge% %self%
end

>[0;00m
[0mCHECKING: 25504[0m

Name: 'Spider Trick Trig Level 2',  VNum: [25503], RNum: [  940]
Trigger Intended Assignment: Mobiles
Trigger Type: Speech Load , Numeric Arg: 100, Arg list: trick
Commands:
detach 25500 %self.id%
eval anumber %random.100%
if %anumber% > 35
%echo% The Small Spider makes no attempt to hide an evil grin
wait 2s
%echo% The Small Spider says, 'I was hoping you'd say that!'
wait 2s
%echo% The Small Spider crawls away.
wait 2s
%load% mob 25504
%echo% The scary clown says, 'Do these shoes make my feet look big?'
%purge% %self%
end
if %anumber% < 36
%load% obj 17932
say What a shame, looks like your fun is over for now.
say Have a token gesture.
Drop all
%echo% The spider scuttles away.
%purge% %self%
end

>[0;00m
Name: 'Spider Treat Trig Level 2',  VNum: [25504], RNum: [  941]
Trigger Intended Assignment: Mobiles
Trigger Type: Speech Load , Numeric Arg: 100, Arg list: treat
Commands:
say Aww, you're no fun!
eval anumber %random.100%
if %anumber% > 50
%load% obj 17933
say This time you got lucky
%echo% The spider scuttles away.
drop all
%purge% %self%
end
if %anumber% <51
say What a shame, looks like we're all out of candy
%echo% The spider scuttles away.
%purge% %self%
end

>[0;00m
[0mCHECKING: 25505[0m

Name: 'Spider Trick Trig Level 3',  VNum: [25505], RNum: [  942]
Trigger Intended Assignment: Mobiles
Trigger Type: Speech Load , Numeric Arg: 100, Arg list: trick
Commands:
detach 25500 %self.id%
eval anumber %random.100%
if %anumber% > 45
%echo% The Small Spider makes no attempt to hide an evil grin
wait 2s
%echo% The Small Spider says, 'I was hoping you'd say that!'
wait 2s
%echo% The Small Spider crawls away.
wait 2s
%load% mob 25505
%echo% Frankenstein's Monster, arms out, gradually lumbers towards you.
%purge% %self%
end
if %anumber% < 46
%load% obj 17933
say What a shame, looks like your fun is over for now.
say Have a token gesture.
Drop all
%echo% The spider scuttles away.
%purge% %self%
end

>[0;00m
[0mCHECKING: 25506[0m

Name: 'Spider Treat Trig Level 3',  VNum: [25506], RNum: [  943]
Trigger Intended Assignment: Mobiles
Trigger Type: Speech Load , Numeric Arg: 100, Arg list: treat
Commands:
say Aww, you're no fun!
eval anumber %random.100%
if %anumber% > 65
%load% 17933
say This time you got lucky
%echo% The spider scuttles away.
drop all
%purge% %self%
end
if %anumber% < 66
say What a shame, looks like we're all out of candy
%echo% The spider scuttles away.
%purge% %self%
end

>[0;00m
[0mCHECKING: 25507[0m

Name: 'Spider Trick Trig Level 4',  VNum: [25507], RNum: [  944]
Trigger Intended Assignment: Mobiles
Trigger Type: Speech Load , Numeric Arg: 100, Arg list: trick
Commands:
detach 25500 %self.id%
eval anumber %random.100%
if %anumber% > 55
%echo% The Small Spider makes no attempt to hide an evil grin
wait 2s
%echo% The Small Spider says, 'I was hoping you'd say that!'
wait 2s
%echo% The Small Spider crawls away.
wait 2s
%load% mob 25507
%echo% Count Dracula swoops down from above.
%purge% %self%
end
if %anumber% < 56
%load% obj 17933
say What a shame, looks like your fun is over for now.
say Have a token gesture.
Drop all
%echo% The spider scuttles away.
%purge% %self%

>[0;00m
[0mCHECKING: 25508[0m

Name: 'Spider Treat Trig Level 4',  VNum: [25508], RNum: [  945]
Trigger Intended Assignment: Mobiles
Trigger Type: Speech Load , Numeric Arg: 100, Arg list: treat
Commands:
say Aww, you're no fun!
eval anumber %random.100%
if %anumber% > 50
%load% obj 17934
say This time you got lucky
%echo% The spider scuttles away.
drop all
%purge% %self%
end
if %anumber% < 51
say What a shame, looks like we're all out of candy
%echo% The spider scuttles away.
%purge% %self%
end

>[0;00m
[0mCHECKING: 25509[0m
[0mCHECKING: 25510[0m

Name: 'Spider Trick Trig Level 5',  VNum: [25509], RNum: [  946]
Trigger Intended Assignment: Mobiles
Trigger Type: Speech Load , Numeric Arg: 100, Arg list: trick
Commands:
detach 25500 %self.id%
eval anumber %random.100%
if %anumber% > 50
%echo% The Small Spider makes no attempt to hide an evil grin
wait 2s
%echo% The Small Spider says, 'I was hoping you'd say that!'
wait 2s
%echo% The Small Spider crawls away.
wait 2s
%load% mob 25509
%echo% 'Would you like a drink?' asks the Sorceress.
%purge% %self%
end
if %anumber% < 51
%load% obj 17933
say What a shame, looks like your fun is over for now.
say Have a token gesture.
Drop all
%echo% The spider scuttles away.
%purge% %self%
end

>[0;00m
[0mCHECKING: 25516[0m

Name: 'Spider Treat Trig Level 5',  VNum: [25510], RNum: [  947]
Trigger Intended Assignment: Mobiles
Trigger Type: Speech Load , Numeric Arg: 100, Arg list: treat
Commands:
ay Aww, you're no fun!
eval anumber %random.100%
if %anumber% > 50
%load% obj 17933
say This time you got lucky
%echo% The spider scuttles away.
drop all
%purge% %self%
end
if %anumber% < 51
say What a shame, looks like we're all out of candy
%echo% The spider scuttles away.
%purge% %self%
end

>[0;00m
[0mCHECKING: 25517[0m

Name: 'sew american flag',  VNum: [25516], RNum: [  948]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: sew
Commands:
* By Hurin - so probably a better way to do it
if %cmd% == sew && %arg% /= american flag && %actor.inventory(25512)% && %actor.inventory(25513)% && %actor.inventory(25514)% && %actor.inventory(25515)% && %actor.inventory(25516)%
%send% %actor% You sew the american flag, unfortunately breaking the sewing kit in the process.
%load% obj 25170 %actor% inv
%purge% %actor.inventory(25512)%
%purge% %actor.inventory(25513)%
%purge% %actor.inventory(25514)%
%purge% %actor.inventory(25515)%
%purge% %actor.inventory(25516)%
else
return 0
end

>[0;00m
Name: 'sew betsy ross',  VNum: [25517], RNum: [  949]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: sew
Commands:
* By Hurin - so probably a better way to do it
if %cmd% == sew && %arg% /= betsy ross && %actor.inventory(25512)% && %actor.inventory(25513)% && %actor.inventory(25514)% && %actor.inventory(25515)% && %actor.inventory(25517)%
%send% %actor% You sew the Betsy Ross American flag, unfortunately breaking the sewing kit in the process.
%load% obj 25511 %actor% inv
%purge% %actor.inventory(25512)%
%purge% %actor.inventory(25513)%
%purge% %actor.inventory(25514)%
%purge% %actor.inventory(25515)%
%purge% %actor.inventory(25517)%
else
return 0
end

>[0;00m
[0mCHECKING: 25518[0m

Name: 'sew star spangled banner',  VNum: [25518], RNum: [  950]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: sew
Commands:
* By Hurin - so probably a better way to do it
if %cmd% == sew && %arg% /= star spangled && %actor.inventory(25512)% && %actor.inventory(25513)% && %actor.inventory(25514)% && %actor.inventory(25515)% && %actor.inventory(25518)%
%send% %actor% You sew the star spangled banner, unfortunately breaking the sewing kit in the process.
%load% obj 25510 %actor% inv
%purge% %actor.inventory(25512)%
%purge% %actor.inventory(25513)%
%purge% %actor.inventory(25514)%
%purge% %actor.inventory(25515)%
%purge% %actor.inventory(25518)%
else
return 0
end

>[0;00m
[0mCHECKING: 25520[0m

Name: 'Emerald dragon Baby to B1',  VNum: [25520], RNum: [  951]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: feed
Commands:
if %cmd% == feed && %arg% /= dragon hamper
if %actor.inventory(25533)% && %actor.inventory(25534)%
%load% obj 25541 %actor% inv
%echoaround% %actor% %actor.name% feeds their dragon.
%send% %actor% You feed your dragon
%send% %actor% Your dragon begins to grow.
%purge% %actor.inventory(25533)%
%purge% %actor.inventory(25534)%
else
%send% %actor% Your dragon seems unimpressed with your offering
end
else
return 0
end

>[0;00m
[0mCHECKING: 25521[0m

Name: 'Emerald dragon B1 to B2',  VNum: [25521], RNum: [  952]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: feed
Commands:
if %cmd% == feed && %arg% /= dragon hamper
if %actor.inventory(25533)% && %actor.inventory(25541)%
%load% obj 25542 %actor% inv
%echoaround% %actor% %actor.name% feeds their dragon.
%send% %actor% You feed your dragon
%send% %actor% Your dragon begins to grow.
%purge% %actor.inventory(25533)%
%purge% %actor.inventory(25541)%
else
%send% %actor% Your dragon seems unimpressed with your offering
end
else
return 0
end

>[0;00m
[0mCHECKING: 25522[0m
[0mCHECKING: 25523[0m

Name: 'Emerald dragon B2 to Small',  VNum: [25522], RNum: [  953]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: feed
Commands:
if %cmd% == feed && %arg% /= dragon hamper
if %actor.inventory(25533)% && %actor.inventory(25542)%
%load% obj 25536 %actor% inv
%echoaround% %actor% %actor.name% feeds their dragon.
%send% %actor% You feed your dragon.
%send% %actor% Your dragon has changed.
%purge% %actor.inventory(25533)%
%purge% %actor.inventory(25542)%
else
%send% %actor% Your dragon seems unimpressed with your offering
end
else
return 0
end

>[0;00m
[0mCHECKING: 25524[0m

Name: 'Emerald dragon small to S1',  VNum: [25523], RNum: [  954]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: feed
Commands:
if %cmd% == feed && %arg% /= dragon hamper
if %actor.inventory(25533)% && %actor.inventory(25536)%
%load% obj 25543 %actor% inv
%echoaround% %actor% %actor.name% feeds their dragon.
%send% %actor% You feed your dragon.
%send% %actor% Your dragon has changed.
%purge% %actor.inventory(25533)%
%purge% %actor.inventory(25536)%
else
%send% %actor% Your dragon seems unimpressed with your offering
end
else
return 0
end

>[0;00m
[0mCHECKING: 25525[0m

Name: 'Emerald dragon S1 to S2',  VNum: [25524], RNum: [  955]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: feed
Commands:
if %cmd% == feed && %arg% /= dragon hamper
if %actor.inventory(25533)% && %actor.inventory(25543)%
%load% obj 25544 %actor% inv
%echoaround% %actor% %actor.name% feeds their dragon.
%send% %actor% You feed your dragon.
%send% %actor% Your dragon has changed.
%purge% %actor.inventory(25533)%
%purge% %actor.inventory(25543)%
else
%send% %actor% Your dragon seems unimpressed with your offering
end
else
return 0
end

>[0;00m
[0mCHECKING: 25526[0m

Name: 'Emerald dragon S2 to Large',  VNum: [25525], RNum: [  956]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: feed
Commands:
if %cmd% == feed && %arg% /= dragon hamper
if %actor.inventory(25533)% && %actor.inventory(25544)%
%load% obj 25538 %actor% inv
%echoaround% %actor% %actor.name% feeds their dragon.
%send% %actor% You feed your dragon.
%send% %actor% Your dragon has changed.
%purge% %actor.inventory(25533)%
%purge% %actor.inventory(25544)%
else
%send% %actor% Your dragon seems unimpressed with your offering
end
else
return 0
end

>[0;00m
Name: 'Emerald Dragon Large to +INT',  VNum: [25526], RNum: [  957]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: feed
Commands:
if %cmd% == feed && %arg% /= dragon treats
if %actor.inventory(25538)% && %actor.inventory(25555)%
%load% obj 25545 %actor% inv
%echoaround% %actor% %actor.name% feeds their dragon a bag of treats.
%echoaround% %actor% %actor.name% gasps as their dragon lets out a mighty roar.
%send% %actor% You feed your dragon a bag of treats.
%send% %actor% With a might roar your dragon matures.
%purge% %actor.inventory(25538)%
%purge% %actor.inventory(25555)%
else
%send% %actor% Your dragon seems unimpressed with your offering
end
else
return 0
end

>[0;00m
[0mCHECKING: 25527[0m

Name: 'Emerald Dragon Large to +WIS',  VNum: [25527], RNum: [  958]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: feed
Commands:
if %cmd% == feed && %arg% /= dragon treats
if %actor.inventory(25538)% && %actor.inventory(25556)%
%load% obj 25546 %actor% inv
%echoaround% %actor% %actor.name% feeds their dragon a bag of treats.
%echoaround% %actor% %actor.name% gasps as their dragon lets out a mighty roar.
%send% %actor% You feed your dragon a bag of treats.
%send% %actor% With a might roar your dragon matures.
%purge% %actor.inventory(25538)%
%purge% %actor.inventory(25556)%
else
%send% %actor% Your dragon seems unimpressed with your offering
end
else
return 0
end

>[0;00m
[0mCHECKING: 25528[0m

Name: 'Emerald Dragon Large to +CHA',  VNum: [25528], RNum: [  959]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: feed
Commands:
if %cmd% == feed && %arg% /= dragon treats
if %actor.inventory(25538)% && %actor.inventory(25554)%
%load% obj 25547 %actor% inv
%echoaround% %actor% %actor.name% feeds their dragon a bag of treats.
%echoaround% %actor% %actor.name% gasps as their dragon lets out a mighty roar.
%send% %actor% You feed your dragon a bag of treats.
%send% %actor% With a might roar your dragon matures.
%purge% %actor.inventory(25538)%
%purge% %actor.inventory(25554)%
else
%send% %actor% Your dragon seems unimpressed with your offering
end
else
return 0
end

>[0;00m
[0mCHECKING: 25529[0m

Name: 'Hatch egg mana',  VNum: [25529], RNum: [  960]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: gently
Commands:
if %cmd% == gently && %arg% /= heat egg
if %actor.inventory(25530)% && %actor.inventory(25532)%
%load% obj 25534 %actor% inv
%echoaround% %actor% %actor.name% starts to gently warm their dragon egg.
%echoaround% %actor% As the egg begins to crack a tiny emerald claw appears.
%send% %actor% You begin to gently warm your dragon egg.
%send% %actor% A crack appears in the egg, followed by a tiny emerald claw.
%send% %actor% A large piece of shell breaks away as the cutest little dragon appears.
%purge% %actor.inventory(25532)%
%purge% %actor.inventory(25530)%
else
%send% %actor% Your egg isnt going to heat itself.
end
else
return 0
end

>[0;00m
[0mCHECKING: 25530[0m

Name: 'Hatch egg dam',  VNum: [25530], RNum: [  961]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: gently
Commands:
if %cmd% == gently && %arg% /= heat egg
if %actor.inventory(25531)% && %actor.inventory(25532)%
%load% obj 25535 %actor% inv
%echoaround% %actor% %actor.name% starts to gently warm their dragon egg.
%echoaround% %actor% As the egg begins to crack a tiny emerald claw appears.
%send% %actor% You begin to gently warm your dragon egg.
%send% %actor% A crack appears in the egg, followed by a tiny emerald claw.
%send% %actor% A large piece of shell breaks away as the cutest little dragon appears.
%purge% %actor.inventory(25532)%
%purge% %actor.inventory(25531)%
else
%send% %actor% Your egg isnt going to heat itself.
end
else
return 0
end

>[0;00m
[0mCHECKING: 25531[0m
[0mCHECKING: 25532[0m

Name: 'Obsidian dragon Baby to B1',  VNum: [25531], RNum: [  962]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: feed
Commands:
if %cmd% == feed && %arg% /= dragon hamper
if %actor.inventory(25533)% && %actor.inventory(25535)%
%load% obj 25558 %actor% inv
%echoaround% %actor% %actor.name% feeds their dragon.
%send% %actor% You feed your dragon
%send% %actor% Your dragon begins to grow.
%purge% %actor.inventory(25533)%
%purge% %actor.inventory(25535)%
else
%send% %actor% Your dragon seems unimpressed with your offering
end
else
return 0
end

>[0;00m
[0mCHECKING: 25533[0m

Name: 'Obsidian dragon B1 to B2',  VNum: [25532], RNum: [  963]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: feed
Commands:
if %cmd% == feed && %arg% /= dragon hamper
if %actor.inventory(25533)% && %actor.inventory(25558)%
%load% obj 25559 %actor% inv
%echoaround% %actor% %actor.name% feeds their dragon.
%send% %actor% You feed your dragon
%send% %actor% Your dragon begins to grow.
%purge% %actor.inventory(25533)%
%purge% %actor.inventory(25558)%
else
%send% %actor% Your dragon seems unimpressed with your offering
end
else
return 0
end

>[0;00m
Name: 'Obsidian dragon B2 to Small',  VNum: [25533], RNum: [  964]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: feed
Commands:
if %cmd% == feed && %arg% /= dragon hamper
if %actor.inventory(25533)% && %actor.inventory(25559)%
%load% obj 25537 %actor% inv
%echoaround% %actor% %actor.name% feeds their dragon.
%send% %actor% You feed your dragon.
%send% %actor% Your dragon has changed.
%purge% %actor.inventory(25533)%
%purge% %actor.inventory(25559)%
else
%send% %actor% Your dragon seems unimpressed with your offering
end
else
return 0
end

>[0;00m
[0mCHECKING: 25534[0m

Name: 'Obsidian dragon Small to S1',  VNum: [25534], RNum: [  965]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: feed
Commands:
if %cmd% == feed && %arg% /= dragon hamper
if %actor.inventory(25533)% && %actor.inventory(25537)%
%load% obj 25560 %actor% inv
%echoaround% %actor% %actor.name% feeds their dragon.
%send% %actor% You feed your dragon
%send% %actor% Your dragon begins to grow.
%purge% %actor.inventory(25533)%
%purge% %actor.inventory(25537)%
else
%send% %actor% Your dragon seems unimpressed with your offering
end
else
return 0
end

>[0;00m
[0mCHECKING: 25535[0m

Name: 'Obsidian dragon S1 to S2',  VNum: [25535], RNum: [  966]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: feed
Commands:
if %cmd% == feed && %arg% /= dragon hamper
if %actor.inventory(25533)% && %actor.inventory(25560)%
%load% obj 25561 %actor% inv
%echoaround% %actor% %actor.name% feeds their dragon.
%send% %actor% You feed your dragon
%send% %actor% Your dragon begins to grow.
%purge% %actor.inventory(25533)%
%purge% %actor.inventory(25560)%
else
%send% %actor% Your dragon seems unimpressed with your offering
end
else
return 0
end

>[0;00m
[0mCHECKING: 25536[0m

Name: 'Obsidian dragon S2 to Large',  VNum: [25536], RNum: [  967]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: feed
Commands:
if %cmd% == feed && %arg% /= dragon hamper
if %actor.inventory(25533)% && %actor.inventory(25561)%
%load% obj 25539 %actor% inv
%echoaround% %actor% %actor.name% feeds their dragon.
%send% %actor% You feed your dragon.
%send% %actor% Your dragon has changed.
%purge% %actor.inventory(25533)%
%purge% %actor.inventory(25561)%
else
%send% %actor% Your dragon seems unimpressed with your offering
end
else
return 0
end

>[0;00m
[0mCHECKING: 25537[0m

Name: 'Obsidian Dragon Large to +INT',  VNum: [25537], RNum: [  968]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: feed
Commands:
if %cmd% == feed && %arg% /= dragon treats
if %actor.inventory(25539)% && %actor.inventory(25555)%
%load% obj 25549 %actor% inv
%echoaround% %actor% %actor.name% feeds their dragon a bag of treats.
%echoaround% %actor% %actor.name% gasps as their dragon lets out a mighty roar.
%send% %actor% You feed your dragon a bag of treats.
%send% %actor% With a might roar your dragon matures.
%purge% %actor.inventory(25539)%
%purge% %actor.inventory(25555)%
else
%send% %actor% Your dragon seems unimpressed with your offering
end
else
return 0
end

>[0;00m
[0mCHECKING: 25538[0m

Name: 'Obsidian Dragon Large to +WIS',  VNum: [25538], RNum: [  969]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: feed
Commands:
if %cmd% == feed && %arg% /= dragon treats
if %actor.inventory(25539)% && %actor.inventory(25556)%
%load% obj 25548 %actor% inv
%echoaround% %actor% %actor.name% feeds their dragon a bag of treats.
%echoaround% %actor% %actor.name% gasps as their dragon lets out a mighty roar.
%send% %actor% You feed your dragon a bag of treats.
%send% %actor% With a might roar your dragon matures.
%purge% %actor.inventory(25539)%
%purge% %actor.inventory(25556)%
else
%send% %actor% Your dragon seems unimpressed with your offering
end
else
return 0
end

>[0;00m
[0mCHECKING: 25539[0m
[0mCHECKING: 25540[0m

Name: 'Obsidian Dragon Large to +STR',  VNum: [25539], RNum: [  970]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: feed
Commands:
if %cmd% == feed && %arg% /= dragon treats
if %actor.inventory(25539)% && %actor.inventory(25557)%
%load% obj 25550 %actor% inv
%echoaround% %actor% %actor.name% feeds their dragon a bag of treats.
%echoaround% %actor% %actor.name% gasps as their dragon lets out a mighty roar.
%send% %actor% You feed your dragon a bag of treats.
%send% %actor% With a might roar your dragon matures.
%purge% %actor.inventory(25539)%
%purge% %actor.inventory(25557)%
else
%send% %actor% Your dragon seems unimpressed with your offering
end
else
return 0
end

>[0;00m
[0mCHECKING: 25541[0m

Name: 'Obsidian Dragon Large to +DEX',  VNum: [25540], RNum: [  971]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: feed
Commands:
if %cmd% == feed && %arg% /= dragon treats
if %actor.inventory(25539)% && %actor.inventory(25553)%
%load% obj 25551 %actor% inv
%echoaround% %actor% %actor.name% feeds their dragon a bag of treats.
%echoaround% %actor% %actor.name% gasps as their dragon lets out a mighty roar.
%send% %actor% You feed your dragon a bag of treats.
%send% %actor% With a might roar your dragon matures.
%purge% %actor.inventory(25539)%
%purge% %actor.inventory(25553)%
else
%send% %actor% Your dragon seems unimpressed with your offering
end
else
return 0
end

>[0;00m
[0mCHECKING: 25542[0m

Name: 'Obsidian Dragon Large to +CHA',  VNum: [25541], RNum: [  972]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: feed
Commands:
if %cmd% == feed && %arg% /= dragon treats
if %actor.inventory(25539)% && %actor.inventory(25554)%
%load% obj 25552 %actor% inv
%echoaround% %actor% %actor.name% feeds their dragon a bag of treats.
%echoaround% %actor% %actor.name% gasps as their dragon lets out a mighty roar.
%send% %actor% You feed your dragon a bag of treats.
%send% %actor% With a might roar your dragon matures.
%purge% %actor.inventory(25539)%
%purge% %actor.inventory(25554)%
else
%send% %actor% Your dragon seems unimpressed with your offering
end
else
return 0
end

>[0;00m
Name: 'Both Large Dragons to +WIS',  VNum: [25542], RNum: [  973]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: feed
Commands:
if %cmd% == feed && %arg% /= dragon treats
if %actor.inventory(25539)% && %actor.inventory(25556)%
%load% obj 25548 %actor% inv
%echoaround% %actor% %actor.name% feeds their dragon a bag of treats.
%echoaround% %actor% %actor.name% gasps as their dragon lets out a mighty roar.
%send% %actor% You feed your dragon a bag of treats.
%send% %actor% With a might roar your dragon matures.
%purge% %actor.inventory(25539)%
%purge% %actor.inventory(25556)%
else
if %cmd% == feed && %arg% /= dragon treats
if %actor.inventory(25538)% && %actor.inventory(25556)%
%load% obj 25546 %actor% inv
%echoaround% %actor% %actor.name% feeds their dragon a bag of treats.
%echoaround% %actor% %actor.name% gasps as their dragon lets out a mighty roar.
%send% %actor% You feed your dragon a bag of treats.
%send% %actor% With a might roar your dragon matures.
%purge% %actor.inventory(25556)%
%purge% %actor.inventory(25538)%
else
%send% %actor% Your dragon seems unimpressed with your offering
end
else
return 0
end

>[0;00m
[0mCHECKING: 25543[0m

Name: 'Both Large Dragons to +INT',  VNum: [25543], RNum: [  974]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: feed
Commands:
if %cmd% == feed && %arg% /= dragon treats
if %actor.inventory(25539)% && %actor.inventory(25555)%
%load% obj 25545 %actor% inv
%echoaround% %actor% %actor.name% feeds their dragon a bag of treats.
%echoaround% %actor% %actor.name% gasps as their dragon lets out a mighty roar.
%send% %actor% You feed your dragon a bag of treats.
%send% %actor% With a might roar your dragon matures.
%purge% %actor.inventory(25539)%
%purge% %actor.inventory(25555)%
else
if %cmd% == feed && %arg% /= dragon treats
if %actor.inventory(25538)% && %actor.inventory(25555)%
%load% obj 25549 %actor% inv
%echoaround% %actor% %actor.name% feeds their dragon a bag of treats.
%echoaround% %actor% %actor.name% gasps as their dragon lets out a mighty roar.
%send% %actor% You feed your dragon a bag of treats.
%send% %actor% With a might roar your dragon matures.
%purge% %actor.inventory(25538)%
%purge% %actor.inventory(25555)%
else
%send% %actor% Your dragon seems unimpressed with your offering
end
else
return 0
end

>[0;00m
[0mCHECKING: 25544[0m

Name: 'Both Large Dragons to +CHA',  VNum: [25544], RNum: [  975]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: feed
Commands:
if %cmd% == feed && %arg% /= dragon treats
if %actor.inventory(25539)% && %actor.inventory(25554)%
%load% obj 25552 %actor% inv
%echoaround% %actor% %actor.name% feeds their dragon a bag of treats.
%echoaround% %actor% %actor.name% gasps as their dragon lets out a mighty roar.
%send% %actor% You feed your dragon a bag of treats.
%send% %actor% With a might roar your dragon matures.
%purge% %actor.inventory(25539)%
%purge% %actor.inventory(25554)%
else
if %cmd% == feed && %arg% /= dragon treats
if %actor.inventory(25538)% && %actor.inventory(25554)%
%load% obj 25547 %actor% inv
%echoaround% %actor% %actor.name% feeds their dragon a bag of treats.
%echoaround% %actor% %actor.name% gasps as their dragon lets out a mighty roar.
%send% %actor% You feed your dragon a bag of treats.
%send% %actor% With a might roar your dragon matures.
%purge% %actor.inventory(25538)%
%purge% %actor.inventory(25554)%
else
%send% %actor% Your dragon seems unimpressed with your offering
end
else
return 0
end

>[0;00m
[0mCHECKING: 25545[0m

Name: 'Pumpkin Speech Trigger Halloween 2021',  VNum: [25545], RNum: [  976]
Trigger Intended Assignment: Mobiles
Trigger Type: Random Speech Greet , Numeric Arg: 100, Arg list: None
Commands:
say It's halloween, so there can be only one question.
wait 1s
say Trick or Treat?
wait 10000000s
detach 25545 %self.id%

>[0;00m
[0mCHECKING: 25546[0m

Name: 'Pumpkin Trick Trig Level 1',  VNum: [25546], RNum: [  977]
Trigger Intended Assignment: Mobiles
Trigger Type: Speech Load , Numeric Arg: 100, Arg list: trick
Commands:
detach 25545 %self.id%
eval anumber %random.100%
if %anumber% > 20
%echo% The Large Pumpkin makes no attempt to hide an evil grin
wait 2s
%echo% The Large Pumpkin says, 'I was hoping you'd say that!'
wait 2s
%echo% The Large Pumpkin vanishes before your very eyes.
wait 2s
%load% mob 25525
%echo% The Bride of Frankenstein says, "Oh thank you! ...but I'm afraid I'm already married."
%purge% %self%
end
if %anumber% < 21
%load% obj 17932
say What a shame, looks like your fun is over for now.
say Have a token gesture.
Drop all
%echo% The Large Pumpkin explodes. What a mess!
%purge% %self%
end

>[0;00m
[0mCHECKING: 25547[0m
[0mCHECKING: 25548[0m

Name: 'Pumpkin Treat Trig Level 1',  VNum: [25547], RNum: [  978]
Trigger Intended Assignment: Mobiles
Trigger Type: Speech Load , Numeric Arg: 100, Arg list: treat
Commands:
detatch 25545 %self.id%
say Aww, you're no fun!
eval anumber %random.100%
if %anumber% > 50
%load% obj 17932
say This time you got lucky
%echo% The Large Pumpkin vanishes before your very eyes.
drop all
%purge% %self%
end
if %anumber% < 51
say What a shame, looks like we're all out of candy
%echo% The Large Pumpkin explodes. What a mess!
%purge% %self%
end

>[0;00m
[0mCHECKING: 25549[0m

Name: 'Pumpkin Trick Trig Level 2',  VNum: [25548], RNum: [  979]
Trigger Intended Assignment: Mobiles
Trigger Type: Speech Load , Numeric Arg: 100, Arg list: trick
Commands:
detach 25545 %self.id%
eval anumber %random.100%
if %anumber% > 35
%echo% The Large Pumpkin makes no attempt to hide an evil grin
wait 2s
%echo% The Large Pumpkin says, 'I was hoping you'd say that!'
wait 2s
%echo% The Large Pumpkin bounces away.
wait 2s
%load% mob 25526
%echo% Imhotep the Mummy says, "Anck-su-namun!"
%purge% %self%
end
if %anumber% < 36
%load% obj 17932
say What a shame, looks like your fun is over for now.
say Have a token gesture.
Drop all
%echo% The Large Pumpkin bounces away.
%purge% %self%
end

>[0;00m
[0mCHECKING: 25550[0m

Name: 'Pumpkin Treat Trig Level 2',  VNum: [25549], RNum: [  980]
Trigger Intended Assignment: Mobiles
Trigger Type: Speech Load , Numeric Arg: 100, Arg list: treat
Commands:
say Aww, you're no fun!
eval anumber %random.100%
if %anumber% > 50
%load% obj 17933
say This time you got lucky
%echo% The Large Pumpkin bounces away.
drop all
%purge% %self%
end
if %anumber% <51
say What a shame, looks like we're all out of candy
%echo% The Large Pumpkin explodes. What a mess!
%purge% %self%
end

>[0;00m
Name: 'Pumpkin Trick Trig Level 3',  VNum: [25550], RNum: [  981]
Trigger Intended Assignment: Mobiles
Trigger Type: Speech Load , Numeric Arg: 100, Arg list: trick
Commands:
detach 25545 %self.id%
eval anumber %random.100%
if %anumber% > 45
%echo% The Large Pumpkin bounces with utter delight.
wait 2s
%echo% The Large Pumpkin says, 'I was hoping you'd say that!'
wait 2s
%echo% The Large Pumpkin crawls away.
wait 2s
%load% mob 25527
%echo% You suddenly feel an urge to go to sleep.
%purge% %self%
end
if %anumber% < 46
%load% obj 17933
say What a shame, looks like your fun is over for now.
say Have a token gesture.
Drop all
%echo% The Large Pumpkin explodes. Clean up aisle 4!
%purge% %self%
end

>[0;00m
[0mCHECKING: 25551[0m

Name: 'Pumpkin Treat Trig L3',  VNum: [25551], RNum: [  982]
Trigger Intended Assignment: Mobiles
Trigger Type: Speech Load , Numeric Arg: 100, Arg list: treat
Commands:
say Aww, you're no fun!
eval anumber %random.100%
if %anumber% > 65
%load% 17933
say This time you got lucky
%echo% The Large Pumpkin bounces away.
drop all
%purge% %self%
end
if %anumber% < 66
say What a shame, looks like we're all out of candy
%echo% The Large Pumpkin explodes, all over your clean-ish shirt.
%purge% %self%
end

>[0;00m
[0mCHECKING: 25552[0m

Name: 'Pumpkin Trick Trig L4',  VNum: [25552], RNum: [  983]
Trigger Intended Assignment: Mobiles
Trigger Type: Speech Load , Numeric Arg: 100, Arg list: trick
Commands:
detach 25545 %self.id%
eval anumber %random.100%
if %anumber% > 55
%echo% The Large Pumpkin makes no attempt to hide an evil grin
wait 2s
%echo% The Large Pumpkin says, 'I was hoping you'd say that!'
wait 2s
%echo% The Large Pumpkin bounces away.
wait 2s
%load% mob 25528
%echo% Something begins to emerge from the murky waters.
%purge% %self%
end
if %anumber% < 56
%load% obj 17933
say What a shame, looks like your fun is over for now.
say Have a token gesture.
Drop all
%echo% A Large Pumpkin attempts to explode, but fails. Phew!
%purge% %self%
end

>[0;00m
[0mCHECKING: 25553[0m

Name: 'Pumpkin Treat Trig L4',  VNum: [25553], RNum: [  984]
Trigger Intended Assignment: Mobiles
Trigger Type: Speech Load , Numeric Arg: 100, Arg list: treat
Commands:
say Aww, you're no fun!
eval anumber %random.100%
if %anumber% > 50
%load% obj 17934
say This time you got lucky
%echo% The Large Pumpkin bounces away.
drop all
%purge% %self%
end
if %anumber% < 51
say What a shame, looks like we're all out of candy
%echo% The Large Pumpkin bounces away.
%purge% %self%
end

>[0;00m
[0mCHECKING: 25554[0m

Name: 'Pumpkin Trick Trig L5',  VNum: [25554], RNum: [  985]
Trigger Intended Assignment: Mobiles
Trigger Type: Speech Load , Numeric Arg: 100, Arg list: trick
Commands:
detach 25545 %self.id%
eval anumber %random.100%
if %anumber% > 50
%echo% The Large Pumpkin makes no attempt to hide an evil grin
wait 2s
%echo% The Large Pumpkin says, 'I was hoping you'd say that!'
wait 2s
%echo% The Large Pumpkin bounces away.
wait 2s
%load% mob 25529
%echo% An eerie howl sends shivers down your spine.
%purge% %self%
end
if %anumber% < 51
%load% obj 17933
say What a shame, looks like your fun is over for now.
say Have a token gesture.
Drop all
%echo% The Large Pumpkin explodes like only an exploding pumpkin could.
%purge% %self%
end

>[0;00m
[0mCHECKING: 25555[0m

Name: 'Pumpkin Treat Trig L5',  VNum: [25555], RNum: [  986]
Trigger Intended Assignment: Mobiles
Trigger Type: Speech Load , Numeric Arg: 100, Arg list: treat
Commands:
say Aww, you're no fun!
eval anumber %random.100%
if %anumber% > 50
%load% obj 17933
say This time you got lucky
%echo% The Large Pumpkin bounces away.
drop all
%purge% %self%
end
if %anumber% < 51
say What a shame, looks like we're all out of candy
%echo% The Large Pumpkin fails to detonate.
%purge% %self%
end

>[0;00m
[0mCHECKING: 25556[0m
[0mCHECKING: 35000[0m

Name: 'Exchange bronze for silver qp',  VNum: [25556], RNum: [  987]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 100, Arg list: exchange
Commands:
if %cmd% == exchange && %arg% /= bronze silver && %actor.inventory(17932)%
set num_BronzeQP 0
set i %actor.inventory%
while %i%
if %i.vnum% == 17932
eval num_BronzeQP %num_BronzeQP% + 1
set next %i.next_in_list%
else
set next %i.next_in_list%
end
set i %next%
done
if %num_BronzeQP% > 4
%send% %actor% You exchange 5 bronze tokens for a silver token.
set n 5
while (%n%>0)
%purge% %actor.inventory(17932)%
%purge% %actor.inventory(17932)%
%purge% %actor.inventory(17932)%
%purge% %actor.inventory(17932)%
%purge% %actor.inventory(17932)%
%load% obj 17933 %actor% inv
else
if %num_BronzeQP% < 5 %send %actor% You don't have enough bronze token to exchange to a silver token
end
end

>[0;00m
[0mCHECKING: 35001[0m

Name: 'second_chances',  VNum: [35000], RNum: [  988]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
*
* 042023 Aegon 350 Ice Fortress
*
set group_list
set group_size 1
set chance 0
set base_chance 3
set vnum 35111
*
set room %self.room%
set target_char %room.people%
* wait 2 s
%echo% room occupants:
while %target_char%
  set next_target %target_char.next_in_room%
  %echo% processing char: %target_char.name%
  if %target_char.follower%
    %echo% is a leader
  elseif %target_char.master%
    %echo% is a member of %target_char.master.name%'s group
    set group_list %group_list% %target_char.name%
    eval group_size %group_size% + 1      
  else
    if %target_char.name%
      %echo% is a detached room occupant
    else
      %echo% is an immortal
    end
  end
  set target_char %next_target%
done
%echo% group size: %group_size%
if %group_list% /= %actor.name%
  if %group_size% > 2
    eval chance %base_chance% + (%group_size% - 2)
    %echo% chance: %chance%
    if %random.100% <= %chance%
      %load% obj %vnum%
      %echo% Before %self.shortdesc% takes its last breath, it drops something!%
    end
  end
end

>[0;00m
[0mCHECKING: 35002[0m

Name: 'bridge_collapse',  VNum: [35001], RNum: [  989]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 1, Arg list: None
Commands:
*
* 052022 Aegon 350 Ice Fortress
*
if %actor.is_pc%
  if %direction% == south
    wait 1 s
    %zoneecho% %self.vnum% As a heavily laden party crosses the narrow ice span, the bridge to the fortress collapses!
    %echoaround% %actor% To attempt to re-cross the bridge now would mean certain death.
    %door% 35028 south room 35167
    %door% 35028 south description The narrow ice bridge has fallen away into the depths of the mist-shrouded gorge.
    %door% 35084 northwest room 35167
    %door% 35084 northwest description The narrow ice bridge has fallen away into the depths of the mist-shrouded gorge.
  end
end

>[0;00m
Name: 'taunting_call',  VNum: [35002], RNum: [  990]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 4, Arg list: None
Commands:
*
* 052022 Aegon 350 Ice Fortress
*
* Random triggers do not have actors so we must define one.
* set actor %random.char%
*
set speaks_gyrgyle 0
if %actor.varexists(subjects)%
  if %actor.subjects% /= gyrgyle
    set speaks_gyrgyle 1
  end
end
*
if %actor.is_pc%
  set max %random.15%
  set mob[1] razakani
  set mob[2] kasraza
  set mob[3] martkza
  set mob[4] manananii
  set mob[5] panakala
  set mob[6] dajdaj
  set mob[7] banatak
  set mob[8] jazaraki
  set mob[9] kazirasch
  set mob[10] ul-jaza
  set mob[11] razakasch
  set mob[12] bajj-baji
  set mob[13] taki-taki
  set mob[14] nankarza
  set mob[15] uzarazaka
  *
  set mob %%mob[%max%]%%
  eval mob %mob%
  *
  set max %random.11%
  *
  if (%actor.has_item(35102)% || %speaks_gyrgyle%)
    set txt[1] You will be the last of your name!  Prepare to grovel in your shame, coward!
    set txt[2] Your frozen corpse will soon join my eternal legion of the undead!  
    set txt[3] Drop to your knees, puny fool, and proclaim your service to the Ice Goddess Razakasch!
    set txt[4] Find your way to me %actor.class%... hurry, the ritual begins, and I require a sacrifice!
    set txt[5] There will be no limit to the depths and duration of pain that I will subject you to, wurm!
    set txt[6] You cannot hide your truth from me, %actor.class%.  You cannot hide.
    set txt[7] Tear out your heart, mortal, tear out your heart and save me the trouble!
    set txt[8] You will not see us, %actor.name%, when we come for you.  We are the quick death of frost and ice!
    set txt[9] We would not waste your skill, %actor.name%, in blood and ice.  Join me, join us, before it is too late!
    set txt[10] I am your master, %actor.name%, and either you follow me into the frozen darkness,  or be lost to the fabric of the Force.
    set txt[11] Worship me, die for me, give up your mortal skin for those who have bled, who will bleed for eternity into these frozen wastes.
  else
    set txt[1] Ka ur-azkd iz ur-az ul-kazak raza dak!   Darzh-ur kul raza ur-aza fazh-dun kaz!
    set txt[2] Ssururu paz ur-kazuru sana puz uk-ur danja fur-uk yor un-daz kur!
    set txt[3] Ang-kur nuk forkasz pek ur-kaz dor tororkul Razakasch Uk-zarazul!
    set txt[4] Parzakaza dar-ugh ur %actor.class%-il ke urzkgh-sororon tor kaz ud-mezar tor!
    set txt[5] Urg-il toromon tar-ugh gaz parator-il ugh ur-taz targ war daz!
    set txt[6] Yurkaz toronor pankat tor-ugh ur az %actor.class%-al ugh taragazat!
    set txt[7] Kor-ughaz il-uk parka-ur tor parka-urtor  il daz kar!
    set txt[8] Ur-ugh kar tal-il to marazani tur %actor.name%-tol par daz kasch!
    set txt[9] Tar pen-urgh-uk il daramaza pent %actor.name%-il por karazada!
    set txt[10] Haj-ask kur ammon %actor.name%!  Urdaz kar paramaza pent daz!
    set txt[11] Pazarak adj!  Corazak adj!  Or-dul ugh-az pamara san-urh dak!
  end
  set txt %%txt[%max%]%%
  eval txt %txt%
  %force% %mob% tell %actor.name% %txt%!
end

>[0;00m
[0mCHECKING: 35003[0m

Name: 'vampire_chamber',  VNum: [35003], RNum: [  991]
Trigger Intended Assignment: Rooms
Trigger Type: Random , Numeric Arg: 50, Arg list: None
Commands:
*
* 052022 Aegon 350 Ice Fortress
*
eval target_char %self.people%
while %target_char%
  set target_tmp %target_char.next_in_room%
  set actor %target_char%
  if %actor.is_pc%
    if %actor.align% > -350
      set rand_hp %random.50%
      if %actor.hitp% <= (%actor.maxhitp% - %rand_hp%)
        eval new_align %actor.align% - %rand_hp%
        nop %actor.hitp(%rand_hp%)%
        nop %actor.align(%new_align%)%
        if %random.100% < 10
          %send% %actor% Your soul crawls toward the frozen horizon...
        end
      end
    end
  end
  set target_char %target_tmp%
done

>[0;00m
[0mCHECKING: 35004[0m

Name: 'I am the Walrus',  VNum: [35004], RNum: [  992]
Trigger Intended Assignment: Objects
Trigger Type: Get , Numeric Arg: 100, Arg list: None
Commands:
*
* 052022 Aegon 350 Ice Fortress
*
if %actor.is_pc%
if %actor.has_item(35102)%
    %force% banatak tell %actor.name% I am the succubus mortal wurm!  Bring the ring to me!
  else
    %force% banatak tell %actor.name% Ke yarngh-kal sasdz wrrz!  Bnkakanta-uk urgh sadz-il!
  end
  return 1
end

>[0;00m
[0mCHECKING: 35005[0m

Name: 'diagon alley key',  VNum: [35005], RNum: [  993]
Trigger Intended Assignment: Objects
Trigger Type: Consume , Numeric Arg: 0, Arg list: None
Commands:
*
* 052022 Aegon 350 Ice Fortress
* 071024  reload cake after eating
* 103124 make sure you're outside the shop
*
if %actor.is_pc%
  if %self.room.vnum% == 35034
    %send% %actor% As you take your first bite of this delicious pastry, you suddenly fall toward the 
    %send% %actor% hard ice floor!  You haven't fallen, exactly, you've just shrunk in size so you can
    %send% %actor% fit through the opening in the wall before you!
    %echoaround% %actor% As %actor.name% swallows the first bite of the cake, 
    %echoaround% %actor% %actor.heshe% shrinks to a fraction of %actor.hisher% size and disappears
    %echoaround% %actor% through a hole in the north wall!
    %teleport% %actor% 35122
    %echoaround% %actor% arrives.
    %force% %actor% look
    %load% obj %self.vnum% %se;f/room.vnum%
  end
end

>[0;00m
[0mCHECKING: 35006[0m

Name: 'empty_stomach',  VNum: [35006], RNum: [  994]
Trigger Intended Assignment: Objects
Trigger Type: Get , Numeric Arg: 100, Arg list: None
Commands:
*
* 052022 Aegon 350 Ice Fortress
*
if %actor.hunger% > 12
  eval new_hunger %actor.hunger% - 12
  nop  %actor.hunger(%new_hunger%)%
end

>[0;00m
[0mCHECKING: 35007[0m

Name: 'trap damage',  VNum: [35007], RNum: [  995]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: unl
Commands:
*
* 052022 Aegon 350 Ice Fortress
*
* This is a room trigger to accommodate doors
*
if %actor.is_pc%
  if %cmd% /= unl &&  (%arg% /= chest || %arg% /= door || %arg% /= foot || %arg% /= panel )
    if %actor.skill(pick lock)% > 90 && %actor.int% > 17
      %echoaround% %actor% %actor.name% expertly disarms the %self.name.car%!
      %send% %actor% You have disarmed the trapped %self.name.car%!
      detach 35007 %self.id%
      return 0
      halt
    else
      %send% %actor% You sprung a trap!
      %echoaround% %actor% %actor.name% has sprung a lock trap!
      eval trapdamage %%random.%actor.maxhitp%%
      %damage% %actor% %trapdamage%
      return 1
      halt
    end
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 35008[0m
[0mCHECKING: 35009[0m

Name: 'free_phenia',  VNum: [35008], RNum: [  996]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 7, Arg list: pick
Commands:
*
* 052022 Aegon 350 Ice Fortress
* 062124 Aegon                          - fix dialogue
*
set wait 5
*
if %actor.is_pc%
  if (%cmd% == pick) && (%arg% /= lock || %arg% /= chain || %arg% /= shackle || %arg% /= manacle )
    if %actor.has_item(35128)% || (%actor.class% == T && %actor.dex% > 22)
      if %actor.has_item(35128)%
        %echo% %actor.name% inserts a sliver of metal into the manacle lock,
      else
        %echo% %actor.name% produces a trusty lockpick and inserts it into the manacle lock,
      end
      %echo% and as %actor.heshe% gives it a slight twist, the manacle opens!
      wait %wait% s
      %echo% Phenia stands, brushing off the indignity of her capture, and after a moment, gathers herself, and salutes %actor.name%.
      wait %wait% s
      %echo% Her eyes narrow as she studies %actor.name% closely.
      wait %wait% s
      say %actor.name%, I must return to my airship, the Red Gryphon.  Thank you.
      wait %wait% s
      %echo% With a taut smile, she turns and slips out through the open cell door.
      wait %wait% s
      %load% mob 35088
      * captain phenia mob
      %teleport% phenia 35094
      %at% 35094 %echo% The door is opened from the other side.
      wait %wait% s
      %at% 35094 %echo% Phenia, Captain of the Red Gryphon, arrives.
      wait %wait% s
      %purge% %self%
    else
      if %actor.class% == Thief
        %send% %actor% Try as you might, you can't seem to trip the mechanism.
      else
        %send% %actor% You need a tool, like a lockpick, to trip the lock mechanism.
      end
      wait %wait% s
      %echo% The wretch looks at you imploringly, hoping you can free her.
      return 0
      halt
    end
  else
    %send% %actor% What do you want to pick?
    return 0
  end
end

>[0;00m
[0mCHECKING: 35010[0m

Name: 'tallins_plea',  VNum: [35009], RNum: [  997]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
*
* 050122 Aegon 350 Ice Fortress
*
if %actor.is_pc%
  if %actor.align% >= 350
    wait 2 sec
    if %self.room.vnum% == 35093
      whisper %actor.name% %actor.name%, the contents of this locker belong to our priest, Dariano. Of them, I can say no more.
      %echoaround% %actor% The First Officer whispers something to %actor.name%.
      wait 2 sec
      %echo% Tallin pauses, regaining his composure.
      wait 2 sec
    end
    if %findmob.35000(35039)%
      say He was taken by a raiding party from the garrison.  Of his whereabouts, I know not.
      wait 2 sec
    end
    %send% %actor% He looks past you, into the hallway, eyes narrowing anxiously.
    wait 2 sec
    if %findmob.35001(35038)%
      say %actor.name%, have you heard word of my captain, Phenia? 
      wait 2 sec
      say She was last seen defending the fire priest west of here.
      wait 2 sec
    end
  else
    %echo% The First Officer of the Red Gryphon reaches for his weapon, but realizes that he is not armed.
    wait 2 sec
  end
  %echo% He looks down at his hands in resignation, the failure of his mission heavy upon his heart. 
  wait 4 sec
  %echo%  Looking past you, humbled, he whispers, "What have I done?"
  wait 30 sec
  %echo% You look back at the First Officer, his face darkening, a war of wills playing across his brow.
  wait 4 s
  %echo% Perhaps it's time to take your leave... something is wrong with Tallin...
  wait 15 s
  set room %self.room%
  set victim %room.people%
  while %victim%
    set next_victim %victim.next_in_room%
    if %victim% != %self%
      mkill %victim%
      halt
    end
    set victim %next_victim%
  done
end

>[0;00m
[0mCHECKING: 35011[0m

Name: 'free_dariano',  VNum: [35010], RNum: [  998]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 3, Arg list: pick
Commands:
*
* 052022 Aegon 350 Ice Fortress
*
if %actor.is_pc%
  context %actor.id%
  if %cmd% == pick && (%arg% /= lock || %arg% /= chain || %arg% /= manacle || %arg% /= shackle )
    if %actor.has_item(35128)% || (%actor.class% == Thief && %actor.dex% > 22)
      if %actor.has_item(35128)%
        %echo% %actor.name% inserts a sliver of metal into the manacle lock,
      else
        %echo% %actor.name% produces a trusty lockpick and inserts it into the manacle lock,
      end
      %echo% and as %actor.heshe% gives it a slight twist, the manacle opens!
      wait 1 s
      %echo% Dariano grins broadly as %actor.name% frees him from his bondage.
      wait 3 sec
      %echo% Dariano gets up from his frozen pallet, hugs %actor.name%, and disappears through the open cell door, and into the dark cold beyond.
      wait 2 s
      *
      * phenia's block for copy
      * turns out mtransform never changes the vnum - just the characteristics of the mob
      *
      %load% mob 35126
      %at% 35093 %echo% The door is opened from the other side.
      wait 2 s
      %teleport% dariano 35093
      %at% 35093 %echo% Dariano, Fire Priest of the Red Gryphon, arrives.
      wait 2 s
      %purge% %self%
      *
    else
      if %actor.class% == Thief
        %send% %actor% Try as you might, you can't seem to trip the mechanism.
      else
        %send% %actor% You need a tool to trip the lock mechanism.
      end
      wait 2 s
      %send% %actor% The prisoner looks at you quizzically, hoping you can free him from his bonds.
      return 0
      halt
    end
  end
end

>[0;00m
Name: 'return_of_the_prodigal_daughter',  VNum: [35011], RNum: [  999]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 100, Arg list: None
Commands:
*
* 052022 Aegon 350 Ice Fortress
* 062224 Aegon                          - major re-design mods
*
* 35038 phenia hostage --> 35088 capt. phenia re-born
* 35039 dariano hostage --> 35126 dariano re-born
* 35085 aniadia hostage --> 35160 aniaida re-born
*
* 35092 bridge (phenia)
* 35173 engine room (dariano)
* 35123 top of the talon spire (aniadia)
*
if %actor.is_pc%
  if (%findmob.35092(35088)% && %findmob.35173(35126)% && %findmob.35123(35060)%)
    *
    * inform everyone on the ship that the ship is making a rescue
    *
    set pass 1
    while %pass% < 4
      set ship_vnum 35089
      while %ship_vnum% < 35097
        switch %pass%
          case 1
            %at% %ship_vnum% %echo% A small speaker in the bulkhead comes alive with a crackle: 'All crew, this is the Captain speaking. Man your stations!  We are underway for the Talon Spire!'
            break
          case 2
            %at% %ship_vnum% %echo% The air warship shudders as it fights its way against the storm, climbing steeply toward the top of the Tower.
            break
          case 3
            %at% %ship_vnum% %echo% A small speaker in the bulkhead comes alive with a crackle: 'All crew, this is the Captain speaking. we have arrived at the Talon Spire!  Secure grapple ropes!' 
            break
          default
            break
        done
        eval ship_vnum %ship_vnum% + 1
      done
      *
      set ship_vnum 35115
      while %ship_vnum% < 35119
        switch %pass%
          case 1
            %at% %ship_vnum% %echo% A small speaker in the bulkhead comes alive with a crackle: 'All crew, this is the Captain speaking. Man your stations!  We are underway for the Talon Spire!'
            break
          case 2
            %at% %ship_vnum% %echo% The air warship shudders as it fights its way against the storm, climbing steeply toward the top of the Tower.
            break
          case 3
            %at% %ship_vnum% %echo% A small speaker in the bulkhead comes alive with a crackle: 'All crew, this is the Captain speaking. we have arrived at the Talon Spire!  Secure grapple ropes!' 
            break
          default
            break
        done
        eval ship_vnum %ship_vnum% + 1
      done
      *
      set ship_vnum 35173
      while %ship_vnum% < 35176
        switch %pass%
          case 1
            %at% %ship_vnum% %echo% A small speaker in the bulkhead comes alive with a crackle: 'All crew, this is the Captain speaking. Man your stations!  We are underway for the Talon Spire!'
            break
          case 2
            %at% %ship_vnum% %echo% The air warship shudders as it fights its way against the storm, climbing steeply toward the top of the Tower.
            break
          case 3
            %at% %ship_vnum% %echo% A small speaker in the bulkhead comes alive with a crackle: 'All crew, this is the Captain speaking. we have arrived at the Talon Spire!  Secure grapple ropes!' 
            break
          default
            break
        done
        eval ship_vnum %ship_vnum% + 1
      done
      *
      eval pass %pass% + 1
    done
    *
    * add rope ladder room between gryphon and talon (from both sides)
    * %door% <vnum> < direction> < field> [value] 
    *
    %door% 35095 down room 35195
    %door% 35095 down description A rope grapple descends into the maelstrom swirling outside the ship's hull.
    %door% 35123 up room 35195
    %door% 35123 up description A rope grapple leads up into the hovering ship's hull.
    *
    * remove bow and stern access to red gryphon
    *
    %door% 35089 west purge
    %door% 35097 east purge
    *
    %door% 35091 east purge
    %door% 35176 up purge 
    *
    * allow player to find aniadia and rescue or battle her
    *
  end
end

>[0;00m
[0mCHECKING: [0m

Usage: tstat <vnum>

>[0;00m
[0mCHECKING: [0m

Usage: tstat <vnum>

>[0;00m
[0mCHECKING: [0m

Usage: tstat <vnum>

>[0;00m
[0mCHECKING: [0m

Usage: tstat <vnum>

>[0;00m
[0mCHECKING: [0m
[0mCHECKING: [0m

Usage: tstat <vnum>

>[0;00m
[0mCHECKING: [0m

Usage: tstat <vnum>

>[0;00m
[0mCHECKING: [0m

Usage: tstat <vnum>

>[0;00m
[0mCHECKING: [0m

Usage: tstat <vnum>

>[0;00m
Usage: tstat <vnum>

>[0;00m
[0mCHECKING: [0m

Usage: tstat <vnum>

>[0;00m
[0mCHECKING: [0m

Usage: tstat <vnum>

>[0;00m
[0mCHECKING: [0m

Usage: tstat <vnum>

>[0;00m
[0mCHECKING: [0m

Usage: tstat <vnum>

>[0;00m
[0mCHECKING: [0m
[0mCHECKING: [0m

Usage: tstat <vnum>

>[0;00m
[0mCHECKING: [0m

Usage: tstat <vnum>

>[0;00m
[0mCHECKING: [0m

Usage: tstat <vnum>

>[0;00m
Usage: tstat <vnum>

>[0;00m
[0mCHECKING: [0m

Usage: tstat <vnum>

>[0;00m
[0mCHECKING: [0m

Usage: tstat <vnum>

>[0;00m
[0mCHECKING: [0m

Usage: tstat <vnum>

>[0;00m
[0mCHECKING: [0m

Usage: tstat <vnum>

>[0;00m
[0mCHECKING: [0m
[0mCHECKING: [0m

Usage: tstat <vnum>

>[0;00m
[0mCHECKING: [0m

Usage: tstat <vnum>

>[0;00m
Usage: tstat <vnum>

>[0;00m
[0mCHECKING: [0m

Usage: tstat <vnum>

>[0;00m
[0mCHECKING: [0m
[0mCHECKING: 35012[0m
[0mCHECKING: 35013[0m
[0mCHECKING: 35014[0m
Name: 'free aniadia',  VNum: [35012], RNum: [ 1000]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: pick
Commands:
*
* 052022 Aegon 350 Ice Fortress
*
set wait 5
*
if %actor.is_pc%
  if %cmd% == pick && (%arg% /= manacle || %arg% /= chain || %arg% /= shackle || %arg% /= lock)
    if %actor.has_item(35128)% || (%actor.class% == Thief && %actor.dex% > 22)
      %echo% %actor.name% inserts a sliver of metal into the %arg%, and with a slight click, it opens!
      wait %wait% s
      %send% %actor% As soon as you unlock the Shackles of Razakasch,  Aniadia is transformed from thrall to Avatar, her powers restored, and standing now, filling the room with her radiance.
      %echoaround% %actor% %actor.name% uses the lock pick to release Aniadia from her magical bonds.  The Thrall transforms to Goddess before your eyes!
      wait %wait% s
      %send% %actor% %self.name% smiles at you, gracefully tracing her hand through the air, blessing you.
      *
      * imbue superpowers
      *
      nop %actor.move(%random.100%)%
      nop %actor.mana(%random.400%)%
      nop %actor.hitp(%random.200%)%
      wait %wait% s
      *
      %echo% Aniadia, Fire Revenant, rises into the frozen air, and disappears through the open cell door, and into the dark cold beyond.  
      *
      %load% obj 35130 
      %load% mob 35060
      *
      set room %self.room%
      set target_char %room.people%
      while %target_char%
        set next_target %target_char.next_in_room%
        if %target_char.alias% /= Goddess 
          %teleport% %target_char% 35123
        end
        set target_char %next_target%
      done
      %purge% %self%
      halt
    else
      %send% %actor% The pitiful thrall shudders at your failed attempt, her blue wardens flickering like baleful candles in the wind.
      return 1
      halt
    end
  else
    return 0
    halt
  end
end

>[0;00m
Name: 'melt_the_horde',  VNum: [35013], RNum: [ 1001]
Trigger Intended Assignment: Rooms
Trigger Type: Drop , Numeric Arg: 100, Arg list: None
Commands:
*
* 052022 Aegon 350 Ice Fortress
*
set mult 1
*
if %actor.is_pc%
  if %object.vnum% == 35058
    if %actor.admlvl% >= 5
      set mult 100
    end
    %send% %actor.name% As soon as you drop the frozen pile, it begins to hiss and melt.
    %echoaround% %actor% As soon as %actor.name% drops the frozen treasure pile, it begins to melt.
    eval gold %random.100% * %random.100% * 100 * %mult%
    nop %actor.gold(%gold%)
    wait 1 s
    %echo% You collect an absolutely astounding pile of gold coins!   You get %gold% coins.
    %purge% %actor.inventory(35058)%
    return 1
  else
    %send% %actor% If you were to drop anything of value in this room, it might melt away to nothing.
    return 0
  end
end

>[0;00m
Name: 'kazirasch's_hawkmask_quest',  VNum: [35014], RNum: [ 1002]
Trigger Intended Assignment: Rooms
Trigger Type: Drop , Numeric Arg: 100, Arg list: None
Commands:
*
* 041023 Aegon 350 Ice Fortress
* 030925                                          added QT reward logging
*                                                       converted switch to elseIF
*
if %actor.is_pc%
  if %findmob.35164(35042)%
    * %echo% actor %actor.name% present with mob: kazirasch dropped name: %object.name%  short: %object.shortdesc%
    if (%object.shortdesc% /= Jubal) || (%object.shortdesc% /= Moria) || (%object.shortdesc% /= Saliman) || ((%object.shortdesc% /= Mor) && (%object.shortdesc% /= am))
      set reward 1
    else
      %send% %actor% Kazirasch shakes his head, uninterested in your offering.
      return 0
      halt
    end
    %send% %actor% You drop %object.shortdesc%.
    %echoaround% %actor% %actor.name% drops %object.shortdesc%.
    %purge% %object%
    context %actor.id% 
    if %actor.varexists(kazirasch_hawkmasks)%
      extract kazirasch_hawkmasks 1 %actor.kazirasch_hawkmasks%
      eval kazirasch_hawkmasks %kazirasch_hawkmasks% + %reward%
    else
      set kazirasch_hawkmasks %reward%
    end 
    * begin badge block
    set collect hawkmask corpses
    *
    set tiers 1 50 250 500 1000 2500 5000
    *
    extract tier0 1 %tiers%
    set tier0_name Apprentice Birdwatcher
    *
    extract tier1 2 %tiers%
    set tier1_name Veteran Hawkmaster
    *
    extract tier2 3 %tiers%
    set tier2_name Raptor Slasher
    *
    extract tier3 4 %tiers%
    set tier3_name Hawkmask Terror
    *
    extract tier4 5 %tiers%
    set tier4_name Hawkmask Annihilator
    *
    extract tier5 6 %tiers%
    set tier5_name Serpentine Master 
    *
    extract tier6 7 %tiers%
    set tier6_name Sanctuary Champion
    *
    if %kazirasch_hawkmasks% == %tier0%
      %send% %actor% %actor.name%, you attained the rank of %tier0_name%, and you have unlocked the %tier1_name% Badge!
      set badge %tier0_name%
    elseif %kazirasch_hawkmasks% == %tier1%
      %send% %actor% %actor.name%, you attained the rank of %tier1_name%, and you have unlocked the %tier2_name% Badge!
      set badge %tier1_name%
    elseif %kazirasch_hawkmasks% ==  %tier2%
      %send% %actor% %actor.name%, you attained the rank of %tier2_name%, and you have unlocked the %tier3_name% Badge!
      set badge %tier2_name%
      %echo% You earned a token!
      %load% obj 17934 %actor% inv
      %log% [T35015] has awarded a token vnum 17934 to actor %actor.name%
    elseif %kazirasch_hawkmasks% ==  %tier3%
      %send% %actor% %actor.name%, you attained the rank of %tier3_name%, and you have unlocked the %tier4_name% Badge!
      set badge %tier3_name%
      %echo% You earned a token!
      %load% obj 17935 %actor% inv
      %log% [T35015] has awarded a token vnum 17935 to actor %actor.name%
      %send% %actor% Lord Kazirasch rewards you with a golden bajoran ear spike for your service!
      %load% obj 35109 %actor% inv
    elseif %kazirasch_hawkmasks% ==  %tier4%
      %send% %actor% %actor.name%, you attained the rank of %tier4_name%, and you have unlocked the %tier5_name% Badge!
      set badge %tier4_name%
      %echo% You earned a token!
      %load% obj 17936 %actor% inv
      %log% [T35015] has awarded a token vnum 17936 to actor %actor.name%
    elseif %kazirasch_hawkmasks% ==  %tier5%
      %send% %actor% %actor.name%, you attained the rank of %tier5_name%, and you have unlocked the %tier6_name% Badge!
      set badge %tier5_name%
      %echo% You earned a token!
      %load% obj 17936 %actor% inv
      %echo% You earned a token!
      %load% obj 17936 %actor% inv
      %log% [T35015] has awarded 2x token vnums 17936 to actor %actor.name%
    elseif %kazirasch_hawkmasks% ==  %tier6%
      %send% %actor% %actor.name%, you attained the top rank of %tier6_name%!
      set badge %tier6_name%
      %echo% You earned a token!
      %load% obj 17937 %actor% inv
      %log% [T35015] has awarded a token vnum 17937 to actor %actor.name%
    else
      if %kazirasch_hawkmasks% < %tier1%
        %send% %actor% %actor.name%, as a %tier0_name%, you have achieved %kazirasch_hawkmasks% of %tier1% %collect% toward your next badge.
        set badge %tier0_name%
      elseif %kazirasch_hawkmasks% < %tier2%
        %send% %actor% %actor.name%, as a %tier1_name%, you have achieved %kazirasch_hawkmasks% of %tier2% %collect% toward your next badge.
        set badge %tier1_name%
      elseif %kazirasch_hawkmasks% < %tier3%
        %send% %actor% %actor.name%, as a %tier2_name%, you have achieved %kazirasch_hawkmasks% of %tier3% %collect% toward your next badge.
        set badge %tier2_name%
      elseif %kazirasch_hawkmasks% < %tier4%
        %send% %actor% %actor.name%, as a %tier3_name%, you have achieved %kazirasch_hawkmasks% of %tier4% %collect% toward your next badge.
        set badge %tier3_name%
      elseif %kazirasch_hawkmasks% < %tier5%
        %send% %actor% %actor.name%, as a %tier4_name%, you have achieved %kazirasch_hawkmasks% of %tier5% %collect% toward your next badge.
        set badge %tier4_name%
      elseif %kazirasch_hawkmasks% < %tier6%
        %send% %actor% %actor.name%, as a %tier5_name%, you have achieved %kazirasch_hawkmasks% of ????? %collect% toward your next badge.
        set badge %tier5_name%
      else
        %send% %actor% %actor.name%, as the %tier6_name%, you have collected %kazirasch_hawkmasks% %collect%.
        set badge %tier6_name%
      end
    end
    *
    set kazirasch_hawkmasks %kazirasch_hawkmasks% %badge%
    global kazirasch_hawkmasks
    remote kazirasch_hawkmasks %actor.id% 
  else
    if %object.name% /= corpse
      wait 1 s
      %send% %actor% Kazirasch shakes his head, uninterested in your offering.
      halt
    end
  end
end

>[0;00m
[0mCHECKING: 35015[0m

Name: 'pray_to_the_avatar_of_fire',  VNum: [35015], RNum: [ 1003]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: pray
Commands:
*
* 052022 Aegon 350 Ice Fortress
*
context %actor.id%
if %cmd.mudcommand% == pray && (avatar /= %arg% || aniadia /= %arg% || goddess /= %arg%)
  if %actor.has_item(35131)% && %actor.has_item(35132)% && %actor.has_item(35133)% && %actor.has_item(35134)%
    %send% %actor% %actor.name%, you have persevered through the most difficult of trials and have prevailed.  Behold now,
    %send% %actor% a reward fitting of a demi-god!
    %send% %actor% She waves at you with a casual gesture, combined with your holy elements,
    %send% %actor% and produces the Scepter of the Fire Avatar.
    *
    *   tell room
    *
    %echoaround% %actor% %actor.name% kneels before the Avatar and produces an assortment of wondrous elements, offering them to her.
    %echo% Aniadia transforms from Goddess to mortal form, a tall, athletic warrior, with long flowing red hair,
    %echo% clad in flaming mithril robes.
    %echoaround% %actor% She waves at %actor.name% in a casual magical gesture, and produces a bright glowing orb, 
    *
    * remove assembly parts
    *
    %purge% %actor.inventory(35131)%
    %purge% %actor.inventory(35132)%
    %purge% %actor.inventory(35133)%
    %purge% %actor.inventory(35134)%
    *
    * load scepter of the fire avatar
    *
    %load% obj 35135 %actor% inv
  else
    %send% %actor% Something's not right.  You've seen an illustrated manuscript that describes an offering to Aniadia.  Where was it?
    %force% aniadia gemote laugh %actor.name% 
    halt
  end
end
return 0

>[0;00m
[0mCHECKING: 35016[0m

Name: 'jazaraki_awakens',  VNum: [35016], RNum: [ 1004]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 7, Arg list: wake
Commands:
*
* 052022 Aegon 350 Ice Fortress
*
if %actor.is_pc%
  if %cmd% == wake && %arg% /= jazaraki
    %echoaround% %actor% %actor.name% wakens the sleeping Master Assassin.
    %send% %actor% You waken the sleeping Master Assassin.
    wait 2 s
    %echoaround% %actor% Jazaraki opens her eyes slowly.
    %send% %actor.name% Jazaraki opens her eyes slowly, as if expecting you.
    wait 2 s
    if %actor.has_item(-1)%
      %echo% The assassin stirs, moving from her perch to the floor in a single fluid motion,
      %echo% indicating that you should drop the corpses to collect your bounty.
    else
      %echo% Jazaraki sighs, closes her eyes and falls back asleep.
      return 1
    end
  else
    return 0
  end
end

>[0;00m
[0mCHECKING: 35017[0m

Name: 'jazaraki_assassinate_royals',  VNum: [35017], RNum: [ 1005]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 7, Arg list: quest
Commands:
*
* 052022 Aegon 350 Ice Fortress
*
if %actor.is_pc% && %actor.canbeseen%
  if %cmd% == quest
    if %arg%
      switch %arg%
        case brief
          if %actor.varexists(jazaraki_royals)%
            %send% %actor% Bring a corpse of any member of a royal house to Jazaraki as proof of their assassination.
          else
            %send% %actor% You haven't received a quest from Jazaraki.  Type "quest badge."
          end
        break
        case badge
          * %echo% debug: actor.class: %actor.class%
          if %actor.has_item(35102)%
            switch %actor.class%
              case Ninja
              %send% %actor% The Master Assassin stares at you with an acute interest.
              wait 2 s
              %send% %actor% She snaps, "I'll take you into my confidence, worm, if you bring me the bodies 
              %send% %actor% of King de Grance and her meddlesome Queen, Julia.  Otherwise, begone."
            break
            case Thief
              %send% %actor% Jazaraki wonders why you have so few skills.  She dismisses you with a glance.
              %send% %actor% Jazaraki sneers, "Come back when you've graduated to ninja, fool."
            break
            default
              %send% %actor% Jazaraki ignores you and your scum %actor.class% class.
            break
          done
        else
          switch %actor.class%
            case Ninja
              %send% %actor% Jazaraki stares at you with interest.
              say arghkathak-ur sha-rat ur-parg-porkeq ar us-jilki-soar die-granz il-urghes-sol toojarak asch-asch sarkadoj ar- jooleeah gto arsh-shur-tak!
            break
            case Thief
              %send% %actor% Jazaraki wonders why you have so few skills.  She dismisses you with a glance.
              %send% %actor% She sneers, "xom-aghgh sak-son-turgath aron- neenjah akwabi-ar-ser tak!"
            break
            default
              %send% %actor% Jazaraki ignores you and your scum %actor.class% class.
            break
          done
        end
        default
          return 0
          halt
        break
      done
    else
      %send% %actor% Usage\: quest list \| history \| progress \| join <nn> \| leave \| badge \| brief
    end
  end
end

>[0;00m
[0mCHECKING: 35018[0m

Name: 'crystal_heart_portal_device',  VNum: [35018], RNum: [ 1006]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 100, Arg list: touch
Commands:
Nothing.

>[0;00m
[0mCHECKING: 35019[0m
[0mCHECKING: 35020[0m

Name: 'dragon_resurrected',  VNum: [35019], RNum: [ 1007]
Trigger Intended Assignment: Rooms
Trigger Type: Drop , Numeric Arg: 100, Arg list: None
Commands:
*
* 052822 Aegon 350 Ice Fortress
* 030925                                          added QT reward logging 
*                                                       converted switches to elseIFs
*
context %actor.id%
*
if %findmob.35017(35002)%
  if (%object.shortdesc% /= dragon || %object.shortdesc% /= drake || )  && (%object.name% /= corpse)
    if !%findmob.35017(35089)%
      %echo% Kasraza makes a sweeping gesture and the corpse is resurrected!  Behold Kasraza's terrible ice dracolich!
      %load% mob 35089
    else
      %echo% The mighty zombie dracolich roars in pain as Kasraza attempts to resurrect the corpse.
      %force% %actor% hit dracolich
      return 0
      halt
    end
    *
    *   %echo% debug: object shortdesc: %object.shortdesc%
    *
    if (%object.shortdesc% /= Zareef || %object.shortdesc% /= TIAMAT || %object.shortdesc% /= Antitheton)
      set value 1
    elseif  (%object.shortdesc% /= Aglandiir || %object.shortdesc% /= Tiamat || %object.shortdesc% /= amber)
      set value 1
    elseif  (%object.shortdesc% /= firedrake)
      set value 1
    else
      %echo% Kasraza shakes his head, uninterested in your offering.
      return 0
      halt
    end
    *
    if %actor.varexists(kasraza_dragons)%
      extract kasraza_dragons 1 %actor.kasraza_dragons%
      eval kasraza_dragons %kasraza_dragons% + %value%
    else
      set kasraza_dragons %value%
    end
    *
    *     begin badge block
    * 
    set collect dragon corpses
    set tiers 1 50 250 500 1000 2500 5000
    *
    extract tier0 1 %tiers% 
    set tier0name Apprentice Dragonhunter
    *
    extract tier1 2 %tiers%
    set tier1name Journeyman Dragonhunter
    *
    extract tier2 3 %tiers%
    set tier2name Master Dragonhunter
    *
    extract tier3 4 %tiers%
    set tier3name Dragon Champion
    *
    extract tier4 5 %tiers%
    set tier4name Dragon Lord
    *
    extract tier5 6 %tiers%
    set tier5name Dragon Demi-God 
    *
    extract tier6 7 %tiers%
    set tier6name Dragon God
    *
    if %kasraza_dragons% == %tier0%
      %send% %actor% %actor.name%, you have attained the rank of %tier0name%, and have unlocked the %tier1name% Badge!
      set badge %tier0name%
    elseif %kasraza_dragons% ==  %tier1%
      %send% %actor% %actor.name%, you have earned the title of %tier1name%, and have unlocked the %tier2name% Badge!
      set badge %tier1name%
    elseif %kasraza_dragons% == %tier2%
      %send% %actor% %actor.name%, you have attained the rank of %tier2name%, and have unlocked the %tier3name% badge!
      %send% %actor% You earned a token!
      %load% obj 17934 %actor% inv
      %log% [T35019] has awarded a token vnum 17934 to actor %actor.name%
      set badge %tier2name%
    elseif %kasraza_dragons% == %tier3%
      %send% %actor% %actor.name%, you have attained the rank of %tier3name%, and have unlocked the %tier4name% badge!
      %send% %actor% You earned a token!
      %load% obj 17935 %actor% inv
      %log% [T35019] has awarded a token vnum 17935 to actor %actor.name%
      %send% %actor% Lord Kasraza rewards you with a pair of Rotting Jaws for your service!
      %load% obj 35106 %actor% inv
      set badge %tier3name%
    elseif %kasraza_dragons% ==  %tier4%
      %send% %actor% %actor.name%, you have attained the rank of %tier4name%, and have unlocked the %tier5name% badge!
      %send% %actor% You earned a token!
      %load% obj 17936 %actor% inv
      %log% [T35019] has awarded a token vnum 17936 to actor %actor.name%
      set badge %tier4name%
    elseif %kasraza_dragons% ==  %tier5%
      %send% %actor% %actor.name%, you have attained the rank of %tier5name%, and have unlocked the %tier6name% badge!
      %send% %actor% You earned a token!
      %load% obj 17936 %actor% inv
      %send% %actor% You earned a token!
      %load% obj 17936 %actor% inv
      %log% [T35019] has awarded 2x token vnums 17936 to actor %actor.name%
      set badge %tier5name%
    elseif %kasraza_dragons% ==  %tier6%
      %send% %actor% %actor.name%, you have attained the top rank of %tier6name%!
      %send% %actor% You earned a token!
      %load% obj 17937 %actor% inv
      %log% [T35019] has awarded a token vnum 17937 to actor %actor.name%
      set badge %tier6name%
    else
      if %kasraza_dragons% < %tier1%
        %send% %actor% %actor.name%, as a %tier0name%, you have collected %kasraza_dragons% of %tier1% %collect% toward your next badge.
        set badge %tier1name%
      elseif %kasraza_dragons% < %tier2%
        %send% %actor% %actor.name%, as a %tier1name%, you have collected %kasraza_dragons% of %tier2% %collect% toward your next badge.
        set badge %tier2name%
      elseif %kasraza_dragons% < %tier3%
        %send% %actor% %actor.name%, as a %tier2name%, you have collected %kasraza_dragons% of %tier3% %collect% toward your next badge.
        set badge %tier2name%
      elseif %kasraza_dragons% < %tier4%
        %send% %actor% %actor.name%, as a %tier3name%, you have collected %kasraza_dragons% of %tier4% %collect% toward your next badge.
        set badge %tier3name%
      elseif %kasraza_dragons% < %tier5%
        %send% %actor% %actor.name%, as a %tier4name%, you have collected %kasraza_dragons% of %tier5% %collect% toward your next badge.
        set badge %tier4name%
      elseif %kasraza_dragons% < %tier6%
        %send% %actor% %actor.name%, as a %tier5name%, you have collected %kasraza_dragons% of %tier6% %collect% toward your next badge.
        set badge %tier5name%
      else
        %send% %actor% %actor.name%, as a %tier6name%, you have collected %kasraza_dragons%!
        set badge %tier6name%
      end
    end
    set kasraza_dragons %kasraza_dragons% %badge%
    global kasraza_dragons
    remote kasraza_dragons %actor.id%
    %purge% %object%
  else
    wait 1 s
    %echo% Kasraza shakes his head, uninterested in your offering.
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 35021[0m

Name: 'searching_for_spies',  VNum: [35020], RNum: [ 1008]
Trigger Intended Assignment: Rooms
Trigger Type: Drop , Numeric Arg: 100, Arg list: None
Commands:
*
* 052822 Aegon 350 Ice Fortress
* 030925                                              added QT logging
*                                                           convert switch to elseIF
*
if %findmob.35012(35032)%
  wait 1 s
  if (%object.shortdesc% /= spy  && %object.shortdesc% /= gyrgyle && %object.name% /= corpse)
    if %actor.varexists(dajdaj_spies)%
      extract spies 1 %actor.dajdaj_spies% 
      eval dajdaj_spies %spies% + 1
    else
      set dajdaj_spies 1
    end
    *
    *     begin badge block
    *
    set collect gyrgyle spy corpses
    set tiers 1 50 100 500 2500 10000 25000
    *
    extract tier0 1 %tiers% 
    set tier0name Apprentice Tracker
    *
    extract tier1 2 %tiers%
    set tier1name Journeyman Tracker
    *
    extract tier2 3 %tiers%
    set tier2name Spy Tracker
    *
    extract tier3 4 %tiers%
    set tier3name Spy Hunter
    *
    extract tier4 5 %tiers%
    set tier4name Spy Slayer
    *
    extract tier5 6 %tiers%
    set tier5name Spy Assassin
    *
    extract tier6 7 %tiers%
    set tier6name Spy Annihilator
    *
    if %dajdaj_spies% == %tier0%
      %send% %actor% %actor.name%, you have attained the rank of %tier0name%, and have unlocked the %tier1name% Badge!
      set badge %tier0name%
    elseif %dajdaj_spies% == %tier1%
      %send% %actor% %actor.name%, you have earned the title of %tier1name%, and have unlocked the %tier2name% Badge!
      set badge %tier1name%
    elseif %dajdaj_spies% == %tier2%
      %send% %actor% %actor.name%, you have attained the rank of %tier2name%, and have unlocked the %tier3name% badge!
      %send% %actor% You earned a token!
      %load% obj 17934 %actor% inv
      %log% [T35020] has awarded a token vnum 17934 to actor %actor.name%
      set badge %tier2name%
    elseif %dajdaj_spies% == %tier3%
      %send% %actor% %actor.name%, you have attained the rank of %tier3name%, and have unlocked the %tier4name% badge!
      %send% %actor% You earned a token!
      %load% obj 17935 %actor% inv
      %log% [T35020] has awarded a token vnum 17935 to actor %actor.name%
      %send% %actor% Dajdaj rewards you with the Gloves of Persuasion!
      %load% obj 35057 %actor% inv
      set badge %tier3name%
    elseif %dajdaj_spies% == %tier4%
      %send% %actor% %actor.name%, you have attained the rank of %tier4name%, and have unlocked the %tier5name% badge!
      %send% %actor% You earned a token!
      %load% obj 17936 %actor% inv
      %log% [T35020] has awarded a token vnum 17936 to actor %actor.name%
      set badge %tier4name%
    elseif %dajdaj_spies% == %tier5%
      %send% %actor% %actor.name%, you have attained the rank of %tier5name%, and have unlocked the %tier6name% badge!
      %send% %actor% You earned a token!
      %load% obj 17937 %actor% inv
      %log% [T35020] has awarded a token vnum 17937 to actor %actor.name%
      set badge %tier5name%
    elseif %dajdaj_spies% == %tier6%
      %send% %actor% %actor.name%, you have attained the top rank of %tier6name%!
      %send% %actor% You earned a token!
      %load% obj 17938 %actor% inv
      %log% [T35020] has awarded a token vnum 17938 to actor %actor.name%
      set badge %tier6name%
    else
      if %dajdaj_spies% < %tier1%
        %send% %actor% %actor.name%, as a %tier0name%, you have collected %dajdaj_spies% of %tier1% %collect% toward your next badge.
        set badge %tier0name%
      else if %dajdaj_spies% < %tier2%
        %send% %actor% %actor.name%, as a %tier1name%, you have collected %dajdaj_spies% of %tier2% %collect% toward your next badge.
        set badge %tier1name%
      else if %dajdaj_spies% < %tier3%
        %send% %actor% %actor.name%, as a %tier2name%, you have collected %dajdaj_spies% of %tier3% %collect% toward your next badge.
        set badge %tier2name%
      else if %dajdaj_spies% < %tier4%
        %send% %actor% %actor.name%, as a %tier3name%, you have collected %dajdaj_spies% of %tier4% %collect% toward your next badge.
        set badge %tier3name%
      else if %dajdaj_spies% < %tier5%
        %send% %actor% %actor.name%, as a %tier4name%, you have collected %dajdaj_spies% of %tier5% %collect% toward your next badge.
        set badge %tier4name%
      else if %dajdaj_spies% < %tier6%
        %send% %actor% %actor.name%, as a %tier5name%, you have collected %dajdaj_spies% of %tier6% %collect% toward your next badge.
        set badge %tier5name%
      else
        %send% %actor% %actor.name%, as a %tier6name%, you have collected %dajdaj_spies%!
        set badge %tier6name%
      end
    end
    *
    set dajdaj_spies %dajdaj_spies% %badge%
    global dajdaj_spies
    remote dajdaj_spies %actor.id%
  else
    %echo% Dajdaj shakes his head, indifferent to your offering.
    halt
  end
else
  return 0
end

>[0;00m
Name: 'killing_the_royals',  VNum: [35021], RNum: [ 1009]
Trigger Intended Assignment: Rooms
Trigger Type: Drop , Numeric Arg: 100, Arg list: None
Commands:
*
* 052822 Aegon 350 Ice Fortress
* 031025                                            added QT logging
*                                                         convert switch to elseIF
*
context %actor.id%
*
*
set speaks_gyrgyle 0
if %actor.varexists(subjects)%
  if %actor.subjects% /= gyrgyle
    set speaks_gyrgyle 1
  end
end
*
if %findmob.35006(35036)%
  set osdesc %object.shortdesc.toupper%
  if (%osdesc% /= King || %osdesc% /= Queen || %osdesc% /= Prince || %osdesc% /= Princess || %osdesc% /= Emperor || %osdesc% /= Empress )  && %object.name% /= corpse
    %echo% Jazaraki stirs from her slumber.
    wait 1 s
    %echo% She motions for an assassin to collect your bounty.
    wait 1 s
    %echo% An assassin appears and drags the %object.name% of the %osdesc% away.
    %purge% %object%
    wait 1 s
    if %actor.class% == Ninja
      if %actor.varexists(jazaraki_royals)%
        extract jazaraki_royals 1 %actor.jazaraki_royals%
        eval jazaraki_royals %jazaraki_royals% + 1
      else
        if (%osdesc% /= Grance && %osdesc% /= King)
          set jazaraki_royals 1
        else
          if (%actor.has_item(35102)% || %speaks_gyrgyle%)
            %send% %actor% Jazaraki stirs from her slumber, and whispers, "%actor.name%, p
[0mCHECKING: 35022[0m
rove your skill to me.  Bring me the body of deGrance, King in Skara Brae.
          else
            %send% %actor% Jazaraki stirs from her slumber, and whispers, "%actor.name%, ur-thak jarraza-tur par-tak.  Yazkur-ug brantard, us-jilki-soar die-granz, Kasch il Zkera Brae.
          end
          return 0
          halt
        end
      end
      *
      *     begin badge block
      *
      set collect royal corpses
      set tiers 1 100 250 500 1000 2500 5000
      *
      extract tier0 1 %tiers% 
      set tier0name Apprentice Infiltrator
      *
      extract tier1 2 %tiers%
      set tier1name Journeyman Infiltrator
      *
      extract tier2 3 %tiers%
      set tier2name Royal Assassin
      *
      extract tier3 4 %tiers%
      set tier3name Royal Headsman
      *
      extract tier4 5 %tiers%
      set tier4name Royal Executioner
      *
      extract tier5 6 %tiers%
      set tier5name Cold Rasputin 
      *
      extract tier6 7 %tiers%
      set tier6name Wurm Tongue
      *
      if %jazaraki_royals% == %tier0%
        %send% %actor% %actor.name%, with %jazaraki_royals% %collect%, you attained the rank of %tier0%, and you have unlocked the %tier1% Badge!
        set badge %tier1name%
        wait 2 s
        *
        %send% %actor% Jazaraki smiles, regarding you with newfound respect, saying, "%actor.name%, "
        if (%actor.has_item(35102)% || %speaks_gyrgyle%)
          %send% %actor% "Bring now the royalty of mighty towers, from prince to king, and rewards will be yours."
        else
          %send% %actor% "Arzh-gul zek tar pundaz,kejj-urgh o bent-zurg, ken gurzh-ak ur talak.   Ur-tak argh-zur thartoz Razakasch."
        end
      elseif %jazaraki_royals% == %tier1%
        %send% %actor% %actor.name%, with %jazaraki_royals% %collect%, you attained the rank of %tier1name%, and have unlocked the %tier2name% Badge!
      elseif %jazaraki_royals% == %tier2%
        %send% %actor% %actor.name%, with %jazaraki_royals% %collect%, you attained the rank of %tier2name%, and have unlocked the %tier3name% badge!
        set badge %tier2name%
        %send% %actor% You have earned a token!
        %load% obj 17934 %actor% inv
        %log% [T35021] has awarded a token vnum 17934 to actor %actor.name%
      elseif %jazaraki_royals% == %tier3%
        %send% %actor% %actor.name%, with %jazaraki_royals% %collect%, you attained the rank of %tier3name%, and have unlocked the %tier4name% badge!
        set badge %tier3name%
        %send% %actor% You have earned a token!
        %load% obj 17935 %actor% inv
        %log% [T35021] has awarded a token vnum 17935 to actor %actor.name%
        %send% %actor% Jazaraki's lieutenants reward you with an assassin's garrote!
        %load% obj 35000 %actor% inv
      elseif %jazaraki_royals% == %tier4%
        %send% %actor% %actor.name%, with %jazaraki_royals% %collect%, you attained the rank of %tier4name%, and have unlocked the %tier5name% badge!
        set badge %tier4name%
        %send% %actor% You have earned a token!
        %load% obj 17936 %actor% inv
        %log% [T35021] has awarded a token vnum 17936 to actor %actor.name%
        %send% %actor% Jazaraki's lieutenants reward you with a Mask of Silence!
        %load% obj 35164 %actor% inv
      elseif %jazaraki_royals% == %tier5%
        %send% %actor% %actor.name%, with %jazaraki_royals% %collect%, you attained the rank of %tier5name%, and have unlocked the %tier6name% badge!
        set badge %tier5name%
        %send% %actor% You have earned a token!
        %load% obj 17936 %actor% inv
        %send% %actor% You have earned a token!
        %load% obj 17936 %actor% inv
        %log% [T35021] has awarded 2x token vnums 17936 to actor %actor.name%
        %send% %actor% Jazaraki's lieutenants reward you with the Pauldrons of Command!
        %load% obj 35036 %actor% inv
      elseif %jazaraki_royals% == %tier6%
        %send% %actor% %actor.name%, with %jazaraki_royals% %collect%, you have attained the top rank of %tier6name%!
        set badge %tier6name%
        %send% %actor% You have earned a token!
        %load% obj 17937 %actor% inv
        %log% [T35021] has awarded a token vnum 17937 to actor %actor.name%
      else
        if %jazaraki_royals% < %tier1%
          %send% %actor% %actor.name%, as a %tier0name%, you have collected %jazaraki_royals% of %tier1% %collect% toward your next badge.
        elseif %jazaraki_royals% < %tier2%
          %send% %actor% %actor.name%, as a %tier1name%, you have collected %jazaraki_royals% of %tier2% %collect% toward your next badge.
        elseif %jazaraki_royals% < %tier3%
          %send% %actor% %actor.name%, as a %tier2name%, you have collected %jazaraki_royals% of %tier3% %collect% toward your next badge.
        elseif %jazaraki_royals% < %tier4%
          %send% %actor% %actor.name%, as a %tier3name%, you have collected %jazaraki_royals% of %tier4% %collect% toward your next badge.
        elseif %jazaraki_royals% < %tier5%
          %send% %actor% %actor.name%, as a %tier4name%, you have collected %jazaraki_royals% of %tier5% %collect% toward your next badge.
        elseif %jazaraki_royals% < %tier6%
          %send% %actor% %actor.name%, as a %tier5name%, you have collected %jazaraki_royals% of %tier6% %collect% toward your next badge.
        else
          %send% %actor% %actor.name%, as a %tier6name%, you have collected %jazaraki_royals% %collect%!
        end
      end
      *
      set jazaraki_royals %jazaraki_royals% %badge%
      global jazaraki_royals
      remote jazaraki_royals %actor.id%
      *
      wait 1 s
      %echo% The Master Assassin settles back into her comfortable perch and falls asleep.
      wait 1 s
    else
      %send% %actor% The Master Assassin applauds your skills, and is happy to claim the death for the Frozen Goddess, but does not deal with your class.  Begone!
    end
  else
    %echo% Jazaraki, the Master Assassin, shakes her head, indifferent to your offering.
    return 0
    halt
  end
end

>[0;00m
Name: 'another_candle',  VNum: [35022], RNum: [ 1010]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 25, Arg list: None
Commands:
*
* 053022 Aegon 350 Ice Fortress
*
context %self.id%
*
set speaks_gyrgyle 0
if %actor.varexists(subjects)%
  if %actor.subjects% /= gyrgyle
    set speaks_gyrgyle 1
  end
end
*
* %echo% glowing state: %already_glowing%
*
if %actor.is_pc%
  if ! %already_glowing%
    if (%actor.has_item(35102)% || %speaks_gyrgyle%)
      %echo%  %self.name.toupper% shouts, "%actor.name% scum!  I am prepared for your cowardly surprise attack!"
    else
      %echo%  %self.name.toupper% shouts, "%actor.name% erkynegg!  Ze traggarys pentadd  eke tyo fessterryd passartyzg!"
    end
    mtransform 35124
    set already_glowing 1
    global already_glowing
  end
end

>[0;00m
[0mCHECKING: 35023[0m

Name: 'too_tall',  VNum: [35023], RNum: [ 1011]
Trigger Intended Assignment: Rooms
Trigger Type: Leave , Numeric Arg: 100, Arg list: None
Commands:
*
* 053022 Aegon 350 Ice Fortress
*
if %direction% == north
  %send% %actor% You are too tall to fit through the hole!
  %echoaround% %actor% %actor.name% tries to squeeze through the tiny hole, but only manages to get his boot stuck.
  return 0
  halt
end

>[0;00m
[0mCHECKING: 35024[0m

Name: 'assassin_disarm',  VNum: [35024], RNum: [ 1012]
Trigger Intended Assignment: Mobiles
Trigger Type: Fight , Numeric Arg: 33, Arg list: None
Commands:
*
* 053022 Aegon 350 Ice Fortress
*
context %self.id%
if %actor.is_pc%
  if ! %already_disarmed%
    if %actor.eq(wield)%
      eval wield %actor.eq(wield)%
      %echo% %self.name% quickly disarms %actor.name%!
      %force% %actor.name% rem %wield.name%
    end
    set already_disarmed 1
    global already_disarmed
  else
    unset already_disarmed
  end
end

>[0;00m
[0mCHECKING: 35025[0m

Name: 'curfew',  VNum: [35025], RNum: [ 1013]
Trigger Intended Assignment: Mobiles
Trigger Type: Global Time , Numeric Arg: 23, Arg list: None
Commands:
*
* 053022 Aegon 350 Ice Fortress
*
if ! %self.fighting%
  %echoaround% %self% %self.name.toupper% abandons its task and heads back to the barracks.
  *  %echo% %self.name% says, "Ark-ush tar kak ur skaag."
  if %self.name% /= dwarven
    if %random.100% > 50
      mgoto 35133
    else
      mgoto 35145
    end
  elseif %self.name% /= avenger
    mgoto 35016
  elseif %self.name% /= recruit || %self.name% /= soldier || %self.name% /= fighter
    mgoto 35127
  elseif %self.name% /= wizard
    mgoto 35122
  elseif %self.name% /= priestess
    mgoto 35009
  elseif %self.name% /= human || %self.name% /= child
    mgoto 35120
  elseif %self.name% /= servant
    mgoto 35159
  elseif %self.name% /= thief
    mgoto 35021
  elseif %self.name% /= assassin
    mgoto 35006
  end
  %echo% %self.name.toupper% has arrived, curls up on a cot, and falls asleep.
  nop %self.pos(Sleeping)%
  wait until 06:00
  wake
  nop %self.pos(Standing)%
end

>[0;00m
[0mCHECKING: 35026[0m

Name: 'night_gong',  VNum: [35026], RNum: [ 1014]
Trigger Intended Assignment: Rooms
Trigger Type: Time , Numeric Arg: 22, Arg list: None
Commands:
%zoneecho% 35127 A series of hollow gong strikes signal evening curfew.

>[0;00m
[0mCHECKING: 35027[0m
[0mCHECKING: 35028[0m

Name: 'free_barrizan',  VNum: [35027], RNum: [ 1015]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: liberate
Commands:
*
* 052022 Aegon 350 Ice Fortress
* 062624                   - add reward block, tiers and upgrades
* 030925                     added qt logging
*                                  convert switch to elseIF
*
* if barrizan is saved - put it in a room where it can be used as an ally
*
if %actor.is_pc%
  if %cmd% == liberate && (%arg% /= barrizan || %arg% /= dragon)
    if %actor.eq(wield)%
      set obj %actor.eq(wield).shortdesc%
    else
      set obj bare hands
    end
    %send% %actor% You smash the manacle with your %obj%, scattering the links, and freeing the silver dragon!
    %echoaround% %actor% %actor.name% smashes the manacle encircling the silver dragon's neck with %actor.hisher% %obj%, freeing her!
    wait 3 sec
    %send% %actor% The silver dragon moves closer, looks into your eyes, studying your face.
    %echoaround% %actor% Barrizan moves closer to %actor.name% and studies %actor.hisher% face.
    wait 3 sec
    if %actor.align% > -350
      %send% %actor% She says, in careful imperial tongue, "%actor.name%, you have earned a life for a life this day."
      wait 3 sec
      %send% %actor%  Looking down at the broken manacle, scanning the cell, she finishes, "Call upon me in your hour of need."
      %echoaround% %actor% Barrizan whispers something to %actor.name%.
      wait 3 sec
      %send% %actor% "I will come."
      wait 2 sec
      %send% %actor% Sensing her escape window is fast closing, she nods at you, turns, and disappears in the darkness of the hold.
      %echoaround% %actor% Barrizan nods at %actor.name% in appreciation, and disappears into the darkness of the hold.
      *
      if %actor.varexists(barrizan_rescues)%
        extract barrizan_rescues 1 %actor.barrizan_rescues%
        eval barrizan_rescues %barrizan_rescues% + 1
      else
        set barrizan_rescues 1
      end
      *
      *     begin badge block
      * 
      set collect barrizan rescues
      set tiers 1 50 100 500 1000 2500 5000
      *
      extract tier0 1 %tiers% 
      set tier0name Apprentice Wyrmsaver
      *
      extract tier1 2 %tiers%
      set tier1name Journeyman Wyrmsaver
      *
      extract tier2 3 %tiers%
      set tier2name Master Wyrmsaver
      *
      extract tier3 4 %tiers%
      set tier3name Wyrm Evangelist
      *
      extract tier4 5 %tiers%
      set tier4name Wyrm Protector
      *
      extract tier5 6 %tiers%
      set tier5name Wyrm Archon
      *
      extract tier6 7 %tiers%
      set tier6name Wyrm Lord 
      *
      if %barrizan_rescues% == %tier0%
        %send% %actor% %actor.name%, with %barrizan_rescues% %collect%, you have attained the rank of %tier0name%, and have unlocked the %tier1name% Badge!
        set badge %tier0name%
      elseif %barrizan_rescues% == %tier1%
        %send% %actor% %actor.name%, with %barrizan_rescues% %collect%, you have earned the title of %tier1name%, and have unlocked the %tier2name% Badge!
        set badge %tier1name%
      elseif %barrizan_rescues% == %tier2%
        %send% %actor% %actor.name%, with %barrizan_rescues% %collect%, you have attained the rank of %tier2name%, and have unlocked the %tier3name% badge!
        %send% %actor% You earned a token!
        %load% obj 17934 %actor% inv
        %log% [T35027] has awarded a token vnum 17934 to actor %actor.name%
        set badge %tier2name%
      elseif %barrizan_rescues% == %tier3%
        %send% %actor% %actor.name%, with %barrizan_rescues% %collect%, you have attained the rank of %tier3name%, and have unlocked the %tier4name% badge!
        %send% %actor% You earned a token!
        %load% obj 17935 %actor% inv
        %log% [T35027] has awarded a token vnum 17935 to actor %actor.name%
        set badge %tier3name%
      elseif %barrizan_rescues% == %tier4%
        %send% %actor% %actor.name%, with %barrizan_rescues% %collect%, you have attained the rank of %tier4name%, and have unlocked the %tier5name% badge!
        %send% %actor% You earned a token!
        %load% obj 17936 %actor% inv
        %log% [T35027] has awarded a token vnum 17936 to actor %actor.name%
        set badge %tier4name%
      elseif %barrizan_rescues% == %tier5%
        %send% %actor% %actor.name%, with %barrizan_rescues% %collect%, you have attained the rank of %tier5name%, and have unlocked the %tier6name% badge!
        %send% %actor% You earned a token!
        %load% obj 17936 %actor% inv
        %send% %actor% You earned a token!
        %load% obj 17936 %actor% inv
        %log% [T35027] has awarded 2x token vnums 17936 to actor %actor.name%
        set badge %tier5name%
      elseif %barrizan_rescues% == %tier6%
        %send% %actor% %actor.name%, with %barrizan_rescues% %collect%, you have attained the top rank of %tier6name%!
        %send% %actor% You earned a token!
        %load% obj 17937 %actor% inv
        %log% [T35027] has awarded a token vnum 17937 to actor %actor.name%
        set badge %tier6name%
      else
        if %barrizan_rescues% < %tier1%
          %send% %actor% %actor.name%, as a %tier0name%, you have collected %barrizan_rescues% of %tier1% %collect% toward your next badge.
          set badge %tier1name%
        else if %barrizan_rescues% < %tier2%
          %send% %actor% %actor.name%, as a %tier1name%, you have collected %barrizan_rescues% of %tier2% %collect% toward your next badge.
          set badge %tier2name%
        else if %barrizan_rescues% < %tier3%
          %send% %actor% %actor.name%, as a %tier2name%, you have collected %barrizan_rescues% of %tier3% %collect% toward your next badge.
          set badge %tier2name%
        else if %barrizan_rescues% < %tier4%
          %send% %actor% %actor.name%, as a %tier3name%, you have collected %barrizan_rescues% of %tier4% %collect% toward your next badge.
          set badge %tier3name%
        else if %barrizan_rescues% < %tier5%
          %send% %actor% %actor.name%, as a %tier4name%, you have collected %barrizan_rescues% of %tier5% %collect% toward your next badge.
          set badge %tier4name%
        else if %barrizan_rescues% < %tier6%
          %send% %actor% %actor.name%, as a %tier5name%, you have collected %barrizan_rescues% of %tier6% %collect% toward your next badge.
          set badge %tier5name%
        else
          %send% %actor% %actor.name%, as a %tier6name%, you have liberated Barrizan %barrizan_rescues% times!
          set badge %tier6name%
        end
      end
      *
      * move barrizan to the top of the fortress for future assist
      *
      %load% mob 35130
      %teleport% barrizan 35130
      *
      %door% 35123 west room 35130
      %door% 35123 west description An ice cyclone envelopes the Talon Spire now, the storm intensifying by the moment.  Through the slanting shards of ice, you think you see the silhouette of a great dragon!
      %door% 35130 east room 35123
      %door% 35130 east description The top of the Talon Spire is shrouded in an icy blast of wind, sleet and snow.
      *
      set barrizan_rescues %barrizan_rescues% %badge%
      global barrizan_rescues
      remote barrizan_rescues %actor.id%
      %purge% barrizan
    else
      %send% %actor% Barrizan bristles, hissing, "You will rue this day, knave!"
      %echoaround% %actor% Barrizan draws back, bristling, and then hisses something at %actor.name%.
      wait 3 s
      if %actor.is_pc%
        %force% barrizan hit %actor.name%
      end
    end
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 35029[0m

Name: 'phenia's_plea',  VNum: [35028], RNum: [ 1016]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
*
*053022 Aegon 350 Ice Fortress
*
if %actor.is_pc%
  wait 2 s
  %send% %actor% Phenia, with great effort, looks up at you, studying your face, sensing your aura.
  wait 2 s
  if %actor.align% >= 0
    %echo% In a faint whisper, she manages, 'Did Tallin send you with a skirmishing party to rescue us?'
    wait 5 s
    %echo% Phenia pleads, 'Hurry %actor.name%, free me from these bonds before the gaoler returns.'
    wait 2 s
  end
  %echo% Exhausted, Phenia collapses back onto the frozen floor of the cell.
  wait 2 s
end

>[0;00m
[0mCHECKING: 35030[0m

Name: 'dariano's rant',  VNum: [35029], RNum: [ 1017]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
*
* 0522 Aegon 350 Ice Fortress
*
set wait 5
*
if %actor.is_pc%
  wait 2 s
  %echo% Dariano sits with his back to you, staring into the frozen ice wall of his cell.
  wait %wait% s
  %echo% He utters something softly, perhaps a prayer, sing-song in lilt, but faintly, as if he is nearly spent.
  wait %wait% s
  if ! %actor.race% != Elf
    %echo% Gathering himself, he straightens, and begins to sing in a tongue unfamiliar to you...
    %echo% 'Sia elenniaum portamennia olo ininimini oe i sayannanati elioeyuo  alliahia!'
  else
    %echo% Gathering himself, he straightens, and begins to sing in a tongue familiar to you...
    %echo%  'Painted in blood, the skies weep when the Great Mother is set!  Hear her fire-song!'
  end
  wait %wait% s
  %echo% He slumps forward slightly, head in hands, his tousled hair under a skull cap, oily and frozen, wild atop his cloak.
  wait %wait% s
  %echo% You hear no sound yet Dariano is inside your head, whispering, '%actor.name%, She is near! Find her!'
  wait %wait% s
  if %actor.race% != Elf
    %echo%  Dariano repeats, 'Sia elenniaum portamennia olo ininimini oe i sayannanati elioeyuo  alliahia!'
  else
    %echo% Dariano repeats, 'Painted in blood, the skies weep when the Great Mother has set below the cold ocean!  Sing her fire-song!'
  end
  wait %wait% s
  %echo% Again, you hear no sound, his mouth does not move, and yet he speaks, '%actor.name%, She is near!  Find her!  Save her!'
  wait %wait% s
  if %actor.race% != Elf
    %echo%  Dariano repeats his chorus, 'Sia elenniaum portamennia olo ininimini oe i sayannanati elioeyuo  alliahia!'
  else
    %echo% Dariano repeats his chorus,  'Painted in blood, the skies weep when the Great Mother has set below the cold ocean!  Sing her fire-song!'
  end
end

>[0;00m
Name: 'tiny_big_foot_travel_itinerary',  VNum: [35030], RNum: [ 1018]
Trigger Intended Assignment: Mobiles
Trigger Type: Global Random , Numeric Arg: 5, Arg list: None
Commands:
*
* 053022 Aegon 350 Ice Fortress
*
* setup a random tree to dump the tiny bigfoot around the world in bigfoot type places
* sometimes his magical teleport vortex will grab the first player in the room too!
*
set actor %random.char%
switch %random.25%
  case 1
    * light haon-dor
    set room 6001
  break
  case 2
    * dark haon-dor
    set room 6125
  break
  case 3
    * stone forest
    set room 18511
  break
  case 4
    * calidone forest
    set room 2758
  break
  case 5
    * deep forest
    set room 2211
  break
  case 6
    * forest outside of skara brae
    set room 2324
  break
  case 7
    * forest outside of midgaard
    set room 3500
  break
  case 8
    * arctica forest
    set room 688
  break
  case 9
    * amber forest
    set room 14011
  break
  case 10
    * dark toy forest
    set room 7668
  break
  case 11
    * elven village ruins
    set room 1616
  break
  case 12
    * weeden
    set room 15400
  break
  case 13
    * shadow grove
    set room 13010
  break
  case 14
    * refuge and asylum
    set room 14367
  break
  case 15
    * miden' nir
    set room 1806
  break
  case 16
    * lost isle of shaedar
    set room 6768
  break
  case 17
    * mahn-tor ogre village
    set room 3313
  break
  case 18
    * northern plains
    set room 5406
  break
  case 19
    * stanneg
    set room 13363
  break
  case 20
    * floodland
    set room 9451
  break
  default
    * ice fortress approach
    set room 35085
  break
done
*
%echo% Suddenly a swirl of snow engulfs %self.name%, and with a crack of thunder, he is gone!
if %actor%
  if %actor.is_pc%
    wait 2 s
    %send% %actor% As the swirl of ice and snow engulfs the Tiny Bigfoot, you feel a sag in the fabric of Time and you are drawn into the vortex!
    %echoaround% %actor% %actor.name% slowly fades from view ...
    %echoaround% %actor% As the Tiny Bigfoot bridges space and time, his magical vortex sucks %actor.name% with him!
    %teleport% %actor% %room%
    %force% %actor% look
  end
end
%teleport% %self% %room%
%echoaround% %self% %self.name% arrives.
%zoneecho% %room% A haunting bellow echoes distantly through the trees.

>[0;00m
[0mCHECKING: 35031[0m

Name: 'alarum!_alarum!',  VNum: [35031], RNum: [ 1019]
Trigger Intended Assignment: Mobiles
Trigger Type: Fight , Numeric Arg: 5, Arg list: None
Commands:
*
* 052022 Aegon 350 Ice Fortress
*
if %actor.is_pc%
  if ! %intruder%
    set intruder %actor.name%
    global intruder
    %asound% %self.name% shouts, 'Uraka sendai %intruder% currag-ankh-ur!'
  end
end

>[0;00m
[0mCHECKING: 35032[0m

Name: 'heeding_the_call!',  VNum: [35032], RNum: [ 1020]
Trigger Intended Assignment: Mobiles
Trigger Type: Speech , Numeric Arg: 1, Arg list: Uraka!
Commands:
*
* 050823 Aegon 350 Ice Fortress
*
%asound% You hear a muffled shout of alarm nearby!
if ! %hunting%
if ! %intruder%
%asound% %self.room.vnum% %self.name% shouts,  '%intruder.name%'
mhunt %intruder.name%

>[0;00m
[0mCHECKING: 35033[0m

Name: 'fountain_drinks',  VNum: [35033], RNum: [ 1021]
Trigger Intended Assignment: Objects
Trigger Type: Consume , Numeric Arg: 100, Arg list: None
Commands:
*
* 060322 Aegon 350 Ice Fortress
*
set poisoned 0
switch %random.5%
  case 1
    * water
    set drink_type 0
    set spell detect invis
    set spell_msg Your eyes glow green.
  break
  case 2
    * firebreather
    set drink_type 7
    set spell detect magic
    set spell_msg Your eyes glow blue.
  break
  case 3
    * blood
    set poisoned 20
    set drink_type 13
    set spell sense life
    set spell_msg You feel your awareness improve.
  break
  case 4
    * salt water
    set poisoned 5
    set drink_type 14
    set spell infravision
    set spell_msg Your eyes glow red.
  break
  default
    * scotch
    set drink_type 17
    set spell bless
    set spell_msg You feel righteous.
  break
done
osetval 2 %drink_type%
osetval 3 %poisoned%
*
set chance %random.%actor.level%%
%echo% %actor.name% rolled %chance% of 30 (needs 27+)
if %chance% >= 27
  * change to actor.remorts when avail
  dg_cast '%spell%' %actor%
  wait 1 s
  %echo% dg_cast '%spell%' %actor.name% remort: %actor.remort%
  %send% %actor% %spell_msg%
end

>[0;00m
[0mCHECKING: 35034[0m

Name: 'you_may_pass',  VNum: [35034], RNum: [ 1022]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 100, Arg list: None
Commands:
*
* 060322 Aegon 350 Ice Fortress
*
*
eval pass 0
*
if %actor.is_pc%
  if ! %actor.affect(invisible)%
    if ! %actor.affect(sneaking)%
      if (%actor.varexists(kazirasch_hawkmasks)% || %actor.varexists(panakala_abductees)% || %actor.varexists(kasraza_dragons)%)
        eval pass 1
      end
      if (%actor.varexists(dajdaj_spies)% || %actor.varexists(jazaraki_royals)% || %actor.varexists(bajjbaji_instruments)% || %actor.varexists(martkza_paladins)%)
        eval pass 1
      end
      if %pass%
        %send% %actor% You are recognized as an agent of the Ice Avatar, and you are waived through a concealed side entrance.
        %echoaround% %actor% %actor.name% is hastily escorted through a concealed side entrance.
        wait 1 s
        %teleport% %actor% 35026
        %force% %actor% look
        %echoaround% %actor% %actor.name% has arrived.
      end
    end
  end
end

>[0;00m
[0mCHECKING: 35035[0m
[0mCHECKING: 35036[0m

Name: 'restore the ice bridge',  VNum: [35035], RNum: [ 1023]
Trigger Intended Assignment: Rooms
Trigger Type: Zone Reset , Numeric Arg: 100, Arg list: None
Commands:
*
* 050223 Aegon 350 Ice Fortress
*
* restore the ice bridge at each end
*
%door% 35028 south room 35083
%door% 35028 south description The narrow ice bridge threatens to fall away into the depths of the mist-shrouded gorge.
%door% 35083 north room 35028
* %door% 35084 northwest room 35083
* %door% 35084 northwest  description The narrow ice bridge threatens to fall away into the depths of the mist-shrouded gorge...
%door% 35084 northwest room 35083
%door% 35084 northwest  description The narrow ice bridge threatens to fall away into the depths of the mist-shrouded gorge...

>[0;00m
[0mCHECKING: 35037[0m

Name: 'cincture clue',  VNum: [35036], RNum: [ 1024]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 100, Arg list: None
Commands:
*
* 060522 Aegon 350 Ice Fortress
*
* %echo% %actor.name% arrives from %direction%.
if %actor.is_pc%
  if %direction% == down
    wait 3 s
    if ! %actor.varexists(cincture_of_the_avatars)%
      %echo% A bright glow emanates from the mists swirling about the loom.
      wait 2 s
      %echo% Suddenly, before, behind and all around you, many voices whisper:
      if %actor.race% == Elf
        %send% %actor% %actor.name%, Kin of the deep forest, knower of Alhandril, of the Ruins of Despair, 
        %send% %actor% combine the tome with the Threads of the Skies, each unto another,
        %send% %actor% and the Loom will complete the circle...
      else
        %send% %actor% %actor.name%, Elohim oye alu e bule taure Alhandril, eue yo e Tor Elohim,
        %send% %actor% Utulie'n aure! Aiya Eldalie ar Atanatarni, ut�lie'n aure! Auta i lome! Auta i lome!
      end
    else
      %send% %actor% Welcome back, %actor.name%, Loomkeeper of Razakasch. 
    end
  end
end

>[0;00m
[0mCHECKING: 35038[0m

Name: 'felling angels',  VNum: [35037], RNum: [ 1025]
Trigger Intended Assignment: Rooms
Trigger Type: Drop , Numeric Arg: 100, Arg list: None
Commands:
*
* 041023 Aegon 350 Ice Fortress
* 030925                                         added QT logging
*                                                      convert switch to elseif
*
*
if %actor.is_pc%
  if %findmob.35016(35008)%
    * %echo% debug: shortdesc: %object.shortdesc.toupper% name %object.name%
    if (%object.vnum% == -1) && (%object.shortdesc% /= Tyrgoth) || (%object.shortdesc% /= Argynos) || (%object.shortdesc% /= Numinis) || (%object.shortdesc% /= Prantroc)
      if (%object.shortdesc% /= Tyrgoth) || (%object.shortdesc% /= Argynos) || (%object.shortdesc% /= Numinis) || (%object.shortdesc% /= Prantroc)
        set reward 1
      else
        %send% %actor% Martkza shakes his head, uninterested in your offering.
return 0
        halt
      end
      *
      %send% %actor% You drop %object.shortdesc%.
      %echoaround% %actor% %actor.name% drops %object.shortdesc%.
      %purge% %object%
      context %actor.id% 
      if %actor.varexists(martkza_paladins)%
        eval martkza_paladins %actor.martkza_paladins% + %reward%
      else
        set martkza_paladins %reward%
      end  
      *
      * begin badge block
      *
      set collect dead paladins
      set tiers 1 50 100 500 1000 2500 5000
      *
      extract tier0 1 %tiers%
      set tier0_name Apprentice Idolator
      *
      extract tier1 2 %tiers%
      set tier1_name Unholy Idolater
      *
      extract tier2 3 %tiers%
      set tier2_name Dark Blasphemer
      *
      extract tier3 4 %tiers%
      set tier3_name Bloody Heretic 
      *
      extract tier4 5 %tiers%
      set tier4_name Fallen Angel
      *
      extract tier5 6 %tiers%
      set tier5_name Satan's Hand
      *
      extract tier6 7 %tiers%
      set tier6_name The Christpuncher
      *
      if %martkza_paladins% == %tier0%
        %send% %actor% %actor.name%, with %martkza_paladins% %collect%, you have unlocked the Apprentice Idolater Badge!
        set badge %tier0name%
      elseif %martkza_paladins% == %tier1%
        %send% %actor% %actor.name%, with %martkza_paladins% %collect%, you attained the rank of %tier1_name%, and you have unlocked the %tier2_name% Badge!
        set badge %tier1name%
      elseif %martkza_paladins% == %tier2%
        %send% %actor% %actor.name%, with %martkza_paladins% %collect%, you attained the rank of %tier2_name%, and you have unlocked the %tier3_name% Badge!
        %send% %actor% You earned a token!
        %load% obj 17934 %actor% inv
        %log% [T35037] has awarded a token vnum 17934 to actor %actor.name%
        set badge %tier2name%
      elseif %martkza_paladins% == %tier3%
        %send% %actor% %actor.name%, with %martkza_paladins% %collect%, you attained the rank of %tier3_name%, and you have unlocked the %tier4_name% Badge!
        %send% %actor% You earned a token!
        %load% obj 17935 %actor% inv
        %log% [T35037] has awarded a token vnum 17935 to actor %actor.name%
        %send% %actor% Martkza rewards you with a pair of Glacial Faulds!
        %load% obj 35162 %actor% inv
        set badge %tier3name%
      elseif %martkza_paladins% == %tier4%
        %send% %actor% %actor.name%, with %martkza_paladins% %collect%, you attained the rank of %tier4_name%, and you have unlocked the %tier5_name% Badge!
        %send% %actor% You earned a token!
        %load% obj 17936 %actor% inv
        %log% [T35037] has awarded a token vnum 17936 to actor %actor.name%
        %send% %actor% Martkza rewards you with a Scythe of Retribution!
        %load% obj 35014 %actor% inv
        set badge %tier4name%
      elseif %martkza_paladins% == %tier5%
        %send% %actor% %actor.name%, with %martkza_paladins% %collect%, you attained the rank of %tier5_name%, and you have unlocked the %tier6_name% Badge!
        %send% %actor% You earned a token!
        %load% obj 17936 %actor% inv
        %send% %actor% You earned a token!
        %load% obj 17936 %actor% inv
        %log% [T35037] has awarded 2x token vnums 17936 to actor %actor.name%
        %send% %actor% Martkza rewards you with the Heart of a Dark Blasphemer!
        %load% obj 35126 %actor% inv
        set badge %tier5name%
      elseif %martkza_paladins% == %tier6%
        %send% %actor% %actor.name%, with %martkza_paladins% %collect%, you attained the top rank of %tier6_name%!
        %send% %actor% You earned a token!
        %load% obj 17937 %actor% inv
        %log% [T35037] has awarded a token vnum 17937 to actor %actor.name%
        set badge %tier6name%
      else
        if %martkza_paladins% < %tier1%
          %send% %actor% %actor.name%, as a %tier0_name%, you have achieved %martkza_paladins% of %tier1% %collect% toward your next badge.
          set badge %tier0name%
        elseif %martkza_paladins% < %tier2%
          %send% %actor% %actor.name%, as a %tier1_name%, you have achieved %martkza_paladins% of %tier2% %collect% toward your next badge.
          set badge %tier1name%
        elseif %martkza_paladins% < %tier3%
          %send% %actor% %actor.name%, as a %tier2_name%, you have achieved %martkza_paladins% of %tier3% %collect% toward your next badge.
          set badge %tier2name%
        elseif %martkza_paladins% < %tier4%
          %send% %actor% %actor.name%, as a %tier3_name%, you have achieved %martkza_paladins% of %tier4% %collect% toward your next badge.
          set badge %tier3name%
        elseif %martkza_paladins% < %tier5%
          %send% %actor% %actor.name%, as a %tier4_name%, you have achieved %martkza_paladins% of %tier5% %collect% toward your next badge.
          set badge %tier4name%
        elseif %martkza_paladins% < %tier6%
          %send% %actor% %actor.name%, as a %tier5_name%, you have achieved %martkza_paladins% of %tier6% %collect% toward your next badge.
          set badge %tier5name%
        else
          %send% %actor% %actor.name%, as the %tier6_name%, you have collected %martkza_paladins% %collect%.
          set badge %tier6name%
        end
      end
      *
      set martkza_paladins %martkza_paladins% %badge%
      global martkza_paladins
      remote martkza_paladins %actor.id%
    else
      %send% %actor% Martkza shakes his head, uninterested in your offering.
      return 1
      halt
    end
  end
end

>[0;00m
Name: 'secret tunnel',  VNum: [35038], RNum: [ 1026]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: move
Commands:
*
* 060522 Aegon 350 Ice Fortress
*
if (%arg% /= crate || %arg% /= box) && %self.contents(35120)%
  if %actor.str% > 22
    %door% 35159 south name trapdoor
    %door% 35159 south room 9322
    %door% 35159 south description  You're not sure, but you think you feel a warm draft emanating from behind this stack of crates.
    %door% 35159 south flags ab
    %send% %actor% As you move the crate away from the wall, you reveal a trapdoor.
    %echoaround% %actor% moves a crate away from the wall to reveal a trapdoor.
    return 1
    halt
  else
    %send% %actor% Try as you might, you are not strong enough to move the crate.
    %echoaround% %actor% %actor.name% is attempting to move the crate away from the ice wall.
    return 0
  end
else
  return 1
end

>[0;00m
[0mCHECKING: 35039[0m

Name: 'hide the secret tunnel',  VNum: [35039], RNum: [ 1027]
Trigger Intended Assignment: Rooms
Trigger Type: Zone Reset , Numeric Arg: 25, Arg list: None
Commands:
*
* 041323 Aegon 350 Ice Fortress
*
%door% 35120 south flags abcd
%door% 35120 south description  You're not sure, but you think you feel a warm draft emanating from behind this stack of crates.

>[0;00m
[0mCHECKING: 35040[0m

Name: 'crate and barrel',  VNum: [35040], RNum: [ 1028]
Trigger Intended Assignment: Mobiles
Trigger Type: Global Entry , Numeric Arg: 50, Arg list: None
Commands:
*
* 060722 Aegon 350 Ice Fortress
*
set room %self.room%
set crate_load_rate 20
set chest_load_rate 20
eval selection %random.4%
*
switch %selection%
  *
  * crates
  *
  case 1
    if %room.contents(35120)%
      get crate
      * %zoneecho% %room.vnum% %self.name% gets a crate in %room.name% %room.vnum%.
    elseif ! %self.has_item(35120)%
      if %random.100% <= %crate_load_rate%
        %load% obj 35120 %self%
        * %zoneecho% %room.vnum% %self.name% loaded a crate in %room.name% %room.vnum%.
      end
    elseif (%room.vnum% < 35033 || %room.vnum% > 35044)
      * %zoneecho% %room.vnum% %self.name% drops a crate in %room.name% %room.vnum%.
      drop crate
    else
      * %zoneecho% %room.vnum% %self.name% can't drop a crate mid-air!
    end
  break
  *
  * chests
  *
  case 2
    if %room.contents(35081)%
      * %zoneecho% %room.vnum% %self.name% picks up a chest in %room.name% %room.vnum%.
      get chest
    elseif ! %self.has_item(35081)%
      if %random.100% <= %chest_load_rate%
        %load% obj 35081 %self%
        * %zoneecho% %room.vnum% %self.name% loaded a chest in %room.name% %room.vnum%.
      end
    elseif (%room.vnum% < 35033 ||  %room.vnum% > 35044)
      * %zoneecho% %room.vnum% %self.name% dropped a chest in %room.name% %room.vnum%.
      drop chest
    else
      * %zoneecho% %room.vnum% %self.name% can't drop a chest mid-air!
    end
  break
  *
  * drop a crate or a chest
  *
  case 3
    if (%room.vnum% < 35033) || (%room.vnum% > 35044))
      if %self.has_item(35120)%
        * %zoneecho% %room.vnum% %self.name% drops a crate in %room.name% %room.vnum%.   
        drop crate
      elseif %self.has_item(35081)%
        * %zoneecho% %room.vnum% %self.name% drops a chest in %room.name% %room.vnum%.   
        drop chest
      end
    else
      * %zoneecho% %room.vnum% %self.name% did not drop cargo mid-air!
    end
  break
  *
  * purge a crate or chest
  *
  case 4
    if %self.has_item(35120)%
      * %zoneecho% %room.vnum% %self.name% purged a crate in %room.name% %room.vnum%.
      %purge% %self.inventory(35120)%
    elseif %self.has_item(35081)%
      * %zoneecho% %room.vnum% %self.name% purged a chest in %room.name% %room.vnum%.
      %purge% %self.inventory(35081)%
    end
  break
  *
  *
  *
  default
  break
done

>[0;00m
[0mCHECKING: 35041[0m

Name: 'mummy's_little_helper',  VNum: [35041], RNum: [ 1029]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 1, Arg list: None
Commands:
*
* 060722 Aegon 350 Ice Fortress
set room %self.room%
*
if ! %self.follower% && %room.vnum% < 35033
  if %time.hour% > 20 || %time.hour% < 7
    switch %random.40%
      case 1
        %echo% A profaned corpse of a human warrior rises up from an icy tomb.
        %load% mob 35102
      break
      case 5
        %echo% A profaned corpse of a dwarven infantryman rises up from an icy tomb.
        %load% mob 35103
      break
      case 9
        %echo% A profaned corpse of an elven lancer rises up from an icy tomb.
        %load% mob 35106
      break
      case 13
        %echo% A rotting corpse of a goblin archer rises up from an icy tomb.
        %load% mob 35107
      break
      case 20
        %echo% A rotting corpse rises up from an icy tomb.
        %load% mob 35062
      break
      case 30
        %echo% A rotting skeletal form rises up from an icy tomb.
        %load% mob 35063
      break
      default
%echoaround% %self% The Necromancer's apprentice shudders and growls, gore dripping from its icy maw.
      break
    done
  end
end

>[0;00m
[0mCHECKING: 35042[0m

Name: 'scepter of the earth avatar !undead',  VNum: [35042], RNum: [ 1030]
Trigger Intended Assignment: Objects
Trigger Type: Random , Numeric Arg: 25, Arg list: None
Commands:
*
* 070422 Aegon 350 Ice Fortress
*
* scepter of the earth avatar is !undead
*
set room_var %self.room%
if %room_var.contents(35091)%
  set target_char %room_var.people%
  while %target_char%
    set next_target %target_char.next_in_room%
    if %target_char.name% /= zombie || %target_char.name% /= spectre || %target_char.name% /= skeleton || %target_char.name% /= undead
      wait 2 s
      %echo% A ray of pure energy lances from the Scepter's focus stone and burns through the %target_char.name%'s brain!
      %echo% The abomination of unlife collapses into a pile of ash and blows away.
      %purge% %target_char%
    end
    set target_char %next_target%
  done
end

>[0;00m
[0mCHECKING: 35043[0m
[0mCHECKING: 35044[0m

Name: 'a little side hustle',  VNum: [35043], RNum: [ 1031]
Trigger Intended Assignment: Mobiles
Trigger Type: Bribe , Numeric Arg: 1, Arg list: None
Commands:
*
* 060822 Aegon 350 Ice Fortress
*
if %actor.is_pc% && %actor.canbeseen%
  switch %self.vnum%
    case 35116
      set to_room 35021
      set master Kazirasch
      set room_name Den
      set to_direction east
    break
    case 35117
      set to_room 35006
      set master Jazaraki
      set room_name Retreat
      set to_direction west
    break
    case 35121
      set to_room 35122
      set master Hopper
      set room_name Parlor
      set to_direction north
    break
    default
      set to_room %self.room%
      set master his master
      set room_name Hideout
      set to_direction west
    break
  done
  *
  if %actor.varexists(bribe_amt)%
    set bribe_amt %actor.bribe_amt%
    eval bribe_amt %bribe_amt% + %%random.%bribe_amt%%
  else
    set bribe_amt 9000
  end
  *
  * provide 10% chance to charisma/wis your way inside with either max wis or cha
  *
  set chance 110
  set luck %random.75%
  *
  eval chance %chance% - %actor.wis%
  eval luck %luck% + %actor.cha%
  *
* %echo% %actor.name% stored bribe: %actor.bribe_amt% bribe received: %amount% required bribe min: %bribe_amt% chance: %chance% luck: %luck% wis: %actor.wis% cha: %actor.cha%
  *
  if %amount% >= %bribe_amt%
    %send% %actor% The %self.name% sneers and grunts, "Well done, %actor.name%, you %actor.race% scum best be on your way!"
    %send% %actor% He pushes you roughly into %master%'s %room_name%.
    %echoaround% %actor% The %self.name% scans the crowd, then when he decides nobody is looking,
    furtively accepts some gold from %actor.name% and ushers %actor.himher% into the %room_name%.
    %teleport% %actor% %to_room%
    * %force% %actor% %to_direction%
    %echoaround% %actor% %actor.name% has arrived.
    %force% %actor% look 
    *
    global bribe_amt
    remote bribe_amt %actor.id%
    *
  elseif %luck% >= %chance% 
    %send% %actor% The %self.name% spits on the ground and sneers, "%actor.name%, you %actor.race% scum disgust me, but you have balls, i'll give you that!"
    He checks to see that nobody is watching, and promptly pushes you into %master%'s %room_name%.
    %echoaround% %actor% The %self.name% scans the crowd, then furtively accepts some gold from %actor.name% and ushers %actor.himher% into the %room_name%.
    %teleport% %actor% %to_room%
    * %force% %actor% %to_direction%
    %echoaround% %actor% %actor.name% has arrived.
    %force% %actor% look
  else
    eval bribe_amt (%bribe_amt% / 100) *  100
    %send% %actor% The %self.name% grimaces, spits, and says, "Mingy gets you dead, %actor.name%.  My price starts at %bribe_amt% coins.  Now be gone!"
    %echo% %self.name% puts a heavy boot into %actor.name%'s arse.
    %damage% %actor% %random.150%
  end
end

>[0;00m
[0mCHECKING: 35045[0m

Name: 'beware the balrog',  VNum: [35044], RNum: [ 1032]
Trigger Intended Assignment: Rooms
Trigger Type: Leave , Numeric Arg: 100, Arg list: None
Commands:
*
* 060722 Aegon 350 Ice Fortress
*
if %actor.is_pc%
  if %direction% == d && %room.people% /= dwarven
    %echo% %room.people% grabs your pack and prevents you from leaving %direction%.
    if %actor.race% = Dwarf
      %send% %actor% The dwarf spits, and growls, "%actor.name%, do not stir those horrors that should be left sleeping!"
    else
      %send% %actor% The dwarf grabs you by your kit and prevents you from leaving %direction%, issuing a terse warning in his native tongue.
    end
    return 0
  else
    return 1
  end
end

>[0;00m
[0mCHECKING: 35046[0m

Name: 'dwarven miner performances',  VNum: [35045], RNum: [ 1033]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 5, Arg list: None
Commands:
* 
* 052222 Aegon 350 Ice Fortress
*
* random dwarven miner performances
* 30% chance of providing yol tip to a dwarven speaker
*
switch %random.15%
  case 1
    %echoaround% %self% %self.name.toupper% rests a moment on %self.hisher% pick and strokes %self.hisher% ice-encrusted beard.
    wait 4 s
    %echoaround% %self% %self.heshe% shifts %self.hisher% load, nods at you, then moves away along the corridor.
    wait 2 s
  break
  case 2
    %echoaround% %self% %self.name.toupper% hands a sharpening tool to %self.hisher% crew boss.
    wait 4 s
    %echoaround% %self%  The crew boss returns a smile and offers a word of encouragement.
    wait 2 s
  break
  case 3
    %echoaround% %self% %self.name.toupper% looks at you suspiciously as %self.heshe% passes by.
    wait 4 s
    %echoaround% %self%  %self.heshe% pulls %self.hisher% cloak tighter about %self.hisher% against the impossible cold.
    wait 2 s
  break
  case 4
    %echoaround% %self% %self.name.toupper% stops to speak to %self.hisher% friend in a hurried whisper.
    wait 4 s
    %echoaround% %self% %self.heshe% looks around for a work gang driver, before continuing.
    wait 2 s
  break
  case 5
    %echoaround% %self% %self.name.toupper% calls out to %self.hisher% friend.
    wait 4 s
    %echoaround% %self% They embrace quickly, and then move on, returning to the lines.
    wait 2 s
  break
  case 6
    %echoaround% %self% %self.name.toupper% drops %self.hisher% pick, apparently exhausted.
    wait 4 s
    %echoaround% %self% Another miner stoops to retrieve it and pulls %self.hisher% aside.
    wait 2 s
  break
  case 8
    %echoaround% %self% %self.name.toupper% stops to swig water from a skin kept under %self.hisher% cloak.
    wait 4 s
    %echoaround% %self% Finished, %self.heshe% stows the skin and moves away, back to the lifts.
    wait 2 s
  break
  case 8
    %echoaround% %self% %self.name.toupper% nods at you, then whispers, "Dhurg est nhar tor ghraghk..."
    wait 4 s
    %echoaround% %self% After searching your face for a sign of recognition, %self.heshe% sighs, and hurries on.
    wait 2 s
  break
  case 9
    %echoaround% %self% %self.name.toupper% stops to eat a hardened rind of bread pulled from beneath %self.hisher% greatcloak.
    wait 4 s
    %echoaround% %self% He wraps the last of it, and tucks it back into a pocket for later.
    wait 2 s
  break
  case 10
    %echoaround% %self% %self.name.toupper% changes out a torch from one of the wrought iron sconces set at intervals in the passageway.
    wait 4 s
    %echoaround% %self% Task complete, %self.heshe% joins the column of miners headed to the lifts.
    wait 2 s
  break
  default
    if %actor.class% == Dwarf
      %send% %actor% The miner looks at you closely, nods, and whispers, "%actor.name%, seek the Uruk-Hai Shaman chained in the deepest gallery.  He awaits."
    else
      %send% %actor% The miner looks at you closely, whispers something under his breath in high dwarven, shifts his burden, and moves on.
    end
  break
done

>[0;00m
[0mCHECKING: 35047[0m

Name: 'quest for the arkenstone',  VNum: [35046], RNum: [ 1034]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 100, Arg list: None
Commands:
*
* 081722 Aegon 350 Ice Fortress
*
if %actor.is_pc%
  if %actor.class% == Dwarf ||  %actor.has_item(35177)%
    context %actor.id%
    if ! %actor.varexists(arkenstone_quest)%
      wait 8 s
      %send% %actor% In your mind, you hear the voices of the shades of the line of Durin.
      wait 4 s
      %send% %actor% Many voices, together, as if overlaid one upon the other, whisper...
      wait 4 s
      %send% %actor% "%actor.name%, there is but a single quest left for you to complete."
      wait 8 s
      %send% %actor% From beyond the Great Dragon Seas, beyond the Varda, you hear simply this:
      wait 4 s
      %send% %actor% "%actor.name%, Recover the stone.  Recover the Arkenstone."
      wait 8 s
      set arkenstone_quest 1
      global arkenstone_quest
      remote arkenstone_quest %actor.id%
    else
      %send% %actor% A memory of the plight of the delving folk passes before you, a reminder.
      %send% %actor% "%actor.name%, know that you shalt be forever a hero in the hearts of Durin's folk."
    end
  else
    wait 4 s
    %send% %actor% Whispers in an ancient tongue swirl about you, a forlorn cry lost in the icy mists.
  end
end

>[0;00m
Name: 'the gates of khazad dum',  VNum: [35047], RNum: [ 1035]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 4, Arg list: lo
Commands:
*
* 060822 Aegon 350 Ice Fortress
*
if %cmd% == look && %arg% /= shaft
  *  %echo% today is the %time.day%th day of the ordinal mud month %time.month%
  if (%time.day% == 35)  && %time.month% == 16
    %send% %actor% The shaft of moonlight has illuminated the ancient elven warding cast into these Great Doors.
    %send% %actor% As the light spreads across the runes, the massive portal opens!
    %echoaround% %actor.name% has discovered the secret of Khazad Dum!
    %teleport% %actor% 35139
    %force% %actor.name% look
  else
    eval curdate (%time.month% * 35) + %time.day%
    eval delta 595 - %curdate%
    if %delta% < 0
      eval %delta% * -1
      set toward_awayfrom away from
    else
      set toward_awayfrom toward
    end
    *  %echo% curdate: %curdate% delta: %delta% toward or away from: %toward_awayfrom%
    if %delta% < 7
      %send% %actor% The shaft of moonlight is inching %toward_awayfrom% the center of the Great Doors.
    elseif %delta% < 35
      %send% %actor% The shaft of moonlight is creeping %toward_awayfrom% the massive steps leading to the Great Doors.
    elseif %delta% < 70
      %send% %actor% The shaft of moonlight is crawling %toward_awayfrom% the atrium leading to the Great Doors.
    elseif %delta% < 105
      %send% %actor% The shaft of moonlight is drifting %toward_awayfrom% the massive plaza leading to the Great Doors.
    elseif %delta% < 280
      %send% %actor% The shaft of moonlight is dragging %toward_awayfrom% the massive plateau leading to the Great Doors.
    else
      %send% %actor% The shaft of moonlight is moving %toward_awayfrom% the Great Doors.
    end
  end
else
  return 0
end

>[0;00m
[0mCHECKING: 35048[0m

Name: 'ice choker',  VNum: [35048], RNum: [ 1036]
Trigger Intended Assignment: Objects
Trigger Type: Get , Numeric Arg: 10, Arg list: None
Commands:
*
* 102222 Aegon Ice Fortress 350
*
if %actor.is_pc%
  wait 3 s
  %send% %actor% As soon as you grasp the collar of clear ice, it melts into a puddle of frozen memory.
  %echoaround% %actor% As soon as %actor.name% touches the %self.name%, it melts into a cloud of frozen vapor and vanishes.
  wait 4 s
  %purge% %self%
  return 0
end

>[0;00m
[0mCHECKING: 35049[0m

Name: 'ring around the collar',  VNum: [35049], RNum: [ 1037]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: u
Commands:
*
* 060122 Aegon 350 Ice Fortress
*
* wearing the ice collar of the gyrgyle thralls gains
* access to the upper zone
*
if %cmd% /= u
  set collar 0
  *
  if %actor.eq(neck1)%
    set neck1 %actor.eq(neck1)%
    if (%neck1.vnum% == 35133 || %neck1.vnum% == 35134)
      set collar 1
    end
  end
  if ! %collar%
    if %actor.eq(neck2)%
      set neck2 %actor.eq(neck2)%
      if (%neck2.vnum% == 35133 || %neck2.vnum% == 35134)
        set collar 1
      end
    end
  end
  if %collar%
    if %self.vnum% == 35016 && %findmob.35016(35008)%  
      set title Lord Martkza
      set class Antipaladin Master
      set target 35046
    elseif %self.vnum% == 35049 && %findmob.35049(35049)%
      set master Lord Ul-Jaza
      set class Sith Master
      set target 35050
    end
    %send% %actor% You head for the stairs.
    wait 1 s
    %send% %actor% %title% sees that you wear the collar of the ice thralls, and waves you through.
    %echoaround% %actor% After %actor.name% shows something to %title%, the %class% nods, and %actor.name% disappears up the steps.
    %teleport% %actor% %target%
    %echoaround% %actor% %actor.name% has arrived.
    %force% %actor.name% look
    return 1
  else
    return 0
    halt
  end
else
  return 0
end

>[0;00m
[0mCHECKING: 35050[0m

Name: 'time time time is on our side',  VNum: [35050], RNum: [ 1038]
Trigger Intended Assignment: Objects
Trigger Type: Wear , Numeric Arg: 100, Arg list: None
Commands:
*
* 042923 Aegon 350 Ice Fortress
*
if %actor.is_pc%
  if %self.timer%
    eval minutes (%self.timer% * 75) / 60
    *
    eval days_remaining %minutes% / 1440
    if %days_remaining%
      eval minutes %minutes% - (%days_remaining% * 1440)
    end
    *
    eval hours_remaining %minutes% / 60
    if %hours_remaining%
      eval minutes %minutes% - (%hours_remaining% * 60 )
    end
    *
    set item %self.shortdesc%
    %send% %actor% %item.toupper% has %days_remaining% days, %hours_remaining% hours and %minutes% minutes remaining before it expires!
  end
  return 1
end

>[0;00m
[0mCHECKING: 35051[0m
[0mCHECKING: 35052[0m

Name: 'free the miners',  VNum: [35051], RNum: [ 1039]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 1, Arg list: liberate
Commands:
*
* 061622 Aegon 350 Ice Fortress
* 062424 Aegon                          - modifications to support easy badge storage, reward alignment
* 031025                                     - added QT logging, converted switch block from case to ifelse
*                                                  - respect PEACEFUL rooms to avoid mass easy releases
*
context %actor.id%
*
if %actor.is_pc%
  if %cmd% == liberate && (%arg% /= miner || %arg% /= dwarf)
    *   %echo% debug: vnum: %self.vnum% pos: %self.pos%
    if %self.vnum% != 35127
      *
      set room %self.room%
      *
      if ! (%self.pos% == Sleeping)
        if %room.roomflag(PEACEFUL)%
          eval driver_present %%findmob.%room.vnum%(35104)%% + %%findmob.%room.vnum%(35105)%%
          if !%driver_present%
            * if a dwarf
            %send% %actor% You remove the collar from the dwarf. %actor.hisher% eyes focus, for the first time in many years, 
            %echoaround% %actor% %actor.name% reaches out to the dwarven miner and carefully removes the thrall's collar.
            %send% %actor% and with a smile, disappears into the mine warrens.
            %send% %actor% As %actor.hisher% footsteps recede, %actor.hisher% overlords rush in to stop the escapee!
            %echoaround% %actor% Regaining %self.hisher% composure, realizing %self.heshe% is now free, %self.heshe% gives a curt salute and slips away into the frozen gloom.
            wait 1 s
            *
            *     begin badge block
            *
            set collect liberated dwarves
            set tiers 1 100 250 500 1000 2500 5000
            *
            extract tier0 1 %tiers%
            set tier0name Pied Piper
            *
            extract tier1 2 %tiers%
            set tier1name Miner Emancipator
            *
            extract tier2 3 %tiers%
            set tier2name Durin's Hope
            *
            extract tier3 4 %tiers%
            set tier3name Thorin's Hero
            *
            extract tier4 5 %tiers%
            set tier4name Telchar's Hero
            *
            extract tier5 6 %tiers%
            set tier5name Aul�'s Savior
            *
            extract tier6 7 %tiers%
            set tier6name Durin's Champion     
            *
            if %actor.varexists(free_ice_miners)%
              extract free_ice_miners 1 %actor.free_ice_miners%
              eval free_ice_miners %free_ice_miners% + 1
            else
              set free_ice_miners 1
            end
            *
            if %free_ice_miners% == %tier0%
              %send% %actor% %actor.name%, you attained the rank of %tier0name%, and you have unlocked the %tier1name% badge!
              set badge %tier0name%
            elseif %free_ice_miners% == %tier1%
              %send% %actor% %actor.name%, you attained the rank of %tier1name%, and you have unlocked the %tier2name% badge!
              set badge %tier1name%
            elseif %free_ice_miners% == %tier2%
              %send% %actor% %actor.name%, you attained the rank of %tier2name%, and you have unlocked the %tier3name% badge!
              set badge %tier2name%
              %send% %actor% You earned a token!
              %log% [T35051] has awarded a token vnum 17934 to actor %actor.name%
              %load% obj 17934 %actor% inv
              %send% %actor% When you remove this thrall's collar, it glows with a blinding blue light!
              %load% obj 35134 %actor% inv
            elseif %free_ice_miners% == %tier3%
              %send% %actor% %actor.name%, you attained the rank of %tier3name%, and you have unlocked the %tier4name% badge!
              set badge %tier3name%
              %send% %actor% You earned a token!
              %log% [T35051] has awarded a token vnum 17935 to actor %actor.name%
              %load% obj 17935 %actor% inv
            elseif %free_ice_miners% == %tier4%
              %send% %actor% %actor.name%, you attained the rank of %tier4name%, and you have unlocked the %tier5name% badge!
              set badge %tier4name%
              %send% %actor% You earned a token!
              %log% [T35051] has awarded a token vnum 17936 to actor %actor.name%
              %load% obj 17936 %actor% inv
            elseif %free_ice_miners% == %tier5%
              %send% %actor% %actor.name%, you attained the rank of %tier5name%, and you have unlocked the %tier6name% badge!
              set badge %tier5name%
              %send% %actor% You earned a token!
              %load% obj 17936 %actor% inv
              %send% %actor% You earned a token!
              %load% obj 17936 %actor% inv
              %log% [T35051] has awarded 2x token vnum 17936 to actor %actor.name%
              %load% obj 35091 %actor% inv
              %echo% A brilliant green light suffuses the room!  Behold! Materializing near %actor.name%,
              %echo% fading in from the cold mists, gaining substance and matter, is the Scepter of the
              %echo% Earth Avatar!
            elseif %free_ice_miners% == %tier6%
              %send% %actor% %actor.name%, you attained the top rank of %tier6name%!
              %send% %actor% You earned a token!
              %load% obj 17937 %actor% inv
              %log% [T35051] has awarded a token vnum 17937 to actor %actor.name%
            else
              if %free_ice_miners% < %tier1%
                %send% %actor% %actor.name%, as an %tier0name%, you have collected %free_ice_miners% of %tier1% %collect% toward your next badge.
                set badge %tier0name%
              elseif %free_ice_miners% < %tier2%
                %send% %actor% %actor.name%, as a %tier1name% you have collected %free_ice_miners% of %tier2% %collect% toward your next badge.
                set badge %tier1name%
              elseif %free_ice_miners% < %tier3%
                %send% %actor% %actor.name%, as a %tier2name%, you have collected %free_ice_miners% of %tier3% %collect% toward your next badge.
                set badge %tier2name%
              elseif %free_ice_miners% < %tier4%
                %send% %actor% %actor.name%, as a %tier3name%, you have collected %free_ice_miners% of %tier4% %collect% toward your next badge.
                set badge %tier3name%
              elseif %free_ice_miners% < %tier5%
                %send% %actor% %actor.name%, as a %tier4name%, you have collected %free_ice_miners% of %tier5% %collect% toward your next badge.
                set badge %tier4name%
              elseif %free_ice_miners% < %tier6%
                %send% %actor% %actor.name%, as a %tier5name%, you have collected %free_ice_miners% of ????? %collect% toward your next badge.
                set badge %tier5name%
              else
                %send% %actor% %actor.name%, as the %tier6name%, you have collected %free_ice_miners% %collect%.
                set badge %tier6name%
              end          
            end
            
            *
            set free_ice_miners %free_ice_miners% %badge%
            global free_ice_miners
            remote free_ice_miners %actor.id%
            *
            %load% mob 35105
            %force% leader kill %actor%
            %purge% %self%
            return 1
          else
            %send% %actor% You couldn't possibly free this miner while %self.hisher% captor is present!
            return 1
            halt
          end
        else
          %send% %actor% Sorry, %actor.name%, you can't do that here.  Respect the peace.
          return 1
          halt
        end
      else
        %send% %actor% Sorry, %actor.name%, %self.heshe%'s sleeping.  Maybe after %self.heshe% wakes up.
        return 1
        halt
      end
    else
      * Ironfist
      wait 1 s
      %send% %actor% %self.name% looks at you and smiles.
      %send% %actor% He whispers, "%actor.name%, by the glory of Durin's Hope!  Alas, my work is here, saving my folk.  I must decline."
      wait 2 s
      %echo% The Ironfist gives you a curt nod, hands you a spare thrall collar, and moves away, back to his routine.
      %load% obj 35133 %actor% inv
      return 1
      halt
    end
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 35053[0m

Name: 'mine maze',  VNum: [35052], RNum: [ 1040]
Trigger Intended Assignment: Rooms
Trigger Type: Zone Reset , Numeric Arg: 25, Arg list: None
Commands:
*
* 061622 Aegon 350 Ice Fortress
*
* randomize the mine maze
*
set mine_hub 35140
set pass 10
set odds 40
eval gt_num 100 - %odds%
*
set exit_back 0
set exit_yol 0
*
set txt[1]  Furs, skins, leather goods, sinew, bone and wrought metals pass through these tunnels into the small factories here that produce the rudimentary clothing and tools for the occupants of the warrens. 
set txt[2]  You are in a maze of twisty passages, all alike. 
set txt[3]  These corridors lead down to the secure offices of the minders and slave tenders, gyrgyles of rank, the drivers and porters that control the incoming traffic from the wider lands. 
set txt[4]  Limned in the cold, unearthly light from the main shaft above,  this stone and ice channel is filled with thick smoke from the forges and glassworks. 
set txt[5]  This passageway continues for fifty meters before abruptly coming to an end, sealed a dozen years ago to prevent escape to the military halls. 
set txt[6]  This wide corridor runs back toward the central mine shaft, the fortress, and misery. 
set txt[7]  A series of rough-hewn passages lead to the nurseries, where the dwarven and slave young are tended, taught their parents' trades, and fed, bathed, and clothed. 
set txt[8]  You are in a twisty maze of passages, all alike. 
set txt[9]  The frozen mists crowd in, threatening to overwhelm you.  You've been here before, but you're not sure.  It's overwhelming.  You're lost in here, in these endless tunnels, and you will never escape. 
*
* exits
*
set txt[10]  Your party begins to whisper of mutiny.  The warm glow emanating from above promises a welcome escape from this endless frozen hell. 
set txt[11]  Near exhaustion, your party has been searching these dark tunnels for days.  Ahead, a pulsing blue light  (is it just your imagination?), illuminates the frozen walls.
*
%zoneecho% 35199 rebuilding maze for room %self.vnum% ...
*
* create a random room
*
while %pass% > 0
  set max %random.11%
  set desc %%txt[%max%]%%
  eval desc %desc%
*
* create a random exit
*
 eval exit_room %mine_hub% + %random.5%
*
 switch %pass%
   case 1
    set dir north
    break
   case 2
     set dir south
    break
   case 3
     set dir east
    break
  case 4
    set dir west
  break
  case 5
    set dir northeast
  break
  case 6
    set dir northwest
  break
  case 7
    set dir southeast
  break
  case 8
    set dir southwest
  break
  case 9
    set dir up
    if ! %exit_back%
      if %random.100% > %gt_num%
        set exit_room 35133
        eval exit_back 1
        set desc %txt[9]% 
%zoneecho% 35199 mine maze return to warrens created!
      end
    end
    break
  case 10
    if ! %exit_yol%
      set dir down
      if %random.100% > %gt_num%
        eval exit_yol 1
        set exit_room 35152
        set desc %txt[10]% 
        %zoneecho% 35199 You feel a tremor from deep within the glacial ice.
      end
    end
    break
  default
  break
done
*
%door% %self.vnum% %dir% room %exit_room%
%door% %self.vnum% %dir% description %desc%
*
eval pass %pass% - 1
*
done

>[0;00m
[0mCHECKING: 35054[0m

Name: 'this side up',  VNum: [35053], RNum: [ 1041]
Trigger Intended Assignment: Objects
Trigger Type: Get , Numeric Arg: 25, Arg list: None
Commands:
*
* 062222 Aegon 350 Ice Fortress
*
if %actor.is_pc%
  if %actor.str% < 18
    return 0
    %send% %actor% You try to lift the %self.name%, but it falls back to the ground.
    %echoaround% %actor% %actor.name% barely lifts the %self.name% before it slips out of %actor.hisher% hands to the icy floor.
    wait 1 s
    %send% %actor% Man, that hurt!
    eval trapdamage %random.%%actor.hitp%%
    if %actor.str% > 17
      eval trapdamage %trapdamage% / 2
    else if %actor.str < 15
      eval trapdamage %trapdamage% * 2
    end
    %damage% %actor% %trapdamage%
    halt
  else
    if (%actor.str% == 25 && %actor.stradd% == 100)
      %send% %actor% You lift the %self.name% with such force that it shatters in your hands.
      %echoaround% %actor% %actor.name% lifts the %self.name% with such force that it shatters in %actor.hisher% hands.
      if %random.100% > 98
        eval vnum 17931 + %random.5%
        %load% obj %vnum%
        %send%  %actor% A shiny object falls to the icy floor.
        %echoaround% %actor% From the splintered chaos of the disintegrating %self.name%, a shiny object falls to the icy floor.
      end
      return 0
      %purge% %self%
    end
  end
end

>[0;00m
[0mCHECKING: 35055[0m

Name: 'liberate the slaves',  VNum: [35054], RNum: [ 1042]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: liberate
Commands:
*
* 061622 Aegon 350 Ice Fortress
* 071424 Aegon                             re-written to support modern badge block
* 031025                                        added QT logging  converted switches to elseIFs
*                                                     respect PEACEFUL room flags
*
context %actor.id%
*
if %actor.is_pc%
  set room %self.room%
  if ! (%self.pos% == Sleeping)
    if ! %room.roomflag(PEACEFUL)%
      if %cmd% == liberate && (%arg% /= slave || %arg% /= thrall)
        eval  guard_check %findmob.%room.vnum%(35025)% + %findmob.%room.vnum%(35053)% + %findmob.%room.vnum%(35058)% + %findmob.%room.vnum%(35059)%
        if !%guard_check%
          %send% %actor% As you remove the collar from %self.name%. %self.hisher% eyes focus for the first time in many years, and with a smile, disappears into the warrens.
          %echoaround% %actor% %actor.name% reaches for the captive's neck and carefully removes the collar.
          %echoaround% %actor% Regaining %self.hisher% composure, realizing %self.heshe% is now free, %self.heshe% gives a curt salute and slips away into the frozen gloom.
          wait 2 s
          %echo% As %self.hisher% footsteps recede, %self.hisher% captors rush in to stop the escapee and punish their liberator!
          wait 2 s
          if %actor.varexists(free_slaves)%
            extract free_slaves 1 %actor.free_slaves% 
            eval free_slaves %free_slaves% + 1
          else
            set free_slaves 1
          end
          *
          *     begin badge block
          *
          set collect freed thralls
          set tiers 1 100 250 500 1000 2500 5000
          *
          extract tier0 1 %tiers%
          set tier0name Apprentice Emancipator
          *
          extract tier1 2 %tiers%
          set tier1name Holdfast Emancipator 
          *
          extract tier2 3 %tiers%
          set tier2name Holdfast Conductor
          *
          extract tier3 4 %tiers%
          set tier3name Thrall Moses
          *
          extract tier4 5 %tiers%
          set tier4name Thrall Master
          *
          extract tier5 6 %tiers%
          set tier5name Servant Savior
          *
          extract tier6 7 %tiers%
          set tier6name Servant Champion
          *
          if %free_slaves% == %tier0%
            %send% %actor% %actor.name%, you attained the rank of %tier0name%, and you have unlocked the %tier1name% badge!
            set badge %tier0name%
          elseif %free_slaves% == %tier1%
            %send% %actor% %actor.name%, you attained the rank of %tier1name%, and you have unlocked the %tier2name% badge!
            set badge %tier1name%
          elseif %free_slaves% == %tier2%
            %send% %actor% %actor.name%, you attained the rank of %tier2name%, and you have unlocked the %tier3name% badge!
            set badge %tier2name%
            %send% %actor% You earned a token!
            %load% obj 17934 %actor% inv
            %log% [T35054] has awarded a token vnum 17934 to actor %actor.name%
            *perma collar
            %load% obj 35134 %actor% inv
            %send% %actor% When you remove this thrall's collar, it glows with a blinding blue light!
          elseif %free_slaves% ==  %tier3%
            %send% %actor% %actor.name%, you attained the rank of %tier3name%, and you have unlocked the %tier4name% badge!
            set badge %tier3name%
            %send% %actor% You earned a token!
            %load% obj 17935 %actor% inv
            %log% [T35054] has awarded a token vnum 17935 to actor %actor.name%
          elseif %free_slaves% ==  %tier4%
            %send% %actor% %actor.name%, you attained the rank of %tier4name%, and you have unlocked the %tier5name% badge!
            set badge %tier4name%
            %send% %actor% You earned a token!
            %load% obj 17936 %actor% inv
            %log% [T35054] has awarded a token vnum 17936 to actor %actor.name%
          elseif %free_slaves% ==  %tier5%
            %send% %actor% %actor.name%, you attained the rank of %tier5name%, and you have unlocked the %tier6name% badge!
            set badge %tier5name%
            %send% %actor% You earned a token!
            %load% obj 17936 %actor% inv
            %send% %actor% You earned a token!
            %load% obj 17936 %actor% inv
            %log% [T35054] has awarded 2x token vnums 17936 to actor %actor.name%
          elseif %free_slaves% ==  %tier6%
            %send% %actor% %actor.name%, you attained the top rank of %tier6name%!
            set badge %tier6name%
            %send% %actor% You earned a token!
            %load% obj 17937 %actor% inv
            %log% [T35054] has awarded a token vnum 17937 to actor %actor.name%
          else
            if %free_slaves% < %tier1%
              %send% %actor% %actor.name%, as an %tier0name%, you have collected %free_slaves% of %tier1% %collect% toward your next badge.
              set badge %tier0name%
            elseif %free_slaves% < %tier2%
              %send% %actor% %actor.name%, as a %tier1name% you have collected %free_slaves% of %tier2% %collect% toward your next badge.
              set badge %tier1name%
            elseif %free_slaves% < %tier3%
              %send% %actor% %actor.name%, as a %tier2name%, you have collected %free_slaves% of %tier3% %collect% toward your next badge.
              set badge %tier2name%
            elseif %free_slaves% < %tier4%
              %send% %actor% %actor.name%, as a %tier3name%, you have collected %free_slaves% of %tier4% %collect% toward your next badge.
              set badge %tier3name%
            elseif %free_slaves% < %tier5%
              %send% %actor% %actor.name%, as a %tier4name%, you have collected %free_slaves% of %tier5% %collect% toward your next badge.
              set badge %tier4name%
            elseif %free_slaves% < %tier6%
              %send% %actor% %actor.name%, as a %tier5name%, you have collected %free_slaves% of ????? %collect% toward your next badge.
              set badge %tier5name%
            else
              %send% %actor% %actor.name%, as the %tier6name%, you have collected %free_slaves% %collect%.
              set badge %tier6name%
            end          
          end   
          *
          set free_slaves %free_slaves% %badge%
          global free_slaves
          remote free_slaves %actor.id%
          *
          %load% mob 35059
          %purge% %self%
          return 1
          *
        else
          %send% %actor% You couldn't possibly free this thrall while %self.hisher% captor is present!
          return 1
          halt
        end
      else
        return 0
        halt
      end
    else
      %send% %actor% Sorry, %actor.name%, you can't do that here.  Respect the peace.
      return 1
      halt
    end
  else
    %send% %actor% Sorry, %actor.name%, %self.heshe%'s sleeping.  Maybe after %self.heshe% wakes up.
    return 1
    halt
  end
end

>[0;00m
Name: 'sentient dagger rxn roll',  VNum: [35055], RNum: [ 1043]
Trigger Intended Assignment: Objects
Trigger Type: Wear , Numeric Arg: 100, Arg list: None
Commands:
*
* 062322 Aegon 350 Ice Fortress
*
if %actor.is_pc%
  context %actor.id%
  if %actor.align% > 349
    halt
    return 0
  end
  if (%actor.class% == Cleric || %actor.class% == Paladin || %actor.class% == Antipaladin || %actor.class% == Jedi)
    halt
    return 0
  end
  if (%actor.race% == Goblin || %actor.race% == Orc || %actor.race% == Uruk-Hai)
    halt
    return 0
  end
  if %actor.int% < 16 && %actor.cha% < 16
    %send% %actor% A rippling tongue of blue-white electricity arcs along the blade of
    %send% %actor%  %self.desc% as you attempt to wield it.
    %echoaround% %actor% %actor.name% reaches for a weapon which electrocutes %actor.himher%!
    if %actor.int% < 12
      %send% %actor% Connecting with this powerful sentient weapon is well beyond your mental capabilities.
      %damage% %actor% %actor.hitp%
    else
      %damage% %actor% %random.50%
    end
    return 0
    halt
  else
    set ice_dagger_uid %self.id%
    global ice_dagger_uid
    * %echo% %ice_dagger_uid%
    if %actor.varexists(ice_dagger_uid)%
      if %actor.ice_dagger_uid% != %ice_dagger_uid%
        %send% %actor% Your previous bond with this sentient dagger's kin prevents you!
        %damage% %actor% %actor.hitp%
        return 0
        halt
      end
    else
      %send% %actor% When you touch %self.shortdesc%, you are aware of a presence,
      %send% %actor% an intelligence, a dark persona of power.
      wait 4 s
      if %actor.class% == Dwarf
        %send% %actor% In an ancient dialect you oddly understand, a quiet voice utters, "%actor.name%, I choose you.
      else
        %send% %actor% You hear a quiet murmuring in a language you do not comprehend.
      end
      remote ice_dagger_uid %actor.id%
    end
    eval ice_dagger_start_exp %actor.exp%
    * rdelete ice_dagger_uid %actor.id%
    * rdelete ice_dagger_exp %actor.id%
    * %echo% clearing record ice_dagger_exp for actor %actor.name% (%actor.id%)
    global ice_dagger_start_exp
  end
end

>[0;00m
[0mCHECKING: 35056[0m

Name: 'sentient dagger record xp',  VNum: [35056], RNum: [ 1044]
Trigger Intended Assignment: Objects
Trigger Type: Remove , Numeric Arg: 100, Arg list: None
Commands:
*
* 062322 Aegon 350 Ice Fortress
*
if %actor.is_pc%
  context %actor.id%
  %send% %actor% You sheath %self.shortdesc%, glow dimming as your connection fades.
  eval cur_weapon_exp %actor.exp% - %ice_dagger_start_exp%
  if %actor.varexists(ice_dagger_exp)%
    eval ice_dagger_exp %actor.ice_dagger_exp% + %cur_weapon_exp%
  else
    eval ice_dagger_exp %cur_weapon_exp%
  end
  * 
  * this weapon can gain 3 levels,  a level per 10m wielder xp
  *
  global ice_dagger_exp
  remote ice_dagger_exp %actor.id%
  if (%cur_weapon_exp% > 30000000) && (%self.vnum% != 35137)
    %send %actor% Now sheathed, the dagger glows with an inner radiance and is reborn!
    %load% obj 35137 %actor%
    rdelete ice_dagger_uid %actor.id%
    %send% %actor% Behold the Ice Spike of the Avatar!
    %purge% %self.vnum%
  elseif (%cur_weapon_exp% > 20000000) && (%self.vnum% != 35136)
    %send %actor% Now sheathed, the dagger glows with an inner radiance and is reborn!
    %load% obj 35136 %actor%
    rdelete ice_dagger_uid %actor.id%
    %send% %actor% Behold the Ice Stiletto of the Avatar!
    %purge% %self.vnum%
  elseif (%cur_weapon_exp% > 10000000) && (%self.vnum% != 35135)
    %send %actor% Now sheathed, the dagger glows with an inner radiance and is reborn!
    %load% obj 35135 %actor%
    rdelete ice_dagger_uid %actor.id%
    %send% %actor% Behold the Ice Poniard of the Avatar!
    %purge% %self.vnum%
  else
    %send% %actor% Your sentient weapon gained %cur_weapon_exp% experience and has accumulated a total of %ice_dagger_exp% experience points.
  end
end

>[0;00m
[0mCHECKING: 35057[0m
[0mCHECKING: 35058[0m

Name: 'phenia's command',  VNum: [35057], RNum: [ 1045]
Trigger Intended Assignment: Mobiles
Trigger Type: Global Random , Numeric Arg: 10, Arg list: None
Commands:
*
* 062522 Aegon 350 Ice Fortress
*
set cur_room %self.room%
set cur_vnum %cur_room.vnum%
*
set target_char %cur_room.people%
*
while %target_char%
  set tmp_target %target_char.next_in_room%
  if %target_char.is_pc%
    eval target_pc %target_char%
    *
    if %cur_vnum% != 35092
       if %%findmob.%cur_vnum%(35056)%%
          %echoaround% %self% The Captain of the Red Gryphon barks some orders at her crew.
      end
      if %%findmob.%cur_vnum%(35055)%%
         %echoaround% %self% Phenia stops for a moment and tends to a wounded crew member.
     end
      if %target_pc% && %target_pc.canbeseen%
         %send% %target_pc% Phenia looks at you and says, "I need to get to the bridge.  Make way!"
      end
      %echoaround% %self% She hurries off toward the bridge, completing the mission her foremost concern.
   else
      %echoaround% %self% Phenia sits the helm of the airship, and nods at her navigator.
      if %target_pc% && %target_pc.canbeseen%
         %send% %target_pc% Looks at you and says, "Secure the bridge and prepare for flight!"
      end
      %echoaround% %self% The navigator and helmsman stand at the ready by her side.
   end
 end
 set target_char %tmp_target%
done
*
set cur_room %self.room%
eval cur_vnum %cur_room.vnum%
*
switch %cur_vnum%
  case 35089
    east
  break
  case 35090
    west
  break
  case 35091
    west
  break
  case 35092
    sit
    detach 35057 %self.id%
  break
  case 35094
    open door east
    east
    close door west
  break
  case 35095
    east
  break
  case 35096
    open door up
    up
    close door down
  break
  default
    mutter
  break
done
wait 10 s

>[0;00m
[0mCHECKING: 35059[0m

Name: 'pop a phenia',  VNum: [35058], RNum: [ 1046]
Trigger Intended Assignment: Rooms
Trigger Type: Global Zone Reset , Numeric Arg: 100, Arg list: None
Commands:
*
* 052822 Aegon 350 Ice Fortress
*
*
* 35090 deck e of bridge
* 35091 deck 2e of bridge
* 35092 bridge
* 35094 captain's cabin
* 35095 cargo hold 2e of cabin
* 35096 cargo hold e of cabin
*
set chance 2
eval gtval 100 - %chance%
*
if ! (%findmob.35090(35088)% || %findmob.35091(35088)% || %findmob.35092(35088)% || %findmob.35094(35088)% || %findmob.35095(35088)% ||  %findmob.35096(35088)% || %findmob.35001(35038)%)
  %load% mob 35038
  set mob %self.people%
  if %random.100% > %gtval%
    %load% obj 35159 %mob% face
  end
end

>[0;00m
[0mCHECKING: 35060[0m

Name: 'ranged_weapon_attack',  VNum: [35059], RNum: [ 1047]
Trigger Intended Assignment: Rooms
Trigger Type: Random Enter , Numeric Arg: 50, Arg list: None
Commands:
*
* 070322 Aegon 350 Ice Fortress
*
* a random type trigger does not have an %actor% var
* set actor %random.char%
*
if (%findmob.35089(35110)% || %findmob.35092(35110)%) || (%findmob.35131(35120)% || %findmob.35132(35120)% || %findmob.35047(35120)%)
  *
  * near the red gryphon airship - sky marine sharpshooters
  * in front of the ice fortress - grygyle arblasters
  *
  set target_char %target_char.people%
  eval bolt_damage (%random.100% + 30)
  *
  while %target_char%
    if (%target_char.is_pc% && %target_char.canbeseen%) 
      %echoaround% %target_char% You hear the dull thud of a missile striking frozen ground!
      wait 1 s
      eval damage_mult 1
      if ( %target_char.pos% == Sleeping )
        eval damage_mult (%damage_mult% + 2)
      else
        %send% %target_char% You hear the heavy impact of a crossbow bolt striking the ground near you!
      end
      set tmp_target %target_char.next_in_room%
      * %echo% room vnum: %target_char.vnum%
      if (%target_char.align% < 349 && (%target_char.vnum% == 35150 || %target_char.vnum% == 35151) || %target_char.vnum% == 35097 || (%target_char.align% > 349 && (%target_char.vnum% == 35028 || %target_char.vnum% == 35083))
        *
        * circle of fire / red gryphon
        * before the fortress / glacial arch
        *
        %echoaround% %target_char% %target_char.name% is struck by a heavy crossbow bolt!
        eval bolt_damage (%bolt_damage% * %damage_mult%)
        %damage% %target_char% %bolt_damage%
        if (%target_char.pos% == Sleeping)
          %send% %target_char% You are startled awake by the impact of a iron crossbow bolt!
        else
          %send% %target_char% You are knocked to the ground by a crossbow bolt arcing from above!
        end
        nop %target_char.pos(Sitting)%
        wait 1 s
      end
      set target_char %tmp_target%
    end
  done
end

>[0;00m
[0mCHECKING: 35061[0m

Name: 'the skin game',  VNum: [35060], RNum: [ 1048]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
*
* 070322 Aegon 350 Ice Fortress
* check current gear and provide wurm skins not collected:  %actor.eq(0-17)%
*
set skin_tier 5
set minLev 25
set thneed_tier 500
*
set speaks_gyrgyle 0
if %actor.varexists(subjects)%
  if %actor.subjects% /= gyrgyle
    set speaks_gyrgyle 1
  end
end
*
if %actor.is_pc%
  if %actor.class% == Ranger
    if %actor.level% >= %minLev%
      set os %object.shortdesc%
      if %os% /= from the corpse && (%os% /= Byrthnoth || %os% /= Meileiki || %os% /= Katri || %os% /= Blobby || %os% /= Sashimi || %os% /= Belrak || %os% /= Bazalel)
        if %actor.varexists(nankarza_skins)%
          eval nankarza_skins %actor.nankarza_skins% + 1
        else
          set nankarza_skins 1 
        end
        *
        %purge% %object%
        *
        *mod = a % b
        *c = int(a / b)
        *mod = a - b * c
        *
        eval c %nankarza_skins% / %skin_tier%
        eval mod %nankarza_skins% - (%skin_tier% * %c%)
        * %echo% [T35060] debug: actor: %actor.name% skins: %nankarza_skins% modulus %skin_tier% = %mod%
        *
        if !%mod%          
          %echo% Nankarza motions for his outfitter, who takes your offering and carefully cleans, cuts, and sews the finished product with a rare mastery.
          *
          set attempt 3
          set slot 0
          *
          while %attempt% <= 16
            if %actor.eq(%attempt%)%
              eval equipped %actor.eq(%attempt%)%
              if ! (%equipped.shortdesc% /= corpse of an ice wurm)
                if ! %slot%
                  set slot %attempt% 
                end
              end
            end
            eval attempt %attempt% + 1
          done
          if ! %slot%
            eval slot %random.14% + 2
          end
          *
          switch %slot%
            case 3
            case 4
              * necklace
              set vnum 35147
              break
            case 5
              * jacket
              set vnum 35144
              break
            case 6
              * hood
              set vnum 35140
              break
            case 7
              * breeches
              set vnum 35139
              break 
            case 8
              * boots
              set vnum 35148
              break
            case 9
              * gloves
              set vnum 35143
              break
            case 10
              * sleeves
              set vnum 35142
              break
            case 11
              * shield
              set vnum 35141
              break
            case 12
              * cloak
              set vnum 35138
              break
            case 13
              * wristband
              set vnum 35146
              break
            case 14
            case 15
              * wristband
              set vnum 35146
              break
            default
              * face
              set vnum 35150
              break
          done
          *
          %load% obj %vnum% %actor% inv
          wait 5 s
          %send% %actor% Nankarza inspects the newly crafted skin, and satisfied, hands it to you as a reward for your service.
          %echoaround% %actor% The Ranger Master hands a skin to %actor.name%.
          *
        else
          %send% %actor% You carefully present %os% to %self.name%.
          %echoaround% %actor% %actor.name% hands %os% to %self.name%.
          %send% %actor% You have provided %mod% of the %skin_tier% skins required for the construction of a rentable skin.
          %send% %actor% Over time, you have provided a total of %nankarza_skins% skins to the Master Gyrgyle Ranger.
          if %nankaza_skins% == %thneed_tier%
            %send% %actor% %actor.name%, in recognitions of your %thneed_tier%th skin, Nankarza bestows this unique skin upon  you:  A Thneed!
            %load% obj 35149 %actor% inv
          end
        end
        *
        global nankarza_skins
        remote nankarza_skins %actor.id%
        *
        halt
      elseif %object.shortdesc% /= skin && %object.shortdesc% /= Nankarza
        mkill %actor%
        return 0
        halt
      else
        Nankarza seems less than interested in that skin.
        return 0
        halt
      end
    else
      wait 3 s
      %echo% The great ice ranger smiles at %actor.name%, pats %actor.himher% on the head and returns their offering.
      if (%actor.has_item(35102)% || %speaks_gyrgyle%)
        %send% %actor% Nankarza whispers, "%actor.name%, return when you have discovered the fullness of your abilities."
      else
        %send% %actor% Nankarza whispers, "%actor.name%, hazgh-il or arg hat durslag azk azk-tik ul-forg."
      end
      return 0
      halt
    else 
      %echo% Your offering is intercepted by Nankarza's lieutenants and is returned to you.
      return 0
      halt
    end
  else
    %echo% Your offering is intercepted by Nankarza's lieutenants and is returned to you.
    return 0
    halt
  end
else
  return 0
end

>[0;00m
Name: 'just digging yourself deeper',  VNum: [35061], RNum: [ 1049]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 1, Arg list: dig
Commands:
*
* 042423 Aegon 350 Ice Fortress
*
set wait 5
*
if %actor.is_pc%
  if %cmd% /= dig
    *
    * check for collar
    *
    set collar 0
    *
    if %actor.eq(neck1)%
      set neck1 %actor.eq(neck1)%
      if (%neck1.vnum% == 35133 || %neck1.vnum% == 35134)
        set collar 1
      end
    end
    if ! %collar%
      if %actor.eq(neck2)%
        set neck2 %actor.eq(neck2)%
        if (%neck2.vnum% == 35133 || %neck2.vnum% == 35134)
          set collar 1
        end
      end
    end
    *
    if ! %actor.fighting%
      if %actor.varexists(legacy_race)%
        if %actor.legacy_race% == dwarf
          if %collar%
            if %actor.dex% > 17
              set text %arg%
              set direction %text.mudcommand%
              if %arg% == nw
                set direction northwest
              end
              if %arg% == ne
                set direction northeast
              end
              if %arg% == se
                set direction southeast
              end
              if %arg% == sw
                set direction southwest
              end
              *
              if ! (%direction% /= south || %direction% /= west || %direction% /= north || %direction% /= east)
                if ! (%direction% == up || %direction% == down)
                  %send% %actor% You can't dig in that direction.
                  return 0
                  halt
                end
              end
              *
              set room %self.room%
              set target_room 0
              set unlock_door 0
              *
              set target_surface %direction% wall
              *
              * %echo% debug: text: %text% direction: %direction% target_surface: %target_surface%
              *
              switch %direction%
                case down
                  if (%room.vnum% > 35140 && %room.vnum% < 35146)
                    set target_room 35138
                    * quickly move from maze to thror's chamber
                    set target_surface floor
                  end
                  break
                case northeast
                  if %room.vnum% == 35126
                    set unlock_door 1
                    * secret exits from warrens
                  end
                  break
                case northwest
                  if %room.vnum% == 35126
                    set unlock_door 1
                    * secret exits from warrens
                  end
                  break
                case south
                  if %room.vnum% == 35006
                    set target_room 35011
                    * armory from jazaraki
                  end
                  break
                case southeast
                  if %room.vnum% == 35126
                    set unlock_door 1
                    * secret exits from warrens
                  end
                  break
                case up
                  set target_surface ceiling
                  %send% %actor% You begin swinging the massive pick into the ceiling above you, furiously attempting to bring the room down upon your head.
                  %echoaround% %actor% %actor.name% starts blasting away at the ceiling with his massive pick-axe.
                  wait %wait% s
                  if %random.100% > 50
                    %send% %actor% Which ends predictably with your demise.
                    %echoaround% %actor% ... and %actor.name% just claimed %actor.hisher% placed in the Darwin Award Hall of Fame.
                    wait %wait% s
                    set target_char %room.people%
                    while %target_char%
                      set next_target %room.next_in_room%
                      %echoaround% %target_char% %target_char.name% was crushed under a ton of ceiling rubble!
                      wait %wait% s
                      %damage% %target_char% %target_char.maxhitp%
                      set target_char %next_target%
                    done
                  else
                    %send% %actor% You stop swinging at the ceiling when you realize you're about to kill your entire party.
                    %echoaround% %actor% %actor.name% notices that the roof is about to cave in when %actor.heshe% stops %actor.hisher% vertical assault.
                    wait %wait% s
                  end
                  return 1
                  halt
                  break
                case west
                  if %room.vnum% == 35000
                    set target_room 35172
                    * secret cell
                  end
                  break
                default
                  break
              done
              *
              if %unlock_door%  
                %send% %actor% With a mighty swing of your pick, you begin to clear the debris of the tunnel collapse.
                %echoaround% %actor% %actor.name% joins the Dwarven crew clearing the tunnel collapse.
                wait %wait% s
                %send% %actor% You make quick work of the jumble of ice and rock, restoring the %direction% tunnel for travel.
                %echoaround% %actor% %actor.name% helps the crew shore up %direction% tunnel for safe passage.
                wait %wait% s
                %door% %room.vnum% %direction%  flags ab  
              elseif %target_room%
                %send% %actor% You lift the heavy pick and begin smashing your way into the %target_surface%.
                %echoaround% %actor% %actor.name%
[0mCHECKING: 35062[0m
 heaves %actor.hisher% massive pick-axe and begins to smash through the %target_surface% of the cavern.    
                wait %wait% s
                %send% %actor% With each impact you find yourself deeper in the tunnel.
                %echoaround% %actor% %actor.name% swings %actor.hisher% massive pick-axe and makes progress through the %target_surface% of the cavern.
                wait %wait% s
                %send% %actor% And with your final powerful stroke, you break through the %target_surface% and arrive at your destination.
                %echoaround% %actor% With a mighty final stroke, %actor.name% disappears through the %target_surface%.
                wait %wait% s
                %echoaround% %actor% You consider following, but the tunnel has collapsed upon itself.
                *
                %teleport% %actor% %target_room%
                %force% %actor% look
                wait %wait% s
                %send% %actor% As you step from the tunnel exit, the passage collapses behind you.
                %echoaround% %actor% has arrived.
              else
                %send% %actor% You head off, looking for a promising spot to dig.
                %echoaround% %actor% %actor.name% shoulders %actor.hisher% pick and examines the ground.
                wait %wait% s
                %send% %actor% After a quick assessment, you realize you won't be able to dig here.
                %echoaround% %actor% %actor.name% returns to the group, satisfied there is nowhere to dig.
                return 1
                halt   
              end
            else
              %send% %actor% You're not dexterous enough to use this ancient tool.
            end
          else
            %echo% Before %actor.name% can begin digging, %actor.heshe% is noticed by several onlookers, and is forced to abandon the dig.  
            %send% %actor% You'll need to blend in with the workers around you. 
            return 0
          end
        else
          %send% %actor% You must be a dwarf to wield %self.shortdesc%.
        end
      else
%send% %actor% You must establish a legacy race to wield %self.shortdesc%.
      end
    else
      %send% %actor% You can't break away from the fight!
    end
  else
    return 0
    halt
  end
end

>[0;00m
Name: 'scepter of the fire avatar !drake',  VNum: [35062], RNum: [ 1050]
Trigger Intended Assignment: Objects
Trigger Type: Random , Numeric Arg: 25, Arg list: None
Commands:
*
* 070422 Aegon 350 Ice Fortress
*
* scepter of the fire avatar is !cold
*
set room_var %self.room%
if %room_var.contents(35091)%
  set target_char %room_var.people%
  while %target_char%
    set next_target %target_char.next_in_room%
    if %target_char.name% /= yeti || %target_char.name% /= mammoth || %target_char.name% /= snow || %target_char.name% /= ice
      wait 2 s
      %echo% A ray of pure energy lances from the Scepter's focus stone and burns through the %target_char.name%'s brain!
      %echo% The creature of the frozen wastes collapses into a pile of ash and blows away.
      %purge% %target_char%
    end
    set target_char %next_target%
  done
end

>[0;00m
[0mCHECKING: 35063[0m

Name: 'the mantle of mourning',  VNum: [35063], RNum: [ 1051]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 100, Arg list: None
Commands:
*
* 071422 Aegon 350 Ice Fortress
*
if %findmob.35152(35121)%
%echo% debug: class: %actor.class% race: %actor.race%
  if %actor.race% == Goblin || %actor.race% == Half-Orc || %actor.race% == Orc || %actor.race% == Uruk-Hai
    if (%actor.has_item(35036)% || %actor.has_item(35014))
      if %actor.class% == Thief
        %send% %actor% You remove the Pauldrons from your kit, and hold them aloft.
        %echoaround% %actor% removes a pair of pauldrons from his pack and holds them aloft.
      elseif %actor.class% == Antipaladin
        %send% %actor% You unsheathe the Scythe of Retribution, and hold it aloft.
        %echoaround% %actor% unsheathes a sword and holds it aloft.
      else
        halt
      end
      *
      if (%actor.has_item(35017)% && %actor.has_item(35018)% && %actor.has_item(35019)% && %actor.has_item(35020)% && %actor.has_item(35021)%)
        if (%actor.has_item(35022)% && %actor.has_item(35023)% && %actor.has_item(35024)% && %actor.has_item(35025)% && %actor.has_item(35026)%)
          if %actor.class% == Thief
            %echo% Yol accepts the set of pauldrons and places them in his forge, which springs to life in lambent blue flame.
          else
            %echo% Yol accepts sword and places it in his forge, which springs to life in lambent green flame.
          end
          wait 2 s
          %echo% Yol begins to chant in an arcane Uruk tongue, a dialect older than any Orcish you recognize.
          wait 3 s
          %echoaround% %actor% Then, one by one, %actor.name% withdraws chains from %actor.hisher% pack and places them in Yol's outstretched hand. 
          set vnum 35017
          while %vnum% < 35027
            set obj %actor.inventory(%vnum%)%
            if %vnum% == 35026
              %send% %actor% You hand Yol the last chain, %obj.name%.
            elseif %vnum% == 35017
              %send% %actor% You hand Yol the first chain, %obj.name%.
            else
              %send% %actor% You hand Yol the next chain, %obj.name%.
            end
            %purge% %obj% 
            eval vnum %vnum% + 1
            wait 2 s
          done
          if %actor.class% == Thief
            %purge% %actor.inventory(35014)% 
            %load% obj 35011 %actor% inv
            %echo% Yol hammers the magical alloys for what seems to be an age, but eventually produces a dark set of vambraces, screaming with the tortured souls of the fallen.
            %send% %actor% Behold the Vambraces of the Raza-Tani!
          else
            %purge% %actor.inventory(35036)% 
            %load% obj 35170 %actor% inv
            %echo% Yol hammers the magical alloys for what seems to be an age, but eventually produces a dark body armor, screaming with the tortured souls of the fallen.
            %send% %actor% Behold the Mantle of Mourning!
          end
        else
          %send% %actor% Yol looks at you and shakes his head whispering, '%actor.name%, you must  collect every type of assassin ice chain.'
          halt
        end
      else
        %send% %actor% Yol looks at you and shakes his head whispering in broken common-tongue, '%actor.name for to collect all assassin ice chain.'
        halt
      end
    end
  end
end

>[0;00m
[0mCHECKING: 35064[0m

Name: 'yol_karzurgh-uk's_message',  VNum: [35064], RNum: [ 1052]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
*
* 071422 Aegon 350 Ice Fortress
* yol, maker of the mantle of mourning (pauldrons of the command + 10 chains), provides clues to his
* uruk-hai, orc or goblin brethren
*
if %actor.is_pc%
  if %actor.varexists(saved_yol)%
    if %actor.race% == Uruk-hai || %actor.race% == Orc || %actor.race% == Half-Orc || %actor.race% == Goblin
      if %actor.has_item(35036)%
        %send% %actor% The ancient mage leans closer, and whispers, "Have you come for the earth ritual, friend?"
        %echoaround% %actor% The ancient mage shifts his weight against his chains, and glances
        %echoaround% %actor% behind your party, as if afraid of who might overhear his words.
        %send% %actor% He whispers, "If you have gathered the proper relics, present them to me."
        %send% %actor% Coughing weakly, he continues, "I yet possess a power over earth and stone!"
      else
        %send% %actor% The threads of time, the gray sands of the void, these paths I travel,
        %send% %actor% and for a consideration, I will render a service for my brethren, 
        %send% %actor% or any that may yet save my soul from eternal Winter.
      end
    else
      %send% %actor% The ancient mage leans closer, and whispers a question in the common orc tongue.
      %send% %actor% He gestures toward you, ancient clawed hands outstretched, palms up.
      %send% %actor% Then, in a gentle sweeping motion, hands pressed together before him.
      %send% %actor% Seeing that you do not understand him, he closes his eyes and
      %send% %actor% returns to his silent vigil.
    end
  else
    %send% %actor% %self.name% glances at you warily, hissing in the dark language of Morgoth's Abomination.
    wait 5 s
    %echo% After a tense moment, he returns to his studies.
  end
end

>[0;00m
[0mCHECKING: 35065[0m

Name: 'free yol',  VNum: [35065], RNum: [ 1053]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 4, Arg list: pick
Commands:
*
* 052022 Aegon 350 Ice Fortress
*
* offer to free yol in order to get him to unlock the secret door into the deeper maze
* and enable mantle of mourning make
*
context %actor.id%
if %actor.is_pc%
  if %cmd.mudcommand% == pick 
    if (%arg% /= lock || %arg% /= chain || %arg% /= shackle || %arg% /= manacle )
      if %actor.has_item(35128)% || (%actor.class% == Thief && %actor.dex% > 18)
        if ! %actor.varexists(saved_yol)%
          set saved_yol 1
          global saved_yol
          remote saved_yol %actor.id%
          wait 2 sec
          %send% %actor% Yol Karzurgh-Uk, Red Shaman of the Void, smiles weakly as you free him from his bondage.
          %echoaround% %actor% %actor.name% picks the lock of the manacle and releases Yol Karzurgh-Uk from his chains.
          wait 2 s
          %echo% Yol smiles at %actor.name%, and rather than slip away into the dark mists of oblivion,
          %echo% saving himself, he unexpectedly places the manacle back around his ancient wrist,
          %echo% and locks it firmly in place with a soft click.
          wait 2 s
        end
        if %actor.race% == Goblin || %actor.race% == Half-Orc || %actor.race% == Orc || %actor.race% == Uruk-Hai
          %send% %actor% His eyes narrow, and his native Uruk tongue, he whispers, "Now is not my time.  But it is yours." 
        else
          %send% %actor% Yol smiles, says something in his ancient Uruk tongue, but shakes his head.
        end
        wait 2 s
        %echo% Yol reaches for a plinth on the wall behind him and pulls a lever.
        wait 2 s
        %echo% You hear a faint click under the floor, followed by a massive grinding vibration that shakes the chamber.
        wait 1 s
        %door% 35152 down room 35138
        wait 1 s
        %echo% Yol closes his eyes once again, falling back into a deep meditation.
      else
        %send% %actor% The wretch looks at you imploringly, wondering what you are up to.
      end
    else
      return 0
      halt
    end
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 35066[0m

Name: 'reveille',  VNum: [35066], RNum: [ 1054]
Trigger Intended Assignment: Rooms
Trigger Type: Time , Numeric Arg: 6, Arg list: None
Commands:
*
* 071722 Aegon 350 Ice Fortress
*
%zoneecho% 35127 A lone horn punctuates the cold dawn air, calling the garrison to life.

>[0;00m
[0mCHECKING: 35067[0m
[0mCHECKING: 35068[0m

Name: 'flights of icarus',  VNum: [35067], RNum: [ 1055]
Trigger Intended Assignment: Objects
Trigger Type: Wear , Numeric Arg: 100, Arg list: None
Commands:
*
* 021023 aegon 350 Ice Fortress
*
if %actor.is_pc%
  if ! (%actor.race% == Gnome || %actor.race% == Dwarf)
    eval chance 1001 - %actor.align%
    eval attempt %%random.%chance%%%
    *
    * increasing chance of damage the lower actor alignment
    *
    if %attempt% > 100
      eval trapdamage %%random.%actor.hitp%%%
      %send% %actor% As you grasp the fiery brand, the blinding rays of the tropical
      %send% %actor% sun burn you! (-%trapdamage%)
      %echoaround% %actor% The blinding rays of the tropical sun singe %actor.name%!
      %damage% %actor% %trapdamage%
      return 0
      halt
    end
  end
end

>[0;00m
[0mCHECKING: 35069[0m

Name: 'chilly willy',  VNum: [35068], RNum: [ 1056]
Trigger Intended Assignment: Rooms
Trigger Type: Enter Leave , Numeric Arg: 25, Arg list: None
Commands:
*
* 0803 Aegon 350 Ice Fortress
*
*  %echo% detected actor: %actor.name% con: %actor.con% hitp: %actor.hitp
* reduced con demand to 19
* reduced paralysis chance to < 10%
* room freeze attack stops if aniadia is rescued
*
if %actor.is_pc%
  if ! %findmob.35123(35060)%
    if %actor.con% < 19
      set curhp %actor.hitp%
      eval curdamage (%%random.%curhp%% / 4)
      %damage% %actor% %curdamage%
      %send% %actor% %actor.name%, you are slowly freezing to death in this inhospitable place. (-%curdamage%)
      if %random.100% < 6
        dg_cast 'hold' %actor%
        wait 1 s
        %send% %actor% You discover that you've flash frozen to the nearest surface!
      end
    end
  end
end

>[0;00m
Name: 'pool of memories',  VNum: [35069], RNum: [ 1057]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
*
* 080322 Aegon 350 Ice Fortress
*
if %actor.is_pc%
  wait 1 s
  if %actor.has_item(35008)%
    %send% %actor% The Sphinx whispers, "%actor.name%! To enter the sacred pool, you must make the ultimate sacrifice!"
  else
    %send% %actor% The Sphinx whispers, "%actor.name%! Dur kurg yor or-ayr ar ayuntarg pox-ug sordun kar!"
  end
end

>[0;00m
[0mCHECKING: 35070[0m

Name: 'the ultimate sacrifice',  VNum: [35070], RNum: [ 1058]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 0, Arg list: sacrifice
Commands:
*
* 080322 Aegon 350 Ice Fortress
*
context %actor.id%
if %cmd% /= sacrifice && %arg% /= soul
  if %actor.level% == 30
    if ! %actor.varexists(pool_of_memories)%
      eval pool_of_memories %actor.pool_of_memories% + 1
    else
      set pool_of_memories 1
    end
    global pool_of_memories
    remote pool_of_memories %actor.id%
    if %actor.eq(wield)%
      wait 2 s
      set weapon %actor.eq(wield)%
      %send% %actor% Before you can reconsider, you draw your %weapon.shortdesc%'s blade across your neck in a swift motion.
    else
      %send% %actor% Before you can reconsider, you crush your windpipe in a swift, deadly motion.
    end
    * end
    nop %actor.exp(-300000)%
    %damage% %actor% %actor.hitp%
    %teleport% %actor% 35154
    %echoaround% %actor% %actor.name%, slumps lifeless into the dark waters of the pool, and disappears. 
    %force% %actor% look
    wait 2 s
    if %actor.has_item(35102)%
      %send% %actor% The Voice of Razakasch, Goddess of the Snows, proclaims, "%actor.name%, you have entered the forbidden Pool of Memory!"
    else
      %send% %actor% The Voice of Razakasch, Goddess of the Snows, proclaims, "%actor.name%, Arzh-ur gaz-ur-ag-raza tor gontak cur-azh Ur orog baz!"
    end
  else
    if %actor.has_item(35102)%
      %send% %actor% A distant voice hisses, "%actor.name%, you are not ready to perform the ultimate sacrifice."
    else
      %send% %actor% A distant voice hisses, "%actor.name%, arg keh-og parg ke or-uk nar wargund far ok."
    end
    halt
    return 0
  end
else
  return 0
end

>[0;00m
[0mCHECKING: 35071[0m

Name: 'death pool',  VNum: [35071], RNum: [ 1059]
Trigger Intended Assignment: Objects
Trigger Type: Consume , Numeric Arg: 100, Arg list: None
Commands:
* 
* 080322 Aegon 350 Ice Fortress
*
if %actor.is_pc%
  wait 2 s
  %send% %actor% You dip carefully into the black liquid, the absolute quiet of this place broken
  %send% %actor%  by the sound of your cup breaking the surface. As the silvery-black liquid nears
  %send% %actor%  your lips, it atomizes, covering your face in a thin black film.  The final vision you 
  %send% %actor% see  before you die is a reflection of yourself staring back from the abyss.
  if %actor.saving_para% == 0
    %damage% %actor% %actor.hitp% + 50
  else
    %damage% %actor% %actor.hitp% - 10
  end
  return 1
end

>[0;00m
[0mCHECKING: 35072[0m

Name: 'everyone needs a thneed',  VNum: [35072], RNum: [ 1060]
Trigger Intended Assignment: Objects
Trigger Type: Wear , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  if %random.150% == 75
    %send% %actor% As you pull the thneed down over your head, the magic fabric tears, and your thneed unravels and vanishes!
    %purge% %self%
    return 1
    halt
  end
  switch %random.6%
    case 1
      if %actor.str% == 18
        if %actor.stradd% <= 80
          nop %actor.stradd(20)%
          set bit str 20
        else
          eval amt 100 - %actor.stradd%
          if %amt% 
            nop %actor.stradd(%amt%)%
            set bit str %amt%
          else
            set bit str 0
          end
        else
          nop %actor.str(1)%
          set bit str 1
        end
      end
    break
    case 2
      if %actor.wis% < 18
        set bit wis 1
        nop %actor.wis(1)%
      else
        set bit wis 0
      end
    break
    case 3
      if %actor.dex% < 18
        set bit dex 1
        nop %actor.dex(1)%
      else
        set bit dex 0
      end
    break
    case 4
      set bit maxhitp 24
      nop %actor.maxhitp(24)%
    break
    case 5
      set bit maxmana 24
      nop %actor.maxmana(24)%
    break
    case 6
      set bit maxmove 24
      nop %actor.maxmove(24)%
    break
    default
    break
  done
  set check_bit %bit.cdr%
  set check_bit %check_bit.trim%
  if %check_bit%
    %send% %actor% The Once-ler whispers, "%actor.name%, you have gained a measure of %bit.car%.  Use it well."
    context %actor.id%
    global bit
    remote bit %actor.id%
  else
    unset bit
    %send% %actor% The Once-ler whispers, "%actor.name%, I'm afraid you're maxed out in that stat.  Sorry... Try again."
    %send% %actor% He continues, "Know that with each wearing you reduce the life of the fabric a bit."
  end
  if %self.timer%
    eval minutes (%self.timer% * 75) / 60
    *
    * penalty
    *
    eval minutes %minutes% - %random.10%
    eval new_timer_value (%minutes% * 60) / 75
    otimer %new_timer_value%
    *
    eval days_remaining %minutes% / 1440
    if %days_remaining%
      eval minutes %minutes% - (%days_remaining% * 1440)
    end
    *
    eval hours_remaining %minutes% / 60
    if %hours_remaining%
      eval minutes %minutes% - (%hours_remaining% * 60 )
    end
    *
    %send% %actor% %self.shortdesc% has %days_remaining% days, %hours_remaining% hours and %minutes% minutes remaining before it falls to shreds!
  end
  
end

>[0;00m
[0mCHECKING: 35073[0m

Name: 'everyone needs a thneed redux',  VNum: [35073], RNum: [ 1061]
Trigger Intended Assignment: Objects
Trigger Type: Remove , Numeric Arg: 100, Arg list: None
Commands:
*
* 080522 Aegon 350 Ice Fortress
*
if %actor.is_pc%
  context %actor.id%
  if %actor.varexists(bit)%  
    set bit %actor.bit%
    rdelete bit %actor.id%
    set attr %bit.car%
    set value %bit.cdr%
    set value %value.trim%
    switch %attr%
      case str
        switch %value%
          case 0
        break
        case 1
          nop %actor.str(-%value%)%
        break
        default
          nop %actor.stradd(-%value%)% 
        break
      done
      case wis
        nop %actor.wis(-%value%)%
      break
      case dex
        nop %actor.dex(-%value%)%
      break
      case maxhitp
        nop %actor.maxhitp(-24)%
      break
      case maxmana
        nop %actor.maxmana(-24)%
      break
      case maxmove
        nop %actor.maxmove(-24)%
      break
      default
      break
    done
    %send% %actor% The Once-ler whispers, "%actor.name%, I'll need that wee bit of %bit% back now.  But you know where to find it!"
    unset bit
    if %random.150% == 1
      %send% %actor% As you pull the thneed up over your head, the magic fabric tears, and your thneed unravels and vanishes!
      %purge% %self%
      halt
    end
  end
end

>[0;00m
[0mCHECKING: 35074[0m
[0mCHECKING: 35075[0m

Name: 'console panel menu',  VNum: [35074], RNum: [ 1062]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 0, Arg list: menu
Commands:
* 
* 080822 Aegon 350 Ice Fortress
*
* system commands have been commented out to avoid potential disaster
*
set CR ---------------------------
*
* if %actor.is_pc% && %actor.level% == 30 && %actor.admlvl% > 4
*
if %actor.is_pc% 
  if %arg% == 1
    %echo Menu Selection 1: Statistics Modification and Repair
    nop %actor.str(1)%
    nop %actor.stradd(0)%
    nop %actor.int(0)%
    10 Align Set (0)
    nop %actor.dex(1)%
    nop %actor.con(0)%
    nop %actor.cha(0)%
    nop %actor.maxhitp(0)%
    nop %actor.maxmove(0)%
    nop %actor.maxmana(0)%
    %send% %actor% str/dex modified to 18 for %actor.name%!
    return 1
    halt
  end
  if %arg% == 2
    %send% %actor% Menu Selection 2: Experience Repair
    eval j 1
    while %j% < 3
      eval i 1
      while %i% < 50
        eval pass %i% * %j%
        nop %actor.exp(1000)% 
        %send% %actor% %pass%
        eval i %i% + 1
      done
      eval j %j% + 1
    done
    eval xp (%j% - 1) * (%i% - 1) * 1000
    %send% %actor% added %xp% xp!
    return 1
    halt
  end
  if %arg% == 3
    %send% %actor% Menu Selection 3: KILLER and THIEF Flag Reset
    * nop %actor.is_killer(off)%
    * nop %actor.is_thief(off)%
    %send% %actor% nothing modified!
    return 1
    halt
  end
  if %arg% == 4
    %send% %actor% Menu Selection 4: Level Reset
    * nop %actor.level(30)%
    nop %actor.admlvl(5)%
    %echo% Your current level is: %actor.level% and your admlvl is: %actor.admlvl% %actor.adminlvl% %actor.admlevel% %actor.adminlevel%
    %send% %actor% nothing modified!
    * %send% %actor% actor level set to 30!
    return 1
    halt
  end
  if %arg% == 5
    %send% %actor% Menu Selection 5: Sentient Weapon Reset
    rdelete ice_dagger_uid %actor.id%
    rdelete ice_dagger_exp %actor.id%
    * %send% %actor% nothing modified!
    %send% %actor% Sentient weapon data erased from %actor.name%!
    return 1
    halt
  end
  if %arg% == 6
    %send% %actor% Menu Selection 6: Set Class
    nop %actor.class(Mage)%
    %send% %actor% Class set to Mage!
    halt
    return 1
  end
  if %arg% == 7
    %send% %actor% Menu Selection 7: Mega Stat Set
    nop %actor.maxhitp(1000)%
    nop %actor.maxmana(1000)%
    nop %actor.maxmove(1000)%
    %send% %actor% Adding 1000 to max hitp, mana and move!
    halt
  end
  if %arg% == 8 && %actor.maxhitp% > 1000
    %send% %actor% Menu Selection 8: Mega Stats Unset
    nop %actor.maxhitp(-1000)%
    nop %actor.maxmana(-1000)%
    nop %actor.maxmove(-1000)%
    %send% %actor% Removing 1000 from max hitp, mana and move!
    halt
  end
  if %arg% == 9
    %send% %actor% Menu Selection 8: Race Reset
    nop %actor.race(Elf)%
    %send% %actor% Race set to Elf!
    return 1
    halt
  end
  if %arg% == 10
    %send% %actor% Menu Selection 10: Alignment Set
    nop %actor.align(0)%
    %send% %actor% Setting alignment to 1000!
    halt
  end
  if %arg% == 11
    %send% %actor% Menu Selection 11: Full Actor Variable Display
    %echo% AGE:        %actor.age%
    %echo% CHARISMA:        %actor.cha%
    %echo% CONSTITUTION:    %actor.con%
    %echo% DEXTERITY:       %actor.dex%
    %echo% INTELLIGENCE:    %actor.int%
    %echo% STRENGTH/STRADD: %actor.str%/%actor.stradd%
    %echo% WISDOM:          %actor.wis%
    %echo% ALIAS:           %actor.alias%
    %echo% ALIGN:           %actor.align%
    %echo% AFFECT:          %actor.affect%
    %echo% CANBESEEN:       %actor.canbeseen%
    %echo% CLASS:           %actor.class%
    %echo% DRUNK:           %actor.drunk%
    %echo% EXPERIENCE:      %actor.exp%
    %echo% FIGHTING:        %actor.fighting%
    %echo% FOLLOWER:        %actor.follower%
    %echo% GOLD:            %actor.gold%
    %echo% HAS_ITEM:        %actor.has_item(1332)%
    %echo% HESHE:           %actor.heshe%
    %echo% HIMHER:          %actor.himher%
    %echo% HISHER:          %actor.hisher%
    %echo% HITPOINTS:       %actor.hitp%
    %echo% HUNGER:          %actor.hunger%
    %echo% ID:              %actor.id%
    %echo% INV:             %actor.inventory%
    %echo% IS_KILLER:       %actor.is_killer%
    %echo% IS_PC:           %actor.is_pc%
    %echo% IS_THIEF:        %actor.is_thief%
    %echo% LEVEL:           %actor.level%
    %echo% MANA:            %actor.mana%
    %echo% MASTER:          %actor.master%
    %echo% MAX HP:          %actor.maxhitp%
    %echo% MAX MANA:        %actor.maxmana%
    %echo% MAX MOVE:        %actor.maxmove%
    %echo% MOVE:            %actor.move%
    %echo% NAME:            %actor.name%
    %echo% NEXT_IN_ROOM:    %actor.next_in_room%
    %echo% POSITION:        %actor.pos%
    %echo% PRACTICES:       %actor.prac%
    %echo% QUESTPOINTS:     %actor.questpoints%
    %echo% ROOM:            %actor.room%
    %echo% SAVING_PARA:     %actor.saving_para%
    %echo% SAVING_ROD:      %actor.saving_rod%
    %echo% SAVING_PETRI:    %actor.saving_petri%
    %echo% SAVING_BREATH:   %actor.saving_breath%
    %echo% SAVING_SPELL:    %actor.saving_spell%
    %echo% SEX:             %actor.sex%
    %echo% SKILL BACKSTAB:  %actor.skill(backstab)%
    %echo% THIRST:          %actor.thirst%
    %echo% TITLE:           %actor.title%
    %echo% VAREXISTS:       %actor.varexists(tba_greeting)%
    %echo% VNUM:            %actor.vnum%
    %echo% WEIGHT:          %actor.weight%
    halt
  end
  %send% %actor% MAIN MENU
  %send% %actor% %CR%
  %send% %actor% 1 Statistic Set (STR 18/100)
  %send% %actor% 2 Experience Bump (+1000)
  %send% %actor% 3 Thief and Killer Flag Reset
  %send% %actor% 4 Level Set (30)
  %send% %actor% 5 Sentient Weapon Reset
  %send% %actor% 6 Class Set (non-functional)
  %send% %actor% 7 Mega Stat Set (+1000 hp/mn/mv)
  %send% %actor% 8 Mega Stat Unset
  %send% %actor% 9 Race Set (non-functional)
  %send% %actor% 10 Align Set (1000)
  %send% %actor% 11 Full Actor Variable Display
  %send% %actor% %CR%
  %send% %actor% Usage: menu [<option>]
  %send% %actor% %CR%
  %send% %actor% Invalid selection.
  %send% %actor% Enter a valid selection: 1-10
  return 1
  halt
else
  %send% %actor% You need to be AVTR+ to use this ancient device of power.
  return 0
end

>[0;00m
[0mCHECKING: 35076[0m

Name: 'koofy's phylactery',  VNum: [35075], RNum: [ 1063]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: make
Commands:
if %actor.is_pc%
  if %cmd% == make
    if %arg% /= phylac
      if %actor.has_item(-1)%
        set corpse %actor.inventory(-1)%
        if (%corpse.shortdesc% /= corpse &&  %corpse.shortdesc% /= Koofy)
          set room %self.room%
          if %room.vnum% == 510
            * make must happen in the clergical chambers, abandoned cathedral
            %echo% debug: timer: %corpse.timer%
            if %corpse.timer% > 5
              if (%actor.inventory(35099)% && %actor.inventory(35100)% && %actor.inventory(35101)%)
                %echo% The Dark Priest begins the ritural of the Muredai Inmortui.
                wait 3 s
                %purge% %actor.inventory(-1)%
                if %random.100% < 25
                  %echo% The sounds that emanate from the Dark Priest are otherworldly and strange.  Something's not right!
                  wait 2 s
                  mkill %actor%
                  halt
                end
                %echo% He takes the skull and raises it over his head.
                wait 2 s
                %purge% %actor.inventory(35099)%
                %echo% The priest places a ruby in the left eye socket.
                wait 3 s
                %purge% %actor.inventory(35100)%
                %echo% The priest places a ruby in the right eye socket.
                wait 2 s
                %purge% %actor.inventory(35101)%
                %echo% The priest descrates the corpse using an inverted crucifix!
                wait 3 s
                %load% obj 35034 %actor% inv
                %send% %actor% The corpse bursts into flame, and as the dark priest finishes his incantation, he pulls a phylactery from the smoking chest cavity!
                wait 2 s
                %echo% Laughing maniacally, the priest hands you Koofy's Phylactery!
              else
                %send% %actor% The priest gestures to you, laughing derisively, 'Your're missing a part you fool!'
                halt
              end
            else
              %send% %actor% The priest sneers at you, growling, 'You need a fresher corpse!'
              halt
            end
          else
            %send% %actor% You need to find a descrated altar and a priest to perform a ritual to join these items together in the splendor of undeath.
            halt
          end
        else
          %send% %actor% You're missing the descrated corpse of Koofy!
          halt
        end
      else
        %send% %actor% You'll need a specific corpse to complete the ritual!
        halt
      end
    else
      return 0
      halt
    end
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 35077[0m

Name: 'goofy koofy',  VNum: [35076], RNum: [ 1064]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 25, Arg list: None
Commands:
*
* 081222 Aegon 350 Ice Fortress
*
if %actor.is_pc%
  wait 2 s
  %echo% Koofy wiggles, squints, and looks as if he's preparing to address the room.
  if %actor.align% < -350
    if ! (%actor.class% == Thief || %actor.class% == Warrior || %actor.class% == Ninja)
      wait 2 s
      %send% %actor% %self.name% whispers, "%actor.name%, to magic more, must box make you."
      %echoaround% %actor% You're not sure, but you think you just saw the gerbil whisper to your friend, %actor.name%.
      wait 4 s
      %send% %actor% %self.name% continues, "All parts here, make here at me."
      %echoaround% %actor% Yep, now you're sure of it.  The little rodent is whispering."
    else
      wait 2 s
      %send% %actor% %self.name% whispers, "%actor.name, if you would be so kind as to collect the entire set of my
      %send% %actor% Encyclopedia Gyrgylynum you would be rewarded."
    end
  end
  wait 2 s
  The little gerbil finds a warm place to curl up on a nearby throw rug and falls back sleep.
end

>[0;00m
[0mCHECKING: 35078[0m

Name: 'one adam twelve',  VNum: [35077], RNum: [ 1065]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 25, Arg list: None
Commands:
*
* 092922 Aegon 350 Ice Fortress
*
set mob_name %self.name%
set mob %mob_name.toupper%
*
if (! %self.fighting% && ! %self.pos(sleeping)%)
  set patrol_route 35121 35027 35026 35025 35022 35018 35019 35020 35024 35027 35044 35043 35042 35039 35036 35033 35034 35035 35038 35041 35044
  set patrol_direction up west west north north east east south south up west west west north north north east east south south south down
  set patrol_path %patrol_route%
  set leaving_from %patrol_direction%
  eval random_wait %random.30% + 10
  *  %echo% waiting %random_wait% for %self.name% %self.id%
  wait %random_wait% s 
  while %patrol_path%
    set move_to_room %patrol_path.car%
    set leave_direction %leaving_from.car%
    * %echo% %self.name% %self.id% moving to room: %move_to_room%
    set inroom %self.room%
    if %inroom.vnum% != %move_to_room%
      * %echo% actor %self.name% %self.id% is in room: %inroom.vnum% will move to room %move_to_room%
      if %random.100% < 25
        %echo% %mob% scans the room for signs of trouble.
      end
      wait 8 s
      * %echo% %self.name% sees nothing amiss and moves on.
      %echo% %mob% leaves %leave_direction%.
      if %move_to_room%
        * %echo% %self.name% %self.id% moving to next room: %move_to_room%
        mgoto %move_to_room%
        %echo% %mob% has arrived.
      else
        * %echo% %self.name% %self.id% looping to first room in the patrol path %patrol_route.car%
        mgoto 35127 *  %patrol_route.car%
        %echo% %mob% has arrived.
      end
    else
      * %echo% Starting this actor %self.name% %self.id% in first room of patrol path: %patrol_route.car%
      mgoto %patrol_route.car%
      %echo% %mob% has arrived.
    end
    set patrol_path %patrol_path.cdr%
    *  %echo% new patrol_path %patrol_path%
    set leaving_from %leaving_from.cdr%
  done
end

>[0;00m
Name: 'the night's watch',  VNum: [35078], RNum: [ 1066]
Trigger Intended Assignment: Mobiles
Trigger Type: Time , Numeric Arg: 6, Arg list: None
Commands:
*
* 100122 Aegon 350 Ice Fortress
*
if ! %self.fighting%
  *  %echo% %self.name% says, "Ark-ush tar kak ur skaag."
  %echo% %self.name% leaves south.
  if %self.name% /= dwarven
    mgoto 35133
  elseif %self.name% /= avenger
    mgoto 35008
  elseif %self.name% /= recruit || %self.name% /= soldier || %self.name% /= fighter || %self.name% /= watch
    mgoto 35121
  elseif %self.name% /= wizard
    mgoto 35122
  elseif %self.name% /= priestess
    mgoto 35014
  elseif %self.name% /= slave || %self.name% /= thrall || %self.name% /= servant || %self.name% /= caste || %self.name% /= child
    mgoto 35120
  elseif %self.name% /= thief
    mgoto 35021
  elseif %self.name% /= assassin
    mgoto 35006
  end
  %echo% %self.name% has arrived.
  nop %self.pos(sleeping)%
  sleep
  %echo% %self.name% lies down on %self.hisher% cot and falls asleep.
  wait until 23:00
  wake
  %echo% %self.name% wakes up.
  nop %self.pos(standing)%
end

>[0;00m
[0mCHECKING: 35079[0m

Name: 'pop a thrall',  VNum: [35079], RNum: [ 1067]
Trigger Intended Assignment: Rooms
Trigger Type: Zone Reset , Numeric Arg: 100, Arg list: None
Commands:
*
* 102222 Aegon 350 Ice Fortress
*
* if the fire goddess is present, do not load the thrall version of aniadia
* (in cell or a daring rescue)
*
set guard_max 4
*
if ! (%findmob.35003(35060)% || %findmob.35123(35060)% || %findmob.35003(35085)%)
  %load% mob 35085
  *
  * load her guards
  *
  eval max_mobs 4 + %random.%guard_max%%
  eval cur_mobs %findmob.35003(35086)%
  *
  if %cur_mobs% < %max_mobs%
    eval mobs_to_load %max_mobs% - %cur_mobs%
    while %mobs_to_load%
      %load% mob 35086
      %echo% loading mob 35086 cur mobs: %cur_mobs% max mobs: %max_mobs%
      eval mobs_to_load %mobs_to_load% - 1
    done
  end
end
if %findobj.35003(35130)%
  %purge% manacle
end

>[0;00m
[0mCHECKING: 35080[0m

Name: 'the_collar_of_eternity',  VNum: [35080], RNum: [ 1068]
Trigger Intended Assignment: Objects
Trigger Type: Wear , Numeric Arg: 100, Arg list: None
Commands:
*
* 0412 Aegon 350 Ice Fortress
*
if %actor.is_pc%
  eval hitp %actor.maxhitp% - %actor.hitp%
  nop %actor.hitp(%hitp%)%
  %send% %actor% Your equipment pulses with a soft green glow as your health is restored.
  %echoaround% %actor% %actor.name% gained %hitp% hit points.
  eval mana %actor.maxmana% - %actor.mana%
  nop %actor.mana(%mana%)%
  %send% %actor% Your equipment pulses with a soft blue glow as your magical essence is restored.
  %echoaround% %actor% %actor.name% gained %mana% mana points.
  eval moves %actor.maxmove% - %actor.move%
  nop %actor.move(%moves%)%
  %send% %actor% Your equipment pulses with a soft yellow glow as your movement is restored.
  %echoaround% %actor% %actor.name% gained %moves% movement points.
  if %self.timer% > 0
    eval minutes (%self.timer% * 75) / 60
    *
    eval days_remaining %minutes% / 1440
    if %days_remaining%
      eval minutes %minutes% - (%days_remaining% * 1440)
    end
    *
    eval hours_remaining %minutes% / 60
    if %hours_remaining%
      eval minutes %minutes% - (%hours_remaining% * 60 )
    end
    *
    %send% %actor% %self.shortdesc% has %days_remaining% days, %hours_remaining% hours and %minutes% minutes remaining before it expires!
  end
  return 0
end

>[0;00m
[0mCHECKING: 35081[0m

Name: 'falce oblivio',  VNum: [35081], RNum: [ 1069]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 1, Arg list: purge
Commands:
*
* 041723 Aegon 350 Ice Fortress
*
set mob_purged 0
*
set room %self.room%
set target_mob %room.people%
*
while %target_mob%
  set next_target %target_mob.next_in_room%
  if %target_mob.name% /= %arg%
    %echo% A ray of pure energy leaps from the charred tip of %self.shortdesc% and reduces %target_mob.name% to dust!
    wait 1 s
    %purge% %target_mob%
    set mob_purged 1
  end
  set target_mob %next_target%
done
if ! %mob_purged%
  %send% %actor% Target "%arg%" not found in room, "%room.name%."
end

>[0;00m
[0mCHECKING: 35082[0m

Name: 'the perry is IN',  VNum: [35082], RNum: [ 1070]
Trigger Intended Assignment: Mobiles
Trigger Type: Global Time , Numeric Arg: 20, Arg list: None
Commands:
*
* 122722 Aegon 350 Ice Fortress
*
mgoto 35122
*
%echo% The oiled wooden double door in the north wall swings open, and out stumbles
%echo% an ancient muggle, Perry Hopper.
wait 2 s
%echo% %self.name% arrives.
wait 2 s
%echo% Perry fusses with his keychain and begins to set up shop.

>[0;00m
[0mCHECKING: 35083[0m

Name: 'the perry is OUT',  VNum: [35083], RNum: [ 1071]
Trigger Intended Assignment: Mobiles
Trigger Type: Global Time , Numeric Arg: 1, Arg list: None
Commands:
*
* 122722 Aegon 350 Ice Fortress
*
%echo% Perry begins straightening his office, sorting the day's receipts
%echo% neatly into drawers, in preparation for his lunchtime break.
wait 1 h
%echo% Perry ambles to his office door,  fusses with his keychain,
%echo% inserts key into lock, and retires for the evening.
wait 2 s
%echo% %self.name% leaves north.
mgoto 35162

>[0;00m
[0mCHECKING: 35084[0m
[0mCHECKING: 35085[0m

Name: 'whack-a-mole!',  VNum: [35084], RNum: [ 1072]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 100, Arg list: smash
Commands:
*
* 062222 Aegon 350 Ice Fortress
*
if %actor.is_pc%
  if %cmd% == smash  && (%arg% == crate  || %arg% == chest)
    if %actor.eq(wield)%
      set weapon %actor.eq(wield)%
      * %echo% weapon vnum= %weapon.vnum%
      %send% %actor% You %cmd% the %arg% into splintered ruin.
      %echoaround% %actor% Suddenly, %actor.name% %cmd%es a %arg% into a cloud of splinters!
      *
      eval chance %random.100%
      * %send% %actor% base chance: %chance% of 100 max
      * 
      if (%weapon.vnum% == 23030 || %weapon.vnum% == 35013 || %weapon.vnum% == 35112 || %weapon_vnum% == 8323 || %weapon_vnum% == 16733)
        * best hammers fist of vashanka, avalanche of the razakani,  stormfist, mjollinr, vulcan's hammer
        eval chance  %chance% + 3
      else
        * %send% %actor% your weapon name is: %weapon.name%
        if %weapon.name% /= smith
          eval chance %chance% + 2
        elseif %weapon.name% /= hammer
          eval chance %chance% + 1
        end
      end
      * %send% %actor% weapon modified chance to: %chance% of 103 max
      switch %actor.str%
        case 25
          eval chance %chance% + 1
        break
        default
        break
      done
      * %send% %actor% actor str modified chance to: %chance% of 104 max
      if %actor.stradd% > 95
        eval chance %chance% + 1
      end
      * %send% %actor% stradd modified chance to: %chance% of 104 max (103+ to drop)
      if %chance% > 102
        eval vnum 17931 + %random.4%
        %load% obj %vnum%
        %send%  %actor% Amid the ruin of the %arg%, a shiny object skitters across the icy floor.
        %echoaround% %actor% From the splintered ruin of the %arg%, a shiny object
        %echoaround% %actor% skitters across the icy floor.
      end
      return 1
      %purge% %self%
      halt
    else
      %send% %actor% You must wield a weapon to make it a success.
      return 1
      halt
    end
    return 0
    halt
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 35086[0m

Name: 'baby fat',  VNum: [35085], RNum: [ 1073]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 100, Arg list: step
Commands:
*
* 123122 Aegon 350 Ice Fortress
*
if %actor.is_pc% 
  if %cmd% == step && (%arg% /= scale || %arg% /= on) 
    wait 1 s
    %send% %actor% You step gingerly onto the hammered bronze scale and fiddle with the copper counter-weights.
    %echoaround% %actor% %actor.name% steps up onto the scale and fiddles with the sliding copper weights.
    wait 2 s
    eval equipwt 0
    set i 1
    while %i% < 18
      if %actor.eq(%i%)%
        * %echo% evaluating position %i%:
        eval equipped %actor.eq(%i%)%
        * %echo% slot equipment: %equipped.name%
        eval equipwt %equipwt% + %equipped.weight%
        * %echo% slot equipment wt: %equipped.weight%
      end
      eval i %i% + 1
    done
    eval invwt 0
    set inv_items %actor.inventory%
    while %inv_items%
      eval invwt %invwt% + %inv_items.weight%
      eval inv_items %inv_items.next_in_list%
    done
    eval totalwt %actor.weight% + %equipwt% + %invwt%
    extract detail 2 %arg%
    if %detail% /= naked
      %send% %actor% You weigh approximately %actor.weight% pounds naked.
    elseif %detail% /= eq
      %send% %actor% Your equipment weighs approximately %equipwt% pounds.
    elseif %detail% /= inv
      %send% %actor% Your inventory weighs approximately %invwt% pounds.
    else
      %send% %actor% %actor.name%, including inventory, you weigh approximately %totalwt% pounds in your current gear.
    end
  else
    halt
    return 0
  end
end

>[0;00m
[0mCHECKING: 35087[0m

Name: 'pop a dariano',  VNum: [35086], RNum: [ 1074]
Trigger Intended Assignment: Rooms
Trigger Type: Zone Reset , Numeric Arg: 100, Arg list: None
Commands:
*
* 022823 Aegon 350 Ice Fortress
*
* dariano hostage 35039  start room 35000
* dariano fire priest 35126  path rooms: 89, 90, 91 92, 93, 94, 95, 96, 97, 171
*
if ! (%findmob.35000(35039)% || %findmob.35089(35126)% || %findmob.35090(35126)% || %findmob.35091(35126)%)
  if ! (%findmob.35092(35126)% || %findmob.35093(35126)% || %findmob.35094(35126)% || %findmob.35095(35126)%)
    if ! (%findmob.35096(35126)% || %findmob.35097(35126)% || %findmob.35173(35126)%)
      %load% mob 35039
      if %random.100% < 9
        %load% obj 35169 %self.people% inv
      end
    end
  end
end

>[0;00m
Name: 'weave a little dream for me',  VNum: [35087], RNum: [ 1075]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 100, Arg list: weave
Commands:
*
* 033023 Aegon 350 Ice Fortress
*
if %cmd% == weave && %arg% /= cin
  if %actor.inventory(1616)%
    if %actor.class% == Magic User
      %send% %actor% You open the arcane book carefully, find the passage, and begin the incantation...
      wait 2 s
      if %actor.race% == Elf || %actor.race == Half-Elf || %actor.race% == Human
        if %actor.align% > 0
          if %actor.inventory(35030)% 
            if %actor.inventory(35031)% 
              if %actor.inventory(35032)%
                if %actor.inventory(35033)%
                  if %actor.int% == 25 && %actor.level% == 30
                    %purge% %actor.inventory(35030)%
                    %purge% %actor.inventory(35031)%
                    %purge% %actor.inventory(35032)%
                    %purge% %actor.inventory(35033)%
                    %send% %actor% As your words illuminate the chorus of winds that gyre about you, a fabric begins to form upon the loom.
                    %load% obj 35029 %actor%
                    wait 1 s
                    %echoaround% %actor% %actor.name% incants the mysteries of the Compass Rose, calling forth the Gyre of the Loom!
                    wait 1 s
                    %send% %actor% Emerging from the chaos of the Gyre, the Cincture of the Four Winds falls into your grasp.
                    %send% %actor% %actor.name%, you have woven a new song into the Cincture of the Avatars -- a song that
                    %send% %actor% will bring the end of Razakasch and her eternal winter!
                    %echoaround% %actor% %actor.name% weaves each essence of the Wind Avatars through the Doldrum Loom.
                    if %actor.varexists(cincture_of_the_avatars)%
                      eval cincture_of_the_avatars %actor.cincture_of_the_avatars% + 1
                    else
                      set cincture_of_the_avatars 1
                    end
                    global cincture_of_the_avatars
                    remote cincture_of_the_avatars %actor.id%
                    return 1
                    halt
                  else
                    %send% %actor% The words of the incantation illuminate the swirling winds that whip about you,
                    %send% %actor% their deeper meaning lost against the cold rage of the storm.  Your intelligence fails you.
                    return 0
                  end
                else
                  %send% %actor% Before you can continue, a wisp of wind escapes to the north.
                  return 0
                end
              else
                %send% %actor% Before you can continue, a wisp of wind escapes to the south.
                return 0
              end
            else
              %send% %actor% Before you can continue, a wisp of wind escapes to the east.
              return 0
            end
          else
            %send% %actor% Before you can continue, a wisp of wind escapes to the west.
            return 0
          end
        else
          %send% %actor% As you speak the words, an arcane knowledge lost for millennia, they burn a fiery red on the vellum page,
          %send% %actor% the words dying soundlessly on your evil lips.
          return 0
        end
      else
        %send% %actor% A voice, ancient beyond time, whispers, "%actor.name%, Nielmmno oe i Elohim e'na!"
        return 0
      end
    else
      %send% %actor% Nothing seems to happen as you read the meaningless incantation.  
      %send% %actor% The swirl of cold wind rips the command soundlessly from your lips.
      return 0
    end
  else
    %send% %actor% You search your memory for the necessary incantation as your command is drowned in the chaos of the storm.
    %send% %actor% You'll need the book Alhandril from the Old Elven Village before you can continue.
    return 0
  end
else
  return 0
end

>[0;00m
[0mCHECKING: 35088[0m

Name: 'fight club',  VNum: [35088], RNum: [ 1076]
Trigger Intended Assignment: Mobiles
Trigger Type: Fight , Numeric Arg: 100, Arg list: None
Commands:
*
* 040723  Aegon 350 Ice Fortress
*
if %actor.is_pc%
  if %self.name% /= Bajjbaji
    detach 35106 %self.id%
  elseif %self.name% /= Dajdaj
    detach 35107 %self.id%
  elseif %self.name% /= Jazaraki
    detach 35106 %self.id%
  elseif %self.name% /= Kasraza
    detach 35106 %self.id%
  elseif %self.name% /= Kazirasch
    detach 35114 %self.id%
  elseif %self.name% /= Panakala
    detach 35106 %self.id%  
  end
end

>[0;00m
[0mCHECKING: 35089[0m

Name: 'masochist's folly',  VNum: [35089], RNum: [ 1077]
Trigger Intended Assignment: Objects
Trigger Type: Random , Numeric Arg: 12, Arg list: None
Commands:
if %self.worn_by%
  set victim %self.worn_by%
  if %victim.int% < 25
    eval trap_damage %victim.hitp% / 10
    eval trap_damage %%random.%trap_damage%%
    %damage% %victim% %trap_damage%
    set obj %self.shortdesc%
    %send% %victim% %obj.toupper% drains you [%trap_damage%]!
  end
end

>[0;00m
[0mCHECKING: 35090[0m

Name: 'durin's door dump',  VNum: [35090], RNum: [ 1078]
Trigger Intended Assignment: Rooms
Trigger Type: Zone Reset , Numeric Arg: 100, Arg list: None
Commands:
%door% 35152 down room 35145

>[0;00m
[0mCHECKING: 35091[0m
[0mCHECKING: 35092[0m

Name: 'follow the leader',  VNum: [35091], RNum: [ 1079]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 3, Arg list: fol
Commands:
*
* 011824 Aegon Ice Fortress 350
*
if %actor.is_pc%
  if %cmd% /= fol && (%arg% /= me || %arg% /= us)
    *sieged entrance
    %teleport% %actor% 14625
    %detach% 35192 %self.id
    %teleport% saraka 14625
    %force% %actor% look
    wait 3 s
    %echoaround% %actor% arrives.
    %send% %actor% Saraka turns to make her way to the Castle Gates, but stops,
    %send% %actor% suddenly remembering something,..
    wait 3 s
    %send% %actor% "%actor.name%, in hopes that you'll find use within its pages, 
    %send% %actor% I gift you this tome identifying the languages of the gyrgyle.
    %send% %actor% Use it well."
    wait 2 s
    %send% %actor% Saraka hands you a thin, leather-bound book.
    %load% obj 35102 %actor%
    wait 3 s
    %send% %actor% Smiling, she turns and disappears through the main gates
    %send% %actor% of the castle.
    %purge% %self%
    wait 3 s
  end
end

>[0;00m
[0mCHECKING: 35093[0m

Name: 'proselytizing the proletariat',  VNum: [35092], RNum: [ 1080]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
*
* 011824 Aegon Ice Fortress 350
*
if %actor.is_pc%
  switch %actor.class%
    case Human
      case Hobbit
      case Kender
      set language Common
    break
    case Goblin
      case Half-Orc
      case Orc
      case Uruk-Hai
      set language Orcish
    break
    case Dwarf
      case Gnome
      set language Dwarven
    break
    case Elf
      case Half-Elf
      set language High Elven
    break
    default
      set language High Common
    break
  done
  wait 3 s
  %send% %actor% The Prophet turns toward you and raises her gauntlet to hail your party.
  %send% %actor% As you near, she studies you carefully.
  wait 3 s
  %send% %actor% She begins in her native gyrgyle tongue, a series of guttural sounds
  %send% %actor% akin to that of a dragon's whisper, then stops, responding to your
  %send% %actor% size, gait, and Clan Sigil.
  wait 3 s
  %send% %actor% "%actor.name%, I shall speak with you in your native %language%,
  %send% %actor% hoping to convince you and your allies of the icy threat now
  %send% %actor% poised to strike your towns, your villages, your world."
  wait 4 s
  %send% %actor% Looking into your eyes, searching for something, she pleads, 
  %send% %actor% "Follow me or lead me, friend, there is no time to spare!"
  wait 4 s
end
return 0

>[0;00m
[0mCHECKING: 35094[0m

Name: 'lead the follower',  VNum: [35093], RNum: [ 1081]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 3, Arg list: lead
Commands:
*
* 011824 Aegon Ice Fortress 350
*
if %actor.is_pc%
  if %cmd% == lead && (%arg% /= me || %arg% /= us)
    *ice fortress entrance
    %detach% 35192 %self.id%
    %teleport% %actor% 35098
    %echoaround% %actor% arrives.
    %teleport% saraka 35098
    %force% %actor% look
    %send% %actor% Saraka looks northward, into the depths of the snowy valleys
    %send% %actor% that fill the sky to impossible heights.
    wait 3 s
    %send% %actor% "This is as close as I dare, having recently escaped this terrible place.
    %send% %actor%  Good-luck friend, I wish you well."
    %purge% %self%
    wait 3 s
  end
end

>[0;00m
[0mCHECKING: 35095[0m

Name: 'playing with atoms',  VNum: [35094], RNum: [ 1082]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 3, Arg list: boom
Commands:
if %cmd% == boom
  set spell %arg%
dg_cast '%spell%'
end

>[0;00m
Name: 'the perry is IN redux',  VNum: [35095], RNum: [ 1083]
Trigger Intended Assignment: Mobiles
Trigger Type: Global Time , Numeric Arg: 3, Arg list: None
Commands:
Commands:
*
* 122722 Aegon 350 Ice Fortress
*
mgoto 35122
*
%echo% The oiled wooden double door in the north wall swings open, and out stumbles
%echo% an ancient muggle, Perry Hopper.
wait 2 s
%echo% %self.name% arrives.
wait 2 s
%echo% Perry fusses with his keychain and begins to set up shop after his lunch break.

>[0;00m
[0mCHECKING: 35096[0m

Name: 'the perry is OUT redux',  VNum: [35096], RNum: [ 1084]
Trigger Intended Assignment: Mobiles
Trigger Type: Global Time , Numeric Arg: 7, Arg list: None
Commands:
*
* 122722 Aegon 350 Ice Fortress
*
%echo% Perry begins straightening his office, sorting the day's receipts neatly into drawers, in
%echo% preparation for his departure in an hour.
wait 1 h
%echo% Perry ambles to his office door,  fusses with his keychain, inserts key into lock, and retires for the evening.
wait 2 s
%echo% %self.name% leaves north.
mgoto 35162

>[0;00m
[0mCHECKING: 35097[0m

Name: 'hello, my name is saraka',  VNum: [35097], RNum: [ 1085]
Trigger Intended Assignment: Mobiles
Trigger Type: Random , Numeric Arg: 1, Arg list: None
Commands:
if ! (%self.fighting% || %self.follower%)
  %zoneecho% %self.room.vnum% A shrill cry rises to a spine-chilling crescendo from some great distance, the echoes fading softly in time.
  if %self.has_item(35102)%
    %purge% %self.inventory(35102)%
  end
  %purge% %self%
end

>[0;00m
[0mCHECKING: 35098[0m

Name: 'reset aniadia',  VNum: [35098], RNum: [ 1086]
Trigger Intended Assignment: Rooms
Trigger Type: Zone Reset , Numeric Arg: 100, Arg list: None
Commands:
*
* if zone resets with captain and priest at helm, remove fire avatar and restore airship
* to forest crash site
*
if  (%findmob.35092(35088)% && %findmob.35173(35126)% )
  set victim %self.people%
  while %victim%
    set next_victim %victim.next_in_room%
    if ! %victim.is_pc%
      %purge% %victim%
    end
    set victim %next_victim%
  done
  *
  * remove rope ladder room between gryphon and talon (from both sides)
  * %door% <vnum> < direction> < field> [value] 
  *
  %door% 35095 down purge
  %door% 35123 up purge
  *
  * restore bow and stern access to red gryphon
  *
  %door% 35089 west room 35097
  %door% 35089 west description A boarding ramp has been placed against the hillside allowing passage toward the defensive bonfire.
  %door% 35097 east room 35089
  %door% 35097 east description A boarding ramp leads up into the downed airship.
  *
  %door% 35091 east room 35176
  %door% 35091 east description A rope ladder leads down to the forest floor.
  %door% 35176 up 35091
  %door% 35176 up description A rope ladder leads up to the deck of the downed airship.
  *
end

>[0;00m
[0mCHECKING: 35099[0m

Name: 'reset dariano',  VNum: [35099], RNum: [ 1087]
Trigger Intended Assignment: Rooms
Trigger Type: Zone Reset , Numeric Arg: 100, Arg list: None
Commands:
*
* if zone resets, reset dariano
*
set victim %self.people%
while %victim%
  set next_victim %victim.next_in_room%
  if ! %victim.is_pc%
    %purge% %victim%
  end
  set victim %next_victim%
done

>[0;00m
[0mCHECKING: 35100[0m
[0mCHECKING: 35101[0m

Name: 'reset phenia',  VNum: [35100], RNum: [ 1088]
Trigger Intended Assignment: Rooms
Trigger Type: Zone Reset , Numeric Arg: 100, Arg list: None
Commands:
*
* if zone resets, reset phenia
*
set victim %self.people%
while %victim%
  set next_victim %victim.next_in_room%
  if ! %victim.is_pc%
    %purge% %victim%
  end
  set victim %next_victim%
done

>[0;00m
[0mCHECKING: 35102[0m

Name: 'nankarza's badge quest',  VNum: [35101], RNum: [ 1089]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: quest
Commands:
*
* 0522 Aegon 350 Ice Fortress
* 2524                                       stop clues if fighting - add wait variables
*
set wait 5
*
if (%actor.is_pc% && ! %self.fighting%)
  if %cmd% == quest
    if %arg%
      switch %arg%
        case brief
          if %actor.varexists(nankarza_skins)%
            %echo% %actor.name%, skin Ranger Masters throughout the world and return their skins to Nankarza for reward!
          else
            %echo% %actor.name%, you have not yet received a quest from Master Nankarza.
          end
        break
        case badge
          %echo% The Ice Strider measures you with a glance, sheathing his double-bladed weapon
          %echo%  before approaching you.
          wait %wait% sec
          %echo% "You %actor.race% %actor.class%, %actor.name%," he says slowly in unfamiliar words.
          wait %wait% sec
          %echo%  "Goddess want Master Ranger skins.  Traitors all."
          wait %wait% sec
          %echo%  He clears his throat with a wing beat, pausing for effect.
          wait %wait% sec
          %echo% Suddenly angered, "Kill Rangers.  Every land.  All places."
          wait %wait% sec
          %echo% He looks away, back toward his lieutenants gathered behind him, grinning balefully.
          wait %wait% sec
          %echo% He lifts off the ground with a hop and settles back behind his throne of animal hides.
          wait %wait% sec
          %echo% He looks up and whispers, "Do this I reward."
          wait %wait% sec
          %echo% "Bring skins.  Proof you." 
          wait %wait% sec
          %echo% He dismisses you with a scowl, snapping, "Go now!"
        break
        default    
          return 0
          halt
        break
      done
    else
      %echo% Usage\: quest list \| history \| progress \| join nn \| leave \| badge \| brief
    end
  end
end

>[0;00m
[0mCHECKING: 35103[0m

Name: 'banatak's sacrifice',  VNum: [35102], RNum: [ 1090]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
*
* banatak can complete her ritual
*
set speaks_gyrgyle 0
if %actor.varexists(subjects)%
  if %actor.subjects% /= gyrgyle
    set speaks_gyrgyle 1
  end
end
*
if %actor.is_pc%
  wait 2 s
  %send% %actor% %self.name% takes %self.hisher% ring from you and slips it around her long wing talon, cackling with glee...
  %echoaround% %actor% %self.name% takes %self.hisher% lost ring from %actor.name%, slips it around a long wing talon, and cackles with glee...
  wait 3 s
  %echo% %self.name% raises her wings, filling the vestibule, plumes of coldfyre washing the room in deep blue light.
  wait 3 s
  if (%actor.has_item(35102) || %speaks_gyrgyle%)
    %send% %actor% %self.name% whispers, 'My ring!  O my ring!  Thanks be to the Goddess, %actor.name%, I can complete my ritual sacrifice!'
  else
    %send% %actor% %self.name% whispers, 'Ur-turnak! Ur-turnak!  Aptor-nuk pal sabbnock-ar  %actor.name%, je-ort tagnar ur-prognam baratak!'
  end
  *
  %echo% The preistess searches the room for a sacrifice...
  wait 2 s
  *
  set room %self.room%
  set victim %room.people%
  %echo% %self.name% points to %victim.name%!
  wait 1 s
  %damage% %victim% %victim.curhp%
  %send% %victim% You have been chosen!  The last thing you hear before you die, are the blood-filled screams ripped from your own ravaged lungs...
  wait 10 s
  mkill %victim%
end

>[0;00m
[0mCHECKING: 35104[0m

Name: 'monsum mommy!',  VNum: [35103], RNum: [ 1091]
Trigger Intended Assignment: Objects
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
if %self.worn_by% 
  set victim %self.worn_by%
  if %victim.is_pc%
    eval vnum 169 + %random.5%
    set room %self.room%
    set found %%findmob.%room.vnum%(%vnum%)%%
    eval found %found%
    if ! %found%
      %load% mob %vnum%
      set slave %room.people%
      %echo% %self.shortdesc% has summoned a demon!
      set name %slave.name%
      %echo% %name.toupper% appears in a cloud of black smoke!
      %force% %slave% fol %victim.name%
    end
  end
end

>[0;00m
Name: 'bertie botts every flavor bean bag',  VNum: [35104], RNum: [ 1092]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: get
Commands:
*
*  limit bean production
*
if %actor.is_pc%
  if %cmd.mudcommand% == get && %arg% == bean
    if %actor.pos% == Standing || %actor.pos% == Sitting || %actor.pos% == Resting 
      if ! %actor.has_item(35089)
        if !%global_beans%
          set global_beans 1
          set global_beans_day %time.day%
          global global_beans
          global global_beans_day
        end
        *
        * %echo% debug: beans in world: %global_beans%
        * %echo% debug: beans birthday: %global_beans_day%
        * %echo% debug: today's day: %time.day%
        *
        if %global_beans% > 10
          if %global_beans_day% == %time.day%
            %send% %actor% You root around in the pouch looking for a magic bean, but the bag has grown cold.
            return 1
            halt
          else
            set global_beans 1
          end
        else
          eval global_beans %global_beans% + 1
        end
        *
        global global_beans
        *
        if %actor.mana% >= 15
          if %random.100% > 10
            nop %actor.mana(-15)%
            %load% obj 35089 %actor% inv
            %send% %actor% You get a magic jellybean from the pouch of Bertie Bott's every flavor beans.
            %echoaround% %actor% %actor.name% gets a jellybean from a jellybean pouch.
          else
            %send% %actor% You lost your concentration!
            nop %actor.mana(-8)%
            wait 2 s
            return 0
            halt
          end
        else
          %send% %actor% You haven't the energy to conjure a Bertie Botts Every Flavor Bean!
          wait 2 s
          return 0
          halt
        end
      else
        %send% %actor% You root around in the pouch looking for a magic bean and see you already have one!
        wait 2 s
        return 0
        halt
      end
    else
      %send% %actor% You're unable to reach into the pouch right now.
      wait 2 s
      return 0
      halt
    end
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 35105[0m

Name: 'get random bean',  VNum: [35105], RNum: [ 1093]
Trigger Intended Assignment: Objects
Trigger Type: Consume , Numeric Arg: 0, Arg list: None
Commands:
*
* 052622 Aegon  350 Ice Fortress
*
set gross 0
set value 4
*
eval selection %random.60%
switch %selection%
  case 1
    set flavor Pink Grapefruit
  break
  case 2
    set flavor  Pizza 
    set value 12
  break
  case 3
    set flavor Roast Beef
    set value 12
  break
  case 4
    set flavor  Rotten Egg
  break
  case 5
    set flavor Spaghetti 
    set value 6
  break
  case 6
    set flavor Steak
    set value 12
  break
  case 7
    set flavor  Sulphur 
    set gross 2
  break
  case 8
    set flavor Toffee
  break
  case 9
    set flavor Toffee Pudding
  break
  case 10
    set flavor  Tomato
  break
  case 11
    set flavor  Troll Bogey
    set gross 2
  break
  case 12
    set flavor  Tutti-Frutti 
  break
  case 13
    set flavor Vanilla Ice Cream
    set value 6
  break
  case 14
    set flavor  Watermelon
  break
  case 15
    set flavor Ham
    set value 12
  break
  case 16
    set flavor Horseradish
  break
  case 17
    set flavor Ketchup
  break
  case 18
    set flavor Lemon
  break
  case 19
    set flavor Lobster
    set  value 6
  break
  case 20
    set flavor Marmalade
  break
  case 21
    set flavor Marshmallow
  break
  case 22
    set flavor Mashed Potatoes
    set value 6
  break
  case 23
    set flavor Mint
  break
  case 24
    set flavor Mustard
  break
  case 25
    set flavor Onion
  break
  case 26
    set flavor Orange
  break
  case 27
    set flavor Peach
  break
  case 28
    set flavor Pear
  break
  case 29
    set flavor Plegm
    set gross 2
  break
  case 30
    set flavor Chocolate Cake
    set value 12
  break
  case 31
    set flavor Cinnamon
  break
  case 32
    set flavor Cranberry
  break
  case 33
    set flavor Cream Puff
  break
  case 34
    set flavor Dirty Sock
  break
  case 35
    set flavor Dog Food
  break
  case 36
    set flavor Earthworm
  break
  case 37
    set flavor Envelope Glue
  break
  case 38
    set flavor Farm Dirt
  break
  case 39
    set flavor Feet
    set gross 2
  break
  case 40
    set flavor Fish
    set value 6
  break
  case 41
    set flavor Fried Egg
    set value 6
  break
  case 42
    set flavor Grape Jelly
  break
  case 43
    set flavor Grapefruit
  break
  case 44
    set flavor Gravy
    set value 6
  break
  case 45
    set flavor Green Apple
  break
  case 46
    set flavor Almond
  break
  case 47
    set flavor Apple
  break
  case 48
    set flavor Banana
  break
  case 49
    set flavor Belly Button Lint
  break
  case 50
    set flavor Blackberry
  break
  case 51
    set flavor Black Pepper
  break
  case 51
    set flavor Booger
    set gross 1
  break
  case 52
    set flavor Blueberry
  break
  case 53
    set flavor Blueberry Pie
    set value 12
  break
  case 54
    set flavor Broccoli
  break
  case 55
    set flavor Buttered Popcorn
    set value 6
  break
  case 56
    set flavor Candyfloss
  break
  case 57
    set flavor Dank
    set gross 2
  break
  case 58
    set flavor Cherry
    dg_cast 'sanctuary' %actor%
  break
  case 59
    set flavor Chicken
    set value 12
  break
  case 60
    set flavor Chili Powder
  break
  default
    set flavor Black Licorice
  break
done
%send% %actor% You pop a magical %flavor%-flavored jelly bean into your mouth!
%echoaround% %actor% %actor.name% pops a magical %flavor%-flavored jelly bean into %actor.hisher% mouth!
if !%gross%
  %force% %actor% smile
  osetval 0 %value%
else
  %force% %actor% grimace
  osetval 3 1
  if %gross% == 2
    osetval 0 -4
  end
end

>[0;00m
[0mCHECKING: 35106[0m

Name: 'panakalas quest',  VNum: [35106], RNum: [ 1094]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 0, Arg list: quest
Commands:
*
* 0522 Aegon 350 Ice Fortress
*
if %actor.is_pc% && %actor.canbeseen%
  if %cmd% == quest
    if %arg% 
      switch %arg%
        case brief
          wait 2 sec
          %send% %actor% %actor.name%, bring apprentices from the Corsair Citadel (alive) to the Master Inquisitor
          %send% %actor% for reward.
        break
        case badge
          %echo% The torturer looks up from his latest victim, casually, as if expecting you.
          wait 2 sec
          %send% %actor% "You are the %actor.race% %actor.class%, %actor.name%," he begins, his mastery of
          %send% %actor% imperium common tongue evident.
          wait 2 sec
          %send% %actor% After studying you carefully, he continues, "You know the pirate's cove -- 
          %send% %actor% the Corsair Citadel don't you?"
          wait 2 sec
          %send% %actor% He waits for some form of acknowledgement.
          wait 2 sec
          %send% %actor% "The stormfinders, Pugionus and Fuscus are close to finishing their little project."
          wait 2 sec
          %echo%  He moves closer, the reek of his victims' fear is thick on him, like flies on a bloated corpse.
          wait 2 sec
          %send% %actor% Leering, he whispers, "Bring me two magician's apprentices from the Citadel."
          wait 2 sec
          %echo% He looks away, back toward his bound captive stretched on an iron rack.
          wait 2 sec
          %send% %actor% "Bring them to me alive," he hisses.
          wait 2 sec
          %send% %actor% "My agents have been stopped twice now by the stormfinders' garrison."
          wait 2 sec
          %echo% He lifts off the ground with a hop and settles back behind his apparatus.
          wait 2 sec
          %send% %actor% He looks up and whispers, "Do this and you will be rewarded."
          wait 2 sec
          %send% %actor% As he returns to his grisly work, he dismisses you with a scowl, snapping, "Now leave me!"
        break
        default
          return 0
        break
      done
    else
      %send% %actor% Usage\: quest list \| history \| progress \| join nn \| leave \| badge \| brief
    end
  end
end

>[0;00m
[0mCHECKING: 35107[0m

Name: 'dajdajs quest',  VNum: [35107], RNum: [ 1095]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 0, Arg list: quest
Commands:
*
* 0522 Aegon 350 Ice Fortress
*
if %actor.is_pc% && %actor.canbeseen%
  if %cmd% == quest
    if %arg%
      switch %arg%
        case brief
          if %actor.has_item(35102)% || %actor.varexists(dajdaj_spies)%
            %send% %actor% %actor.name%, locate gyrgyle spies throughout the land,
            %send% %actor% and return their corpses to Dajdaj for a reward!
          else
            %send% %actor% %actor.name%, you have not yet received a quest from Master Dajdaj.
          end
        break
        case badge
          %send% %actor% The inquisitor pulls the hood down over his victim's face, slowly, as if luxuriating
          %send% %actor%  in her blind fear, and turns to you.
          wait 2 sec
          %send% %actor% "You %actor.race% %actor.class%, %actor.name%," he says slowly in unfamiliar words.
          wait 2 sec
          %send% %actor%  "Goddess suspects gyrgyle spy false.  Traitor."
          wait 2 sec
          %echo%  He clears his throat with a wing beat, pausing for effect.
          wait 4 sec
          %echo%  He moves closer, the reek of his victims' fear is thick on him,
          %echo% like flies on a bloated corpse.
          wait 2 sec
          %send% %actor% Suddenly angered, "Kill gyrgyle spies.  Every land.  All places."
          wait 2 sec
          %echo% He looks away, back toward his hooded captive bound to a chair.
          wait 2 sec
          %echo% He lifts off the ground with a hop and settles back behind his apparatus.
          wait 4 sec
          %send% %actor% He looks up and whispers, "Do this and I reward."
          wait 2 sec
          %send% %actor% "Bring corpses.  You proof." 
          wait 2 sec
          %send% %actor% As he returns to his grisly work, he dismisses you with a scowl, snapping, ""Now go!"
        break
        default    
          return 0
          halt
        break
      done
    else
      %send% %actor% Usage\: quest list \| history \| progress \| join nn \| leave \| badge \| brief
    end
  end
end

>[0;00m
[0mCHECKING: 35108[0m

Name: 'kasrazas quest',  VNum: [35108], RNum: [ 1096]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: quest
Commands:
*
* 0522 Aegon 350 Ice Fortress
*
set speaks_gyrgyle 0
if %actor.varexists(subjects)%
  if %actor.subjects% /= gyrgyle
    set speaks_gyrgyle 1
  end
end
*
if %actor.is_pc% && %actor.canbeseen%
  if %cmd% == quest
    if %arg%
      switch %arg%
        case badge
          if ! (%actor.has_item(35102)% || %speaks_gyrgyle%)
            %echo% The necromancer looks up from the great book spread on his podium, slowly, as if expecting you.
            wait 2 sec
            %echo% %actor.name%," he says, in a low growl, "Ak-ah nguh-h bek-ti ha-ibn, ag ah il timor fardung er ar."
            wait 2 sec
            %echo% Closing his Necronomicon, he locks the leather hasp and carefully skirts the corpse spread on his ice slab.
            wait 2 sec
            %echo% Stopping short of your party, he pauses and says, ""Ul-trant kaz dar bandesht fa hol ar tantan...  Yad-nar-ag ah il timor ..."
            wait 2 sec
            %echo% Finally, realizing that you do not comprehend him, he sneers, "Denk-ah-ughti ha irl."
            wait 5 sec
          else
            %echo% The necromancer looks up from the great book spread on his podium, slowly, as if expecting you.
            wait 2 sec
            %echo% %actor.name%," he says, in low growl, "My spies have searched the realms for one such as you."
            wait 2 sec
            %echo%  Closing his Necronomicon, he locks the leather hasp and carefully skirts the corpse spread on his ice slab.
            wait 2 sec
            %echo% Stopping short of your party, he pauses and says, "I require the bodies of the greatest dragons... for this magic..."
            wait 2 sec
            %echo% He unfurls a wing and motions behind him, to the corpse rotting there.
            wait 2 sec
            %echo%  "As many as you can bring me, %actor.name%.  My magic is growing, my skill improving..."
            wait 2 sec
            %echo% He selects another book, another dark talisman.  "Do this, and I shall reward you in kind..."
            wait 2 sec
            %echo% He moves away, already lost in an incantation, a conjuring, delving into the profane and unspeakable.
            wait 2 sec
            %echo% Finally, he says, "Now leave me."
            wait 5 sec
          end
        break
        case brief
          if %actor.varexists(kasraza_dragons)%
            if (%actor.has_item(35102) || %speaks_gyrgyle%)
              %send% %actor% %actor.name%, bring me the corpses of dragons throughout the land for a reward!
            else
              %send% %actor% %actor.name%, bring me something found throughout the land for a reward!
            end
          else
            %send% %actor% %actor.name%, you have not yet received Master Kasraza's badge quest.
          end    
        break
        default
          return 0
          halt
        break
      done
    else
      %send% %actor% Usage: quest \<list \| history \| progress \| join <nn> \| leave \| badge \| brief\>
    end
  end
end

>[0;00m
[0mCHECKING: 35109[0m

Name: 'rinse and reaper eat',  VNum: [35109], RNum: [ 1097]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  if ! %actor.varexists(reaper_quest)%
    eval reaper_quest 1
    %send% %actor% Congratulations, %actor.name%, you have unlocked the Reaping the Reaper badge!
  else
    eval reaper_quest %reaper_quest% + 1
  end
  remote %reaper_quest% %actor.id%
  switch %reaper_quest%
    case 25
      %send% %actor% Congratulations, %actor.name%, you have earned the Reaping the Reaper badge!
      %send% %actor% and you have unlocked the Reaper Sweeper badge!
    break
    case 50
      %send% %actor% Congratulations, %actor.name%, you have earned the Reaper Sweeper badge!
      %send% %actor% and you have unlocked the Reaper Madness badge!
    break
    case 100
      %send% %actor% Congratulations, %actor.name%, you have earned the Reaper Madnessr badge!
      %send% %actor% and you have unlocked the Lord of Death badge!
    break
    case 250
      %send% %actor% Congratulations, %actor.name%, you have earned the Lord of Death badge!
    break
    default
      if %reaper_quest > 100
        %send% %actor% %actor.name%, you have earned %reaper_quest% Reaper kills of 250 toward your Lord of Death badge!
      else if %reaper_quest% > 50
        %send% %actor% %actor.name%, you have earned %reaper_quest% Reaper kills of 100 toward your Reaper Madness badge!
      else if %reaper_quest% > 25
        %send% %actor% %actor.name%, you have earned %reaper_quest% Reaper kills of 50 toward your Reaper Sweeper badge!
      else if %reaper_quest% > 1
        %send% %actor% %actor.name%, you have earned %reaper_quest% Reaper kills of 25 toward your Reaping the Reaper badge!
      end
    break
  done
end

>[0;00m
[0mCHECKING: 35110[0m
[0mCHECKING: 35111[0m

Name: 'bajj baji's instrument quest',  VNum: [35110], RNum: [ 1098]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 7, Arg list: quest
Commands:
*
* 0522 Aegon 350 Ice Fortress
*
* original weeden portmaster speech block code transcoding AP
*
if %actor.is_pc% && %actor.canbeseen%
  if %actor.class% == Bard
    if %cmd% == quest
      if %arg% 
        switch %arg%
          case brief
            if %actor.has_item(35102)%
            else
            end
          break
          case badge
            if ! %actor.has_item(35102)%
              %send% %actor% The spinning gyre of snow and ice slows, as the strange melody slows, incomprehensible lyrics punctuated by gusts of wind.
              wait 2 sec
              %send% %actor% %actor.name%," the gyre sings, rotating very slowly now, "Ak-ah nguh-h bek-ti ha-ibn, ag ah il timor fardung er ar."
              wait 2 sec
              %send% %actor% From the gyre, an instrument appears, floating gently, washed in a flurry of snow conjured by the skald.
              wait 2 sec    
              %send% %actor% Seeing that you do not understand him, he sighs, "... "Denk-ah-ughti ha ir," and returns to his storm gyre song. 
              wait 4 sec
            else
              %send% %actor% The spinning gyre of snow and ice slows, as the strange melody slows, incomprehensible lyrics punctuated by gusts of wind.
              wait 2 sec
              %send% %actor% %actor.name%," the gyre sings, rotating very slowly now, "You are a bard, a singer from the wider world.   Summertime brother, well met..."
              wait 2 sec
              %send% %actor% From the gyre, an instrument appears, floating gently, washed in a flurry of snow cloaking the skald. 
              wait 2 sec
              %send% %actor% Emerging from the cloud of snow and ice, Bajj Baji sings, "The time of my instrument is nearly done ... Soon it will no longer weave a tale of Winter."
              wait 2 sec
              %send% %actor% He unfurls a wing and motions to his instrument, an odd-looking bow and stringed drum, ancient and in some disrepair.
              wait 2 sec
              %send% %actor%  "Find new voices, %actor.name%, new instruments of song and bring them to me here ..."
              wait 2 sec
              %send% %actor% He shows you the instrument, carefully holding it out for you to examine.  "The more powerful the voice the better for me..."
              wait 2 sec
              %send% %actor% He begins to sing, talons expertly extracting a haunting melody from his igil, sad and melancholy, paced like a dirge.
              wait 2 sec
              %send% %actor% Finally, he says, "... and the better for you, summer brother," and then slowly returns to his storm gyre song.
              wait 4 sec
            end
          break
          default
            return 0
            halt
          break
        done
      else
        %send% %actor% Usage\: quest list \| history \| progress \| join nn \| leave \| badge \| brief
      end
    end
  end
end

>[0;00m
[0mCHECKING: 35112[0m

Name: 'bajj-bajis musical chairs',  VNum: [35111], RNum: [ 1099]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
*
* 052822 Aegon 350 Ice Fortress
* 030825                                           added QT logging
*                                                        converted all switches to elseIF
*
context %actor.id%
*
if (%actor.is_pc% && %actor.class% == Bard)
  set vnum %object.vnum%
  if (%vnum% == 4701 || %vnum% == 4702 || %vnum% == 4703)
    * kazoo recorder flute
    set instrument_val 1
    %send% %actor% %self.name% has decided to accept your %object.name% offering.
  elseif (%vnum% == 4704 ||  %vnum% == 4705 || %vnum% == 4706)
    * lyre harp guitar
    %send% %actor% %self.name% smiles when he sees your %object.name% offering!
    set instrument_val 1
  elseif (%vnum% ==13323 || %vnum% == 3600)
    * zither  banjo
    %send% %actor% %self.name% grows visibilty excited when he sees your %object.name% offering!
    set instrument_val 1       
  elseif (%vnum% == 706 || %vnum% == 1931 || (%vnum% >= 8406 && %vnum% <= 8410)  || %vnum% == 4803 || %vnum% == 5599 || %vnum% == 12340 ||  %vnum% == 12357 || %vnum% == 13340 || %vnum% == 35046)   
    * prevent turning in valuable quest instruments
    *  frozen bassoon the red violin glories stradivarius shoe horn  green fuzzy pink strap hoopak song of winter
    %send% %actor% %self.name% is overwhelmed by your generosity, but couldn't possibly accept your offer.
    return 0
    halt
  elseif %vnum% == 4806
    * part of the in-game quest
    return 1
    halt
  else
    * if it's not an instrument, he's not interested
    %send% %actor%  Bajj-Baji, The Skald Master, is unmoved by your offering.
    return 0
    halt
  end
  *
  *     begin badge block
  *
  set collect instruments
  set tiers 1 100 250 500 1000 2500 5000
  *
  extract tier0 1 %tiers%
  set tier0name Apprentice Tuner
  *
  extract tier1 2 %tiers%
  set tier1name IceIce Baby
  *
  extract tier2 3 %tiers%
  set tier2name Band Manager
  *
  extract tier3 4 %tiers%
  set tier3name Snow Choreographer
  *
  extract tier4 5 %tiers%
  set tier4name Frozen Concertmaster
  *
  extract tier5 6 %tiers%
  set tier5name Master Songwriter
  *
  extract tier6 7 %tiers%
  set tier6name Champion Composer
  *
  if %actor.varexists(bajjbaji_instruments)%
    extract bajjbaji_instruments 1 %actor.bajjbaji_instruments%
    *    %echo% debug: extracted bajjbaji_instruments: %bajjbaji_instruments%
    eval bajjbaji_instruments %bajjbaji_instruments% + %instrument_val%
  else
    set bajjbaji_instruments %instrument_val%
  end
  *
  if %bajjbaji_instruments% == %tier0%
    %send% %actor% %actor.name%, you have attained the rank of %tier0name%, and you have unlocked the %tier1name% badge!
    set badge %tier0name%
  elseif %bajjbaji_instruments% ==  %tier1%
    %send% %actor% %actor.name%, you have attained the rank of %tier1name%, and you have unlocked the %tier2name% badge!
    set badge %tier1name%
  elseif %bajjbaji_instruments% ==  %tier2%
    %send% %actor% %actor.name%, you have attained the rank of %tier2name%, and you have unlocked the %tier3name% badge!
    set badge %tier2name%
    %send% %actor% You earned a token!
    %load% obj 17934 %actor% inv
    %log% [T35111] has awarded a token vnum 17934 to actor %actor.name%
  elseif %bajjbaji_instruments% ==  %tier3%
    %send% %actor% %actor.name%, you have attained the rank of %tier3name%, and you have unlocked the %tier4name% badge!
    set badge %tier3name%
    %send% %actor% You earned a token!
    %load% obj 17935 %actor% inv
    %log% [T35111] has awarded a token vnum 17935 to actor %actor.name%
    %send% %actor% Bajj-Baji rewards you with a pair of warm wurm mittens!
    %load% obj 35079 %actor% inv
  elseif %bajjbaji_instruments% ==  %tier4%
    %send% %actor% %actor.name%, you have attained the rank of %tier4name%, and you have unlocked the %tier5name% badge!
    set badge %tier4name%
    %send% %actor% You earned a token!
    %load% obj 17936 %actor% inv
    %log% [T35111] has awarded a token vnum 17936 to actor %actor.name%
    %send% %actor% Bajj-Baji rewards you with your very own igil ... the Song of Winter!
    %load% obj 35046 %actor% inv
  elseif %bajjbaji_instruments% ==  %tier5%
    %send% %actor% %actor.name%, you have attained the rank of %tier5name%, and you have unlocked the %tier6name% badge!
    set badge %tier5name%
    %send% %actor% You earned a token!
    %load% obj 17937 %actor% inv
    %log% [T35111] has awarded a token vnum 17937 to actor %actor.name%
  elseif %bajjbaji_instruments% ==  %tier6%
    %send% %actor% %actor.name%, you have attained the top rank of %tier6name%!
    set badge %tier6name%
    %send% %actor% You earned a token!
    %load% obj 17938 %actor% inv
    %log% [T35111] has awarded a token vnum 17938 to actor %actor.name%
  elset
    if %bajjbaji_instruments% < %tier1%
      %send% %actor% %actor.name%, as an %tier0name%, you have collected %bajjbaji_instruments% of %tier1% %collect% toward your next badge.
      set badge %tier0name%
    elseif %bajjbaji_instruments% < %tier2%
      %send% %actor% %actor.name%, as a %tier1name% you have collected %bajjbaji_instruments% of %tier2% %collect% toward your next badge.
      set badge %tier1name%
    elseif %bajjbaji_instruments% < %tier3%
      %send% %actor% %actor.name%, as a %tier2name%, you have collected %bajjbaji_instruments% of %tier3% %collect% toward your next badge.
      set badge %tier2name%
    elseif %bajjbaji_instruments% < %tier4%
      %send% %actor% %actor.name%, as a %tier3name%, you have collected %bajjbaji_instruments% of %tier4% %collect% toward your next badge.
      set badge %tier3name%
    elseif %bajjbaji_instruments% < %tier5%
      %send% %actor% %actor.name%, as a %tier4name%, you have collected %bajjbaji_instruments% of %tier5% %collect% toward your next badge.
      set badge %tier4name%
    elseif %bajjbaji_instruments% < %tier6%
      %send% %actor% %actor.name%, as a %tier4name%, you have collected %bajjbaji_instruments% of ????? %collect% toward your next badge.
      set badge %tier5name%
    else
      %send% %actor% %actor.name%, as the %tier6name%, you have collected %bajjbaji_instruments% %collect%.
      set badge %tier6name%
    end          
  end   
  %purge% %object%
  *
  set bajjbaji_instruments %bajjbaji_instruments% %badge%
  global bajjbaji_instruments
  remote bajjbaji_instruments %actor.id%
else
  %echoaround% %actor% %actor.name% tries to give Bajj-Baji something.
  %send% %actor% Bajj-Baji politely refuses your offering.
  wait 2 s
  %echo% Bajj-Baji, the Master Skald, returns to tuning his instrument.
  return 0 
  halt
end

>[0;00m
[0mCHECKING: 35113[0m

Name: 'martkza's anti-paladin quest',  VNum: [35112], RNum: [ 1100]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 7, Arg list: quest
Commands:
*
* 0522 Aegon 350 Ice Fortress
*
* original weeden portmaster speech block code transcoding AP
*
if %actor.is_pc% && %actor.canbeseen%
  if %cmd% == quest
    if %arg%
      switch %arg%
        case badge
          if %actor.class% != Paladin && %actor.align% < -349
            if ! %actor.has_item(35102)%
              %send% %actor% Martkza sits at a throne of skulls, some helmeted in gold and silver, others bare, frozen patches of hair framing eyeless sockets.
              wait 2 sec
              %send% %actor% %actor.name%," he commands, more thought than sound , "Ak-at thur-zah bek-ti ha-ibn, urrash-plantarkh ur-zar-kasz tog!"
              wait 2 sec
              %send% %actor% Recognizing your utter incomprehension, he snorts, "Denk-ah-ughti ha irl."
              wait 2 sec
              %echo% He moves away, lost in thought, issuing commands to a small swarm robed adherents, armored warrior priests and desperate servants..
              wait 4 sec
            else
              %send% %actor% Martkza sits at a throne of skulls, some helmeted in gold and silver, others bare, frozen patches of hair framing eyeless sockets.
              wait 2 sec
              %send% %actor% %actor.name%," he commands, more thought than sound , "I seek those worthy of cleansing the Summer Lands of the pestilence of the Holy Warrior!"
              wait 2 sec
              %send% %actor% Grasping his thighbone staff and rising, mightily, from his Seat of the Dead, he scans your party, assessing your capabilities...
              wait 2 sec
              %send% %actor% As if suddenly stirred by a thought, he snaps, ""Will you find them, root them out where they kneel in obeisance to their worthless deities?"
              wait 2 sec
              %send% %actor% Crossing the chamber with a short, powerful hop, he unfurls both wings and towers before you, menacingly.
              wait 2 sec
              %send% %actor%  "Find them, defeat them, bring their corpses to me, %actor.name%.  Let their skulls join these pious here on my throne ..."
              wait 2 sec
              %send% %actor% He makes a sweeping gesture back toward the frost-black Skull Throne.  "Stack their corpses in this chamber and be rewarded..."
              wait 2 sec
              %send% %actor% Finally, he says, "Now leave me." 
              wait 2 sec
              %send% %actor% He moves away, lost in thought, issuing commands to a small swarm robed adherents, armored warrior priests and desperate servants..
              wait 4 sec
            end
          else
            %send% %actor% The Antipaladin Lord refuses to recognize your presence, pious scum.
            return 1
            halt
          end
        break
        case brief
          if %actor.has_item(35102)% || %actor.varexists(martkza_paladins)%
            %send% %actor% %actor.name%, bring me the corpses of pious knights throughout the land,
            %send% %actor% and return their corpses to Lord Martkza for a reward!
          else
            %send% %actor% %actor.name%, you have not yet received a quest from Lord Martkza.
          end    
        break
        default
          return 0
          halt
        break
      done
    else
      %send% %actor% Usage: quest \<list \| history \| progress \| join <nn> \| leave \| badge \| brief\>
      return 1
      halt
    end
  end
end

>[0;00m
Name: 'zombie dawn',  VNum: [35113], RNum: [ 1101]
Trigger Intended Assignment: Mobiles
Trigger Type: Time , Numeric Arg: 7, Arg list: None
Commands:
*
* 053022 Aegon 350 Ice Fortress
*
if ! %self.fighting%
if %random.100% < 25
    *  %echo% %self.name% says, "Ark-ush tar kak ur skaag."
    %echoaround% %self% %self.name% dissolves into a pile of ash as the first
    %echoaround% %self% rays of dawn slant through the upper reaches of the great ice dome.
    %purge% %self%
  end
end

>[0;00m
[0mCHECKING: 35114[0m

Name: 'hawking_the_hawkmasks',  VNum: [35114], RNum: [ 1102]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 0, Arg list: quest
Commands:
*
* 011624 Aegon 350 Ice Fortress
*
if %actor.is_pc% && %actor.canbeseen%
  if %cmd% == quest
    if %arg%
      switch %arg%
        case brief
          if %actor.has_item(35102)% || %actor.varexists(kazirach_hawkmasks)%
            %send% %actor% %actor.name%, Kazirasch, Master of Thieves, would like you to bring him the
            %send% %actor% corpses of the leaders of the Hawkmask Guild.
          else
            %send% %actor% %actor.name%, you have not yet received a quest from Master Kazirasch.
          end
        break
        case badge
          if ! %actor.has_item(35102)%
            %send% %actor% Kazirasch lounges in an ice bath, his eyes narrowing, irritated that his therapy has been interrupted.
            wait 2 s
            %send% %actor% %actor.name%," he says, in a low growl, "Ak-ah nguh-h bek-ti ha-ibn, Razakasch?"
            wait 2 s
            %echoaround% %actor% He makes his way back to the bath in great, looping arcs of massive wings.
            wait 2 sec
            %send% %actor% Sensing that you do not comprehend him, he hisses, "
            wait 4 sec
          else
            %send% %actor% Kazirasch lounges in an ice bath, his eyes narrowing, irritated that his therapy has been interrupted.
            wait 2 sec
            %send% %actor% %actor.name%," he says, in a low growl, "You come to serve the Avatar of Ice?"
            wait 2 sec
            %send% %actor% The Master Thief, looks away, toward the doorway, pauses wistfully, returning your gaze with sudden intensity. 
            wait 2 sec
            %send% %actor% Kazirasch spits,  "You can start in the City of Sheep, the pest-ridden Sanctuary City..."
            wait 2 sec
            %send% %actor% Arising from the pool, he lifts into the air, large wings beating against the foggy gloom.
            wait 2 sec
            %send% %actor%  "Bring me the heads of the leaders of the shadow hawk, %actor.name%.," he hisses.
            wait 2 sec
            %send% %actor% Pointing past you, through the door, he continues, "I desire the traitor, Jubal, most of all!"
            wait 2 sec
            %send% %actor% He finds his way back to the freezing pool in the great, loping arcs of his massive wings.
            wait 2 sec
            %send% %actor% Finally, he sighs, "Now leave me."
            wait 6 sec
          end
        break
        default
          return 0
          halt
        break
      done
    else
      %send% %actor% Usage: quest \<list \| history \| progress \| join <nn> \| leave \| badge \| brief\>
      return 1
      halt
    end
  end
end

>[0;00m
[0mCHECKING: 35115[0m

Name: 'free cmd trap',  VNum: [35115], RNum: [ 1103]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 3, Arg list: free
Commands:
*
* 022823 Aegon 350 Ice Fortress
*
if %actor.is_pc%
  if %cmd% == free
    %send% %actor% You try to pry the manacles open, but despite your best efforts, they hold fast.
    %echoaround% %actor% %actor.name% tries to free the prisoner, but no matter how %actor.heshe% tries, the manacles hold fast.
    return 1
    halt
  end
end

>[0;00m
[0mCHECKING: 35116[0m

Name: 'unl cmd trap',  VNum: [35116], RNum: [ 1104]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 3, Arg list: unl
Commands:
*
* 022823 Aegon 350 Ice Fortress
*
if %actor.is_pc%
  if %cmd% /= unl
    %send% %actor% You try to pry the manacles open, but despite your best efforts, they hold fast.
    %echoaround% %actor% %actor.name% tries to free the prisoner, but no matter how %actor.heshe% tries, the manacles hold fast.
    return 1
    halt
  end
end

>[0;00m
[0mCHECKING: 35117[0m

Name: 'i'll always love you',  VNum: [35117], RNum: [ 1105]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 50, Arg list: None
Commands:
*
* 03012023 Aegon 350 Ice Fortress
*
if %actor.is_pc%
  set room %self.room%
  %zoneecho% %room.vnum% A darkness, a shadow is moving through the frozen chambers, searching ...
  if %actor.level% == 30 && %actor.age% > 500
    mremember %actor.name%
    if %actor.has_item(35104)%
      %send% %actor.name% A faint voice, perhaps just a susurration of the wind hisses, "%actor.name%, savor your last breath."
    else
      %send% %actor.name% A faint voice, perhaps just a susurration of the wind hisses, "%actor.name%, Ur-ash gha-ool tragh or-tazask dag."
    end
    %zoneecho% %room.vnum% A soul-piercing wail rises up through the frozen mists and fills you with a shaking fear.
    wait 150 s
    mhunt %actor.name%
  else
    %zoneecho% %room.vnum% An ancient memory, not your own, of agony and gore overwhelms you.
  end
end

>[0;00m
[0mCHECKING: 35118[0m
[0mCHECKING: 35119[0m

Name: 'the land of nod',  VNum: [35118], RNum: [ 1106]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: forget
Commands:
*
* 03012023 Aegon 350 Ice Fortress
*
if %actor.is_pc%
  if %cmd% == forget
    if %arg% /= Pana || %arg% /= pana
      if %actor.varexists(panakala_abductees)%
        rdelete panakala_abductees %actor.id%
        %send% %actor% Panakala's Quest forgotten. 
      end
    elseif if %arg% /= Kasa || %arg% /= kas
      if %actor.varexists(kasraza_dragons)%
        rdelete kasraza_dragons %actor.id%
        %send% %actor% Kaszara's Quest forgotten.
      end
    elseif if %arg% /= Bajj || %arg% /= bajj
      if %actor.varexists(bajjbaji_instruments)%
        rdelete bajjbaji_instruments %actor.id%
        %send% %actor% Bajj-Baji's Quest forgotten.
      end
    elseif if %arg% /= slaves
      if %actor.varexists(free_slaves)%
        rdelete free_slaves %actor.id%
        %send% %actor% Emancipate the human slaves forgotten.
      end
    elseif if %arg% /= Reap || %arg% /= reap
      if %actor.varexists(reaper_quest)%
        rdelete reaper_quest %actor.id%
        %send% %actor% Don't Fear the Reaper Quest forgotten.
      end
    elseif if %arg% /= Dwarv || %arg% /= dwarv
      if %actor.varexists(free_dwarves)%
        rdelete free_dwarves %actor.id%
        %send% %actor% Emancipate the Dwarves Quest forgotten.
      end
    elseif if %arg% /= Barrizan || %arg% /=  barrizan
      if %actor.varexists(free_barrizan)%
        rdelete free_barrizan %actor.id%
        %send% %actor% Barrizan rescues forgotten.
      end
    elseif if %arg% /= Jaza  || %arg% /=  jaza
      if %actor.varexists(jazaraki_royals)%
        rdelete jazaraki_royals %actor.id%
        %send% %actor% Jazaraki's Quest forgotten.
      end
    elseif if %arg% /= Dajdaj  || %arg% /=  dajdaj
      if %actor.varexists(dajdaj_spies)%
        rdelete dajdaj_spies %actor.id%
        %send% %actor% Dajdaj's Quest forgotten.
      end
    else
      if %actor.has_item(35102)%
        %send% %actor% The Sphinx of Razakasch whispers, "%actor.name%, you can never forget that."
      else
        %send% %actor% The Sphinx of Razakasch whispers, "%actor.name%, ek artoztk pergur-ar ur-adhaz kasaskz."
      end
      return 1
    end
  end
end

>[0;00m
[0mCHECKING: 35120[0m

Name: 'oakenshield's revenge',  VNum: [35119], RNum: [ 1107]
Trigger Intended Assignment: Objects
Trigger Type: Get , Numeric Arg: 95, Arg list: None
Commands:
*
* 042423 Aegon 350 Ice Fortress
*
set room %self.room%
*
if ! %findmob.35139(35128)% && %room.vnum% == 35139  && %room.contents(35073)%
  wait 1 s
  %send% %actor% As you reach for the stone, a cold wind swirls through the frozen, empty halls.
  %echoaround% %actor% Suddenly, the silent halls are filled with a cold wind.
  wait 1 s
  %send% %actor% Borne upon the wings of vengeance, the ghost of Thorin Oakenshield descends upon you! 
  %echoaround% %actor% As %actor.name% touches the corruscating stone, a dread ghost attacks!
  wait 1 s
  *
  * %purge% %room.contents(35073)%
  * we can't remove the skeleton cuz we only want the stone to reload on crash
  *
  %echo% The Avenging Ghost of Thorin Oakenshield arises from the pile of mouldering armor.
  wait 1 s
  %load% mob 35128
  %purge% %self%
end

>[0;00m
[0mCHECKING: 35121[0m

Name: 'A flair for flair',  VNum: [35120], RNum: [ 1108]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 3, Arg list: check
Commands:
*
* 042423 Aegon 350 Ice Fortress
* 071224  restructure based on new dataset
*
* current max badges
*
set max 16
*
if %actor.is_pc%
  if %cmd% == check && (%arg% /= flair || %arg% /= badges)
    set badges 0
    if %actor.varexists(free_ice_miners)% 
      extract num 1 %actor.free_ice_miners%
      extract badge 2 %actor.free_ice_miners%
      %echo% You have attained the %badge% badge by liberating %num% dwarven miners.
      eval badges %badges% + 1
    end
    *
    if %actor.varexists(free_slaves)% 
      extract num 1 %actor.free_slaves%
      extract badge 2 %actor.free_slaves%
      %echo% You have attained the %badge% badge by liberating %num% human thralls.
      eval badges %badges% + 1
    end
    *
    * extract template above
    * old way below
    *
    if %actor.varexists(wind_avatars)%
      set badge %actor.wind_avatars%
      set num %badge.car%
      set badge %badge.cdr%
      %echo% You have attained the %badge% badge by liberating %num% wind avatars.
      eval badges %badges% + 1
    end
    * 
    if %actor.varexists(bajjbaji_instruments)%
      set badge %actor.bajjbaji_instruments%
      set num %badge.car%
      set badge %badge.cdr%
      %echo% You have attained the %badge% badge by collecting %num% instruments.
      eval badges %badges% + 1
    end
    * 
    if %actor.varexists(kazirasch_hawkmasks)%
      set badge %actor.kazirasch_hawkmasks%
      set num %badge.car%
      set badge %badge.cdr%
      %echo% You have attained the %badge% badge by eliminating %num% hawkmask leaders.
      eval badges %badges% + 1
    end
    *
    if %actor.varexists(jazaraki_royals)%
      set badge %actor.jazaraki_royals%
      set num %badge.car%
      set badge %badge.cdr%
      %echo% You have attained the %badge% badge by assassinating %num% royals.
      eval badges %badges% + 1
    end
    *
    if %actor.varexists(kasraza_dragons)%
      set badge %actor.kasraza_dragons%
      set num %badge.car%
      set badge %badge.cdr%
      %echo% You have attained the %badge% badge by eliminating %num% dragons.
      eval badges %badges% + 1
    end
    *
    if %actor.varexists(dajdaj_spies)%
      set badge %actor.dajdaj_spies%
      set num %badge.car%
      set badge %badge.cdr%
      %echo% You have attained the %badge% badge by assassinating %num% royals.
      eval badges %badges% + 1
    end
    *
    if %actor.varexists(martkza_paladins)%
      set badge %actor.martkza_paladins%
      set num %badge.car%
      set badge %badge.cdr%
      %echo% You have attained the %badge% badge by assassinating %num% paladins.
      eval badges %badges% + 1
    end
    *
    if %actor.varexists(panakala_abductees)%
      set badge %actor.panakala_abductees%
      set num %badge.car%
      set badge %badge.cdr%
      %echo% You have attained the %badge% badge by abducting %num% stormcallers.
      eval badges %badges% + 1
    end
    *
    if %actor.varexists(barrizan_rescues)%
      set badge %actor.barrizan_rescues%
      set num %badge.car%
      set badge %badge.cdr%
      %echo% You have attained the %badge% badge by liberating Barrizan the Silver Dragon %num% times.
      eval badges %badges% + 1
    end
    *
    * aniadia defeats
    *
    if %actor.varexists(aniadia_defeats)%
      set badge %actor.aniadia_defeats%
      set num %badge.car%
      set badge %badge.cdr%
      %echo% You have attained the %badge% badge by defeating the Fire Goddess Aniadia %num% times.
      eval badges %badges% + 1
    end
    *
    * reaper defeats
    *
    if %actor.varexists(reaper_defeats)%
      set badge %actor.reaper_defeats%
      set num %badge.car%
      set badge %badge.cdr%
      %echo% You have attained the %badge% badge by defeating the Grim Reaper %num% times.
      eval badges %badges% + 1
    end
    *
    * freed_yol
    *
    if %actor.varexists(freed_yol)%
      %echo% You have attained the Uruk-Hai Friendship badge by attempting to liberate Yol Karzurgh-Uk .
      eval badges %badges% + 1
    end
    *
    * freed_phenia
    *
    if %actor.varexists(freed_phenia)%
      %echo% You have attained the Scottzo badge by liberating Phenia, Captain of the Red Gryphon .
      eval badges %badges% + 1
    end
    *
    * freed_dariano
    *
    if %actor.varexists(freed_dariano)%
      %echo% You have attained the Holy Cow badge by liberating Dariano, Priest of the Red Gryphon .
      eval badges %badges% + 1
    end
    *
    * found_arkenstone
    *
    if %actor.varexists(found_arkenstone)%
      %echo% You have attained the King Under the Mountain badge by recovering the Arkenstone!
      eval badges %badges% + 1
    end
    *
    if ! %badges%
      %send% %actor% You see a vast expanse of fabric just waiting to be populated with flair!
    else
      %echo% You have collected a total of %badges% badges!    
      eval missing %max% - %badges%  
      %echo% You have yet to unlock %missing% badges! 
    end
    *
  else
    %send% %actor% You try to make out some of the sparkly flair but can't seem to identify them. 
    return 1
  end
end

>[0;00m
[0mCHECKING: 35122[0m

Name: 'dariano's command',  VNum: [35121], RNum: [ 1109]
Trigger Intended Assignment: Mobiles
Trigger Type: Global Random , Numeric Arg: 20, Arg list: None
Commands:
*
* 062522 Aegon 350 Ice Fortress  dariano's path and even logic
*
*
eval cur_room %self.room%
eval cur_vnum %cur_room.vnum%
*
set target_char %cur_room.people%
*
while %target_char%
  set tmp_target %target_char.next_in_room%
  if %target_char.is_pc%
    eval target_pc %target_char%
    *
    if %cur_vnum% != 35171
       if %findmob.%cur_vnum%(35056)%
          %echoaround% %self% The Fire Priest of the Red Gryphon offers a blessing to a crew member.
          wait 2 s
      end
      if %findmob.%cur_vnum%(35055)%
         %echoaround% %self% Dariano places his hands on a wounded crew member, healing them with green lambent flame.
          wait 5 s
     end
     if %target_pc% && %target_pc.canbeseen%
       if %findmob.35092(35088)%
         %send% %target_pc% Dariano looks at you and says, "I need to get to the bridge to join Phenia.  Make way!"
       else
         %send% %target_pc% Dariano looks at you and says, "I need to get to the bridge. Have you seen Phenia?"
       end
       wait 2 sec
     end
     %echoaround% %self% He hurries off toward the bridge, reuniting with Phenia his foremost concern.
      wait 5 sec
   else
      nop %self.pos(Sitting)%
      if %findmob.35092(35088)%
        %echoaround% %self% Dariano sits at the engine room controls of the airship, and nods at Phenia through the porthole.
      else
        %echoaround% %self% Dariano sits at the engine room controls of the airship, awaiting the arrival of his Captain.
      end
      wait 2 sec
      if %findmob.35092(35088)%
        if %target_pc% && %target_pc.canbeseen%
           %send% %target_pc% Looks at you and says, "Secure the engine room and prepare for flight!"
            wait 2 sec
        end
        %echoaround% %self% The engineer and navigator stands at the ready by his side.
        wait 2 sec
      end
    end
  end
  set target_char %tmp_target%
done
wait 5 s
*
set cur_room %self.room%
eval cur_vnum %cur_room.vnum%
*
switch %cur_vnum%
  case 35089
    east
  break
  case 35090
    west
  break
  case 35091
    west
  break
  case 35092
    open door s
    south 
    wait 5 s
    close door n
  break
  case 35093
    open door n
    north
    wait 5 s
    close door s
  break
  case 35095
    east
  break
  case 35096
    open door up
    up
    wait 5 s
    close door down
  break
  case 35173
    sit
    * detach 35121 %self.id%
  break
  default
    frown
  break
done
wait 10 s

>[0;00m
Name: 'seven years bad luck',  VNum: [35122], RNum: [ 1110]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 1, Arg list: make
Commands:
Nothing.

>[0;00m
[0mCHECKING: 35123[0m

Name: 'learn a subject',  VNum: [35123], RNum: [ 1111]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 1, Arg list: study
Commands:
*
* let players commit subject matter to memory
* use match format: %actor.subjects% /=
*
context %actor.id%
if %actor.is_pc%
  if %cmd% == study
    if %actor.varexists(subjects)%
      set subjects %actor.subjects.trim%
    else
      set subjects
    end   
    *
    switch %self.vnum%
      case 35102
        set subject gyrgyle
        set subjectTitle Gyrgyle race
        set content language and culture
      break
      default
        %send% %actor% You cannot study this material!
        return 0
        halt
      break
    done
    if %subjects% /= %subject%
      %send% %actor% You have already studied and learned the %content% of the %subjectTitle%!
      halt
    else
      set subjects %subjects% %subject%
    end
    %send% %actor% You sit down with this book and study the %content% of the %subjectTitle%.
    eval study_len 100 - (%actor.int% + %actor.wis% + %actor.cha% )
    %send% %actor% %actor.name%, based on your wisdom [%actor.wis%], intelligence [%actor.int%] and charisma [%actor.cha%], you will require %study_len% turns to learn this material.
    eval study_len %study_len% * 25
    wait 2 s
    %send% %actor% You begin studying the %content% of the %subjectTitle%.
    while %study_len% > 0
      if %actor.fighting% || %actor.pos% == Sleeping
        %send% %actor% You cannot study while fighting or sleeping!
        wait 2 s
        %send% %actor% Study session terminated.
        return 0
        halt
      else
        if ! %actor.affect(hold)%
          dg_cast 'hold' %actor%
        end
        %send% %actor% You continue to study the %content% of the %subjectTitle%.
        eval study_min %study_len% / 60
        %send% %actor% Study time left: %study_min% minutes.
        wait 30 s
        eval study_len %study_len% - 30
      end
    done
    if %actor.affect(hold)%
      dg_cast 'remove paralysis' %actor%
    end
    %send% %actor% Congratulations!  You have successfully learned the %content% of %subjectTitle%!
    global subjects
    remote subjects %actor.id%
    %purge% %self%
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 35124[0m

Name: 'razakasch diminished',  VNum: [35124], RNum: [ 1112]
Trigger Intended Assignment: Mobiles
Trigger Type: Global Random , Numeric Arg: 50, Arg list: None
Commands:
*
* determines state of ice goddess
*
* 0 = diminished
* 1 = ascended
*
if ! %self.fighting%
  if ! %raza_state%
    set raza_state 1
    global raza_state
  end
  *
  * if aniadia has been rescued
  *
  if %findmob.35123(35060)%
    if %raza_state% == 1
      mtransform -35131
      %zoneecho% %self.room% Razakasch is diminished!
      set raza_state 0
      global raza_state
    end
  else
    if %raza_state% == 0
      mtransform -35020
      %zoneecho% %self.room% Razakasch is ascended!
      set raza_state 1
      global raza_state
    end
  end
end

>[0;00m
[0mCHECKING: 35125[0m

Name: 'pop a barrizan',  VNum: [35125], RNum: [ 1113]
Trigger Intended Assignment: Rooms
Trigger Type: Zone Reset , Numeric Arg: 100, Arg list: None
Commands:
*
* 052822 Aegon 350 Ice Fortress
*
* barrizan the incarcerated 35113
* barrizan the silver 35130
*
* 35055-35082 razakasch's complex
* 35130 skies over the talon spire 
* 35116 cell
*
eval barrizan_check %findmob.35116(35113)% + %findmob.35130(35130)%
* %echo% debug: barrizan_check: %barrizan_check%
if %barrizan_check% == 0
  eval vnum 35055
  while %vnum% < 35083
    set room_check %%findmob.%vnum%(35130)%%
    eval room_check %room_check%
    * %echo% debug: checking for mob 35130 in room %vnum%: %room_check%
    if %room_check%
      * %echo% debug: mob barrizan found in room %vnum%!
      halt
    else
      eval vnum %vnum% + 1
    end
  done
  %load% mob 35113
end

>[0;00m
[0mCHECKING: 35126[0m

Name: 'playing with fire',  VNum: [35126], RNum: [ 1114]
Trigger Intended Assignment: Objects
Trigger Type: Random , Numeric Arg: 4, Arg list: None
Commands:
if %self.worn_by%
  set actor %self.worn_by%
  context %actor.id%
  set obj %self.shortdesc%
  if ! %obj_is_warm%
    %send% %actor% %obj% is growing warm to the touch!
    set obj_is_warm 1
    global obj_is_warm
  elseif ! %obj_is_hot%
    %send% %actor% %obj% is growing uncomfortably hot to the touch!
    set obj_is_hot 1
    global obj_is_hot
  else
    unset obj_is_warm
    unset obj_is_hot
    dg_cast 'fireblast'
  end
end

>[0;00m
[0mCHECKING: 35127[0m
[0mCHECKING: 35128[0m

Name: 'flag a camper',  VNum: [35127], RNum: [ 1115]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
* 
* this trig flags a room as a potential campsite
*
set room %self.room%
attach 35128 %room.id%

>[0;00m
Name: 'yeet the boy scout',  VNum: [35128], RNum: [ 1116]
Trigger Intended Assignment: Rooms
Trigger Type: Zone Reset , Numeric Arg: 100, Arg list: None
Commands:
*
* tp ld players to hts
*
eval target %self.people%
while %target%
  set next_target %target.next_in_room%
  if %target.is_pc% 
    switch %random.5%
      case 1
        set vnum 3001
      break
      case 2
        set vnum 12200
      break
      case 3
        set vnum 2101
      break
      case 4
        set vnum 5200
      break
      case 5
        set vnum 9603
      break
      default
        set vnum 3717
      break
   done
   %teleport% %target% %vnum%
 end
 set target %next_target%
done
detach 35128 %self.id%

>[0;00m
[0mCHECKING: 35129[0m

Name: 'razakasch enfeebled',  VNum: [35129], RNum: [ 1117]
Trigger Intended Assignment: Rooms
Trigger Type: Zone Reset , Numeric Arg: 100, Arg list: None
Commands:
* final razakasch enfeebled state

>[0;00m
[0mCHECKING: 35130[0m

Name: 'reset barrizan',  VNum: [35130], RNum: [ 1118]
Trigger Intended Assignment: Rooms
Trigger Type: Zone Reset , Numeric Arg: 100, Arg list: None
Commands:
*
* if zone resets, reset barrizan 35130
*
*set victim %self.people%
*while %victim%
*  set next_victim %victim.next_in_room%
*  if ! %victim.is_pc%
*    %purge% %victim%
*  end
*  set victim %next_victim%
*done
*
* reset talon spire breach
*
%door% 35130 down purge 
%door% 35130 west purge
%door% 35123 east purge

>[0;00m
[0mCHECKING: 35131[0m

Name: 'the final facing',  VNum: [35131], RNum: [ 1119]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  if %direction% == east
    wait 3 s
    %echo% Barrizan, the Mighty Silver Dragon, emerges suddenly from the icy maelstrom and lands firmly upon the Talon Spire!
    wait 5 s
    %echo% Barrizan's voice cuts through the chaos of the storm, booming, 'Friends prepare!  We go to the final facing!'
    wait 3 s
    %echo% As you watch, Barrizan punches through the Talon, into the Crystal Heart, opening a path to Razakasch!
    wait 3 s
    %door% 35130 down room 35072
    %door% 35130 down description Through the swirling gale you see a heroic battle transpire between two gods, the baleful magnificence of Ice versus the unquenchable power of Fire. Is this a vision of Past, Present or Future?
  end
end

>[0;00m
[0mCHECKING: 35132[0m
[0mCHECKING: 35133[0m

Name: 'double tap the link dead',  VNum: [35132], RNum: [ 1120]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 100, Arg list: census
Commands:
*
* provide zone census
*
if %cmd% /= census
  set room_vnum 35000
  set zone_occupants 0
  *
  *
  *
  wait 1 s
  *
  while %room_vnum% < 35100
    set occupants %%people.%room_vnum%%
    eval zone_occupants %zone_occupants% + %occupants%
    eval room_vnum %room_vnum% + 1
  done
  %echo% Found %zone_occupants% residents in zone 350. 
  set room_vnum 35100
  while %room_vnum% < 35200
    set occupants %%people.%room_vnum%%
    eval zone_occupants %zone_occupants% + %occupants%
    eval room_vnum %room_vnum% + 1
  done
  %echo% Found %zone_occupants% residents in zone 350. 
end

>[0;00m
[0mCHECKING: 35134[0m

Name: 'practice commit heresy',  VNum: [35133], RNum: [ 1121]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: prac
Commands:
*
* add a new skill for antipaladins
* decreases followers align by 100
*
if %actor.is_pc%
  if %cmd.mudcommand% == practice
    if %arg% /= commit
      if %actor.class% == Antipaladin
        if %actor.level% >= 20
          if %actor.int% > 18
            set int 18
          else
            set int %actor.int%
          end
          eval step (%int% * 100 / 18) / 2
          if %actor.varexists(commit_heresy)%
            set commit_heresy %actor.commit_heresy%
          else 
            set commit_heresy 0
          end
          if %commit_heresy% < 100
            %send% %actor% You practice a while...
            wait 1 s
            eval commit_heresy %commit_heresy% + %step%
            if %commit_heresy% >= 100
              set commit_heresy 100
              %send% %actor% You are now learned in that area.
            end
            global commit_heresy
            remote commit_heresy %actor.id%
          else
            %send% %actor% You are already learned in that area.
            return 0
            halt
          end
        else
          %send% %actor% You do not know of that spell.
          return 0
          halt
        end
      else
        %send% %actor% You do not know of that spell.
        return 0
        halt
      end
    else
      practice
      return 0
      halt
    end
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 35135[0m

Name: 'the grim reaper',  VNum: [35134], RNum: [ 1122]
Trigger Intended Assignment: Mobiles
Trigger Type: Memory , Numeric Arg: 100, Arg list: None
Commands:
*
* 060922 Aegon 350 Ice Fortress
*
set room %self.room%
*
%echo% A chill wind blows, deep cold swirling through the air about you, as the walls of this room frost over with ice.
if %actor.has_item(35104)%
  %semd% %actor% %actor.name% I have found you at last.   Prepare yourself for the eternally frozen hell of your demise!
else
  %semd% %actor% %actor.name% ke kash dursag nar ek nur.   Kharsh kur ek nankarsag bek tur ar-nurdang pent gargandzh!
end
wait 3 s
hit %actor.name%

>[0;00m
Name: 'the room that time forgot',  VNum: [35135], RNum: [ 1123]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
*
* 063022 Aegon 350 Ice Fortress
*
set inroom %self.room%
%zoneecho% %inroom.vnum% A great howling, cold and forlorn, twists and climbs, rising in pitch until it passes beyond hearing ...
%echo% The walls of ice shed a layer of frost, slick cold returning as the shadow passes on.
return 0

>[0;00m
[0mCHECKING: 35136[0m
[0mCHECKING: 35137[0m

Name: 'you_got_reaped!',  VNum: [35136], RNum: [ 1124]
Trigger Intended Assignment: Mobiles
Trigger Type: Act , Numeric Arg: 0, Arg list: Your blood freezes as you hear
Commands:
*
* 063022  Aegon 350 Ice Fortress
*
context 350
*
if %actor.is_pc%
  if %actor% == %reaper_target%
    set inroom %self.room%
    %echoaround% %actor% The Reaper bends over the corpse of %actor.name% and reaches through %actor.hisher% armor and into %actor.hisher% chest
    %echoaround% %actor% searches through cracking ribs, and withdraws a still beating heart.
    %send% %actor% As you die, and all thought drifts away, your life passing in seconds before you, the limitless void of Death takes you.
    %zoneecho% %inroom.vnum% A chilling laugh fills the ice halls, marking the reaping of another soul!
    mgoto 35103
  else
    %echoaround% %actor% The Reaper smirks, uninterested in an unmarked soul.
  end
end

>[0;00m
Name: 'secret_santa',  VNum: [35137], RNum: [ 1125]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
*
* 090322 Aegon 340 Ice Fortress
*
if %actor.is_pc%
  if %actor.level% == 30 && ! %actor.admlvl%
    if (%object.type% == CONTAINER) && %object.contents%
      %send% %actor% Uzarazaka tells you, "%actor.name%, I can't exchange an object that contains other objects, sorry."
      return 1
      halt 
    end
    %load% obj %object.vnum% %actor%
    %send% %actor% Uzarazaka tells you, "%actor.name%, I have exchanged your %object.shortdesc.cdr% for the newest version."
    %purge% %object%
  else
    %send% %actor% Uzarazaka tells you, "%actor.name%, you are not godly enough to exchange items. (%actor.admlvl%)"
    return 0
    halt
  end
else
  %send% %actor% Uzarazaka tells you, "%actor.name%, you don't seem to be a player character."
  return 0
  halt
end

>[0;00m
[0mCHECKING: 35138[0m

Name: 'gimme_gimme',  VNum: [35138], RNum: [ 1126]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
*
* 090322 Aegon 350 Ice Fortress
*
if %actor.is_pc%
  if %actor.level% == 30 && %actor.admlvl% > 3
    wait 1 s
    %send% %actor% Uzarazaka tells you, "Welcome, friend." 
    wait 1 s
    %send% %actor% Uzarazaka tells you, "If you give me a broken item, I will replace it with the latest version."
    wait 1 s
    %send% %actor% Uzarazaka tells you, "You may also request that I make any vnum, which I will place in your inventory."
  else
    %send% %actor% Uzarazaka tells you, "Begone interloper!"
  end
end

>[0;00m
[0mCHECKING: 35139[0m

Name: 'giving_the_untakeable',  VNum: [35139], RNum: [ 1127]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 1, Arg list: make
Commands:
*
* 090422 Aegon 350 Ice Fortress
*
if %actor.is_pc%
  if %cmd% /= make
    if (%arg% /= 1 ||  if %arg% /= 2 ||  %arg% /= 3 %arg% /= 4 ||  if %arg% /= 5 ||  %arg% /= 6 %arg% /= 7 ||  if %arg% /= 8 ||  %arg% /= 9 ||  %arg% /= 0)
      if %actor.admlvl% > 5
        %load% obj %arg% %actor% 
        set object %actor.inventory(%arg%)%
        %send% %actor% Uzarazaka whispers, "%actor.name%, %object.shortdesc% has been placed in your inventory."
      else
        %send% %actor% Uzarazaka whispers, "%actor.name%, you are not godly enough for such a request!"
        return 1
        halt
      end
    else
      %send% %actor% You must specify a valid vnum.  Use olist to find your object's vnum.
      return 1
      halt
    end
  else
    return 0
  end
end

>[0;00m
[0mCHECKING: 35140[0m

Name: 'panakala's_challenge',  VNum: [35140], RNum: [ 1128]
Trigger Intended Assignment: Mobiles
Trigger Type: Global Act , Numeric Arg: 0, Arg list: The apprentice magician sits down.
Commands:
*
* 022723 Aegon 350 Ice Fortress
* 030925                                               added QT logging
*                                                            convert switch block to elseIF
*
* 35140 panakala's challenge quest block
*  reward template
*
if ! %actor.is_pc%
  if %actor.master%
    if %actor.vnum% == 12625
      eval master %actor.master%
      context %master.id%
      wait 3 s
      %echo% A staff member escorts an apprentice through a door near the rear of the chamber.
      %purge% %actor%
      if %master.varexists(panakala_abductees)%
        extract panakala_abductees 1 %master.panakala_abductees%
        eval panakala_abductees %panakala_abductees% + 1
      else
        set panakala_abductees 1
      end
      *
      *     begin badge block
      *
      set tiers 1 100 250 500 1000 2500 5000
      set collect Corsair abductees
      *
      extract tier0 1 %tiers%
      set tier0name Apprentice Stormnapper 
      *
      extract tier1 2 %tiers%
      set tier1name Journeyman Stormductor
      *
      extract tier2 3 %tiers%
      set tier2name Corsair Terror
      *
      extract tier3 4 %tiers%
      set tier3name Corsair Tormentor
      *
      extract tier4 5 %tiers%
      set tier4name Citadel Torturer
      *
      extract tier5 6 %tiers%
      set tier5name Citadel Inquisitor
      *
      extract tier6 7 %tiers%
      set tier6name Citadel Conqueror
      *
      if %panakala_abductees% == %tier0%
        %send% %master% %master.name%, you attained the rank of %tier0name%, and have unlocked the %tier1name% Badge!
        set badge %tier0name%
      elseif %panakala_abductees% == %tier1%
        %send% %master% %master.name%, you attained the rank of %tier1name%, and have unlocked the %tier2name% Badge!
        set badge %tier1name%
      elseif %panakala_abductees% == %tier2%
        %send% %master% %master.name%, you attained the rank of %tier1name%, and have unlocked the %tier3name% Badge!
        set badge %tier2name%
        %send% %master% You earned a token!
        %load% obj 17934 %actor% inv
        %log% [T35140] has awarded a token vnum 17934 to actor %master.name%
      elseif %panakala_abductees% == %tier3%
        %send% %master% %master.name%, you attained the rank of %tier2name%, and have unlocked the %tier4name% Badge!
        %send% %master% You earned a token!
        %load% obj 17935 %actor% inv
        %log% [T35140] has awarded a token vnum 17935 to actor %master.name%
        %send% %master% Panakala rewards you with an Icicle of Torment!
        %load% obj 35003 %master% inv
        set badge %tier3name%
      elseif %panakala_abductees% == %tier4%
        %send% %master% %master.name%, you attained the rank of %tier3name%, and have unlocked the %tier5name% Badge!
        %send% %master% You earned a token!
        %load% obj 17936 %master% inv
        %log% [T35140] has awarded a token vnum 17936 to actor %master.name%
        %send% %master% Panakala rewards you with your very own Torturer's Apparatus!
        %load% obj 35080 %master% inv
        set badge %tier4name%
      elseif %panakala_abductees% == %tier5%
        %send% %master% %master.name%, you attained the rank of %tier4name%, and have unlocked the %tier6name% Badge!
        %send% %master% You earned a token!
        %load% obj 17937 %master% inv
        %log% [T35140] has awarded a token vnum 17937 to actor %master.name%
        set badge %tier5name%
      elseif %panakala_abductees% == %tier6%
        %send% %master% %master.name%, you attained the top rank of %tier6name%!
        %send% %master% You earned a token!
        %load% obj 17938 %master% inv
        %log% [T35140] has awarded a token vnum 17938 to actor %master.name%
        set badge %tier6name%
      else
        if %panakala_abductees% < %tier1%
          %send% %master% %master.name%, as an %tier0name%, you have achieved %panakala_abductees% of %tier1% %collect% toward your next badge.
          set badge %tier0name%
        elseif %panakala_abductees% < %tier2%
          %send% %master% %master.name%, as a %tier1name% you have achieved %panakala_abductees% of %tier2% %collect% toward your next badge.
          set badge %tier1name%
        elseif %panakala_abductees% < %tier3%
          %send% %master% %master.name%, as a %tier2name%, you have achieved %panakala_abductees% of %tier3% abductees toward your next badge.
          set badge %tier2name%
        elseif %panakala_abductees% < %tier4%
          %send% %master% %master.name%, as a %tier3name%, you have achieved %panakala_abductees% of %tier4% abductees toward your next badge.
          set badge %tier3name%
        elseif %panakala_abductees% < %tier5%
          %send% %master% %master.name%, as a %tier4name%, you have achieved %panakala_abductees% of %tier5% abductees toward your next badge.
          set badge %tier4name%
        elseif %panakala_abductees% < %tier6%
          %send% %master% %master.name%, as a %tier5name%, you have achieved %panakala_abductees% of %tier6% abductees toward your next badge.
          set badge %tier5name% 
        else
          %send% %master% %master.name%, as the %tier6name%, you have abducted %panakala_abductees%.
          set badge %tier6name%
        end          
      end
      *
      set panakala_abductees %panakala_abductees% %badge%
      global panakala_abductees
      remote panakala_abductees %master.id%
      *
    else
      %send% %master% Panakala shakes his head, uninterested in your offering.
      halt
    end
  end
end

>[0;00m
[0mCHECKING: 35141[0m
[0mCHECKING: 35142[0m

Name: 'a_death_certificate',  VNum: [35141], RNum: [ 1129]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
*
* 042123 Aegon 350 Ice Fortress
*
%echo% actor age: %actor.age%
if %actor.is_pc%
  if ! %varexists(reaper_target)%
    if %actor.age% > 600
      set room %self.room%
      set reaper_target %actor.name%
      global reaper_target
      %zoneecho% %room.vnum% %reaper_target% has vanquished %self.shortdesc%!
      return 1
    end
  end
end

>[0;00m
[0mCHECKING: 35143[0m

Name: 'visitors not welcome',  VNum: [35142], RNum: [ 1130]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  if ! %killed_by%
    if ! %findmob.35199(35197)%
      %load% mob 35197
    end
  else
    %echo% %killed_by% has performed the necessary sacrifice.
  end
end

>[0;00m
[0mCHECKING: 35144[0m

Name: 'the_sands_of_un-time',  VNum: [35143], RNum: [ 1131]
Trigger Intended Assignment: Objects
Trigger Type: Give , Numeric Arg: 100, Arg list: None
Commands:
*
* 050723 Aegon 350 Ice Fortress
*
set min_ticks 100
*
set reset_cost 5000000
*
if %actor.is_pc%
  if %victim.vnum% == 35123
    if %actor.gold% >= %reset_cost%
      eval additional_ticks %random.20% * %random.100% + 50
      eval additional_minutes (%additional_ticks% * 75 ) / 60 
      eval new_timer %self.timer% + %additional_ticks%
      otimer %new_timer%
    else
      return 0
      %send% %actor% %victim.name% says, "%actor.name%, I require %reset_cost% gold coins for this service."
      halt
    end
    *
    nop %actor.gold(-%reset_cost%)%
    %send% %actor% You give %reset_cost% gold coins to %victim.name%.
    %echoaround% %actor% %actor.name% gives an absolutely colossal mountain of coins to %victim.name%.
    *
    eval minutes (%self.timer% * 75) / 60
    *
    eval days_remaining %minutes% / 1440
    if %days_remaining%
      eval minutes %minutes% - (%days_remaining% * 1440)
    end
    *
    eval hours_remaining %minutes% / 60
    if %hours_remaining%
      eval minutes %minutes% - (%hours_remaining% * 60 )
    end
    *
    %send% %actor% %victim.name% begins a strange incantation and your %self.shortdesc% glows brightly!
    %echoaround% %actor% %actor.name% hands his %self.shortdesc% to %victim.name%, who proceeds to mumble an incantation before handing the object back.
    *
    %send% %actor% %victim.name% whispers, "I was able to add %additional_ticks% ticks, (or %additional_minutes% minutes), to your %self.shortdesc%'s timer."
    %send% %actor% Your %self.shortdesc% now has %days_remaining% days, %hours_remaining% hours and %minutes% minutes remaining before it expires!
    return 0
    halt   
  end         
end

>[0;00m
[0mCHECKING: 35145[0m

Name: 'salt_in_the_wound',  VNum: [35144], RNum: [ 1132]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 7, Arg list: lick
Commands:
*
* 050923 Aegon 350 Ice Fortress
*
if %cmd% /= lick && (%arg% /= block || %arg% /= salt)
  if %actor.hunger% > 12
    eval new_hunger %actor.hunger% - 12
    nop  %actor.hunger(%new_hunger%)%
    wait 1 s
    %send% %actor% You lick the salt block.  It's not great.
    %echoaround% %actor% Suddenly, %actor.name% kneels down and licks the salt block in one of the stalls.  Fascinating.
  else
    %send% %actor% You're pretty thirsty as it is.  I'd back off on smooching the salt block.
    return 1
    halt
  end
else
  return 1
  halt
end

>[0;00m
Name: 'yol_at_your_cervix',  VNum: [35145], RNum: [ 1133]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
*
* 050723 Aegon 350 Ice Fortress
*
set min_ticks 100
*
set reset_cost 5000000
*
if %actor.is_pc%
  if %actor.race% == Urukhai || %actor.race% == Orc || %actor.race% == Half-Orc || %actor.race% == Goblin
    if %object.vnum% >= 10000 && %object.vnum% <= 35199
      if %object.timer% > 0
        if %object.timer% < %min_ticks%
          if %actor.gold% >= %reset_cost%
            attach 35143 %object.id%
          else
            return 0
            %send% %actor% %self.name% says, "%actor.name%, I will require %reset_cost% gold coins for this service."
            halt
          end
        else
          return 0
          %send% %actor% %self.name% says, "%actor.name%, return when your timer indicates less than %min_ticks% ticks remain."
          halt
        end
      else
        return 0
        %send% %actor% %self.name% says, "%actor.name%, this object does not have a timer."
        halt
      end
      *
      %send% %actor% I see that you have at least %reset_cost% gold coins to pay for my service.  Have them with you when you are ready begin the ritual.
      *
      eval minutes (%object.timer% * 75) / 60
      *
      eval days_remaining %minutes% / 1440
      if %days_remaining%
        eval minutes %minutes% - (%days_remaining% * 1440)
      end
      *
      eval hours_remaining %minutes% / 60
      if %hours_remaining%
        eval minutes %minutes% - (%hours_remaining% * 60 )
      end
      *
      %send% %actor% He continues, "Your %object.shortdesc% currently has %days_remaining% days, %hours_remaining% hours and %minutes% minutes remaining before it expires!"
      return 0
      halt
    else
      %send% %actor% %self.name% whispers, "I am unable to affect objects created outside of this realm."
      return 0
      halt
    end
  else
    return 0
    %send% %actor% Yol looks at your offering and sniffs indifferently, speaking slowly in an Orcish dialect that you cannot comprehend.  
    wait 2 s
    %send% %actor% He soon grows tired of your presence, and returns to his studies.
    halt
  end
end

>[0;00m
[0mCHECKING: 35146[0m

Name: 'flagging_duplicates',  VNum: [35146], RNum: [ 1134]
Trigger Intended Assignment: Mobiles
Trigger Type: Receive , Numeric Arg: 100, Arg list: None
Commands:
*
* 051623 Aegon 350 Ice Fortress
*
set i 0
if %actor.is_pc%
  if (%object.type% == CONTAINER)
    if %object.contents%
      set target_obj %object.contents%
      %send% %actor% Examining container: %object.shortdesc%
      %send% %actor% ===================================
      while %target_obj%
        %send% %actor% %i%) %target_obj.shortdesc% id: %target_obj.id% 
        set tmp_obj %target_obj.next_in_list%     
        eval i  %i% + 1  
        set target_obj %tmp_obj%
      done
      return 0
      halt
    else
      %send% %actor% %self.name% says, "%actor.name%, your container is empty.  Place your duplicate items in a container, then give the container to me."
      return 0
    end
  else
    %send% %actor% %self.name% says, "%actor.name%, place your duplicate items in a container, then give the container to me."
    return 0
  end
end

>[0;00m
[0mCHECKING: 35147[0m

Name: 'don't kill the miners',  VNum: [35147], RNum: [ 1135]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
*
* strip dwarven killers of their precious badges i/a
*
if %actor.varexists(free_ice_miners)%
  set badge %actor.free_ice_miners.cdr%
  %send% %actor% %self.name% whispers with %self.hisher% dying breath, 'You are no friend of the dwarves, %actor.name%!'
  %wait% 2 s
  %send% %actor% You have been stripped of your %badge% badge! 
  rdelete free_ice_miners %actor.id%
end

>[0;00m
[0mCHECKING: 35148[0m

Name: 'accio succubae',  VNum: [35148], RNum: [ 1136]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 7, Arg list: l
Commands:
*
* a silly trigger for a silly inscription
*
if %actor.is_pc%
  if %cmd.mudcommand% == look
    if %arg% /= inscription
      %echo% As you read the graven inscription, it glows in cold fury:
      wait 1 s
      if %actor.varexists(subjects)%
        set subjects %actor.subjects%
      end
      if (%subjects% /= gyrgyle || %actor.has_item(35102)%)
        %echo% << My Life for the Eternal Goddess >>
      else
        %echo% << Aka-az ur-Kanazak Gyr-ul Razakasch-uk  >>
      end
    else
      return 0
      halt
    end
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 35149[0m

Name: 'giving_the_untakeable',  VNum: [35149], RNum: [ 1137]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 1, Arg list: make
Commands:
*
* 090422 Aegon 350 Ice Fortress
*
if %actor.is_pc%
  if %cmd% /= make
    if (%arg% /= 1 ||  if %arg% /= 2 ||  %arg% /= 3 %arg% /= 4 ||  if %arg% /= 5 ||  %arg% /= 6 %arg% /= 7 ||  if %arg% /= 8 ||  %arg% /= 9 ||  %arg% /= 0)
      if %actor.admlvl% > 5
        %load% obj %arg% %actor% 
        set object %actor.inventory(%arg%)%
        %send% %actor% Uzarazaka whispers, "%actor.name%, %object.shortdesc% has been placed in your inventory."
      else
        %send% %actor% Uzarazaka whispers, "%actor.name%, you are not godly enough for such a request!"
        return 1
        halt
      end
    else
      %send% %actor% You must specify a valid vnum.  Use olist to find your object's vnum.
      return 1
      halt
    end
  else
    return 0
  end
end

>[0;00m
[0mCHECKING: 35150[0m

Name: 'using the force',  VNum: [35150], RNum: [ 1138]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 7, Arg list: use
Commands:
*
* 02 12 24   Aegon  350 Ice Fortress
*
if %actor.is_pc% 
  if (%cmd% == use && %arg% /= the force )  
if %actor.class% /= Jedi || %actor.name% == Aegon
      switch %self.vnum%
        case 35024
          set rm 35021
          set dir west
        break
        case 35005
          set rm 35006
          set dir west
        break
        case 35009
          set rm 35010
          set dir east
        break
        case 35014
          set rm 35009
          set dir northeast
        break
        case 35049
          set rm 35050
          set dir up
        break
        case 35063
          set rm 35104
          set dir up
        break
        default
          %send% %actor% The guard giggles at you.
          return 1
          halt
        break
      done
      *
      %echoaround% %actor% Slips past the unsuspecting guards.
      %send% %actor% You bend the will of the guards through the power of the Force.
      wait 1 s
      %echoaround% %actor% %actor.name% leaves %dir%.
      %teleport% %actor% %rm%
      wait 1 s
      %echoaround% %actor% %actor.name% has arrived.
      %force% %actor% look
      return 1
      halt
    else
      %send% %actor% The guard laughs at your attempt to mimic Obiwan Kenobi and smacks you.
      %damage% %actor% %%random.%actor.hitp%%
      return 1
      halt
    end
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 35151[0m

Name: 'stop the zombies',  VNum: [35151], RNum: [ 1139]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet-All , Numeric Arg: 0, Arg list: None
Commands:
set room %self.room%
if ! %actor.is_pc%
  if (%actor.name% /= rex || %actor.name% /= One || %actor.vnum% == 7804)
    %echo% %self.name% says, 'uzur-gu az' and an arc of pure energy lances toward the %actor.name%.
    *    %purge% %actor%
  elseif (%actor.name% /= zombie || %actor.vnum% == 7890)
    %echo% %self.name% levels %self.hisher% weapon at the %actor.name% and attacks it!
    *    dg_cast 'fumble' %actor%
    *    mkill %actor%
  end
end

>[0;00m
[0mCHECKING: 35152[0m
[0mCHECKING: 35153[0m

Name: 'eat a fist',  VNum: [35152], RNum: [ 1140]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: strike
Commands:
*
* add incidence
*
set strike_odds 25
set incidence 100 - %strike_odds%
*
if %actor.is_pc% 
  if %cmd% == strike
    if %random.100% >= %incidence%
      if %actor.skill(strike) > 0
        set aliases %self.alias%
        while %aliases%
          set alias %aliases.car%
          set aliases %aliases.cdr%
          if %arg% /= %alias%
            set vict %self.name%
            %send% %actor% %vict.toupper% smiles and deftly grabs your fist, mid-strike!   Impressive!
            %echoaround% %actor% %actor.name%'s fist is intercepted by %vict.toupper%.
            wait 1 s
            %send% %actor% %vict.toupper% lifts you over their head. Uh-oh.
            %echoaround% %actor% %vict.toupper% hoists %actor.name% into the air, and slams %actor.himher% to the ground.
            wait 1 s
            eval slam_damage %actor.hitp% + 10
            %send% %actor% You can see nothing but stars!
            %damage% %actor% %slam_damage%
            nop %actor.pos(Sitting)%
            return 1
            halt
          end
        done
        return 0
        halt
      else
        return 0
        halt
      end
    else
      return 0
      halt
    end
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 35154[0m

Name: 'shore party',  VNum: [35153], RNum: [ 1141]
Trigger Intended Assignment: Mobiles
Trigger Type: Memory , Numeric Arg: 100, Arg list: None
Commands:
*
* 0424 Aegon 350 Ice Fortress
*
set wait 5
*
if (%actor.is_pc% && %actor.canbeseen% && ! %self.fighting%)
  set room %self.room%
  if %room.vnum% < 35048
    dg_cast 'invisible' %self%
    wait %wait% s
    %echo% %self.name.toupper% says, "%actor.name%, join us.  The rest of our skirmishing party has been captured."
    wait %wait% s
    %echo% "We need your help."
    wait %wait% s
    %echo% "Help free the rest of our crew."
    wait %wait% s
    %echo% He beckons to you, before turning and moving silently into the deepening chaos.
    wait %wait% s
    mforget %actor.name%
  end
end

>[0;00m
[0mCHECKING: 35155[0m

Name: 'hail friend',  VNum: [35154], RNum: [ 1142]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet , Numeric Arg: 100, Arg list: None
Commands:
if (%actor.is_pc% && ! %self.fighting%)
  set room %self.room%
  if %room.vnum% < 35048
    %echo% %self.name.toupper% gives you the high sign.
    mremember %actor.name%
  end
end

>[0;00m
[0mCHECKING: 35156[0m

Name: 'imperial skirmishers',  VNum: [35155], RNum: [ 1143]
Trigger Intended Assignment: Mobiles
Trigger Type: Greet-All Entry , Numeric Arg: 75, Arg list: None
Commands:
set room %self.room%
if ! %actor.is_pc%
  if %actor.name% /= gyrgyle
    %at% %room.vnum% %echo% %self.name% levels %self.hisher% weapon at the %actor.name% and attacks it!
    dg_cast 'fumble' %actor%
    mkill %actor%
    %asound% Your blood freezes as you hear %actor.name%'s death cry.
  end
end

>[0;00m
Name: 'experience of a liftetime',  VNum: [35156], RNum: [ 1144]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 100, Arg list: None
Commands:
*
* trap start experience prior to practice session
*
if %actor.is_pc%
  context %actor.id%
  set start_exp %actor.exp%
  global start_exp
*  %echo% character %actor.name% start_exp: %start_exp%
end

>[0;00m
[0mCHECKING: 35157[0m

Name: 'practice makes perfect',  VNum: [35157], RNum: [ 1145]
Trigger Intended Assignment: Mobiles
Trigger Type: Fight , Numeric Arg: 100, Arg list: None
Commands:
*
* 05 Mar 24 Aegon 350 - Battle automaton reports true damage rec'd
*
if %actor.is_pc%
  eval curdamage %self.maxhitp% - %self.hitp%
  %send% %actor% You connected for %curdamage% damage.
  nop %self.hitp(%curdamage%)%
  *
  set no_affects [NONE]
  unset affects
  *
  if %self.affect(sanctuary)
    set affects %affects% [GLOW]
  end
  if %self.affect(armor)
    set affects %affects% [ARMOR] 
  end
  if  %self.affect(stone skin)
    set affects %affects% [STONE] 
  end 
  if %self.affect(magical vestment)
    set affects %affects% [VEST] 
  end
  if  %self.affect(blur)
    set affects %affects% [BLUR] 
  end
  if %self.affect(orb)
    set affects %affects% [ORB] 
  end
  *
  if %affects%
    %send% %actor% %affects%
  else
    %send% %actor% %no_affects%
  end
end

>[0;00m
[0mCHECKING: 35158[0m

Name: 'bossing the dummies',  VNum: [35158], RNum: [ 1146]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 7, Arg list: or
Commands:
*
* 02 16 2024 Aegon 350 Ice Fortress
*
if %cmd.mudcommand% /= order
  switch %arg%
    case calm
      case stop
      dg_cast 'calm'
    break
    case glow
      dg_cast 'sanctuary' %self%
      %echo% |%self.name% is surrounded by a white sphere.
    break
    case orb
      dg_cast 'orb' %self%
      %echo% |%self.name% is surrounded by a translucent orb.
    break
    case vestment
      dg_cast 'magical vestment' %self%
      %echo% |%self.name% glows faintly blue.
    break
    case stone
      dg_cast 'stone skin' %self%
      %echo% |%self.name%'s skin hardens.
    break
    case armor
      dg_cast 'armor' %self%
      %echo% |%self.name% is magically protected.
    break
    case blur
      dg_cast 'blur' %self%
      %echo% |%self.name%'s shape blurs.
    break
    case purge
      %echo% %self.name% is purged!
      mtransform 35013
    break
    default
      return 0
    break
  done
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 35159[0m

Name: 'acquiring skills',  VNum: [35159], RNum: [ 1147]
Trigger Intended Assignment: Objects
Trigger Type: Wear , Numeric Arg: 100, Arg list: None
Commands:
if %actor.is_pc%
  if ! (%actor.class% == Thief)
    %send% %actor% You suddenly feel capable of a new skill.
%send% %actor% %actor.skill(pick lock)%
    return 1
    halt
  end
end
return 0

>[0;00m
[0mCHECKING: 35160[0m

Name: 'loss of innocence',  VNum: [35160], RNum: [ 1148]
Trigger Intended Assignment: Rooms
Trigger Type: Leave , Numeric Arg: 100, Arg list: None
Commands:
*
*  remove practice experience gained
*
context %actor.id%
if %actor.is_pc%
  if %start_exp%
    set end_exp %actor.exp%
    eval exp_gained %end_exp% - %start_exp%
    eval exp_gained  0 - %exp_gained%
    nop %actor.exp(%exp_gained%)%
    %send% %actor% Experience gained during the practice session has been deducted.
  end
end

>[0;00m
[0mCHECKING: 35161[0m

Name: 'liberating the wind avatars',  VNum: [35161], RNum: [ 1149]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
1) Name         : liberating the cardinal winds
2) Intended for : Mobiles
3) Trigger types: Death 
4) Numeric Arg  : 100
5) Arguments    : 
6) Commands:
*
* 081224 Aegon 350 Ice Fortress
*
context %actor.id%
*
if %actor.is_pc%
  if %actor.varexists(cincture_of_the_avatars)%
    *
    *     begin badge block
    *
    set collect essence of the winds
    set tiers 1 100 500 1500 3000 10000 25000
    *
    extract tier0 1 %tiers%
    set tier0name Apprentice Stormchaser
    *
    extract tier1 2 %tiers%
    set tier1name Our Dorothy
    *
    extract tier2 3 %tiers%
    set tier2name Sirrocco Savant
    *
    extract tier3 4 %tiers%
    set tier3name Tornadic Tool
    *
    extract tier4 5 %tiers%
    set tier4name Cyclone Channeler
    *
    extract tier5 6 %tiers%
    set tier5name Hurricane Hulk
    *
    extract tier6 7 %tiers%
    set tier6name Wind Champion
    *
    if %actor.varexists(wind_avatars)%
      extract wind_avatars 1 %actor.wind_avatars%
      *    %echo% debug: extracted wind_avatars: %wind_avatars%
      eval wind_avatars %wind_avatars% + 1
    else
      set wind_avatars 1
    end
    *
    switch %wind_avatars%
      case %tier0%
        %send% %actor% %actor.name%, you have attained the rank of %tier0name%, and you have unlocked the %tier1name% badge!
        set badge %tier0name%
      break
      case %tier1%
        %send% %actor% %actor.name%, you have attained the rank of %tier1name%, and you have unlocked the %tier2name% badge!
        set badge %tier1name%
      break
      case %tier2%
        %send% %actor% %actor.name%, you have attained the rank of %tier2name%, and you have unlocked the %tier3name% badge!
        set badge %tier2name%
        %send% %actor% You earned a token!
        %load% obj 17934 %actor% inv
      break
      case %tier3%
        %send% %actor% %actor.name%, you have attained the rank of %tier3name%, and you have unlocked the %tier4name% badge!
        set badge %tier3name%
        %send% %actor% You earned a token!
        %load% obj 17935 %actor% inv
        *
        * maybe a tad large fanfare
        *
        %send% %actor% %actor.name%, you have released enough essence to forge the Scepter of the Winds!
        %load% obj 35092 %actor% inv
      break
      case %tier4%
        %send% %actor% %actor.name%, you have attained the rank of %tier4name%, and you have unlocked the %tier5name% badge!
        set badge %tier4name%
        %send% %actor% You earned a token!
        %load% obj 17936 %actor% inv
      break
      case %tier5%
        %send% %actor% %actor.name%, you have attained the rank of %tier5name%, and you have unlocked the %tier6name% badge!
        set badge %tier5name%
        %send% %actor% You earned a token!
        %load% obj 17936 %actor% inv
        %send% %actor% You earned a token!
        %load% obj 17936 %actor% inv
      break
      case %tier6%
        %send% %actor% %actor.name%, you have attained the top rank of %tier6name%!
        set badge %tier6name%
        %send% %actor% You earned a token!
        %load% obj 17937 %actor% inv
      break
      default
        if %wind_avatars% < %tier1%
          %send% %actor% %actor.name%, as an %tier0name%, you have collected %wind_avatars% of %tier1% %collect% toward your next badge.
          set badge %tier0name%
        elseif %wind_avatars% < %tier2%
          %send% %actor% %actor.name%, as a %tier1name% you have collected %wind_avatars% of %tier2% %collect% toward your next badge.
          set badge %tier1name%
        elseif %wind_avatars% < %tier3%
          %send% %actor% %actor.name%, as a %tier2name%, you have collected %wind_avatars% of %tier3% %collect% toward your next badge.
          set badge %tier2name%
        elseif %wind_avatars% < %tier4%
          %send% %actor% %actor.name%, as a %tier3name%, you have collected %wind_avatars% of %tier4% %collect% toward your next badge.
          set badge %tier3name%
        elseif %wind_avatars% < %tier5%
          %send% %actor% %actor.name%, as a %tier4name%, you have collected %wind_avatars% of %tier5% %collect% toward your next badge.
          set badge %tier4name%
        elseif %wind_avatars% < %tier6%
          %send% %actor% %actor.name%, as a %tier4name%, you have collected %wind_avatars% of ????? %collect% toward your next badge.
          set badge %tier5name%
        else
          %send% %actor% %actor.name%, as the %tier6name%, you have collected %wind_avatars%.
          set badge %tier6name%
        end          
      break
    done   
    %purge% %object%
    *
    set wind_avatars %wind_avatars% %badge%
    global wind_avatars
    remote wind_avatars %actor.id%
  else
    %send% %actor% The essence of the defeated wind is lost to the greater storm, slipping by the empty loom at the center of the Talon Spire.
    return 0 
    halt
  end
end

>[0;00m
[0mCHECKING: 35162[0m
[0mCHECKING: 35163[0m

Name: 'pet damage only',  VNum: [35162], RNum: [ 1150]
Trigger Intended Assignment: Mobiles
Trigger Type: Fight , Numeric Arg: 100, Arg list: None
Commands:
*
* 07 Aug 24 Aegon IF 
*
if ! %actor.is_pc%
  if %lasthitp% <= 0
    set lasthitp %self.maxhitp%
    global lasthitp
  end
  eval pet_damage %lasthitp% - %self.hitp%
  %echo% Pets connected for %pet_damage% damage.
  set lasthitp %self.hitp%
  global lasthitp
  return 0
end

>[0;00m
[0mCHECKING: 35164[0m

Name: 'repair badge records',  VNum: [35163], RNum: [ 1151]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 1, Arg list: remote
Commands:
*
*  derived from the "poof you're a bitch!" script
*
set room %self.room%
*
if %actor.is_pc%
  if %cmd% == remote
    set vict %arg.car%
    set badge %arg.cdr%
    set record %badge.car%
    set stats %badge.cdr%
    set num %stats.car%
    set badge %stats.cdr%
    if %vict% && %record% && %badge% && %num%
      set target_char %room.people%
      unset victim
      while %target_char%
        set next_target %target_char.next_in_room%
        if %target_char.name% == %vict%
          set victim %target_char%
        end
        set target_char %next_target%
      done
      if %victim%
        eval %record% %num% %badge%
        global %record%
        remote %record% %victim.id%
        %send% %actor% %badge% [%num%] written to player %victim.name%'s record %record%.
      else
        %send% %actor% Beneficiary %vict% not present in room.
        return 1
        halt
      end
    else
      %send% %actor% Format: remote <player> <record> <num> <badge>
      return 1
      halt
    end
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 35165[0m

Name: 'wipe badge records',  VNum: [35164], RNum: [ 1152]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 1, Arg list: wipe
Commands:
*
*  derived from the ""poof you're a bitch!"" script
*
set room %self.room%
*
if %actor.is_pc%
  if %cmd% == wipe
    set vict %arg.car%
    set record %arg.cdr%
    if %vict% && %record%
      set target_char %room.people%
      unset victim
      while %target_char%
        set next_target %target_char.next_in_room%
        if %target_char.name% == %vict%
          set victim %target_char%
        end
        set target_char %next_target%
      done
      if %victim%
        global %record%
        rdelete %record% %victim.id%
        %send% %actor% Wiped player %victim.name% record %record%.
      else
        %send% %actor% Beneficiary %vict% not present in room.
        return 0
        halt
      end
    else
      %send% %actor% Format: wipe <player> <record>
      return 0
      halt
    end
  else
    return 0
    halt
  end
end

>[0;00m
[0mCHECKING: 36001[0m

Name: 'when you wish upon a star',  VNum: [35165], RNum: [ 1153]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 100, Arg list: touch
Commands:
*
* build matrix
*
set A 486 463 284
set B 432 521 139
set C 339 608 139
set J 457 492 139
set M 303 605 139
set N 455 130 284
set P 489 455 276
set R 453 376 284
set S 402 521 139
set T 421 130 139
set W 577 130 139
*
if %actor.is_pc%
  if %actor.level% == 30
    if %cmd% == touch
      eval key %actor.class.charat(1)%
      *
      switch %key%
        case A
          set classdata %A%
          break
        case B
          set classdata %B%
          break
        case C
          set classdata %C%
          break
        case J
          set classdata %J%
          break
        case M
          set classdata %M%
          break
        case N
          set classdata %N%
          break
        case P
          set classdata %P%
          break
        case R
          set classdata %R%
          break
        case S
          set classdata %S%
          break
        case T
          set classdata %T%
          break
        case W
          set classdata %W%
          break
        default
          break
      done
      extract maxHP 1 %classdata%
      extract maxMANA 2 %classdata%
      extract maxMV 3 %classdata%
      *
      %send% %actor% Max for %key%: %maxHP% %maxMANA% %maxMV%
      *
      eval deltaHP %maxHP% - %actor.maxhitp%
      eval deltaMANA %maxMANA% - %actor.maxmana%
      eval deltaMV %maxMV% - %actor.maxmove%
      *
      %send% %actor% Delta for %actor.name%: %deltaHP% %deltaMANA% %deltaMV%
      *
      eval softHP %deltaHP% / 3
      eval softMANA %deltaMANA% / 3
      eval softMV %deltaMV% / 3
      *
      %send% %actor% Softmod for %actor.name%: %softHP% %softMANA% %softMV%
      *
      * nop %actor.maxhitp(%softhp%)%
      * nop %actor.maxmana(%softMANA%)%
      * nop %actor.maxmov(%softMV%)%
      *
    end
  end
end

>[0;00m
Name: 'Layla - Elixir',  VNum: [36001], RNum: [ 1154]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 7, Arg list: tak
Commands:
if %actor.is_pc%
  if %cmd.mudcommand% == take
    if %arg% /= elixir
      if %actor.quest% == 36005 
        if %actor.has_item(36009)%
          %send% %actor% Layla Al-Nazih whispers to you, 'I already given you the elixir. Please, get it to Ahmed before it is too late.'
        else
          %send% %actor% Layla Al-Nazih hands you a Scorpion's Tear Elixir.
          %load% obj 36009 %actor%
          set object %actor.inventory(36009)%
        end
      else
        return 0
        halt
      end
    else
      return 0
      halt
    end
  end
end

>[0;00m
[0mCHECKING: 36002[0m

Name: 'Ahmed's Stolen Supplies - Purge',  VNum: [36002], RNum: [ 1155]
Trigger Intended Assignment: Objects
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
eval mob %self.carried_by%
if %mob.vnum% == 36002
  %purge% %self
end

>[0;00m
[0mCHECKING: 36003[0m

Name: 'Dustclaw Scorpion Barb - Purge',  VNum: [36003], RNum: [ 1156]
Trigger Intended Assignment: Objects
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
eval mob %self.carried_by%
if %mob.vnum% == 36001
  %purge% %self
end

>[0;00m
[0mCHECKING: 36004[0m

Name: 'Scorpion's Tear Elixir - Purge',  VNum: [36004], RNum: [ 1157]
Trigger Intended Assignment: Objects
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
eval mob %self.carried_by%
if %mob.vnum% == 36002
  %purge% %self
end

>[0;00m
[0mCHECKING: 36010[0m

Name: 'Serpents' Eye - Purge',  VNum: [36010], RNum: [ 1158]
Trigger Intended Assignment: Objects
Trigger Type: Random , Numeric Arg: 100, Arg list: None
Commands:
eval mob %self.carried_by%
if %mob.vnum% == 36001
  %purge% %self
end

>[0;00m
[0mCHECKING: 37000[0m

Name: 'LL F 1 West TP to R37029. O37000 R37007',  VNum: [37000], RNum: [ 1159]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: touch
Commands:
* Author: Anton
* Date: 09-04-2024
*
* Description:
* This script teleports a player character (PC) and their followers to a destination 
* room when the player touches a pedestal. The teleportation only occurs if the PC 
* has a select number of followers (limit). The group is teleported with appropriate 
* messaging.  This trigger is used for triggers 37000-37028 and destination and
* limit are variables that are changed as needed.  Please view trigger names for all 
* other information.
*
* Flow:
* - The script is triggered when a player touches the pedestal.
* - It checks the number of followers the player has in the room.
* - If the number of followers meets or exceeds the limit, the player and their 
*   followers are teleported to a specific destination room with messages.
* - If the group size is below the required limit, a message informs the player 
*   that they need a group of a certain size.  Only the leader can activate the
* pedestal.
* Note:
* - The script assumes it is attached to a room with a pedestal that players can 
*   interact with.
* - The script only considers followers that are player characters (PCs) and will
* not count or teleport NPCs.
*
set limit 1
set destination 37029
*
if %cmd% == touch && %arg% == pedestal
  if %actor.master%
    %send% %actor% You are not the group leader!
    halt
  end
  %echoaround% %actor% %actor.name% touches the pedestal.
  set group_size 1
  set target %actor.room.people%
  while %target%
    *%echo% Checking: %target.name%
    if %target != %actor% && %target.master% == %actor% && %target.is_pc%
      *%echo% Found follower: %target.name%
      eval group_size %group_size% + 1
    end
    set target %target.next_in_room%
  done
  *This second part will execute if the group size is correct*
  if %group_size% >= %limit%
    %echo% The pedestal's glow intensifies suddenly.
    %echoaround% %actor% %actor.name% disappears in a flash.
    %send% %actor% You feel a sudden rush as your body is teleported!
    %teleport% %actor% %destination%
    %echoaround% %actor% %actor.name% appears in a sudden flash of light.
    %force% %actor% look
    set target %self.room.people%
    while %target%
      if %target != %actor% && %target.master% == %actor% && %target.is_pc%
        *%echo% Found and teleporting follower: %target.name%
        %echoaround% %target% %target.name% disappears in a flash.
        %send% %target% You feel a sudden rush as your body is teleported!
        %teleport% %target% %destination%
        %force% %target% look
        %echoaround% %target% %target.name% appears in a sudden flash of light.
        set target %self.room.people%
      else
        set target %target.next_in_room%
      end
    done
  else
    %echo% You need a group of at least %limit% to activate the pedestal!
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 37001[0m

Name: 'LL F 1 North TP to R37026. O37001 R37004',  VNum: [37001], RNum: [ 1160]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: touch
Commands:
*
* Please see trigger 37000
*
set limit 1
set destination 37026
*
if %cmd% == touch && %arg% == pedestal
  if %actor.master%
    %send% %actor% You are not the group leader!
    halt
  end
  %echoaround% %actor% %actor.name% touches the pedestal.
  set group_size 1
  set target %actor.room.people%
  while %target%
    *%echo% Checking: %target.name%
    if %target != %actor% && %target.master% == %actor% && %target.is_pc%
      *%echo% Found follower: %target.name%
      eval group_size %group_size% + 1
    end
    set target %target.next_in_room%
  done
  *This second part will execute if the group size is correct*
  if %group_size% >= %limit%
    %echo% The pedestal's glow intensifies suddenly.
    %echoaround% %actor% %actor.name% disappears in a flash.
    %send% %actor% You feel a sudden rush as your body is teleported!
    %teleport% %actor% %destination%
    %echoaround% %actor% %actor.name% appears in a sudden flash of light.
    %force% %actor% look
    set target %self.room.people%
    while %target%
      if %target != %actor% && %target.master% == %actor% && %target.is_pc%
        *%echo% Found and teleporting follower: %target.name%
        %echoaround% %target% %target.name% disappears in a flash.
        %send% %target% You feel a sudden rush as your body is teleported!
        %teleport% %target% %destination%
        %force% %target% look
        %echoaround% %target% %target.name% appears in a sudden flash of light.
        set target %self.room.people%
      else
        set target %target.next_in_room%
      end
    done
  else
    %echo% You need a group of at least %limit% to activate the pedestal!
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 37002[0m
[0mCHECKING: 37003[0m

Name: 'LL F 1 South TP to R37023. O37002 R37005',  VNum: [37002], RNum: [ 1161]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: touch
Commands:
*
* Please see trigger 37000
*
set limit 1
set destination 37023
*
if %cmd% == touch && %arg% == pedestal
  if %actor.master%
    %send% %actor% You are not the group leader!
    halt
  end
  %echoaround% %actor% %actor.name% touches the pedestal.
  set group_size 1
  set target %actor.room.people%
  while %target%
    *%echo% Checking: %target.name%
    if %target != %actor% && %target.master% == %actor% && %target.is_pc%
      *%echo% Found follower: %target.name%
      eval group_size %group_size% + 1
    end
    set target %target.next_in_room%
  done
  *This second part will execute if the group size is correct*
  if %group_size% >= %limit%
    %echo% The pedestal's glow intensifies suddenly.
    %echoaround% %actor% %actor.name% disappears in a flash.
    %send% %actor% You feel a sudden rush as your body is teleported!
    %teleport% %actor% %destination%
    %echoaround% %actor% %actor.name% appears in a sudden flash of light.
    %force% %actor% look
    set target %self.room.people%
    while %target%
      if %target != %actor% && %target.master% == %actor% && %target.is_pc%
        *%echo% Found and teleporting follower: %target.name%
        %echoaround% %target% %target.name% disappears in a flash.
        %send% %target% You feel a sudden rush as your body is teleported!
        %teleport% %target% %destination%
        %force% %target% look
        %echoaround% %target% %target.name% appears in a sudden flash of light.
        set target %self.room.people%
      else
        set target %target.next_in_room%
      end
    done
  else
    %echo% You need a group of at least %limit% to activate the pedestal!
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 37004[0m

Name: 'LL F 1 East TP to R37032. O37003 R37006',  VNum: [37003], RNum: [ 1162]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: touch
Commands:
*
* Please see trigger 37000
*
set limit 1
set destination 37032
*
if %cmd% == touch && %arg% == pedestal
  if %actor.master%
    %send% %actor% You are not the group leader!
    halt
  end
  %echoaround% %actor% %actor.name% touches the pedestal.
  set group_size 1
  set target %actor.room.people%
  while %target%
    *%echo% Checking: %target.name%
    if %target != %actor% && %target.master% == %actor% && %target.is_pc%
      *%echo% Found follower: %target.name%
      eval group_size %group_size% + 1
    end
    set target %target.next_in_room%
  done
  *This second part will execute if the group size is correct*
  if %group_size% >= %limit%
    %echo% The pedestal's glow intensifies suddenly.
    %echoaround% %actor% %actor.name% disappears in a flash.
    %send% %actor% You feel a sudden rush as your body is teleported!
    %teleport% %actor% %destination%
    %echoaround% %actor% %actor.name% appears in a sudden flash of light.
    %force% %actor% look
    set target %self.room.people%
    while %target%
      if %target != %actor% && %target.master% == %actor% && %target.is_pc%
        *%echo% Found and teleporting follower: %target.name%
        %echoaround% %target% %target.name% disappears in a flash.
        %send% %target% You feel a sudden rush as your body is teleported!
        %teleport% %target% %destination%
        %force% %target% look
        %echoaround% %target% %target.name% appears in a sudden flash of light.
        set target %self.room.people%
      else
        set target %target.next_in_room%
      end
    done
  else
    %echo% You need a group of at least %limit% to activate the pedestal!
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 37005[0m

Name: 'LL F 2 South TP to R37035. O37004 R37010',  VNum: [37004], RNum: [ 1163]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: touch
Commands:
*
* Please see trigger 37000
*
set limit 2
set destination 37035
*
if %cmd% == touch && %arg% == pedestal
  if %actor.master%
    %send% %actor% You are not the group leader!
    halt
  end
  %echoaround% %actor% %actor.name% touches the pedestal.
  set group_size 1
  set target %actor.room.people%
  while %target%
    *%echo% Checking: %target.name%
    if %target != %actor% && %target.master% == %actor% && %target.is_pc%
      *%echo% Found follower: %target.name%
      eval group_size %group_size% + 1
    end
    set target %target.next_in_room%
  done
  *This second part will execute if the group size is correct*
  if %group_size% >= %limit%
    %echo% The pedestal's glow intensifies suddenly.
    %echoaround% %actor% %actor.name% disappears in a flash.
    %send% %actor% You feel a sudden rush as your body is teleported!
    %teleport% %actor% %destination%
    %echoaround% %actor% %actor.name% appears in a sudden flash of light.
    %force% %actor% look
    set target %self.room.people%
    while %target%
      if %target != %actor% && %target.master% == %actor% && %target.is_pc%
        *%echo% Found and teleporting follower: %target.name%
        %echoaround% %target% %target.name% disappears in a flash.
        %send% %target% You feel a sudden rush as your body is teleported!
        %teleport% %target% %destination%
        %force% %target% look
        %echoaround% %target% %target.name% appears in a sudden flash of light.
        set target %self.room.people%
      else
        set target %target.next_in_room%
      end
    done
  else
    %echo% You need a group of at least %limit% to activate the pedestal!
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 37006[0m

Name: 'LL F 2 East TP to R37043. O37005 R37011',  VNum: [37005], RNum: [ 1164]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: touch
Commands:
*
* Please see trigger 37000
*
set limit 2
set destination 37043
*
if %cmd% == touch && %arg% == pedestal
  if %actor.master%
    %send% %actor% You are not the group leader!
    halt
  end
  %echoaround% %actor% %actor.name% touches the pedestal.
  set group_size 1
  set target %actor.room.people%
  while %target%
    *%echo% Checking: %target.name%
    if %target != %actor% && %target.master% == %actor% && %target.is_pc%
      *%echo% Found follower: %target.name%
      eval group_size %group_size% + 1
    end
    set target %target.next_in_room%
  done
  *This second part will execute if the group size is correct*
  if %group_size% >= %limit%
    %echo% The pedestal's glow intensifies suddenly.
    %echoaround% %actor% %actor.name% disappears in a flash.
    %send% %actor% You feel a sudden rush as your body is teleported!
    %teleport% %actor% %destination%
    %echoaround% %actor% %actor.name% appears in a sudden flash of light.
    %force% %actor% look
    set target %self.room.people%
    while %target%
      if %target != %actor% && %target.master% == %actor% && %target.is_pc%
        *%echo% Found and teleporting follower: %target.name%
        %echoaround% %target% %target.name% disappears in a flash.
        %send% %target% You feel a sudden rush as your body is teleported!
        %teleport% %target% %destination%
        %force% %target% look
        %echoaround% %target% %target.name% appears in a sudden flash of light.
        set target %self.room.people%
      else
        set target %target.next_in_room%
      end
    done
  else
    %echo% You need a group of at least %limit% to activate the pedestal!
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 37007[0m

Name: 'LL F 2 North TP to R37047. O37006 R37009',  VNum: [37006], RNum: [ 1165]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: touch
Commands:
*
* Please see trigger 37000
*
set limit 2
set destination 37047
*
if %cmd% == touch && %arg% == pedestal
  if %actor.master%
    %send% %actor% You are not the group leader!
    halt
  end
  %echoaround% %actor% %actor.name% touches the pedestal.
  set group_size 1
  set target %actor.room.people%
  while %target%
    *%echo% Checking: %target.name%
    if %target != %actor% && %target.master% == %actor% && %target.is_pc%
      *%echo% Found follower: %target.name%
      eval group_size %group_size% + 1
    end
    set target %target.next_in_room%
  done
  *This second part will execute if the group size is correct*
  if %group_size% >= %limit%
    %echo% The pedestal's glow intensifies suddenly.
    %echoaround% %actor% %actor.name% disappears in a flash.
    %send% %actor% You feel a sudden rush as your body is teleported!
    %teleport% %actor% %destination%
    %echoaround% %actor% %actor.name% appears in a sudden flash of light.
    %force% %actor% look
    set target %self.room.people%
    while %target%
      if %target != %actor% && %target.master% == %actor% && %target.is_pc%
        *%echo% Found and teleporting follower: %target.name%
        %echoaround% %target% %target.name% disappears in a flash.
        %send% %target% You feel a sudden rush as your body is teleported!
        %teleport% %target% %destination%
        %force% %target% look
        %echoaround% %target% %target.name% appears in a sudden flash of light.
        set target %self.room.people%
      else
        set target %target.next_in_room%
      end
    done
  else
    %echo% You need a group of at least %limit% to activate the pedestal!
  end
else
  return 0
  halt
end

>[0;00m
Name: 'LL F 2 West TP to R37039. O37007 R37012',  VNum: [37007], RNum: [ 1166]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: touch
Commands:
*
* Please see trigger 37000
*
set limit 2
set destination 37039
*
if %cmd% == touch && %arg% == pedestal
  if %actor.master%
    %send% %actor% You are not the group leader!
    halt
  end
  %echoaround% %actor% %actor.name% touches the pedestal.
  set group_size 1
  set target %actor.room.people%
  while %target%
    *%echo% Checking: %target.name%
    if %target != %actor% && %target.master% == %actor% && %target.is_pc%
      *%echo% Found follower: %target.name%
      eval group_size %group_size% + 1
    end
    set target %target.next_in_room%
  done
  *This second part will execute if the group size is correct*
  if %group_size% >= %limit%
    %echo% The pedestal's glow intensifies suddenly.
    %echoaround% %actor% %actor.name% disappears in a flash.
    %send% %actor% You feel a sudden rush as your body is teleported!
    %teleport% %actor% %destination%
    %echoaround% %actor% %actor.name% appears in a sudden flash of light.
    %force% %actor% look
    set target %self.room.people%
    while %target%
      if %target != %actor% && %target.master% == %actor% && %target.is_pc%
        *%echo% Found and teleporting follower: %target.name%
        %echoaround% %target% %target.name% disappears in a flash.
        %send% %target% You feel a sudden rush as your body is teleported!
        %teleport% %target% %destination%
        %force% %target% look
        %echoaround% %target% %target.name% appears in a sudden flash of light.
        set target %self.room.people%
      else
        set target %target.next_in_room%
      end
    done
  else
    %echo% You need a group of at least %limit% to activate the pedestal!
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 37008[0m

Name: 'LL F 3 South TP to R37051. O37008 R37015 ',  VNum: [37008], RNum: [ 1167]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: touch
Commands:
*
* Please see trigger 37000
*
set limit 4
set destination 37051
*
if %cmd% == touch && %arg% == pedestal
  if %actor.master%
    %send% %actor% You are not the group leader!
    halt
  end
  %echoaround% %actor% %actor.name% touches the pedestal.
  set group_size 1
  set target %actor.room.people%
  while %target%
    *%echo% Checking: %target.name%
    if %target != %actor% && %target.master% == %actor% && %target.is_pc%
      *%echo% Found follower: %target.name%
      eval group_size %group_size% + 1
    end
    set target %target.next_in_room%
  done
  *This second part will execute if the group size is correct*
  if %group_size% >= %limit%
    %echo% The pedestal's glow intensifies suddenly.
    %echoaround% %actor% %actor.name% disappears in a flash.
    %send% %actor% You feel a sudden rush as your body is teleported!
    %teleport% %actor% %destination%
    %echoaround% %actor% %actor.name% appears in a sudden flash of light.
    %force% %actor% look
    set target %self.room.people%
    while %target%
      if %target != %actor% && %target.master% == %actor% && %target.is_pc%
        *%echo% Found and teleporting follower: %target.name%
        %echoaround% %target% %target.name% disappears in a flash.
        %send% %target% You feel a sudden rush as your body is teleported!
        %teleport% %target% %destination%
        %force% %target% look
        %echoaround% %target% %target.name% appears in a sudden flash of light.
        set target %self.room.people%
      else
        set target %target.next_in_room%
      end
    done
  else
    %echo% You need a group of at least %limit% to activate the pedestal!
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 37009[0m

Name: 'LL F 3 West TP to R37060. O37009 R37017',  VNum: [37009], RNum: [ 1168]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: touch
Commands:
*
* Please see trigger 37000
*
set limit 4
set destination 37060
*
if %cmd% == touch && %arg% == pedestal
  if %actor.master%
    %send% %actor% You are not the group leader!
    halt
  end
  %echoaround% %actor% %actor.name% touches the pedestal.
  set group_size 1
  set target %actor.room.people%
  while %target%
    *%echo% Checking: %target.name%
    if %target != %actor% && %target.master% == %actor% && %target.is_pc%
      *%echo% Found follower: %target.name%
      eval group_size %group_size% + 1
    end
    set target %target.next_in_room%
  done
  *This second part will execute if the group size is correct*
  if %group_size% >= %limit%
    %echo% The pedestal's glow intensifies suddenly.
    %echoaround% %actor% %actor.name% disappears in a flash.
    %send% %actor% You feel a sudden rush as your body is teleported!
    %teleport% %actor% %destination%
    %echoaround% %actor% %actor.name% appears in a sudden flash of light.
    %force% %actor% look
    set target %self.room.people%
    while %target%
      if %target != %actor% && %target.master% == %actor% && %target.is_pc%
        *%echo% Found and teleporting follower: %target.name%
        %echoaround% %target% %target.name% disappears in a flash.
        %send% %target% You feel a sudden rush as your body is teleported!
        %teleport% %target% %destination%
        %force% %target% look
        %echoaround% %target% %target.name% appears in a sudden flash of light.
        set target %self.room.people%
      else
        set target %target.next_in_room%
      end
    done
  else
    %echo% You need a group of at least %limit% to activate the pedestal!
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 37010[0m

Name: 'LL F 3 East TP to R37054. O37010 R37016',  VNum: [37010], RNum: [ 1169]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: touch
Commands:
*
* Please see trigger 37000
*
set limit 4
set destination 37054
*
if %cmd% == touch && %arg% == pedestal
  if %actor.master%
    %send% %actor% You are not the group leader!
    halt
  end
  %echoaround% %actor% %actor.name% touches the pedestal.
  set group_size 1
  set target %actor.room.people%
  while %target%
    *%echo% Checking: %target.name%
    if %target != %actor% && %target.master% == %actor% && %target.is_pc%
      *%echo% Found follower: %target.name%
      eval group_size %group_size% + 1
    end
    set target %target.next_in_room%
  done
  *This second part will execute if the group size is correct*
  if %group_size% >= %limit%
    %echo% The pedestal's glow intensifies suddenly.
    %echoaround% %actor% %actor.name% disappears in a flash.
    %send% %actor% You feel a sudden rush as your body is teleported!
    %teleport% %actor% %destination%
    %echoaround% %actor% %actor.name% appears in a sudden flash of light.
    %force% %actor% look
    set target %self.room.people%
    while %target%
      if %target != %actor% && %target.master% == %actor% && %target.is_pc%
        *%echo% Found and teleporting follower: %target.name%
        %echoaround% %target% %target.name% disappears in a flash.
        %send% %target% You feel a sudden rush as your body is teleported!
        %teleport% %target% %destination%
        %force% %target% look
        %echoaround% %target% %target.name% appears in a sudden flash of light.
        set target %self.room.people%
      else
        set target %target.next_in_room%
      end
    done
  else
    %echo% You need a group of at least %limit% to activate the pedestal!
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 37011[0m

Name: 'LL F 3 North TP to R37057. O37011 R37014',  VNum: [37011], RNum: [ 1170]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: touch
Commands:
*
* Please see trigger 37000
*
set limit 4
set destination 37057
*
if %cmd% == touch && %arg% == pedestal
  if %actor.master%
    %send% %actor% You are not the group leader!
    halt
  end
  %echoaround% %actor% %actor.name% touches the pedestal.
  set group_size 1
  set target %actor.room.people%
  while %target%
    *%echo% Checking: %target.name%
    if %target != %actor% && %target.master% == %actor% && %target.is_pc%
      *%echo% Found follower: %target.name%
      eval group_size %group_size% + 1
    end
    set target %target.next_in_room%
  done
  *This second part will execute if the group size is correct*
  if %group_size% >= %limit%
    %echo% The pedestal's glow intensifies suddenly.
    %echoaround% %actor% %actor.name% disappears in a flash.
    %send% %actor% You feel a sudden rush as your body is teleported!
    %teleport% %actor% %destination%
    %echoaround% %actor% %actor.name% appears in a sudden flash of light.
    %force% %actor% look
    set target %self.room.people%
    while %target%
      if %target != %actor% && %target.master% == %actor% && %target.is_pc%
        *%echo% Found and teleporting follower: %target.name%
        %echoaround% %target% %target.name% disappears in a flash.
        %send% %target% You feel a sudden rush as your body is teleported!
        %teleport% %target% %destination%
        %force% %target% look
        %echoaround% %target% %target.name% appears in a sudden flash of light.
        set target %self.room.people%
      else
        set target %target.next_in_room%
      end
    done
  else
    %echo% You need a group of at least %limit% to activate the pedestal!
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 37012[0m

Name: 'LL F 4 South TP to R37063. O37012 R37020',  VNum: [37012], RNum: [ 1171]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: touch
Commands:
*
* Please see trigger 37000
*
set limit 6
set destination 37063
*
if %cmd% == touch && %arg% == pedestal
  if %actor.master%
    %send% %actor% You are not the group leader!
    halt
  end
  %echoaround% %actor% %actor.name% touches the pedestal.
  set group_size 1
  set target %actor.room.people%
  while %target%
    *%echo% Checking: %target.name%
    if %target != %actor% && %target.master% == %actor% && %target.is_pc%
      *%echo% Found follower: %target.name%
      eval group_size %group_size% + 1
    end
    set target %target.next_in_room%
  done
  *This second part will execute if the group size is correct*
  if %group_size% >= %limit%
    %echo% The pedestal's glow intensifies suddenly.
    %echoaround% %actor% %actor.name% disappears in a flash.
    %send% %actor% You feel a sudden rush as your body is teleported!
    %teleport% %actor% %destination%
    %echoaround% %actor% %actor.name% appears in a sudden flash of light.
    %force% %actor% look
    set target %self.room.people%
    while %target%
      if %target != %actor% && %target.master% == %actor% && %target.is_pc%
        *%echo% Found and teleporting follower: %target.name%
        %echoaround% %target% %target.name% disappears in a flash.
        %send% %target% You feel a sudden rush as your body is teleported!
        %teleport% %target% %destination%
        %force% %target% look
        %echoaround% %target% %target.name% appears in a sudden flash of light.
        set target %self.room.people%
      else
        set target %target.next_in_room%
      end
    done
  else
    %echo% You need a group of at least %limit% to activate the pedestal!
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 37013[0m
[0mCHECKING: 37014[0m

Name: 'LL F 4 East TP to R37067. O37013 R37021',  VNum: [37013], RNum: [ 1172]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: touch
Commands:
*
* Please see trigger 37000
*
set limit 6
set destination 37067
*
if %cmd% == touch && %arg% == pedestal
  if %actor.master%
    %send% %actor% You are not the group leader!
    halt
  end
  %echoaround% %actor% %actor.name% touches the pedestal.
  set group_size 1
  set target %actor.room.people%
  while %target%
    *%echo% Checking: %target.name%
    if %target != %actor% && %target.master% == %actor% && %target.is_pc%
      *%echo% Found follower: %target.name%
      eval group_size %group_size% + 1
    end
    set target %target.next_in_room%
  done
  *This second part will execute if the group size is correct*
  if %group_size% >= %limit%
    %echo% The pedestal's glow intensifies suddenly.
    %echoaround% %actor% %actor.name% disappears in a flash.
    %send% %actor% You feel a sudden rush as your body is teleported!
    %teleport% %actor% %destination%
    %echoaround% %actor% %actor.name% appears in a sudden flash of light.
    %force% %actor% look
    set target %self.room.people%
    while %target%
      if %target != %actor% && %target.master% == %actor% && %target.is_pc%
        *%echo% Found and teleporting follower: %target.name%
        %echoaround% %target% %target.name% disappears in a flash.
        %send% %target% You feel a sudden rush as your body is teleported!
        %teleport% %target% %destination%
        %force% %target% look
        %echoaround% %target% %target.name% appears in a sudden flash of light.
        set target %self.room.people%
      else
        set target %target.next_in_room%
      end
    done
  else
    %echo% You need a group of at least %limit% to activate the pedestal!
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 37015[0m

Name: 'LL F 4 North TP to R37071. O37014 R37019',  VNum: [37014], RNum: [ 1173]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: touch
Commands:
*
* Please see trigger 37000
*
set limit 6
set destination 37071
*
if %cmd% == touch && %arg% == pedestal
  if %actor.master%
    %send% %actor% You are not the group leader!
    halt
  end
  %echoaround% %actor% %actor.name% touches the pedestal.
  set group_size 1
  set target %actor.room.people%
  while %target%
    *%echo% Checking: %target.name%
    if %target != %actor% && %target.master% == %actor% && %target.is_pc%
      *%echo% Found follower: %target.name%
      eval group_size %group_size% + 1
    end
    set target %target.next_in_room%
  done
  *This second part will execute if the group size is correct*
  if %group_size% >= %limit%
    %echo% The pedestal's glow intensifies suddenly.
    %echoaround% %actor% %actor.name% disappears in a flash.
    %send% %actor% You feel a sudden rush as your body is teleported!
    %teleport% %actor% %destination%
    %echoaround% %actor% %actor.name% appears in a sudden flash of light.
    %force% %actor% look
    set target %self.room.people%
    while %target%
      if %target != %actor% && %target.master% == %actor% && %target.is_pc%
        *%echo% Found and teleporting follower: %target.name%
        %echoaround% %target% %target.name% disappears in a flash.
        %send% %target% You feel a sudden rush as your body is teleported!
        %teleport% %target% %destination%
        %force% %target% look
        %echoaround% %target% %target.name% appears in a sudden flash of light.
        set target %self.room.people%
      else
        set target %target.next_in_room%
      end
    done
  else
    %echo% You need a group of at least %limit% to activate the pedestal!
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 37016[0m

Name: 'LL F 4 West TP to R37075. O37015 R37022 ',  VNum: [37015], RNum: [ 1174]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: touch
Commands:
*
* Please see trigger 37000
*
set limit 6
set destination 37075
*
if %cmd% == touch && %arg% == pedestal
  if %actor.master%
    %send% %actor% You are not the group leader!
    halt
  end
  %echoaround% %actor% %actor.name% touches the pedestal.
  set group_size 1
  set target %actor.room.people%
  while %target%
    *%echo% Checking: %target.name%
    if %target != %actor% && %target.master% == %actor% && %target.is_pc%
      *%echo% Found follower: %target.name%
      eval group_size %group_size% + 1
    end
    set target %target.next_in_room%
  done
  *This second part will execute if the group size is correct*
  if %group_size% >= %limit%
    %echo% The pedestal's glow intensifies suddenly.
    %echoaround% %actor% %actor.name% disappears in a flash.
    %send% %actor% You feel a sudden rush as your body is teleported!
    %teleport% %actor% %destination%
    %echoaround% %actor% %actor.name% appears in a sudden flash of light.
    %force% %actor% look
    set target %self.room.people%
    while %target%
      if %target != %actor% && %target.master% == %actor% && %target.is_pc%
        *%echo% Found and teleporting follower: %target.name%
        %echoaround% %target% %target.name% disappears in a flash.
        %send% %target% You feel a sudden rush as your body is teleported!
        %teleport% %target% %destination%
        %force% %target% look
        %echoaround% %target% %target.name% appears in a sudden flash of light.
        set target %self.room.people%
      else
        set target %target.next_in_room%
      end
    done
  else
    %echo% You need a group of at least %limit% to activate the pedestal!
  end
else
  return 0
  halt
end

>[0;00m
Name: 'UL F 1 North TP to R37096. O37016 R37080 ',  VNum: [37016], RNum: [ 1175]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: touch
Commands:
*
* Please see trigger 37000
*
set limit 2
set destination 37096
*
if %cmd% == touch && %arg% == pedestal
  if %actor.master%
    %send% %actor% You are not the group leader!
    halt
  end
  %echoaround% %actor% %actor.name% touches the pedestal.
  set group_size 1
  set target %actor.room.people%
  while %target%
    *%echo% Checking: %target.name%
    if %target != %actor% && %target.master% == %actor% && %target.is_pc%
      *%echo% Found follower: %target.name%
      eval group_size %group_size% + 1
    end
    set target %target.next_in_room%
  done
  *This second part will execute if the group size is correct*
  if %group_size% >= %limit%
    %echo% The pedestal's glow intensifies suddenly.
    %echoaround% %actor% %actor.name% disappears in a flash.
    %send% %actor% You feel a sudden rush as your body is teleported!
    %teleport% %actor% %destination%
    %echoaround% %actor% %actor.name% appears in a sudden flash of light.
    %force% %actor% look
    set target %self.room.people%
    while %target%
      if %target != %actor% && %target.master% == %actor% && %target.is_pc%
        *%echo% Found and teleporting follower: %target.name%
        %echoaround% %target% %target.name% disappears in a flash.
        %send% %target% You feel a sudden rush as your body is teleported!
        %teleport% %target% %destination%
        %force% %target% look
        %echoaround% %target% %target.name% appears in a sudden flash of light.
        set target %self.room.people%
      else
        set target %target.next_in_room%
      end
    done
  else
    %echo% You need a group of at least %limit% to activate the pedestal!
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 37017[0m

Name: 'UL F 1 West TP to R37100. O37017 R37083',  VNum: [37017], RNum: [ 1176]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: touch
Commands:
*
*Please view Trigger 37000 for main notes
*This trigger if further modified to only allow rangers in a
*group of at least 2 to teleport.  No other classes can teleport.
*
set limit 2
set destination 37100
if %cmd% == touch && %arg% == pedestal
  if %actor.master%
    %send% %actor% You are not the group leader!
    halt
  end
  if %actor.class% != ranger
    %send% %actor% Only rangers can use the pedestal!
    halt
  end
  %echoaround% %actor% %actor.name% touches the pedestal.
  set group_size 1
  set target %actor.room.people%
  while %target%
    *%echo% Checking: %target.name%
    if %target != %actor% && %target.master% == %actor% && %target.is_pc%
      *%echo% Found follower: %target.name%
      if %target.class% != ranger
        %send% %actor% All group members must be rangers to use the pedestal!
        halt
      end
      eval group_size %group_size% + 1
    end
    set target %target.next_in_room%
  done
  if %group_size% >= %limit%
    %echo% The pedestal's glow intensifies suddenly.
    %echoaround% %actor% %actor.name% disappears in a flash.
    %send% %actor% You feel a sudden rush as your body is teleported!
    %teleport% %actor% %destination%
    %echoaround% %actor% %actor.name% appears in a sudden flash of light.
    %force% %actor% look
    set target %self.room.people%
    while %target%
      if %target != %actor% && %target.master% == %actor% && %target.is_pc%
        *%echo% Found and teleporting follower: %target.name%
        %echoaround% %target% %target.name% disappears in a flash.
        %send% %target% You feel a sudden rush as your body is teleported!
        %teleport% %target% %destination%
        %force% %target% look
        %echoaround% %target% %target.name% appears in a sudden flash of light.
        set target %self.room.people%
      else
        set target %target.next_in_room%
      end
    done
  else
    %echo% You need a group of at least %limit% rangers to activate the pedestal!
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 37018[0m

Name: 'UL F 1 South TP to R37104. O37018 R37081',  VNum: [37018], RNum: [ 1177]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: touch
Commands:
*
*Please view Trigger 37000 for main notes
*This trigger if further modified to only allow rangers in a
*group of at least 2 to teleport.  No other classes can teleport.
*
set limit 2
set destination 37104
*
if %cmd% == touch && %arg% == pedestal
  if %actor.master%
    %send% %actor% You are not the group leader!
    halt
  end
  
  if %actor.class% != jedi
    %send% %actor% Only Jedis can use the pedestal!
    halt
  end
  %echoaround% %actor% %actor.name% touches the pedestal.
  set group_size 1
  set target %actor.room.people%
  while %target%
    *%echo% Checking: %target.name%
    if %target != %actor% && %target.master% == %actor% && %target.is_pc%
      *%echo% Found follower: %target.name%
      if %target.class% != jedi
        %send% %actor% All group members must be Jedis to use the pedestal!
        halt
      end
      eval group_size %group_size% + 1
    end
    set target %target.next_in_room%
  done
  *This second part will execute if the group size is correct*
  if %group_size% >= %limit%
    %echo% The pedestal's glow intensifies suddenly.
    %echoaround% %actor% %actor.name% disappears in a flash.
    %send% %actor% You feel a sudden rush as your body is teleported!
    %teleport% %actor% %destination%
    %echoaround% %actor% %actor.name% appears in a sudden flash of light.
    %force% %actor% look
    set target %self.room.people%
    while %target%
      if %target != %actor% && %target.master% == %actor% && %target.is_pc%
        *%echo% Found and teleporting follower: %target.name%
        %echoaround% %target% %target.name% disappears in a flash.
        %send% %target% You feel a sudden rush as your body is teleported!
        %teleport% %target% %destination%
        %force% %target% look
        %echoaround% %target% %target.name% appears in a sudden flash of light.
        set target %self.room.people%
      else
        set target %target.next_in_room%
      end
    done
  else
    %echo% You need a group of at least %limit% Jedis to activate the pedestal!
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 37019[0m

Name: 'UL F 1 East TP to R37108. O37019 R37082',  VNum: [37019], RNum: [ 1178]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: touch
Commands:
*
* Please see trigger 37000
*
set limit 2
set destination 37108
*
if %cmd% == touch && %arg% == pedestal
  if %actor.master%
    %send% %actor% You are not the group leader!
    halt
  end
  %echoaround% %actor% %actor.name% touches the pedestal.
  set group_size 1
  set target %actor.room.people%
  while %target%
    *%echo% Checking: %target.name%
    if %target != %actor% && %target.master% == %actor% && %target.is_pc%
      *%echo% Found follower: %target.name%
      eval group_size %group_size% + 1
    end
    set target %target.next_in_room%
  done
  *This second part will execute if the group size is correct*
  if %group_size% >= %limit%
    %echo% The pedestal's glow intensifies suddenly.
    %echoaround% %actor% %actor.name% disappears in a flash.
    %send% %actor% You feel a sudden rush as your body is teleported!
    %teleport% %actor% %destination%
    %echoaround% %actor% %actor.name% appears in a sudden flash of light.
    %force% %actor% look
    set target %self.room.people%
    while %target%
      if %target != %actor% && %target.master% == %actor% && %target.is_pc%
        *%echo% Found and teleporting follower: %target.name%
        %echoaround% %target% %target.name% disappears in a flash.
        %send% %target% You feel a sudden rush as your body is teleported!
        %teleport% %target% %destination%
        %force% %target% look
        %echoaround% %target% %target.name% appears in a sudden flash of light.
        set target %self.room.people%
      else
        set target %target.next_in_room%
      end
    done
  else
    %echo% You need a group of at least %limit% to activate the pedestal!
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 37020[0m

Name: 'UL F 2 North TP to R37118. O37020 R37085',  VNum: [37020], RNum: [ 1179]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: touch
Commands:
*
* Please see trigger 37000
*
set limit 4
set destination 37118
*
if %cmd% == touch && %arg% == pedestal
  if %actor.master%
    %send% %actor% You are not the group leader!
    halt
  end
  %echoaround% %actor% %actor.name% touches the pedestal.
  set group_size 1
  set target %actor.room.people%
  while %target%
    *%echo% Checking: %target.name%
    if %target != %actor% && %target.master% == %actor% && %target.is_pc%
      *%echo% Found follower: %target.name%
      eval group_size %group_size% + 1
    end
    set target %target.next_in_room%
  done
  *This second part will execute if the group size is correct*
  if %group_size% >= %limit%
    %echo% The pedestal's glow intensifies suddenly.
    %echoaround% %actor% %actor.name% disappears in a flash.
    %send% %actor% You feel a sudden rush as your body is teleported!
    %teleport% %actor% %destination%
    %echoaround% %actor% %actor.name% appears in a sudden flash of light.
    %force% %actor% look
    set target %self.room.people%
    while %target%
      if %target != %actor% && %target.master% == %actor% && %target.is_pc%
        *%echo% Found and teleporting follower: %target.name%
        %echoaround% %target% %target.name% disappears in a flash.
        %send% %target% You feel a sudden rush as your body is teleported!
        %teleport% %target% %destination%
        %force% %target% look
        %echoaround% %target% %target.name% appears in a sudden flash of light.
        set target %self.room.people%
      else
        set target %target.next_in_room%
      end
    done
  else
    %echo% You need a group of at least %limit% to activate the pedestal!
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 37021[0m

Name: 'UL F 2 South TP to R37112. O37021 R37086',  VNum: [37021], RNum: [ 1180]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: touch
Commands:
*
* Please see trigger 37000
*
set limit 4
set destination 37112
*
if %cmd% == touch && %arg% == pedestal
  if %actor.master%
    %send% %actor% You are not the group leader!
    halt
  end
  %echoaround% %actor% %actor.name% touches the pedestal.
  set group_size 1
  set target %actor.room.people%
  while %target%
    *%echo% Checking: %target.name%
    if %target != %actor% && %target.master% == %actor% && %target.is_pc%
      *%echo% Found follower: %target.name%
      eval group_size %group_size% + 1
    end
    set target %target.next_in_room%
  done
  *This second part will execute if the group size is correct*
  if %group_size% >= %limit%
    %echo% The pedestal's glow intensifies suddenly.
    %echoaround% %actor% %actor.name% disappears in a flash.
    %send% %actor% You feel a sudden rush as your body is teleported!
    %teleport% %actor% %destination%
    %echoaround% %actor% %actor.name% appears in a sudden flash of light.
    %force% %actor% look
    set target %self.room.people%
    while %target%
      if %target != %actor% && %target.master% == %actor% && %target.is_pc%
        *%echo% Found and teleporting follower: %target.name%
        %echoaround% %target% %target.name% disappears in a flash.
        %send% %target% You feel a sudden rush as your body is teleported!
        %teleport% %target% %destination%
        %force% %target% look
        %echoaround% %target% %target.name% appears in a sudden flash of light.
        set target %self.room.people%
      else
        set target %target.next_in_room%
      end
    done
  else
    %echo% You need a group of at least %limit% to activate the pedestal!
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 37022[0m
[0mCHECKING: 37023[0m

Name: 'UL F 2 East TP to R37115. O37022 R37087',  VNum: [37022], RNum: [ 1181]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: touch
Commands:
*
* Please see trigger 37000
*
set limit 4
set destination 37115
*
if %cmd% == touch && %arg% == pedestal
  if %actor.master%
    %send% %actor% You are not the group leader!
    halt
  end
  %echoaround% %actor% %actor.name% touches the pedestal.
  set group_size 1
  set target %actor.room.people%
  while %target%
    *%echo% Checking: %target.name%
    if %target != %actor% && %target.master% == %actor% && %target.is_pc%
      *%echo% Found follower: %target.name%
      eval group_size %group_size% + 1
    end
    set target %target.next_in_room%
  done
  *This second part will execute if the group size is correct*
  if %group_size% >= %limit%
    %echo% The pedestal's glow intensifies suddenly.
    %echoaround% %actor% %actor.name% disappears in a flash.
    %send% %actor% You feel a sudden rush as your body is teleported!
    %teleport% %actor% %destination%
    %echoaround% %actor% %actor.name% appears in a sudden flash of light.
    %force% %actor% look
    set target %self.room.people%
    while %target%
      if %target != %actor% && %target.master% == %actor% && %target.is_pc%
        *%echo% Found and teleporting follower: %target.name%
        %echoaround% %target% %target.name% disappears in a flash.
        %send% %target% You feel a sudden rush as your body is teleported!
        %teleport% %target% %destination%
        %force% %target% look
        %echoaround% %target% %target.name% appears in a sudden flash of light.
        set target %self.room.people%
      else
        set target %target.next_in_room%
      end
    done
  else
    %echo% You need a group of at least %limit% to activate the pedestal!
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 37024[0m

Name: 'UL F 2 West TP to R37121. O37023 R37088',  VNum: [37023], RNum: [ 1182]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: touch
Commands:
*
* Please see trigger 37000
*
set limit 4
set destination 37121
*
if %cmd% == touch && %arg% == pedestal
  if %actor.master%
    %send% %actor% You are not the group leader!
    halt
  end
  %echoaround% %actor% %actor.name% touches the pedestal.
  set group_size 1
  set target %actor.room.people%
  while %target%
    *%echo% Checking: %target.name%
    if %target != %actor% && %target.master% == %actor% && %target.is_pc%
      *%echo% Found follower: %target.name%
      eval group_size %group_size% + 1
    end
    set target %target.next_in_room%
  done
  *This second part will execute if the group size is correct*
  if %group_size% >= %limit%
    %echo% The pedestal's glow intensifies suddenly.
    %echoaround% %actor% %actor.name% disappears in a flash.
    %send% %actor% You feel a sudden rush as your body is teleported!
    %teleport% %actor% %destination%
    %echoaround% %actor% %actor.name% appears in a sudden flash of light.
    %force% %actor% look
    set target %self.room.people%
    while %target%
      if %target != %actor% && %target.master% == %actor% && %target.is_pc%
        *%echo% Found and teleporting follower: %target.name%
        %echoaround% %target% %target.name% disappears in a flash.
        %send% %target% You feel a sudden rush as your body is teleported!
        %teleport% %target% %destination%
        %force% %target% look
        %echoaround% %target% %target.name% appears in a sudden flash of light.
        set target %self.room.people%
      else
        set target %target.next_in_room%
      end
    done
  else
    %echo% You need a group of at least %limit% to activate the pedestal!
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 37025[0m

Name: 'UL F 3 North TP to R37132. O37024 R37090',  VNum: [37024], RNum: [ 1183]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: touch
Commands:
*
* Please see trigger 37000
*
set limit 6
set destination 37132
*
if %cmd% == touch && %arg% == pedestal
  if %actor.master%
    %send% %actor% You are not the group leader!
    halt
  end
  %echoaround% %actor% %actor.name% touches the pedestal.
  set group_size 1
  set target %actor.room.people%
  while %target%
    *%echo% Checking: %target.name%
    if %target != %actor% && %target.master% == %actor% && %target.is_pc%
      *%echo% Found follower: %target.name%
      eval group_size %group_size% + 1
    end
    set target %target.next_in_room%
  done
  *This second part will execute if the group size is correct*
  if %group_size% >= %limit%
    %echo% The pedestal's glow intensifies suddenly.
    %echoaround% %actor% %actor.name% disappears in a flash.
    %send% %actor% You feel a sudden rush as your body is teleported!
    %teleport% %actor% %destination%
    %echoaround% %actor% %actor.name% appears in a sudden flash of light.
    %force% %actor% look
    set target %self.room.people%
    while %target%
      if %target != %actor% && %target.master% == %actor% && %target.is_pc%
        *%echo% Found and teleporting follower: %target.name%
        %echoaround% %target% %target.name% disappears in a flash.
        %send% %target% You feel a sudden rush as your body is teleported!
        %teleport% %target% %destination%
        %force% %target% look
        %echoaround% %target% %target.name% appears in a sudden flash of light.
        set target %self.room.people%
      else
        set target %target.next_in_room%
      end
    done
  else
    %echo% You need a group of at least %limit% to activate the pedestal!
  end
else
  return 0
  halt
end

>[0;00m
Name: 'UL F 3 South TP to R37124. O37025 R37091',  VNum: [37025], RNum: [ 1184]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: touch
Commands:
*
* Please see trigger 37000
*
set limit 6
set destination 37124
*
if %cmd% == touch && %arg% == pedestal
  if %actor.master%
    %send% %actor% You are not the group leader!
    halt
  end
  %echoaround% %actor% %actor.name% touches the pedestal.
  set group_size 1
  set target %actor.room.people%
  while %target%
    *%echo% Checking: %target.name%
    if %target != %actor% && %target.master% == %actor% && %target.is_pc%
      *%echo% Found follower: %target.name%
      eval group_size %group_size% + 1
    end
    set target %target.next_in_room%
  done
  *This second part will execute if the group size is correct*
  if %group_size% >= %limit%
    %echo% The pedestal's glow intensifies suddenly.
    %echoaround% %actor% %actor.name% disappears in a flash.
    %send% %actor% You feel a sudden rush as your body is teleported!
    %teleport% %actor% %destination%
    %echoaround% %actor% %actor.name% appears in a sudden flash of light.
    %force% %actor% look
    set target %self.room.people%
    while %target%
      if %target != %actor% && %target.master% == %actor% && %target.is_pc%
        *%echo% Found and teleporting follower: %target.name%
        %echoaround% %target% %target.name% disappears in a flash.
        %send% %target% You feel a sudden rush as your body is teleported!
        %teleport% %target% %destination%
        %force% %target% look
        %echoaround% %target% %target.name% appears in a sudden flash of light.
        set target %self.room.people%
      else
        set target %target.next_in_room%
      end
    done
  else
    %echo% You need a group of at least %limit% to activate the pedestal!
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 37026[0m

Name: 'UL F 3 East TP to R37128. O37026 R37092 ',  VNum: [37026], RNum: [ 1185]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: touch
Commands:
*
* Please see trigger 37000
*
set limit 6
set destination 37128
*
if %cmd% == touch && %arg% == pedestal
  if %actor.master%
    %send% %actor% You are not the group leader!
    halt
  end
  %echoaround% %actor% %actor.name% touches the pedestal.
  set group_size 1
  set target %actor.room.people%
  while %target%
    *%echo% Checking: %target.name%
    if %target != %actor% && %target.master% == %actor% && %target.is_pc%
      *%echo% Found follower: %target.name%
      eval group_size %group_size% + 1
    end
    set target %target.next_in_room%
  done
  *This second part will execute if the group size is correct*
  if %group_size% >= %limit%
    %echo% The pedestal's glow intensifies suddenly.
    %echoaround% %actor% %actor.name% disappears in a flash.
    %send% %actor% You feel a sudden rush as your body is teleported!
    %teleport% %actor% %destination%
    %echoaround% %actor% %actor.name% appears in a sudden flash of light.
    %force% %actor% look
    set target %self.room.people%
    while %target%
      if %target != %actor% && %target.master% == %actor% && %target.is_pc%
        *%echo% Found and teleporting follower: %target.name%
        %echoaround% %target% %target.name% disappears in a flash.
        %send% %target% You feel a sudden rush as your body is teleported!
        %teleport% %target% %destination%
        %force% %target% look
        %echoaround% %target% %target.name% appears in a sudden flash of light.
        set target %self.room.people%
      else
        set target %target.next_in_room%
      end
    done
  else
    %echo% You need a group of at least %limit% to activate the pedestal!
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 37027[0m

Name: 'UL F 3 West TP to R37136. O37027 R37093 ',  VNum: [37027], RNum: [ 1186]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: touch
Commands:
*
* Please see trigger 37000
*
set limit 6
set destination 37136
*
if %cmd% == touch && %arg% == pedestal
  if %actor.master%
    %send% %actor% You are not the group leader!
    halt
  end
  %echoaround% %actor% %actor.name% touches the pedestal.
  set group_size 1
  set target %actor.room.people%
  while %target%
    *%echo% Checking: %target.name%
    if %target != %actor% && %target.master% == %actor% && %target.is_pc%
      *%echo% Found follower: %target.name%
      eval group_size %group_size% + 1
    end
    set target %target.next_in_room%
  done
  *This second part will execute if the group size is correct*
  if %group_size% >= %limit%
    %echo% The pedestal's glow intensifies suddenly.
    %echoaround% %actor% %actor.name% disappears in a flash.
    %send% %actor% You feel a sudden rush as your body is teleported!
    %teleport% %actor% %destination%
    %echoaround% %actor% %actor.name% appears in a sudden flash of light.
    %force% %actor% look
    set target %self.room.people%
    while %target%
      if %target != %actor% && %target.master% == %actor% && %target.is_pc%
        *%echo% Found and teleporting follower: %target.name%
        %echoaround% %target% %target.name% disappears in a flash.
        %send% %target% You feel a sudden rush as your body is teleported!
        %teleport% %target% %destination%
        %force% %target% look
        %echoaround% %target% %target.name% appears in a sudden flash of light.
        set target %self.room.people%
      else
        set target %target.next_in_room%
      end
    done
  else
    %echo% You need a group of at least %limit% to activate the pedestal!
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 37028[0m

Name: 'UL F 4 North TP to R37140. O37028 R37095.',  VNum: [37028], RNum: [ 1187]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 4, Arg list: touch
Commands:
*
* Please see trigger 37000
*
set limit 8
set destination 37140
*
if %cmd% == touch && %arg% == pedestal
  if %actor.master%
    %send% %actor% You are not the group leader!
    halt
  end
  %echoaround% %actor% %actor.name% touches the pedestal.
  set group_size 1
  set target %actor.room.people%
  while %target%
    *%echo% Checking: %target.name%
    if %target != %actor% && %target.master% == %actor% && %target.is_pc%
      *%echo% Found follower: %target.name%
      eval group_size %group_size% + 1
    end
    set target %target.next_in_room%
  done
  *This second part will execute if the group size is correct*
  if %group_size% >= %limit%
    %echo% The pedestal's glow intensifies suddenly.
    %echoaround% %actor% %actor.name% disappears in a flash.
    %send% %actor% You feel a sudden rush as your body is teleported!
    %teleport% %actor% %destination%
    %echoaround% %actor% %actor.name% appears in a sudden flash of light.
    %force% %actor% look
    set target %self.room.people%
    while %target%
      if %target != %actor% && %target.master% == %actor% && %target.is_pc%
        *%echo% Found and teleporting follower: %target.name%
        %echoaround% %target% %target.name% disappears in a flash.
        %send% %target% You feel a sudden rush as your body is teleported!
        %teleport% %target% %destination%
        %force% %target% look
        %echoaround% %target% %target.name% appears in a sudden flash of light.
        set target %self.room.people%
      else
        set target %target.next_in_room%
      end
    done
  else
    %echo% You need a group of at least %limit% to activate the pedestal!
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 37029[0m

Name: 'Assemble Ethereal Cores O-37049',  VNum: [37029], RNum: [ 1188]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: fuse
Commands:
*This trigger allows you to combine a Etherial Crystal Fusion Catalyst
*with ANY two cores resulting in a holdable item that has 5 mana and
*the stats of the two cores in the player's inventory.
*It first determines how many of each core the player has in their inventory
*then if the player has more than 2 cores, sends a message that you can only
*"fuse cores" with exactly two cores in inventory.  This is a safety to ensure 
*that the player gets the exact stats they intend and does not accidentally fuse
*the wrong stats onto such a rare item.
*It then proceeds to check which two cores the player has in their inventory
*and creates the appropriate final product while purging the three items.
*There is a 75% chance of a failure at which time one of the cores shatters.
if %cmd% == fuse && %arg% == cores
  set num_str_cores 0
  set num_int_cores 0
  set num_dex_cores 0
  set num_wis_cores 0
  set num_con_cores 0
  set num_cha_cores 0
  eval broken_core %random.2%
  eval chance %random.100%
  set i %actor.inventory%
  while %i%
    if %i.vnum% == 37031
      eval num_con_cores %num_con_cores% + 1
    elseif %i.vnum% == 37032
      eval num_dex_cores %num_dex_cores% + 1
    elseif %i.vnum% == 37033
      eval num_cha_cores %num_cha_cores% + 1
    elseif %i.vnum% == 37034
      eval num_int_cores %num_int_cores% + 1
    elseif %i.vnum% == 37035
      eval num_wis_cores %num_wis_cores% + 1
    elseif %i.vnum% == 37036
      eval num_str_cores %num_str_cores% + 1
    end
    set i %i.next_in_list%
  done
  eval total_cores %num_str_cores% + %num_int_cores% + %num_dex_cores% + %num_wis_cores% + %num_con_cores% + %num_cha_cores%
  if %total_cores% > 2
    %send% %actor% You have too many cores. Please carry only the two you wish to fuse.
    halt
  end
  if %total_cores% < 2
    %send% %actor% You need exactly two crystal cores to perform the fusion.
    halt
  end
  if %num_str_cores% == 2
    if %chance% <= 75
      %purge% %actor.inventory(37036)%
      %send% %actor% One of your Strength Cores shatters during the fusion attempt!
      halt
    else
      %purge% %actor.inventory(37036)%
      %purge% %actor.inventory(37036)%
      %load% obj 37051 %actor% inv
      %send% %actor% You fuse the two Strength cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_int_cores% == 2
    if %chance% <= 75
      %purge% %actor.inventory(37034)%
      %send% %actor% One of your Intelligence Cores shatters during the fusion attempt!
      halt
    else
      %purge% %actor.inventory(37034)%
      %purge% %actor.inventory(37034)%
      %load% obj 37057 %actor% inv
      %send% %actor% You fuse the two Intelligence cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_dex_cores% == 2
    if %chance% <= 75
      %purge% %actor.inventory(37032)%
      %send% %actor% One of your Dexterity Cores shatters during the fusion attempt!
      halt
    else
      %purge% %actor.inventory(37032)%
      %purge% %actor.inventory(37032)%
      %load% obj 37066 %actor% inv
      %send% %actor% You fuse the two Dexterity cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_wis_cores% == 2
    if %chance% <= 75
      %purge% %actor.inventory(37035)%
      %send% %actor% One of your Wisdom Cores shatters during the fusion attempt!
      halt
    else
      %purge% %actor.inventory(37035)%
      %purge% %actor.inventory(37035)%
      %load% obj 37062 %actor% inv
      %send% %actor% You fuse the two Wisdom cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_con_cores% == 2
    if %chance% <= 75
      %purge% %actor.inventory(37031)%
      %send% %actor% One of your Constitution Cores shatters during the fusion attempt!
      halt
    else
      %purge% %actor.inventory(37031)%
      %purge% %actor.inventory(37031)%
      %load% obj 37069 %actor% inv
      %send% %actor% You fuse the two Constitution cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_cha_cores% == 2
    if %chance% <= 75
      %purge% %actor.inventory(37033)%
      %send% %actor% One of your Charisma Cores shatters during the fusion attempt!
      halt
    else
      %purge% %actor.inventory(37033)%
      %purge% %actor.inventory(37033)%
      %load% obj 37071 %actor% inv
      %send% %actor% You fuse the two Charisma cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_str_cores% == 1 && %num_int_cores% == 1
    if %chance% <= 75
      if %broken_core% == 1
        %purge% %actor.inventory(37036)%
        %send% %actor% Your Strength Core shatters during the fusion attempt!
      else
        %purge% %actor.inventory(37034)%
        %send% %actor% Your Intelligence Core shatters during the fusion attempt!
      end
      halt
    else
      %purge% %actor.inventory(37036)%
      %purge% %actor.inventory(37034)%
      %load% obj 37052 %actor% inv
      %send% %actor% You fuse the Strength and Intelligence cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_str_cores% == 1 && %num_wis_cores% == 1
    if %chance% <= 75
      if %broken_core% == 1
        %purge% %actor.inventory(37036)%
        %send% %actor% Your Strength Core shatters during the fusion attempt!
      else
        %purge% %actor.inventory(37035)%
        %send% %actor% Your Wisdom Core shatters during the fusion attempt!
      end
      halt
    else
      %purge% %actor.inventory(37036)%
      %purge% %actor.inventory(37035)%
      %load% obj 37053 %actor% inv
      %send% %actor% You fuse the Strength and Wisdom cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_str_cores% == 1 && %num_dex_cores% == 1
    if %chance% <= 75
      if %broken_core% == 1
        %purge% %actor.inventory(37036)%
        %send% %actor% Your Strength Core shatters during the fusion attempt!
      else
        %purge% %actor.inventory(37032)%
        %send% %actor% Your Dexterity Core shatters during the fusion attempt!
      end
      halt
    else
      %purge% %actor.inventory(37036)%
      %purge% %actor.inventory(37032)%
      %load% obj 37054 %actor% inv
      %send% %actor% You fuse the Strength and Dexterity cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_str_cores% == 1 && %num_con_cores% == 1
    if %chance% <= 75
      if %broken_core% == 1
        %purge% %actor.inventory(37036)%
        %send% %actor% Your Strength Core shatters during the fusion attempt!
      else
        %purge% %actor.inventory(37031)%
        %send% %actor% Your Constitution Core shatters during the fusion attempt!
      end
      halt
    else
      %purge% %actor.inventory(37036)%
      %purge% %actor.inventory(37031)%
      %load% obj 37055 %actor% inv
      %send% %actor% You fuse the Strength and Constitution cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_str_cores% == 1 && %num_cha_cores% == 1
    if %chance% <= 75
      if %broken_core% == 1
        %purge% %actor.inventory(37036)%
        %send% %actor% Your Strength Core shatters during the fusion attempt!
      else
        %purge% %actor.inventory(37033)%
        %send% %actor% Your Charisma Core shatters during the fusion attempt!
      end
      halt
    else
      %purge% %actor.inventory(37036)%
      %purge% %actor.inventory(37033)%
      %load% obj 37056 %actor% inv
      %send% %actor% You fuse the Strength and Charisma cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_int_cores% == 1 && %num_wis_cores% == 1
    if %chance% <= 75
      if %broken_core% == 1
        %purge% %actor.inventory(37034)%
        %send% %actor% Your Intelligence Core shatters during the fusion attempt!
      else
        %purge% %actor.inventory(37035)%
        %send% %actor% Your Wisdom Core shatters during the fusion attempt!
      end
      halt
    else
      %purge% %actor.inventory(37034)%
      %purge% %actor.inventory(37035)%
      %load% obj 37058 %actor% inv
      %send% %actor% You fuse the Intelligence and Wisdom cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_int_cores% == 1 && %num_dex_cores% == 1
    if %chance% <= 75
      if %broken_core% == 1
        %purge% %actor.inventory(37034)%
        %send% %actor% Your Intelligence Core shatters during the fusion attempt!
      else
        %purge% %actor.inventory(37032)%
        %send% %actor% Your Dexterity Core shatters during the fusion attempt!
      end
      halt
    else
      %purge% %actor.inventory(37034)%
      %purge% %actor.inventory(37032)%
      %load% obj 37059 %actor% inv
      %send% %actor% You fuse the Intelligence and Dexterity cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_int_cores% == 1 && %num_con_cores% == 1
    if %chance% <= 75
      if %broken_core% == 1
        %purge% %actor.inventory(37034)%
        %send% %actor% Your Intelligence Core shatters during the fusion attempt!
      else
        %purge% %actor.inventory(37031)%
        %send% %actor% Your Constitution Core shatters during the fusion attempt!
      end
      halt
    else
      %purge% %actor.inventory(37034)%
      %purge% %actor.inventory(37031)%
      %load% obj 37060 %actor% inv
      %send% %actor% You fuse the Intelligence and Constitution cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_int_cores% == 1 && %num_cha_cores% == 1
    if %chance% <= 75
      if %broken_core% == 1
        %purge% %actor.inventory(37034)%
        %send% %actor% Your Intelligence Core shatters during the fusion attempt!
      else
        %purge% %actor.inventory(37033)%
        %send% %actor% Your Charisma Core shatters during the fusion attempt!
      end
      halt
    else
      %purge% %actor.inventory(37034)%
      %purge% %actor.inventory(37033)%
      %load% obj 37061 %actor% inv
      %send% %actor% You fuse the Intelligence and Charisma cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_wis_cores% == 1 && %num_dex_cores% == 1
    if %chance% <= 75
      if %broken_core% == 1
        %purge% %actor.inventory(37035)%
        %send% %actor% Your Wisdom Core shatters during the fusion attempt!
      else
        %purge% %actor.inventory(37032)%
        %send% %actor% Your Dexterity Core shatters during the fusion attempt!
      end
      halt
    else
      %purge% %actor.inventory(37035)%
      %purge% %actor.inventory(37032)%
      %load% obj 37063 %actor% inv
      %send% %actor% You fuse the Wisdom and Dexterity cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_wis_cores% == 1 && %num_con_cores% == 1
    if %chance% <= 75
      if %broken_core% == 1
        %purge% %actor.inventory(37035)%
        %send% %actor% Your Wisdom Core shatters during the fusion attempt!
      else
        %purge% %actor.inventory(37031)%
        %send% %actor% Your Constitution Core shatters during the fusion attempt!
      end
      halt
    else
      %purge% %actor.inventory(37035)%
      %purge% %actor.inventory(37031)%
      %load% obj 37064 %actor% inv
      %send% %actor% You fuse the Wisdom and Constitution cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_wis_cores% == 1 && %num_cha_cores% == 1
    if %chance% <= 75
      if %broken_core% == 1
        %purge% %actor.inventory(37035)%
        %send% %actor% Your Wisdom Core shatters during the fusion attempt!
      else
        %purge% %actor.inventory(37033)%
        %send% %actor% Your Charisma Core shatters during the fusion attempt!
      end
      halt
    else
      %purge% %actor.inventory(37035)%
      %purge% %actor.inventory(37033)%
      %load% obj 37065 %actor% inv
      %send% %actor% You fuse the Wisdom and Charisma cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_dex_cores% == 1 && %num_con_cores% == 1
    if %chance% <= 75
      if %broken_core% == 1
        %purge% %actor.inventory(37032)%
        %send% %actor% Your Dexterity Core shatters during the fusion attempt!
      else
        %purge% %actor.inventory(37031)%
        %send% %actor% Your Constitution Core shatters during the fusion attempt!
      end
      halt
    else
      %purge% %actor.inventory(37032)%
      %purge% %actor.inventory(37031)%
      %load% obj 37067 %actor% inv
      %send% %actor% You fuse the Dexterity and Constitution cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_dex_cores% == 1 && %num_cha_cores% == 1
    if %chance% <= 75
      if %broken_core% == 1
        %purge% %actor.inventory(37032)%
        %send% %actor% Your Dexterity Core shatters during the fusion attempt!
      else
        %purge% %actor.inventory(37033)%
        %send% %actor% Your Charisma Core shatters during the fusion attempt!
      end
      halt
    else
      %purge% %actor.inventory(37032)%
      %purge% %actor.inventory(37033)%
      %load% obj 37068 %actor% inv
      %send% %actor% You fuse the Dexterity and Charisma cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_con_cores% == 1 && %num_cha_cores% == 1
    if %chance% <= 75
      if %broken_core% == 1
        %purge% %actor.inventory(37031)%
        %send% %actor% Your Constitution Core shatters during the fusion attempt!
      else
        %purge% %actor.inventory(37033)%
        %send% %actor% Your Charisma Core shatters during the fusion attempt!
      end
      halt
    else
      %purge% %actor.inventory(37031)%
      %purge% %actor.inventory(37033)%
      %load% obj 37070 %actor% inv
      %send% %actor% You fuse the Constitution and Charisma cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
else
  return 0
end

[0mCHECKING: 37030[0m
[0mCHECKING: 37031[0m
Name: 'Assemble Terrene Cores O-37050',  VNum: [37030], RNum: [ 1189]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: fuse
Commands:
*This trigger allows you to combine a Terrene Crystal Fusion Catalyst
*with ANY two cores resulting in a holdable item that has 1 damroll and
*the stats of the two cores in the player's inventory.
*It first determines how many of each core the player has in their inventory
*then if the player has more than 2 cores, sends a message that you can only
*"fuse cores" with exactly two cores in inventory.  This is a safety to ensure 
*that the player gets the exact stats they intend and does not accidentally fuse
*the wrong stats onto such a rare item.
*It then proceeds to check which two cores the player has in their inventory
*and creates the appropriate final product while purging the three items.
*There is a 75% failure rate at which time a random core shatters.
if %cmd% == fuse && %arg% /= cores
  set num_str_cores 0
  set num_int_cores 0
  set num_dex_cores 0
  set num_wis_cores 0
  set num_con_cores 0
  set num_cha_cores 0
  eval broken_core %random.2%
  eval chance %random.100%
  set i %actor.inventory%
  while %i%
    if %i.vnum% == 37031
      eval num_con_cores %num_con_cores% + 1
    elseif %i.vnum% == 37032
      eval num_dex_cores %num_dex_cores% + 1
    elseif %i.vnum% == 37033
      eval num_cha_cores %num_cha_cores% + 1
    elseif %i.vnum% == 37034
      eval num_int_cores %num_int_cores% + 1
    elseif %i.vnum% == 37035
      eval num_wis_cores %num_wis_cores% + 1
    elseif %i.vnum% == 37036
      eval num_str_cores %num_str_cores% + 1
    end
    set i %i.next_in_list%
  done
  eval total_cores %num_str_cores% + %num_int_cores% + %num_dex_cores% + %num_wis_cores% + %num_con_cores% + %num_cha_cores%
  if %total_cores% > 2
    %send% %actor% You have too many cores. Please carry only the two you wish to fuse.
    halt
  end
  if %total_cores% < 2
    %send% %actor% You need exactly two crystal cores to perform the fusion.
    halt
  end
  if %num_str_cores% == 2
    if %chance% <= 75
      %purge% %actor.inventory(37036)%
      %send% %actor% One of your Strength Cores shatters during the fusion attempt!
      halt
    else
      %purge% %actor.inventory(37036)%
      %purge% %actor.inventory(37036)%
      %load% obj 37072 %actor% inv
      %send% %actor% You fuse the two Strength cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_int_cores% == 2
    if %chance% <= 75
      %purge% %actor.inventory(37034)%
      %send% %actor% One of your Intelligence Cores shatters during the fusion attempt!
      halt
    else
      %purge% %actor.inventory(37034)%
      %purge% %actor.inventory(37034)%
      %load% obj 37078 %actor% inv
      %send% %actor% You fuse the two Intelligence cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_dex_cores% == 2
    if %chance% <= 75
      %purge% %actor.inventory(37032)%
      %send% %actor% One of your Dexterity Cores shatters during the fusion attempt!
      halt
    else
      %purge% %actor.inventory(37032)%
      %purge% %actor.inventory(37032)%
      %load% obj 37087 %actor% inv
      %send% %actor% You fuse the two Dexterity cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_wis_cores% == 2
    if %chance% <= 75
      %purge% %actor.inventory(37035)%
      %send% %actor% One of your Wisdom Cores shatters during the fusion attempt!
      halt
    else
      %purge% %actor.inventory(37035)%
      %purge% %actor.inventory(37035)%
      %load% obj 37083 %actor% inv
      %send% %actor% You fuse the two Wisdom cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_con_cores% == 2
    if %chance% <= 75
      %purge% %actor.inventory(37031)%
      %send% %actor% One of your Constitution Cores shatters during the fusion attempt!
      halt
    else
      %purge% %actor.inventory(37031)%
      %purge% %actor.inventory(37031)%
      %load% obj 37090 %actor% inv
      %send% %actor% You fuse the two Constitution cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_cha_cores% == 2
    if %chance% <= 75
      %purge% %actor.inventory(37033)%
      %send% %actor% One of your Charisma Cores shatters during the fusion attempt!
      halt
    else
      %purge% %actor.inventory(37033)%
      %purge% %actor.inventory(37033)%
      %load% obj 37092 %actor% inv
      %send% %actor% You fuse the two Charisma cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_str_cores% == 1 && %num_int_cores% == 1
    if %chance% <= 75
      if %broken_core% == 1
        %purge% %actor.inventory(37036)%
        %send% %actor% Your Strength Core shatters during the fusion attempt!
      else
        %purge% %actor.inventory(37034)%
        %send% %actor% Your Intelligence Core shatters during the fusion attempt!
      end
      halt
    else
      %purge% %actor.inventory(37036)%
      %purge% %actor.inventory(37034)%
      %load% obj 37073 %actor% inv
      %send% %actor% You fuse the Strength and Intelligence cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_str_cores% == 1 && %num_wis_cores% == 1
    if %chance% <= 75
      if %broken_core% == 1
        %purge% %actor.inventory(37036)%
        %send% %actor% Your Strength Core shatters during the fusion attempt!
      else
        %purge% %actor.inventory(37035)%
        %send% %actor% Your Wisdom Core shatters during the fusion attempt!
      end
      halt
    else
      %purge% %actor.inventory(37036)%
      %purge% %actor.inventory(37035)%
      %load% obj 37074 %actor% inv
      %send% %actor% You fuse the Strength and Wisdom cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_str_cores% == 1 && %num_dex_cores% == 1
    if %chance% <= 75
      if %broken_core% == 1
        %purge% %actor.inventory(37036)%
        %send% %actor% Your Strength Core shatters during the fusion attempt!
      else
        %purge% %actor.inventory(37032)%
        %send% %actor% Your Dexterity Core shatters during the fusion attempt!
      end
      halt
    else
      %purge% %actor.inventory(37036)%
      %purge% %actor.inventory(37032)%
      %load% obj 37075 %actor% inv
      %send% %actor% You fuse the Strength and Dexterity cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_str_cores% == 1 && %num_con_cores% == 1
    if %chance% <= 75
      if %broken_core% == 1
        %purge% %actor.inventory(37036)%
        %send% %actor% Your Strength Core shatters during the fusion attempt!
      else
        %purge% %actor.inventory(37031)%
        %send% %actor% Your Constitution Core shatters during the fusion attempt!
      end
      halt
    else
      %purge% %actor.inventory(37036)%
      %purge% %actor.inventory(37031)%
      %load% obj 37076 %actor% inv
      %send% %actor% You fuse the Strength and Constitution cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_str_cores% == 1 && %num_cha_cores% == 1
    if %chance% <= 75
      if %broken_core% == 1
        %purge% %actor.inventory(37036)%
        %send% %actor% Your Strength Core shatters during the fusion attempt!
      else
        %purge% %actor.inventory(37033)%
        %send% %actor% Your Charisma Core shatters during the fusion attempt!
      end
      halt
    else
      %purge% %actor.inventory(37036)%
      %purge% %actor.inventory(37033)%
      %load% obj 37077 %actor% inv
      %send% %actor% You fuse the Strength and Charisma cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_int_cores% == 1 && %num_wis_cores% == 1
    if %chance% <= 75
      if %broken_core% == 1
        %purge% %actor.inventory(37034)%
        %send% %actor% Your Intelligence Core shatters during the fusion attempt!
      else
        %purge% %actor.inventory(37035)%
        %send% %actor% Your Wisdom Core shatters during the fusion attempt!
      end
      halt
    else
      %purge% %actor.inventory(37034)%
      %purge% %actor.inventory(37035)%
      %load% obj 37079 %actor% inv
      %send% %actor% You fuse the Intelligence and Wisdom cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_int_cores% == 1 && %num_dex_cores% == 1
    if %chance% <= 75
      if %broken_core% == 1
        %purge% %actor.inventory(37034)%
        %send% %actor% Your Intelligence Core shatters during the fusion attempt!
      else
        %purge% %actor.inventory(37032)%
        %send% %actor% Your Dexterity Core shatters during the fusion attempt!
      end
      halt
    else
      %purge% %actor.inventory(37034)%
      %purge% %actor.inventory(37032)%
      %load% obj 37080 %actor% inv
      %send% %actor% You fuse the Intelligence and Dexterity cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_int_cores% == 1 && %num_con_cores% == 1
    if %chance% <= 75
      if %broken_core% == 1
        %purge% %actor.inventory(37034)%
        %send% %actor% Your Intelligence Core shatters during the fusion attempt!
      else
        %purge% %actor.inventory(37031)%
        %send% %actor% Your Constitution Core shatters during the fusion attempt!
      end
      halt
    else
      %purge% %actor.inventory(37034)%
      %purge% %actor.inventory(37031)%
      %load% obj 37081 %actor% inv
      %send% %actor% You fuse the Intelligence and Constitution cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_int_cores% == 1 && %num_cha_cores% == 1
    if %chance% <= 75
      if %broken_core% == 1
        %purge% %actor.inventory(37034)%
        %send% %actor% Your Intelligence Core shatters during the fusion attempt!
      else
        %purge% %actor.inventory(37033)%
        %send% %actor% Your Charisma Core shatters during the fusion attempt!
      end
      halt
    else
      %purge% %actor.inventory(37034)%
      %purge% %actor.inventory(37033)%
      %load% obj 37082 %actor% inv
      %send% %actor% You fuse the Intelligence and Charisma cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_wis_cores% == 1 && %num_dex_cores% == 1
    if %chance% <= 75
      if %broken_core% == 1
        %purge% %actor.inventory(37035)%
        %send% %actor% Your Wisdom Core shatters during the fusion attempt!
      else
        %purge% %actor.inventory(37032)%
        %send% %actor% Your Dexterity Core shatters during the fusion attempt!
      end
      halt
    else
      %purge% %actor.inventory(37035)%
      %purge% %actor.inventory(37032)%
      %load% obj 37084 %actor% inv
      %send% %actor% You fuse the Wisdom and Dexterity cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_wis_cores% == 1 && %num_con_cores% == 1
    if %chance% <= 75
      if %broken_core% == 1
        %purge% %actor.inventory(37035)%
        %send% %actor% Your Wisdom Core shatters during the fusion attempt!
      else
        %purge% %actor.inventory(37031)%
        %send% %actor% Your Constitution Core shatters during the fusion attempt!
      end
      halt
    else
      %purge% %actor.inventory(37035)%
      %purge% %actor.inventory(37031)%
      %load% obj 37085 %actor% inv
      %send% %actor% You fuse the Wisdom and Constitution cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_wis_cores% == 1 && %num_cha_cores% == 1
    if %chance% <= 75
      if %broken_core% == 1
        %purge% %actor.inventory(37035)%
        %send% %actor% Your Wisdom Core shatters during the fusion attempt!
      else
        %purge% %actor.inventory(37033)%
        %send% %actor% Your Charisma Core shatters during the fusion attempt!
      end
      halt
    else
      %purge% %actor.inventory(37035)%
      %purge% %actor.inventory(37033)%
      %load% obj 37086 %actor% inv
      %send% %actor% You fuse the Wisdom and Charisma cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_dex_cores% == 1 && %num_con_cores% == 1
    if %chance% <= 75
      if %broken_core% == 1
        %purge% %actor.inventory(37032)%
        %send% %actor% Your Dexterity Core shatters during the fusion attempt!
      else
        %purge% %actor.inventory(37031)%
        %send% %actor% Your Constitution Core shatters during the fusion attempt!
      end
      halt
    else
      %purge% %actor.inventory(37032)%
      %purge% %actor.inventory(37031)%
      %load% obj 37088 %actor% inv
      %send% %actor% You fuse the Dexterity and Constitution cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_dex_cores% == 1 && %num_cha_cores% == 1
    if %chance% <= 75
      if %broken_core% == 1
        %purge% %actor.inventory(37032)%
        %send% %actor% Your Dexterity Core shatters during the fusion attempt!
      else
        %purge% %actor.inventory(37033)%
        %send% %actor% Your Charisma Core shatters during the fusion attempt!
      end
      halt
    else
      %purge% %actor.inventory(37032)%
      %purge% %actor.inventory(37033)%
      %load% obj 37089 %actor% inv
      %send% %actor% You fuse the Dexterity and Charisma cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
  if %num_con_cores% == 1 && %num_cha_cores% == 1
    if %chance% <= 75
      if %broken_core% == 1
        %purge% %actor.inventory(37031)%
        %send% %actor% Your Constitution Core shatters during the fusion attempt!
      else
        %purge% %actor.inventory(37033)%
        %send% %actor% Your Charisma Core shatters during the fusion attempt!
      end
      halt
    else
      %purge% %actor.inventory(37031)%
      %purge% %actor.inventory(37033)%
      %load% obj 37091 %actor% inv
      %send% %actor% You fuse the Constitution and Charisma cores into a powerful fused core!
      %purge% %self%
      halt
    end
  end
else
  return 0
end

[0mCHECKING: 37031[0m
Name: 'Raphael's AOE - Paladins Block - M-37033',  VNum: [37031], RNum: [ 1190]
Trigger Intended Assignment: Mobiles
Trigger Type: Fight , Numeric Arg: 33, Arg list: None
Commands:
*
*This Trigger creates an AOE blast that does damage to every player in the room
*while the mobile is fighting.  It first checks to see if a paladin is present
*and is fighting the mob and then sends a message that the paladin blocks the
*attack.  If no Paladin is present, every player is damaged.  It does random damage
*from 200-300 and then splits it in half if the target has sanctuary.  It is attached
*to Raphael on the 5th level, east teleporter.
*A global variable is used to ensure that the fight trigger only happens once
*round rather than everytime Raphael hits.
*
if !%self.fighting%
  halt
end
context %self.id%
if (%already_triggered%)
  wait 0.01
  unset already_triggered
else
  set paladin_found 0
  set target %self.room.people%
  while %target%
    if %target.class% == paladin && %target.fighting% == %self%
      eval paladin_found %paladin_found% + 1
      if %target.maxmana% - %target.mana% >=10
        %target.mana(25)%
      end
    end
    set target %target.next_in_room%
  done
  if %paladin_found% > 0
    * Paladin is present and fighting Raphael
    * Paladin performs the absorption action
    %echo% Raphael attempts to flood the room with a wave of darkness but the presence of a Paladin forces the darkness away and absorbs the magic!
  else
    * No Paladin present
    perform the dark blast attack
    %send% Raphael %self.name% unleashes a wave of darkness from the depths of the crystal sea!
    set target %self.room.people%
    while %target%
      * Generate a random damage value between 200 and 300
      eval dmg %random.100% + 200
      * Check if the target has the "Sanctuary" spell active
      if %target.affect(sanctuary)%
        * If Sanctuary is active, halve the damage
        eval dmg %dmg% / 2
      end
      * Apply the calculated damage to the player character
      %damage% %target% %dmg%
      %send% %target% You are struck by Raphael's dark blast! (%dmg%)
      set target %target.next_in_room%
    done
  end
  set already_triggered 1
  global already_triggered
end

>[0;00m
[0mCHECKING: 37032[0m

Name: 'Assemble Hydra Hide Bracers O-37095',  VNum: [37032], RNum: [ 1191]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: insert
Commands:
*
*This trigger is takes Hydra Hide Bracers and allows the player to insert
*two dex cores and one wis cores into the Bracers, or two wis cores
*and one dex core into the bracers, upgrading them.
*It checks the player's inventory for the original bracers and the
*needed cores and then purges them from inventory, while loading the
*upgraded bracers to their inventory.  There is, however, a 75% chance
*that one of the cores will break when trying to insert.
*If the correct cores are not in inventory, it lets the player know and
*the trigger will not fire.
* Required Items:
*   - Bracers of Crystal Encrusted Hydra Hide (vnum 37095) [This is %self%]
*   - Option 1:
*       - 2 Dexterity Cores (vnum 37032)
*       - 1 Wisdom Core (vnum 37035)
*   - Option 2:
*       - 2 Wisdom Cores (vnum 37035)
*       - 1 Dexterity Core (vnum 37032)
* Mechanics:
*   - 75% chance that a core shatters during insertion.
*   - If a core shatters, one core is destroyed, and the player is informed.
*   - If successful (25% chance), the bracers are upgraded as before.
if %cmd% == insert && %arg% == cores
  * Initialize variables for each core type
  set num_dex_cores 0
  set num_wis_cores 0
  * Iterate over the actor's inventory to count cores
  set i %actor.inventory%
  while %i%
    if %i.vnum% == 37032
      eval num_dex_cores %num_dex_cores% + 1
    elseif %i.vnum% == 37035
      eval num_wis_cores %num_wis_cores% + 1
    end
    set i %i.next_in_list%
  done
  * Check for Option 1: 2 Dex Cores and 1 Wis Core
  if %num_dex_cores% == 2 && %num_wis_cores% == 1
    * Attempt to insert the cores
    eval chance %random.100%
    if %chance% <= 75
      * Core shatters
      eval which_core %random.3%
      if %which_core% <= 2
        * Destroy a Dex Core
        %purge% %actor.inventory(37032)%
        %send% %actor% One of your Dexterity Cores shatters during the insertion attempt!
        halt
      else
        * Destroy a Wis Core
        %purge% %actor.inventory(37035)%
        %send% %actor% Your Wisdom Core shatters during the insertion attempt!
        halt
      end
    else
      * Success! Proceed to upgrade
      * Remove the cores from inventory
      %purge% %actor.inventory(37032)%
      %purge% %actor.inventory(37032)%
      %purge% %actor.inventory(37035)%
      * Load the new Bracers (vnum 37096) into the player's inventory
      %load% obj 37096 %actor% inv
      * Notify the player and others
      %send% %actor% You successfully insert the crystal cores and have upgraded the Bracers of Crystal Encrusted Hydra Hide!
      %echoaround% %actor% %actor.name% successfully inserts some crystal cores and upgrades Bracers of Crystal Encrusted Hydra Hide!
      * Purge the original Bracers (%self%) at the end
      %purge% %self%
    end
    * Check for Option 2: 2 Wis Cores and 1 Dex Core
  elseif %num_wis_cores% == 2 && %num_dex_cores% == 1
    * Attempt to insert the cores
    eval chance %random.100%
    if %chance% <= 75
      * Core shatters
      eval which_core %random.3%
      if %which_core% <= 2
        * Destroy a Wis Core
        %purge% %actor.inventory(37035)%
        %send% %actor% One of your Wisdom Cores shatters during the insertion attempt!
        * Notify others in the room
      else
        * Destroy a Dex Core
        %purge% %actor.inventory(37032)%
        %send% %actor% Your Dexterity Core shatters during the insertion attempt!
        halt
      end
    else
      * Success! Proceed to upgrade
      * Remove the cores from inventory
      %purge% %actor.inventory(37035)%
      %purge% %actor.inventory(37035)%
      %purge% %actor.inventory(37032)%
      * Load the new Bracers (vnum 37109) into the player's inventory
      %load% obj 37109 %actor% inv
      * Notify the player and others
      %send% %actor% You successfully insert the cores and have upgraded the Bracers of Crystal Encrusted Hydra Hide!
      %echoaround% %actor% %actor.name% successfully inserts some crystal cores and upgrades Bracers of Crystal Encrusted Hydra Hide!
      * Purge the original Bracers (%self%) at the end
      %purge% %self%
    end
  else
    * Inform the player of the exact requirements
    %send% %actor% You need to have exactly two Wisdom Cores and one Dexterity Core, or two Dexterity Cores and one Wisdom Core in your inventory.
  end
else
  return 0
end

>[0;00m
[0mCHECKING: 37033[0m

Name: 'Ride The Dolphin - M-37043',  VNum: [37033], RNum: [ 1192]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 4, Arg list: ride
Commands:
*
*This trigger allows a player (and followers) to "ride dolphin"(mob 37043)
*and be taken to a separate island in the zone (room 37148).
*Please view trigger 37000 for main source and description of trigger.
*
set limit 1
set destination 37148
*
if %cmd% == ride && %arg% == dolphin
  if %actor.master%
    %send% %actor% You are not the group leader!
    halt
  end
  %echoaround% %actor% The super cute dolphin whisks %actor.name% away and quickly returns.
  set group_size 1
  set target %actor.room.people%
  while %target%
    *%echo% Checking: %target.name%
    if %target != %actor% && %target.master% == %actor% && %target.is_pc%
      eval group_size %group_size% + 1
    end
    set target %target.next_in_room%
  done
  *This second part will execute if the group size is correct*
  if %group_size% >= %limit%
    %send% %actor% The super cute dolphin quickly drops you off at a secret island and leaves.
    %teleport% %actor% %destination%
    %echoaround% %actor% The super cute dolphin drops %actor.name% off and quickly leaves!
    %force% %actor% look
    set target %self.room.people%
    while %target%
      if %target != %actor% && %target.master% == %actor% && %target.is_pc%
        *%echo% Found and teleporting follower: %target.name%
        %echoaround% %target% The super cute dolphin whisks %target.name% away and quickly returns.
        %send% %target% The super cute dolphin quickly drops you off at a secret island and leaves.
        %teleport% %target% %destination%
        %force% %target% look
        %echoaround% %target% The super cute dolphin drops %target.name% off and quickly leaves!
        set target %self.room.people%
      else
        set target %target.next_in_room%
      end
    done
  else
    %echo% You need a group of at least %limit% to ride the dolphin!
  end
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 37034[0m

Name: 'The Dolphin Lives Forever M-37043',  VNum: [37034], RNum: [ 1193]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
*
*This trigger respawns the super cute dolphin #37043 if it dies.
*As it is transport to another room in the zone.  It gives no xp.
*And no gold.
*
%echo% A large wave splashes over you and another super cute dolphin appears!
%load% mob 37043

>[0;00m
[0mCHECKING: 37035[0m
[0mCHECKING: 37036[0m

Name: 'Blue Elemental Throws Ninjas M-37040',  VNum: [37035], RNum: [ 1194]
Trigger Intended Assignment: Mobiles
Trigger Type: Fight , Numeric Arg: 100, Arg list: None
Commands:
*This is triggered when a mob is fighting and iterates over persons in the
*room and checks to see if they are fighting the mob and if they are
*a Ninja.  If they are a ninja, they get thrown out of the room.
*The purpose is to make a throw that cannot be blocked by Ninjas so that this
*mob cannot have ninja's innate piercing attacks as a weakness.
*
set destination 37079
*
if !%self.fighting%
  halt
end
* Iterate over all people in the room
set target %self.room.people%
while %target%
  if %target.class% == ninja && %target.fighting% == %self%
    %echo% %self.name% yells, "Block this throw, Ninja!"
    %echoaround% %target% %self.name% laughs at %target.name%'s karate chop and throws %target.himher% out of the room.
    %send% %target% %self.name% laughs at your attempt to karate chop and throws you out of the room.
    * Teleport the target to destination room
    %teleport% %target% %destination%
    %force% %target% look
    * Announce their arrival in the new room
    %echoaround% %target% %target.name% comes hurtling into the room and slams into the floor.
    %send% %target% You slam face first into the chamber floor.  That REALLY hurt!
    %damage% %target% 100
    * Set the target's position to sitting
    %target.pos(sitting)%
  end
  * Move to the next person in the room
  set target %target.next_in_room%
done

>[0;00m
[0mCHECKING: 37037[0m

Name: 'Russ Strongley Blocks going UP M-37044',  VNum: [37036], RNum: [ 1195]
Trigger Intended Assignment: Mobiles
Trigger Type: Leave , Numeric Arg: 100, Arg list: None
Commands:
*This trigger is placed on Mob 37044, Russ Strongley
*and blocks players from moving up into the upper levels
*
*Made by Anton 10/08/2024
*
if %direction% == up
%send% %actor% Russ Strongley chuckles and blocks you with his extremely large body.
return 0
end
f

>[0;00m
[0mCHECKING: 37038[0m

Name: 'Blue Elemental Load on Death M-37040',  VNum: [37037], RNum: [ 1196]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
*
*This trigger is a load on death trigger that loads two items, both at 3% but is set up
*in a way that they can not both load at the same time.
*The items are Ethereal Crystal Fusion Catalyst and
*Terrene Crystal Fusion Catalyst
*These are both parts of the ultimate construct of the zone.
*It also load a random one of the 6 cores at 100%
*
eval random_number %random.33%
eval core (37030 + %random.6%)
%load% obj 37196 %self.room%
%echo% %self.room.contents.shortdesc%
%purge% %self.room.contents(37196)%
%load% obj %core% %self.room%
if %random_number% == 1
  %load% obj 37196 %self.room%
  %echo% %self.room.contents.shortdesc%
  %purge% %self.room.contents(37196)%
  %load% obj 37049 %self.room%
elseif %random_number% == 2
  %load% obj 37196 %self.room%
  %echo% %self.room.contents.shortdesc%
  %purge% %self.room.contents(37196)%
  %load% obj 37050 %self.room%
end

>[0;00m
Name: 'Veda Load on Death M-37035',  VNum: [37038], RNum: [ 1197]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
*
*This trigger is a load on death that loads two items from mob Veda-37035
*The items are set at 4% each and it is possible for them to load at the same
*time in this setup.  The items are bracers of crystal encrusted hydra
*hide (37095) and Tidal song pendant (37097)
*
eval random_number_one %random.25%
eval random_number_two %random.25%
if %random_number_one% == 1
  %load% obj 37196 %self.room%
  %echo% %self.room.contents.shortdesc%
  %purge% %self.room.contents(37196)%
  %load% obj 37095 %self.room%
end
if %random_number_two% == 1
  %load% obj 37196 %self.room%
  %echo% %self.room.contents.shortdesc%
  %purge% %self.room.contents(37196)%
  %load% obj 37097 %self.room%
end

>[0;00m
[0mCHECKING: 37039[0m

Name: 'Assemble Cuffs of the Abyssal Monarch O-37098',  VNum: [37039], RNum: [ 1198]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: place
Commands:
*
*This trigger is takes cuffs of the abyssal monarch and allows the player
*insert one int core and one wis core into the cuffs, upgrading them.
*It checks the player's inventory for the original cuffs and one of
*each needed core and then purges them from inventory, while loading the
*upgraded cuffs to their inventory.
*If the correct cores are not in inventory, it lets the player know and
*the trigger will not fire.
*A 75% failure rate is built in which causes one of the cores to shatter.
*
if %cmd% == place && %arg% == cores
  * Initialize variables for each core type
  set num_int_cores 0
  set num_wis_cores 0
  set num_cuffs 0
  * Evaluate chance of success and which core might shatter
  eval chance %random.100%
  eval broken_core %random.2%
  * Iterate over the actor's inventory
  set i %actor.inventory%
  while %i%
    if %i.vnum% == 37034
      * Found an Intelligence Core
      eval num_int_cores %num_int_cores% + 1
    elseif %i.vnum% == 37035
      * Found a Wisdom Core
      eval num_wis_cores %num_wis_cores% + 1
    elseif %i.vnum% == 37098
      * Found the Cuffs of the Abyssal Monarch
      eval num_cuffs %num_cuffs% + 1
    end
    set i %i.next_in_list%
  done
  * Check if the player has at least 1 cuffs, 1 Wisdom Core, and 1 Intelligence Core
  if %num_cuffs% >= 1 && %num_wis_cores% >= 1 && %num_int_cores% >= 1
    * Attempt the fusion with a 75% chance of failure
    if %chance% <= 75
      * Fusion fails
      if %broken_core% == 1
        * Intelligence Core shatters
        %purge% %actor.inventory(37034)%
        %send% %actor% Your Intelligence Core shatters during the fusion attempt!
      else
        * Wisdom Core shatters
        %purge% %actor.inventory(37035)%
        %send% %actor% Your Wisdom Core shatters during the fusion attempt!
      end
      * Halt the script as the fusion failed
      halt
    else
      * Fusion succeeds
      * Remove 1 Wisdom Core from inventory
      %purge% %actor.inventory(37035)%
      * Remove 1 Intelligence Core from inventory
      %purge% %actor.inventory(37034)%
      * Create the new Cuffs of the Abyssal Monarch (vnum 37100) and give to the player
      %load% obj 37100 %actor% inv
      * Notify the player about the successful creation
      %send% %actor% You successfully place the cores and have upgraded the Cuffs!
      * Notify others in the room about the transformation
      %echoaround% %actor% %actor.name% places two crystal cores into Cuffs of the Abyssal Monarch!
      * Purge the original Cuffs (%self%) to complete the upgrade
      %purge% %self%
      * Halt the script to prevent further processing
      halt
    end
  else
    * Notify the player about missing items
    %send% %actor% You do not have the appropriate cores to complete this action.
    * Halt the script to prevent further processing
    halt
  end
else
  return 0
end

>[0;00m
[0mCHECKING: 37040[0m

Name: 'Raphael Load on Death M-37033',  VNum: [37040], RNum: [ 1199]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
*
*This trigger is a load on death that loads two items from mob Raphael-37033
*The items are set at 4% each and it is possible for them to load at the same
*time in this setup.  The items are cuffs of the abyssal monarch (37098)
*and Dim Gleam of the Drowned Depths (37101)
*
eval random_number_one %random.25%
eval random_number_two %random.25%
if %random_number_one% == 1
  %load% obj 37196 %self.room%
  %echo% %self.room.contents.shortdesc%
  %purge% %self.room.contents(37196)%
  %load% obj 37098 %self.room%
end
if %random_number_two% == 1
  %load% obj 37196 %self.room%
  %echo% %self.room.contents.shortdesc%
  %purge% %self.room.contents(37196)%
  %load% obj 37101 %self.room%
end

>[0;00m
[0mCHECKING: 37041[0m

Name: 'Attach core to Tentacle Shield O-37103',  VNum: [37041], RNum: [ 1200]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: attach
Commands:
*
*This trigger is attached to The Interlaced Tentacle Shield (37103)
*It allows you to attach either an Intelligence core (37034), a Wisdom
*core (37035), or a Charisma core (37033) to the shield to improve its stats.
*It only allows the trigger to fire if a single core is in inventory
*as a safeguard against making the wrong shield. It will send a message if it
*is not one of the correct cores.
*There is a 75% failure rate when attaching the core
if it fails, the core shatters.
  *
  set arcane_shield 37104
  set tranquil_shield 37105
  set mesmeric_shield 37106
  if %cmd% == attach && %arg% == core
    * Initialize variables for each core type
    set num_int_cores 0
    set num_wis_cores 0
    set num_cha_cores 0
    set num_str_cores 0
    set num_dex_cores 0
    set num_con_cores 0
    set total_cores 0
    * Iterate over the actor's inventory
    set i %actor.inventory%
    while %i%
      if %i.vnum% == 37034
        eval num_int_cores %num_int_cores% + 1
      elseif %i.vnum% == 37035
        eval num_wis_cores %num_wis_cores% + 1
      elseif %i.vnum% == 37033
        eval num_cha_cores %num_cha_cores% + 1
      elseif %i.vnum% == 37036
        eval num_str_cores %num_str_cores% + 1
      elseif %i.vnum% == 37032
        eval num_dex_cores %num_dex_cores% + 1
      elseif %i.vnum% == 37031
        eval num_con_cores %num_con_cores% + 1
      end
      set next %i.next_in_list%
      set i %next%
    done
    * Calculate total number of cores
    eval total_cores %num_int_cores% + %num_wis_cores% + %num_cha_cores% + %num_str_cores% + %num_dex_cores% + %num_con_cores%
    if %total_cores% > 1
      %send% %actor% You have too many cores. Please carry only one core to attach.
      halt
    end
    if %total_cores% < 1
      %send% %actor% You need to have a core to attach to the shield.
      halt
    end
    * Determine if the attachment succeeds or fails
    eval chance %random.100%
    if %chance% <= 75
      *Attachment fails, the core shatters
      *Remove the core from the player's inventory
      if %num_int_cores% == 1
        %purge% %actor.inventory(37034)%
      elseif %num_wis_cores% == 1
        %purge% %actor.inventory(37035)%
      elseif %num_cha_cores% == 1
        %purge% %actor.inventory(37033)%
      elseif %num_str_cores% == 1
        %purge% %actor.inventory(37036)%
      elseif %num_dex_cores% == 1
        %purge% %actor.inventory(37032)%
      elseif %num_con_cores% == 1
        %purge% %actor.inventory(37031)%
      end
      %send% %actor% You attempt to attach the core, but it shatters in your hands!
      %echoaround% %actor% %actor.name% tries to attach a core to the shield, but it shatters!
      halt
    else
      *Attachment succeeds
      if %num_int_cores% == 1
        *Intelligence Core (Arcane Shield)
        %purge% %actor.inventory(37034)%
        %load% obj %arcane_shield% %actor% inv
        %send% %actor% You attach the Intelligence core to the shield, transforming it into an Arcane Interlaced Tentacle Shield!
        %echoaround% %actor% %actor.name% attaches a core to the shield, transforming it into a more powerful version!
        %purge% %self%
        halt
      elseif %num_wis_cores% == 1
        *Wisdom Core (Tranquil Shield)
        %purge% %actor.inventory(37035)%
        %load% obj %tranquil_shield% %actor% inv
        %send% %actor% You attach the Wisdom core to the shield, transforming it into a Tranquil Interlaced Tentacle Shield!
        %echoaround% %actor% %actor.name% attaches a core to the shield, transforming it into a more powerful version!
        %purge% %self%
        halt
      elseif %num_cha_cores% == 1
        *Charisma Core (Mesmeric Shield)
        %purge% %actor.inventory(37033)%
        %load% obj %mesmeric_shield% %actor% inv
        %send% %actor% You attach the Charisma core to the shield, transforming it into a Mesmeric Interlaced Tentacle Shield!
        %echoaround% %actor% %actor.name% attaches a core to the shield, transforming it into a more powerful version!
        %purge% %self%
        halt
      elseif %num_str_cores% == 1 || %num_dex_cores% == 1 || %num_con_cores% == 1
        *Invalid cores (Strength, Dexterity, Constitution)
        %send% %actor% This type of core cannot be placed into the shield.
        halt
      else
        *No valid core found
        %send% %actor% You need to have a valid core to attach to the shield.
        halt
      end
    end
  else
    return 0
    halt
  end

>[0;00m
[0mCHECKING: 37042[0m

Name: 'Maynika Load on Death M-37032',  VNum: [37042], RNum: [ 1201]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
*
*This trigger is a load on death that loads two items from mob Maynika-37032
*The items are set at 4% each and it is possible for them to load at the same
*time in this setup.  The items are interlaced tentacle shild (37103)
*and a Luminous Crystal Tentacle (37102)
*
eval random_number_one %random.25%
eval random_number_two %random.25%
if %random_number_one% == 1
  %load% obj 37196 %self.room%
  %echo% %self.room.contents.shortdesc%
  %purge% %self.room.contents(37196)%
  %load% obj 37102 %self.room%
end
if %random_number_two% == 1
  %load% obj 37196 %self.room%
  %echo% %self.room.contents.shortdesc%
  %purge% %self.room.contents(37196)%
  %load% obj 37103 %self.room%
end

>[0;00m
[0mCHECKING: 37043[0m
[0mCHECKING: 37044[0m

Name: 'X-Wing Replica Teleport O-37107',  VNum: [37043], RNum: [ 1202]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: ride
Commands:
*
* This trigger allows a player (and followers) to "ride wing/xwing/x-wing" (item 37107)
* and be taken to Luke Skywalker's room in Star Wars (room 1289).
*
set destination 1289
*
if %cmd% == ride && %arg% /= wing
  * Store the initial room before teleporting the actor
  set room %self.room%
  set target %room.people%
  %echoaround% %actor% %actor.name% sits on a X-Wing replica, which immediately flies off above you.
  %send% %actor% As you sit on the X-Wing replica, it immediately hovers high into the air and quickly flies off.
  %teleport% %actor% %destination%
  %force% %actor% look
  %echoaround% %actor% %actor.name% comes flying into the room on a X-Wing replica
  * Now, teleport the followers *
  while %target%
    if %target != %actor% && %target.master% == %actor%
      * Save the next target before teleporting *
      set next_target %target.next_in_room%
      %echoaround% %target% %target.name% quickly hops on the X-Wing replica, following %actor%.
      %send% %target% You hop on the X-Wing replica and follow %actor% for the ride!
      %teleport% %target% %destination%
      %force% %target% look
      %echoaround% %target% %target.name% come flying into the room on a X-Wing replica!
      * Move to the next target in the room *
      set target %next_target%
    else
      * Move to the next target in the room *
      set target %target.next_in_room%
    end
  done
else
  return 0
end

>[0;00m
[0mCHECKING: 37045[0m

Name: '**Example**Fight type triggers once per round',  VNum: [37044], RNum: [ 1203]
Trigger Intended Assignment: Mobiles
Trigger Type: Fight , Numeric Arg: 100, Arg list: None
Commands:
*
*This is just an example trigger of how to get a fight trigger to trigger
*only once per combat round, even if a mob double, triple, or quad hits.
*This is an issue because fight triggers go off everytime a mob hits and
*there are many instances where you would want something to happen only
*once per round.
*This also allows you to control trigger made mob procs very well.
*For example View triggers 37031 and 37045
*
context %self.id%
if (%already_triggered%)
  wait 0.1
  unset already_triggered
else
  %echo% TRIGGER FIRES HERE
  set already_triggered 1
  global already_triggered
end

>[0;00m
Name: 'NPC DAMAGE ONLY. M-37049',  VNum: [37045], RNum: [ 1204]
Trigger Intended Assignment: Mobiles
Trigger Type: Fight , Numeric Arg: 100, Arg list: None
Commands:
*This trigger is to be used in combination with in-game mob procs which resist all damage
*(Physical and Magic). You can also add Trigger 37035 which throws Ninjas ignoring their
*block throw so that even Ninjas cannot do damage to this mob.
*The trigger uses the Fight type which triggers every single time a mob hits. We get around
*this by creating a global variable and removing it after 0.1 seconds at the end of the trigger.
*This is enough to cause the trigger to only go off one time per combat round rather than every
*time the mob hits. We then scan the room for non-player characters and determine the strength 
*of the "pet" by looking at its maxhitp. Examples would be monsum ones, monsum twos, animal call
*ones, twos, threes. I have split these into 5 major categories of damage and used their actual
*in-game damage dice rolls to determine their damage. This is tallied together based on how many
*pets are fighting the mob and the damage is then dealt all at once with an echo explaining that
*the mob has been damaged.
*A 10% miss rate has been included to allow the damage to be as realistic as possible.
*
eval complete_damage 0
if !%self.fighting%
  halt
end
context %self.id%
if !%already_triggered%
  set already_triggered 1
  global already_triggered
  set target %self.room.people%
  while %target%
    if !%target.is_pc% && %target.fighting% == %self%
      * Incorporate 10% miss chance
      eval miss_chance %random.100%
      if %miss_chance% > 10
        * Pet's attack hits
        if %target.maxhitp% < 50
          eval roll1 %random.4%
          eval roll2 %random.4%
          eval total_damage %roll1% + %roll2% + 1
          eval complete_damage %complete_damage% + %total_damage%
        elseif %target.maxhitp% < 120
          eval roll1 %random.5%
          eval roll2 %random.5%
          eval total_damage %roll1% + %roll2% + 1
          eval complete_damage %complete_damage% + %total_damage%
        elseif %target.maxhitp% < 180
          eval roll1 %random.7%
          eval roll2 %random.7%
          eval total_damage %roll1% + %roll2% + 1
          eval complete_damage %complete_damage% + %total_damage%
        elseif %target.maxhitp% < 235
          eval roll1 %random.6%
          eval roll2 %random.6%
          eval roll3 %random.6%
          eval total_damage %roll1% + %roll2% + %roll3% + 2
          eval complete_damage %complete_damage% + %total_damage%
        elseif %target.maxhitp% < 400
          eval roll1 %random.8%
          eval roll2 %random.8%
          eval roll3 %random.8%
          eval total_damage %roll1% + %roll2% + %roll3% + 4
          eval complete_damage %complete_damage% + %total_damage%
        end
      else
        * Pet's attack misses
      end
    end
    set target %target.next_in_room%
  done
  wait 0.1
  if %complete_damage% > 0
    %echo% All of the pets swarm together and viciously attack %self.name% (%complete_damage%)
    %self.hitp(-%complete_damage)%
  end
  unset already_triggered
end

>[0;00m
[0mCHECKING: 37046[0m

Name: 'Kill Mob below 1% health. M-37049',  VNum: [37046], RNum: [ 1205]
Trigger Intended Assignment: Mobiles
Trigger Type: HitPrcnt , Numeric Arg: 1, Arg list: None
Commands:
*
*This trigger is meant to be used in conjunction with 37045 to ensure the mob doesn't get
*stuck in a state of incapacitation and not taking any damage at all.  With this trigger
*added, it ensures the mob dies as soon as he goes below 1%.
*
%self.hitp(-1000)%

>[0;00m
[0mCHECKING: 37047[0m

Name: 'Russ load potion on death M-37044',  VNum: [37047], RNum: [ 1206]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
%load% obj 37108 %self.room%
%echo% With %self.hisher% last ounce of strength, %self.name% reaches into %self.hisher% pocket, wishes you good luck in the challenges ahead, and throws something on the floor.

>[0;00m
[0mCHECKING: 37048[0m

Name: 'No Strikes Allowed - Multiple Mobs',  VNum: [37048], RNum: [ 1207]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 100, Arg list: str
Commands:
*This is a very simple trigger that mimics the messaging of the room proc
*that stops spells.  It does nothing but prevent strikes from happening.
if (%cmd% == str || %cmd% == stri || %cmd% == strik ||%cmd% == strike) && %actor.class% == sohei
  %send% %actor% An outside force of great power prevents you!
  return 1
  halt
else
  return 0
end

>[0;00m
[0mCHECKING: 37049[0m

Name: 'Eruantano Ice Drake Throws Ninjas M-37049',  VNum: [37049], RNum: [ 1208]
Trigger Intended Assignment: Mobiles
Trigger Type: Fight , Numeric Arg: 100, Arg list: None
Commands:
*This is triggered when a mob is fighting and iterates over persons in the
*room and checks to see if they are fighting the mob and if they are
*a Ninja.  If they are a ninja, they get thrown out of the room.
*The purpose is to make a throw that cannot be blocked by Ninjas so that this
*mob cannot have ninja's innate piercing attacks as a weakness.
*
set destination 37115
*
if !%self.fighting%
  halt
end
* Iterate over all people in the room
set target %self.room.people%
while %target%
  if %target.class% == ninja && %target.fighting% == %self%
    %echo% %self.name% yells, "Block this throw, Ninja!"
    %echoaround% %target% %self.name% laughs at %target.name%'s karate chop and throws %target.himher% out of the room.
    %send% %target% %self.name% laughs at your attempt to karate chop and throws you out of the room.
    * Teleport the target to destination room
    %teleport% %target% %destination%
    %force% %target% look
    * Announce their arrival in the new room
    %echoaround% %target% %target.name% comes hurtling into the room and slams into the floor.
    %send% %target% You slam face first into the chamber floor.  That REALLY hurt!
    %damage% %target% 100
    * Set the target's position to sitting
    %target.pos(sitting)%
  end
  * Move to the next person in the room
  set target %target.next_in_room%
done

>[0;00m
[0mCHECKING: 37050[0m
[0mCHECKING: 37051[0m

Name: 'Eli Load on Death M-37034',  VNum: [37050], RNum: [ 1209]
Trigger Intended Assignment: Mobiles
Trigger Type: Death , Numeric Arg: 100, Arg list: None
Commands:
*
*This trigger is a load on death that loads two items from mob Eli-37034
*The items are set at 3% each and it is possible for them to load at the same
*time in this setup.  The items are a Wave Force Bastion (37110)
*and A hyper realistic x-wing replica (37107)
*
eval random_number_one %random.33%
eval random_number_two %random.33%
if %random_number_one% == 1
  %load% obj 37196 %self.room%
  %echo% %self.room.contents.shortdesc%
  %purge% %self.room.contents(37196)%
  %load% obj 37107 %self.room%
end
if %random_number_two% == 1
  %load% obj 37196 %self.room%
  %echo% %self.room.contents.shortdesc%
  %purge% %self.room.contents(37196)%
  %load% obj 37110 %self.room%
end

>[0;00m
[0mCHECKING: 37052[0m

Name: 'Jedi Only In these Rooms R-',  VNum: [37051], RNum: [ 1210]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 100, Arg list: None
Commands:
set destination 37079
if %actor.class% != jedi && %actor.is_pc%
%echo% A deep voice booms, "%actor.name% is not welcome in these rooms."
%echoaround% %actor% A portal opens and %actor.name% is sucked into it rapidly.
*set next_target %target.next_in_room%
%teleport% %actor% %destination%
%send% %actor% A portal opens up and you are pulled rapidly into it and thrown roughly into a new room.
%force% %actor% look
end
*set target %next_target%
done

>[0;00m
Name: 'Jedi Only in these Rooms scan',  VNum: [37052], RNum: [ 1211]
Trigger Intended Assignment: Rooms
Trigger Type: Global Random , Numeric Arg: 100, Arg list: None
Commands:
set destination 37079
set target %self.people%
while %target%
  if %target.class% != jedi && %target.is_pc%
    %echo% A deep voice booms, "%target.name% is not welcome in these rooms."
    %echoaround% %target% A portal opens and %target.name% is sucked into it rapidly.
    set next_target %target.next_in_room%
    %teleport% %target% %destination%
    %send% %target% A portal opens up and you are pulled rapidly into it and thrown roughly into a
new room.
    %force% %target% look
  else
    set next_target %target.next_in_room%
  end
  set target %next_target%
done

>[0;00m
[0mCHECKING: 37093[0m

Name: 'Set HP',  VNum: [37093], RNum: [ 1212]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 4, Arg list: sethp
Commands:
if %cmd% == 'sethp'
  eval value %arg%
  eval diff_maxhp %value% - %actor.maxhitp%
  %actor.maxhitp(%diff_maxhp%)%
  eval diff_hp %value% - %actor.hitp%
  %actor.hitp(%diff_hp%)%
  %send% %actor% Your Hit Points have been set to %value%.
else
  return 0
end

>[0;00m
[0mCHECKING: 37094[0m

Name: 'UNUSED',  VNum: [37094], RNum: [ 1213]
Trigger Intended Assignment: Mobiles
Trigger Type: Fight , Numeric Arg: 20, Arg list: None
Commands:
* No Script

>[0;00m
[0mCHECKING: 37095[0m

Name: 'Set Char to 30 and stats to max and load SAC eq',  VNum: [37095], RNum: [ 1214]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 4, Arg list: pull
Commands:
if %cmd% == pull && %arg% == lever
  %send% %actor% You pull the lever and are now level 30!
  %echoaround% %actor% %actor.name% pulls the lever and is now level 30!
  * Set the player's level to 30
  %actor.level(30)%
  %load% obj 37199 
  %load% obj 37198
  %load% obj 37051 
  %load% obj 37052 
  %load% obj 37053 
  %load% obj 37054 
  %load% obj 37055 
  %load% obj 37056 
  %load% obj 37057 
  %load% obj 37058 
  %load% obj 37059 
  %load% obj 37060 
  %load% obj 37061 
  %load% obj 37062 
  %load% obj 37063 
  %load% obj 37064 
  %load% obj 37064 
  %load% obj 2007 
  %force% %actor% get all
  %force% %actor% hold staff
  * Adjust the player's Stats to 18
  if %actor.dex% < 18
    eval missing_dex 18 - %actor.dex%
    %actor.dex(%missing_dex%)%
  end
  if %actor.wis% < 18
    eval missing_wis 18 - %actor.wis%
    %actor.wis(%missing_wis%)%
  end
  if %actor.con% < 18
    eval missing_con 18 - %actor.con%
    %actor.con(%missing_con%)%
  end
  if %actor.int% < 18
    eval missing_int 18 - %actor.int%
    %actor.int(%missing_int%)%
  end
  if %actor.cha% < 18
    eval missing_cha 18 - %actor.cha%
    %actor.cha(%missing_cha%)%
  end
  if %actor.str% < 18
    eval missing_str 18 - %actor.str%
    %actor.str(%missing_str%)%
  end
  if %actor.stradd% < 100
    eval missing_stradd 100 - %actor.stradd%
    %actor.stradd(%missing_stradd%)%
  end
else
  return 0
end

>[0;00m
[0mCHECKING: 37096[0m

Name: 'Set Char to Level 30 for testing',  VNum: [37096], RNum: [ 1215]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 4, Arg list: pull
Commands:
if %cmd% == pull && %arg% == lever
  %send% %actor% You pull the lever and are now level 30!
  %echoaround% %actor% %actor.name% pulls the lever and is now level 30!
  * Set the player's level to 30
  %actor.level(30)%
  %actor.prac(99)%
  %echo% Character's age is %actor.age%
  *%load% obj 37199 
  *%load% obj 37198
  *%load% obj 37051 
  *%load% obj 37052 
  *%load% obj 37053 
  *%load% obj 37054 
  *%load% obj 37055 
  *%load% obj 37056 
  *%load% obj 37057 
  *%load% obj 37058 
  *%load% obj 37059 
  *%load% obj 37060 
  *%load% obj 37061 
  *%load% obj 37062 
  *%load% obj 37063 
  *%load% obj 37064 
  *%load% obj 37064 
  *%load% obj 2007 
  *%force% %actor% get all
  *%force% %actor% hold staff
  * Adjust the player's Stats to 18
  if %actor.dex% < 18
    eval missing_dex 18 - %actor.dex%
    %actor.dex(%missing_dex%)%
  end
  if %actor.wis% < 18
    eval missing_wis 18 - %actor.wis%
    %actor.wis(%missing_wis%)%
  end
  if %actor.con% < 18
    eval missing_con 18 - %actor.con%
    %actor.con(%missing_con%)%
  end
  if %actor.int% < 18
    eval missing_int 18 - %actor.int%
    %actor.int(%missing_int%)%
  end
  if %actor.cha% < 18
    eval missing_cha 18 - %actor.cha%
    %actor.cha(%missing_cha%)%
  end
  if %actor.str% < 18
    eval missing_str 18 - %actor.str%
    %actor.str(%missing_str%)%
  end
  if %actor.stradd% < 100
    eval missing_stradd 100 - %actor.stradd%
    %actor.stradd(%missing_stradd%)%
  end
else
  return 0
end

>[0;00m
[0mCHECKING: 37097[0m
[0mCHECKING: 37098[0m

Name: 'Set char level,hp,mana for testing',  VNum: [37097], RNum: [ 1216]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 4, Arg list: pull
Commands:
if %cmd% == pull && %arg% == lever
  %send% %actor% You pull the lever and feel a surge of energy!
  %echoaround% %actor% %actor.name% pulls the lever and looks rejuvenated.
  * Set the player's level to 30
  %actor.level(30)%
  * Adjust the player's maximum Hit Points to 400
  if %actor.maxhitp% < 400
    eval missing_hitp 400 - %actor.maxhitp%
    %actor.maxhitp(%missing_hitp%)%
  end
  if %actor.maxhitp% > 400
    eval excess_hitp %actor.maxhitp% - 400
    %actor.maxhitp(-%excess_hitp%)%
  end
  * Adjust the player's current Hit Points to 400
  if %actor.hitp% < 400
    eval missing_hitp_current 400 - %actor.hitp%
    %actor.hitp(%missing_hitp_current%)%
  end
  if %actor.hitp% > 400
    eval excess_hitp_current %actor.hitp% - 400
    %actor.hitp(-%excess_hitp_current%)%
  end
  * Adjust the player's maximum Mana to 375
  if %actor.maxmana% < 375
    eval missing_mana 375 - %actor.maxmana%
    %actor.maxmana(%missing_mana%)%
  end
  if %actor.maxmana% > 375
    eval excess_mana %actor.maxmana% - 375
    %actor.maxmana(-%excess_mana%)%
  end
  * Adjust the player's current Mana to 375
  if %actor.mana% < 375
    eval missing_mana_current 375 - %actor.mana%
    %actor.mana(%missing_mana_current%)%
  end
  if %actor.mana% > 375
    eval excess_mana_current %actor.mana% - 375
    %actor.mana(-%excess_mana_current%)%
  end
else
  return 0
end

>[0;00m
[0mCHECKING: 37099[0m

Name: 'Restore HP, MANA, MOVES for testing',  VNum: [37098], RNum: [ 1217]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 2, Arg list: pull
Commands:
if %cmd% == pull && %arg% == lever
  %send% %actor% You pull the lever and feel a surge of energy!
  %echoaround% %actor% %actor.name% pulls the lever and looks rejuvenated.
  eval missing_mana %actor.maxmana% - %actor.mana%
  %actor.mana(%missing_mana%)%
  eval missing_hitp %actor.maxhitp% - %actor.hitp%
  %actor.hitp(%missing_hitp%)%
  eval missing_move %actor.maxmove% - %actor.move%
  %actor.move(%missing_move%)%
else
  return 0
  halt
end

>[0;00m
[0mCHECKING: 39001[0m

Name: 'R37018 O37099. Block moving U to upper levels.',  VNum: [37099], RNum: [ 1218]
Trigger Intended Assignment: Objects
Trigger Type: Leave , Numeric Arg: 100, Arg list: None
Commands:
*This trigger is placed in room 37018, the central chamber on the LL
*fourth floor and blocks players from moving up into the upper levels
*at this time until the upper levels are completed and then this trigger
*and oject 37099 will be removed.
*
*Made by Anton 09/04/2024
*
if %direction% == up
  %send% %actor% The dim haze on the stairwell blocks you from ascending.
  return 0
end

>[0;00m
Name: 'Shopkeeper Gets a Key on Reset - All Levels',  VNum: [39001], RNum: [ 1219]
Trigger Intended Assignment: Rooms
Trigger Type: Zone Reset , Numeric Arg: 100, Arg list: None
Commands:
*
*This trigger ensures that whenever the zone resets the
*shopkeeper will always have a key to sell.
*
set target %self.people%
while %target%
  set next_target %target.next_in_room%
  if %target.vnum% == 39000 && %self.id% = 39001
    if ! %target.has_item(39000)%
      %load% obj 39000 %target% inv 
    end
  end
  if %target.vnum% == 39003 && %self.id% = 39006
    if ! %target.has_item(39001)%
      %load% obj 39001 %target% inv 
    end
  end
  if %target.vnum% == 39004 && %self.id% = 39008
    if ! %target.has_item(39002)%
      %load% obj 39002 %target% inv 
    end
  end
  if %target.vnum% == 39005 && %self.id% = 39010
    if ! %target.has_item(39003)%
      %load% obj 39003 %target% inv 
    end
  end
  if %target.vnum% == 39006 && %self.id% = 39012
    if ! %target.has_item(39004)%
      %load% obj 39004 %target% inv 
    end
  end
  if %target.vnum% == 39007 && %self.id% = 39014
    if ! %target.has_item(39005)%
      %load% obj 39005 %target% inv 
    end
  end
  if %target.vnum% == 39008 && %self.id% = 39016
    if ! %target.has_item(39006)%
      %load% obj 39006 %target% inv 
    end
  end
  if %target.vnum% == 39009 && %self.id% = 39018
    if ! %target.has_item(39007)%
      %load% obj 39007 %target% inv 
    end
  end
  if %target.vnum% == 39010 && %self.id% = 39020
    if ! %target.has_item(39008)%
      %load% obj 39008 %target% inv 
    end
  end
  if %target.vnum% == 39011 && %self.id% = 39022
    if ! %target.has_item(39009)%
      %load% obj 39009 %target% inv 
    end
  end
 
  set target %next_target%
done

>[0;00m
[0mCHECKING: 39002[0m

Name: 'Echo door shut in room 39005',  VNum: [39002], RNum: [ 1220]
Trigger Intended Assignment: Rooms
Trigger Type: Leave , Numeric Arg: 100, Arg list: None
Commands:
if %direction% == north
wait 1 sec
%door% 39005 south flags 2
%at% 39005 %send% %actor% The door slams shut behind you.
end

>[0;00m
[0mCHECKING: 39003[0m

Name: 'Block Retreat - All rooms',  VNum: [39003], RNum: [ 1221]
Trigger Intended Assignment: Rooms
Trigger Type: Global Command , Numeric Arg: 100, Arg list: retr
Commands:
* This trigger is used in combat rooms in Tower of Shadows to stop
* players from retreating past the combat mobs into the next
* key room
    if (%cmd% == retreat || %cmd% == retr || %cmd% == retre || %cmd% == retrea)
        %echo% Your attempt to retreat here is met with an impenetrable veil of darkness. 
%echo% Escape is impossible.
        return 1
    else
        return 0
    end

>[0;00m
[0mCHECKING: 39004[0m

Name: 'Increase Key Cost - R39018',  VNum: [39004], RNum: [ 1222]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 0, Arg list: bu
Commands:
* Placeholder for making keys more expensive
if %cmd% == buy && %arg% == key
%send% %actor% The next step forward will cost 2,500,000 coins.
%send% %actor% When you're ready to move forward, let me know by typing purchase key. 
if %cmd% == purchase && %arg% == key
if %actor.gold% < 2500000
%send% %actor% You can't afford that right now.
end
if %actor.gold% >= 2500000
%send% %actor% Elgar gives you a small golden key and takes your coins.
%actor.gold(-2500000)%
end
end

>[0;00m
[0mCHECKING: 39005[0m

Name: 'Increase Key Cost p2 R39018',  VNum: [39005], RNum: [ 1223]
Trigger Intended Assignment: Mobiles
Trigger Type: Command , Numeric Arg: 0, Arg list: purchase
Commands:
*This trigger is used to purchase the key and continue forward
* and removes gold from the players inventory
if %cmd% == purchase && %arg% == key
if %actor.gold% < 2500000
%send% %actor% You can't afford that right now.
end
if %actor.gold% >= 2500000
%send% %actor% Elgar gives you a small golden key and takes your coins.
%actor.gold(-2500000)%
drop key
%force% %actor% get key
end
end

>[0;00m
[0mCHECKING: 39006[0m
[0mCHECKING: 39098[0m

Name: 'UNUSED',  VNum: [39006], RNum: [ 1224]
Trigger Intended Assignment: Rooms
Trigger Type: Global Random Command , Numeric Arg: 0, Arg list: Your blood freezes as you hear %1's death cry.
Commands:
wait 1 s
log "Captured deceased name: %1"

>[0;00m
[0mCHECKING: 39099[0m

Name: 'Tombstone interaction rnum 39004 - corpse retrieval',  VNum: [39098], RNum: [ 1225]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 100, Arg list: kneel
Commands:
* Created 10/11/2024 Augustus - to echo interaction that sends caretaker to retrieve corpses
if %cmd% == kneel && %arg% == tombstone
%force% %actor.name% say I need assistance.

>[0;00m
[0mCHECKING: 39100[0m

Name: 'Caretaker Corpse Transport - All combat rooms',  VNum: [39099], RNum: [ 1226]
Trigger Intended Assignment: Mobiles
Trigger Type: Global Speech , Numeric Arg: 0, Arg list: I need assistance
Commands:
* This trigger is the actual corpse move that gets and transports the corpses to Graveyard
* TBD: How to handle rooms with multiple combat mobs to prevent NPC corpses from being moved
%echo% The caretaker glides through the shadows, silently transporting the remains of the fallen to
%echo% their eternal resting place.
    %echo% The caretaker glides through the shadows, preparing to gather the remains of %actor.name%.
    wait 2s
    %teleport% %self% 39004
    %echo% The caretaker nods silently and leaves to retrieve the remains of %actor.name%.
    * Room 1 - VNUM: 39005
    %teleport% %self% 39005
    %echo% The caretaker steps into the room, seeking the remains of %actor.name%.
    get all.%actor.name%
    * Room 2 - VNUM: 39007
    %teleport% %self% 39007
    %echo% The caretaker steps into the room, seeking the remains of %actor.name%.
    get all.%actor.name%
    * Room 3 - VNUM: 39009
    %teleport% %self% 39009
    %echo% The caretaker steps into the room, seeking the remains of %actor.name%.
    get all.%actor.name%
    * Room 4 - VNUM: 39011
    %teleport% %self% 39011
    %echo% The caretaker steps into the room, seeking the remains of %actor.name%.
    get all.%actor.name%
    * Room 5 - VNUM: 39013
    %teleport% %self% 39013
    %echo% The caretaker steps into the room, seeking the remains of %actor.name%.
    get all.%actor.name%
    * Room 6 - VNUM: 39015
    %teleport% %self% 39015
    %echo% The caretaker steps into the room, seeking the remains of %actor.name%.
    get all.%actor.name%
    * Room 7 - VNUM: 39017
    %teleport% %self% 39017
    %echo% The caretaker steps into the room, seeking the remains of %actor.name%.
    get all.%actor.name%
    * Room 8 - VNUM: 39019
    %teleport% %self% 39019
    %echo% The caretaker steps into the room, seeking the remains of %actor.name%.
    get all.%actor.name%
    * Room 9 - VNUM: 39021
    %teleport% %self% 39021
    %echo% The caretaker steps into the room, seeking the remains of %actor.name%.
    get all.%actor.name%
    * Room 10 - VNUM: 39023
    %teleport% %self% 39023
    %echo% The caretaker steps into the room, seeking the remains of %actor.name%.
    get all.%actor.name%
    * Return to Graveyard
    %teleport% %self% 39004
    %echo% The caretaker returns, laying down the remains of %actor.name% for eternal rest.
    drop all.%actor.name%
    wait 2s
    %echo% The caretaker glides back into the shadows, their duty fulfilled.

>[0;00m
Name: 'For playtesting - Super EQ Loader 4000',  VNum: [39100], RNum: [ 1227]
Trigger Intended Assignment: Objects
Trigger Type: Command , Numeric Arg: 2, Arg list: conjure
Commands:
%load% obj %arg%
set item %self.room.contents%
%send% %actor% You magically create %item.shortdesc%.
%echoaround% %actor% %actor.name% waves his magic thingamajig and creates %item.shortdesc%.

>[0;00m
[0mCHECKING: 39110[0m

Name: 'set max hp mana moves',  VNum: [39110], RNum: [ 1228]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 0, Arg list: setchar_hp
Commands:
* Trigger to add 25 HP with the command 'setchar_hp'
if %cmd% == setchar_hp
  * Add 25 to max HP
  %actor.maxhitp(25)%
  
  * Confirmation message
  %send% %actor% "Your maximum hit points have increased by 25. Your new maximum HP is %actor.maxhitp%."
else
  return 0
end

>[0;00m
[0mCHECKING: 39111[0m

Name: 'set max mana',  VNum: [39111], RNum: [ 1229]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 0, Arg list: setchar_mana
Commands:
* Trigger to add 25 mana with the command 'setchar_mana'
if %cmd% == setchar_mana
  * Add 25 to max mana
  %actor.maxmana(25)%
  
  * Confirmation message
  %send% %actor% "Your maximum mana points have increased by 25. Your new maximum mana is %actor.maxmana%."
else
  return 0
end

>[0;00m
[0mCHECKING: 39112[0m

Name: 'set max moves',  VNum: [39112], RNum: [ 1230]
Trigger Intended Assignment: Rooms
Trigger Type: Command , Numeric Arg: 0, Arg list: setchar_moves
Commands:
* Trigger to add 25 movement points with the command 'setchar_moves'
if %cmd% == setchar_moves
  * Add 25 to max movement points
  %actor.maxmove(25)%
  
  * Confirmation message
  %send% %actor% "Your maximum movement points have increased by 25. Your new maximum movement points are %actor.maxmove%."
else
  return 0
end

>[0;00m
[0mCHECKING: 40000[0m

Name: 'How do you delete a trigger',  VNum: [40000], RNum: [ 1231]
Trigger Intended Assignment: Rooms
Trigger Type: Enter , Numeric Arg: 100, Arg list: None
Commands:
* No Script

>[0;00m
[0mCHECKING: [0m

Usage: tstat <vnum>

>[0;00m
[0mCHECKING: [0m
[0mCHECKING: [0m

Usage: tstat <vnum>

>[0;00m
[0mCHECKING: [0m

Usage: tstat <vnum>

>[0;00m
[0mCHECKING: [0m

Usage: tstat <vnum>

>[0;00m
[0mCHECKING: [0m

Usage: tstat <vnum>

>[0;00m
Usage: tstat <vnum>

>[0;00m
[0mCHECKING: [0m

Usage: tstat <vnum>

>[0;00m
[0mCHECKING: [0m

Usage: tstat <vnum>

>[0;00m
[0mCHECKING: [0m

Usage: tstat <vnum>

>[0;00m
[0mCHECKING: [0m

Usage: tstat <vnum>

>[0;00m
[0mCHECKING: [0m

Usage: tstat <vnum>

>[0;00m
[0mCHECKING: [0m
[0mCHECKING: [0m

Usage: tstat <vnum>

>[0;00m
[0mCHECKING: [0m

Usage: tstat <vnum>

>[0;00m
[0mCHECKING: [0m

Usage: tstat <vnum>

>[0;00m
Usage: tstat <vnum>

>[0;00m
[0mCHECKING: [0m
